<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1 (Python 3.8.10 on linux)" generated="20230629 21:24:14.133" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230629 21:17:28.207" level="INFO">${random} = 98656</msg>
<status status="PASS" starttime="20230629 21:17:28.207" endtime="20230629 21:17:28.208"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:28.213" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-98656 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:32.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:32.724" level="INFO">${output} = 2023-06-29 21:17:31,526 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:17:31,595 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:17:28.210" endtime="20230629 21:17:32.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:32.726" level="INFO">2023-06-29 21:17:31,526 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:17:31,595 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:17:31,595 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230629 21:17:32.725" endtime="20230629 21:17:32.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:32.726" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:32.726" endtime="20230629 21:17:32.726"/>
</kw>
<status status="PASS" starttime="20230629 21:17:28.209" endtime="20230629 21:17:32.727"/>
</kw>
<msg timestamp="20230629 21:17:32.727" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:28.208" endtime="20230629 21:17:32.728"/>
</kw>
<msg timestamp="20230629 21:17:32.728" level="INFO">${output} = 2023-06-29 21:17:31,526 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:17:31,595 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:17:28.208" endtime="20230629 21:17:32.728"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:32.728" endtime="20230629 21:17:32.729"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:32.732" level="INFO">Running command 'cat /tmp/key-98656 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:32.734" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:32.734" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:32.729" endtime="20230629 21:17:32.735"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:32.736" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:32.735" endtime="20230629 21:17:32.736"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:32.736" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:32.736" endtime="20230629 21:17:32.736"/>
</kw>
<msg timestamp="20230629 21:17:32.737" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:32.729" endtime="20230629 21:17:32.737"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:32.737" endtime="20230629 21:17:32.737"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:32.740" level="INFO">Running command 'rm /tmp/key-98656 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:32.742" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:32.742" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:32.738" endtime="20230629 21:17:32.742"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:32.743" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:32.743" endtime="20230629 21:17:32.743"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:32.744" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:32.744" endtime="20230629 21:17:32.744"/>
</kw>
<status status="PASS" starttime="20230629 21:17:32.737" endtime="20230629 21:17:32.745"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:28.206" endtime="20230629 21:17:32.745"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:32.750" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:33.458" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:33.459" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:32.748" endtime="20230629 21:17:33.459"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:33.460" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:33.459" endtime="20230629 21:17:33.460"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:33.460" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:33.460" endtime="20230629 21:17:33.461"/>
</kw>
<status status="PASS" starttime="20230629 21:17:32.748" endtime="20230629 21:17:33.461"/>
</kw>
<msg timestamp="20230629 21:17:33.461" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:32.748" endtime="20230629 21:17:33.461"/>
</kw>
<status status="PASS" starttime="20230629 21:17:32.747" endtime="20230629 21:17:33.462"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:33.465" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:33.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:33.946" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:33.463" endtime="20230629 21:17:33.946"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:33.947" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:33.946" endtime="20230629 21:17:33.947"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:33.948" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:33.947" endtime="20230629 21:17:33.948"/>
</kw>
<status status="PASS" starttime="20230629 21:17:33.462" endtime="20230629 21:17:33.948"/>
</kw>
<msg timestamp="20230629 21:17:33.948" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:33.462" endtime="20230629 21:17:33.949"/>
</kw>
<status status="PASS" starttime="20230629 21:17:33.462" endtime="20230629 21:17:33.949"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:33.952" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:34.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:34.424" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:33.950" endtime="20230629 21:17:34.424"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:34.425" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:34.424" endtime="20230629 21:17:34.425"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:34.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:34.425" endtime="20230629 21:17:34.426"/>
</kw>
<status status="PASS" starttime="20230629 21:17:33.950" endtime="20230629 21:17:34.426"/>
</kw>
<msg timestamp="20230629 21:17:34.426" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:33.949" endtime="20230629 21:17:34.426"/>
</kw>
<status status="PASS" starttime="20230629 21:17:33.949" endtime="20230629 21:17:34.427"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:34.431" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:34.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:34.903" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:34.428" endtime="20230629 21:17:34.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:34.905" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:34.904" endtime="20230629 21:17:34.905"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:34.905" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:34.905" endtime="20230629 21:17:34.905"/>
</kw>
<status status="PASS" starttime="20230629 21:17:34.428" endtime="20230629 21:17:34.906"/>
</kw>
<msg timestamp="20230629 21:17:34.906" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:34.427" endtime="20230629 21:17:34.906"/>
</kw>
<status status="PASS" starttime="20230629 21:17:34.427" endtime="20230629 21:17:34.906"/>
</kw>
<status status="PASS" starttime="20230629 21:17:32.747" endtime="20230629 21:17:34.906"/>
</kw>
<status status="PASS" starttime="20230629 21:17:32.747" endtime="20230629 21:17:34.907"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:32.746" endtime="20230629 21:17:34.907"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:34.912" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:37.520" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:37.520" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:34.909" endtime="20230629 21:17:37.520"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:37.522" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:17:35 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:17:37.521" endtime="20230629 21:17:37.522"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:37.522" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:37.522" endtime="20230629 21:17:37.522"/>
</kw>
<msg timestamp="20230629 21:17:37.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:34.909" endtime="20230629 21:17:37.523"/>
</kw>
<msg timestamp="20230629 21:17:37.523" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:36 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:34.908" endtime="20230629 21:17:37.523"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:37.523" endtime="20230629 21:17:37.523"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:37.526" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:37.530" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:37.530" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:37.524" endtime="20230629 21:17:37.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:37.531" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:37.530" endtime="20230629 21:17:37.531"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:37.531" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:37.531" endtime="20230629 21:17:37.531"/>
</kw>
<msg timestamp="20230629 21:17:37.532" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:37.524" endtime="20230629 21:17:37.532"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:37.532" endtime="20230629 21:17:37.532"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:37.535" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:37.538" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:37.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:37.533" endtime="20230629 21:17:37.538"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:37.539" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:37.538" endtime="20230629 21:17:37.539"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:37.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:37.539" endtime="20230629 21:17:37.540"/>
</kw>
<status status="PASS" starttime="20230629 21:17:37.532" endtime="20230629 21:17:37.540"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:34.907" endtime="20230629 21:17:37.540"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:37.545" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:38.278" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:38.278" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:41 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:37.543" endtime="20230629 21:17:38.278"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:38.280" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:41 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:17:38 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:17:38.279" endtime="20230629 21:17:38.280"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:38.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:38.286" endtime="20230629 21:17:38.286"/>
</kw>
<msg timestamp="20230629 21:17:38.287" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:41 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:37.542" endtime="20230629 21:17:38.287"/>
</kw>
<msg timestamp="20230629 21:17:38.287" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:13:41 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:37.542" endtime="20230629 21:17:38.287"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:38.287" endtime="20230629 21:17:38.288"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:38.290" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:38.293" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:38.293" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:17:38.288" endtime="20230629 21:17:38.293"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:38.294" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:17:38.294" endtime="20230629 21:17:38.294"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:38.295" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:38.295" endtime="20230629 21:17:38.295"/>
</kw>
<msg timestamp="20230629 21:17:38.296" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:17:38.288" endtime="20230629 21:17:38.296"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:38.296" endtime="20230629 21:17:38.296"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:38.299" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:38.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:38.301" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:38.297" endtime="20230629 21:17:38.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:38.302" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:38.302" endtime="20230629 21:17:38.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:38.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:38.302" endtime="20230629 21:17:38.303"/>
</kw>
<status status="PASS" starttime="20230629 21:17:38.296" endtime="20230629 21:17:38.303"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:37.541" endtime="20230629 21:17:38.303"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230629 21:17:28.126" endtime="20230629 21:17:38.305"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230629 21:17:42.236" level="INFO">${random} = 33629</msg>
<status status="PASS" starttime="20230629 21:17:42.235" endtime="20230629 21:17:42.236"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:42.241" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-33629 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:46.568" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:46.568" level="INFO">${output} = 2023-06-29 21:17:45,385 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:17:45,459 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:17:42.238" endtime="20230629 21:17:46.568"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:46.569" level="INFO">2023-06-29 21:17:45,385 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:17:45,459 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:17:45,459 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230629 21:17:46.568" endtime="20230629 21:17:46.569"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:46.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:46.569" endtime="20230629 21:17:46.570"/>
</kw>
<status status="PASS" starttime="20230629 21:17:42.237" endtime="20230629 21:17:46.570"/>
</kw>
<msg timestamp="20230629 21:17:46.570" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:42.237" endtime="20230629 21:17:46.571"/>
</kw>
<msg timestamp="20230629 21:17:46.572" level="INFO">${output} = 2023-06-29 21:17:45,385 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:17:45,459 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:17:42.236" endtime="20230629 21:17:46.572"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:46.572" endtime="20230629 21:17:46.572"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:46.575" level="INFO">Running command 'cat /tmp/key-33629 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:46.578" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:46.578" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:46.573" endtime="20230629 21:17:46.578"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:46.579" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:46.578" endtime="20230629 21:17:46.579"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:46.579" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:46.579" endtime="20230629 21:17:46.580"/>
</kw>
<msg timestamp="20230629 21:17:46.580" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:46.573" endtime="20230629 21:17:46.580"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:46.580" endtime="20230629 21:17:46.581"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:46.584" level="INFO">Running command 'rm /tmp/key-33629 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:46.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:46.586" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:46.582" endtime="20230629 21:17:46.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:46.587" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:46.587" endtime="20230629 21:17:46.588"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:46.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:46.588" endtime="20230629 21:17:46.588"/>
</kw>
<status status="PASS" starttime="20230629 21:17:46.581" endtime="20230629 21:17:46.588"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:42.234" endtime="20230629 21:17:46.589"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:46.594" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:47.082" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:47.082" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:46.592" endtime="20230629 21:17:47.082"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:47.083" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:47.082" endtime="20230629 21:17:47.083"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:47.084" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:47.083" endtime="20230629 21:17:47.084"/>
</kw>
<status status="PASS" starttime="20230629 21:17:46.592" endtime="20230629 21:17:47.084"/>
</kw>
<msg timestamp="20230629 21:17:47.084" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:46.592" endtime="20230629 21:17:47.085"/>
</kw>
<status status="PASS" starttime="20230629 21:17:46.591" endtime="20230629 21:17:47.085"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:47.088" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:47.560" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:47.560" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:47.086" endtime="20230629 21:17:47.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:47.561" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:47.561" endtime="20230629 21:17:47.561"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:47.562" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:47.562" endtime="20230629 21:17:47.562"/>
</kw>
<status status="PASS" starttime="20230629 21:17:47.086" endtime="20230629 21:17:47.562"/>
</kw>
<msg timestamp="20230629 21:17:47.562" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:47.086" endtime="20230629 21:17:47.563"/>
</kw>
<status status="PASS" starttime="20230629 21:17:47.085" endtime="20230629 21:17:47.563"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:47.567" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:48.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:48.040" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:47.565" endtime="20230629 21:17:48.040"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:48.041" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:48.040" endtime="20230629 21:17:48.041"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:48.042" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:48.041" endtime="20230629 21:17:48.042"/>
</kw>
<status status="PASS" starttime="20230629 21:17:47.564" endtime="20230629 21:17:48.044"/>
</kw>
<msg timestamp="20230629 21:17:48.044" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:47.564" endtime="20230629 21:17:48.045"/>
</kw>
<status status="PASS" starttime="20230629 21:17:47.563" endtime="20230629 21:17:48.045"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:48.049" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:48.515" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:48.515" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:48.046" endtime="20230629 21:17:48.515"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:48.516" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:48.515" endtime="20230629 21:17:48.516"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:48.517" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:48.516" endtime="20230629 21:17:48.517"/>
</kw>
<status status="PASS" starttime="20230629 21:17:48.046" endtime="20230629 21:17:48.517"/>
</kw>
<msg timestamp="20230629 21:17:48.517" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:48.046" endtime="20230629 21:17:48.518"/>
</kw>
<status status="PASS" starttime="20230629 21:17:48.045" endtime="20230629 21:17:48.518"/>
</kw>
<status status="PASS" starttime="20230629 21:17:46.591" endtime="20230629 21:17:48.518"/>
</kw>
<status status="PASS" starttime="20230629 21:17:46.590" endtime="20230629 21:17:48.518"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:46.590" endtime="20230629 21:17:48.518"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:48.523" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:49.237" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:49.237" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:48.521" endtime="20230629 21:17:49.237"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:49.238" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:17:49 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:17:49.237" endtime="20230629 21:17:49.238"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:49.239" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:49.238" endtime="20230629 21:17:49.239"/>
</kw>
<msg timestamp="20230629 21:17:49.239" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:48.520" endtime="20230629 21:17:49.239"/>
</kw>
<msg timestamp="20230629 21:17:49.239" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:48.520" endtime="20230629 21:17:49.239"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:49.239" endtime="20230629 21:17:49.240"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:49.243" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:49.245" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:49.245" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:49.240" endtime="20230629 21:17:49.245"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:49.246" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:49.246" endtime="20230629 21:17:49.246"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:49.247" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:49.246" endtime="20230629 21:17:49.247"/>
</kw>
<msg timestamp="20230629 21:17:49.247" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:17:49.240" endtime="20230629 21:17:49.247"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:49.247" endtime="20230629 21:17:49.248"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:49.251" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:49.253" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:49.253" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:49.249" endtime="20230629 21:17:49.253"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:49.254" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:49.253" endtime="20230629 21:17:49.255"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:49.255" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:49.255" endtime="20230629 21:17:49.255"/>
</kw>
<status status="PASS" starttime="20230629 21:17:49.248" endtime="20230629 21:17:49.255"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:48.519" endtime="20230629 21:17:49.256"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:49.261" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:49.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:49.878" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:49.259" endtime="20230629 21:17:49.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:49.879" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:17:49 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:17:49.878" endtime="20230629 21:17:49.879"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:49.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:49.879" endtime="20230629 21:17:49.880"/>
</kw>
<msg timestamp="20230629 21:17:49.880" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:49.259" endtime="20230629 21:17:49.880"/>
</kw>
<msg timestamp="20230629 21:17:49.881" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:17:49.258" endtime="20230629 21:17:49.881"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:49.881" endtime="20230629 21:17:49.881"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:49.884" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:49.887" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:49.887" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:17:49.882" endtime="20230629 21:17:49.887"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:49.888" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:17:49.887" endtime="20230629 21:17:49.888"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:49.889" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:49.888" endtime="20230629 21:17:49.889"/>
</kw>
<msg timestamp="20230629 21:17:49.889" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:17:49.881" endtime="20230629 21:17:49.889"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:49.889" endtime="20230629 21:17:49.890"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:49.892" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:49.895" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:49.895" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:49.891" endtime="20230629 21:17:49.895"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:49.896" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:49.895" endtime="20230629 21:17:49.896"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:49.896" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:49.896" endtime="20230629 21:17:49.896"/>
</kw>
<status status="PASS" starttime="20230629 21:17:49.890" endtime="20230629 21:17:49.897"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:49.257" endtime="20230629 21:17:49.897"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230629 21:17:42.158" endtime="20230629 21:17:49.898"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:53.732" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:56.448" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:56.448" level="INFO">${output} = 2023-06-29 21:17:56,294 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230629 21:17:53.725" endtime="20230629 21:17:56.448"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:56.450" level="INFO">2023-06-29 21:17:56,294 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230629 21:17:56.449" endtime="20230629 21:17:56.450"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:56.451" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:56.450" endtime="20230629 21:17:56.451"/>
</kw>
<status status="PASS" starttime="20230629 21:17:53.725" endtime="20230629 21:17:56.451"/>
</kw>
<msg timestamp="20230629 21:17:56.451" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:53.724" endtime="20230629 21:17:56.452"/>
</kw>
<msg timestamp="20230629 21:17:56.453" level="INFO">${output} = 2023-06-29 21:17:56,294 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230629 21:17:53.724" endtime="20230629 21:17:56.453"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:56.453" endtime="20230629 21:17:56.453"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:56.467" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:59.366" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:59.366" level="INFO">${output} = 2023-06-29 21:17:59,306 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230629 21:17:56.464" endtime="20230629 21:17:59.366"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:59.368" level="INFO">2023-06-29 21:17:59,306 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230629 21:17:59.367" endtime="20230629 21:17:59.368"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:59.368" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:59.368" endtime="20230629 21:17:59.369"/>
</kw>
<status status="PASS" starttime="20230629 21:17:56.463" endtime="20230629 21:17:59.369"/>
</kw>
<msg timestamp="20230629 21:17:59.369" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:56.463" endtime="20230629 21:17:59.369"/>
</kw>
<msg timestamp="20230629 21:17:59.370" level="INFO">${output} = 2023-06-29 21:17:59,306 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230629 21:17:56.453" endtime="20230629 21:17:59.370"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:17:59.370" endtime="20230629 21:17:59.370"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:53.723" endtime="20230629 21:17:59.370"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:59.376" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:17:59.378" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:59.378" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:17:59.374" endtime="20230629 21:17:59.378"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:59.379" level="INFO"/>
<status status="PASS" starttime="20230629 21:17:59.378" endtime="20230629 21:17:59.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:59.380" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:59.379" endtime="20230629 21:17:59.380"/>
</kw>
<status status="PASS" starttime="20230629 21:17:59.373" endtime="20230629 21:17:59.380"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:59.384" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:05.299" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:05.299" level="INFO">${output} = 2023-06-29 21:18:03,300 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:03,428 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:17:59.382" endtime="20230629 21:18:05.299"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:05.300" level="INFO">2023-06-29 21:18:03,300 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:03,428 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:18:03,429 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-29 21:18:03,755 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230629 21:18:05.299" endtime="20230629 21:18:05.300"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:05.301" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:05.300" endtime="20230629 21:18:05.301"/>
</kw>
<status status="PASS" starttime="20230629 21:17:59.381" endtime="20230629 21:18:05.301"/>
</kw>
<msg timestamp="20230629 21:18:05.301" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:59.381" endtime="20230629 21:18:05.302"/>
</kw>
<msg timestamp="20230629 21:18:05.302" level="INFO">${output} = 2023-06-29 21:18:03,300 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:03,428 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:17:59.380" endtime="20230629 21:18:05.302"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:05.302" endtime="20230629 21:18:05.302"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:05.306" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:05.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:05.309" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:05.303" endtime="20230629 21:18:05.309"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:05.310" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:05.310" endtime="20230629 21:18:05.311"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:05.311" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:05.311" endtime="20230629 21:18:05.311"/>
</kw>
<status status="PASS" starttime="20230629 21:18:05.303" endtime="20230629 21:18:05.312"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:17:59.371" endtime="20230629 21:18:05.312"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:05.319" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:07.839" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:07.839" level="INFO">${output} = 2023-06-29 21:18:07,779 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230629 21:18:05.316" endtime="20230629 21:18:07.839"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:07.841" level="INFO">2023-06-29 21:18:07,779 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230629 21:18:07.840" endtime="20230629 21:18:07.841"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:07.841" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:07.841" endtime="20230629 21:18:07.841"/>
</kw>
<status status="PASS" starttime="20230629 21:18:05.315" endtime="20230629 21:18:07.842"/>
</kw>
<msg timestamp="20230629 21:18:07.842" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:05.315" endtime="20230629 21:18:07.842"/>
</kw>
<msg timestamp="20230629 21:18:07.843" level="INFO">${output} = 2023-06-29 21:18:07,779 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230629 21:18:05.315" endtime="20230629 21:18:07.843"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:07.843" endtime="20230629 21:18:07.843"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:05.314" endtime="20230629 21:18:07.844"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:07.849" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:18:07.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:07.851" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:07.846" endtime="20230629 21:18:07.851"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:07.852" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:07.851" endtime="20230629 21:18:07.852"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:07.853" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:07.852" endtime="20230629 21:18:07.853"/>
</kw>
<status status="PASS" starttime="20230629 21:18:07.846" endtime="20230629 21:18:07.853"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:07.857" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:12.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:12.623" level="INFO">${output} = 2023-06-29 21:18:11,165 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:11,270 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:07.855" endtime="20230629 21:18:12.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:12.624" level="INFO">2023-06-29 21:18:11,165 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:11,270 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:18:11,270 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-29 21:18:11,535 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230629 21:18:12.623" endtime="20230629 21:18:12.624"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:12.625" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:12.624" endtime="20230629 21:18:12.625"/>
</kw>
<status status="PASS" starttime="20230629 21:18:07.854" endtime="20230629 21:18:12.625"/>
</kw>
<msg timestamp="20230629 21:18:12.625" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:07.854" endtime="20230629 21:18:12.626"/>
</kw>
<msg timestamp="20230629 21:18:12.626" level="INFO">${output} = 2023-06-29 21:18:11,165 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:11,270 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:07.853" endtime="20230629 21:18:12.626"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:12.626" endtime="20230629 21:18:12.627"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:12.629" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:12.632" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:12.632" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:12.627" endtime="20230629 21:18:12.632"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:12.633" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:12.632" endtime="20230629 21:18:12.633"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:12.633" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:12.633" endtime="20230629 21:18:12.634"/>
</kw>
<status status="PASS" starttime="20230629 21:18:12.627" endtime="20230629 21:18:12.634"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:07.845" endtime="20230629 21:18:12.634"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:12.639" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:13.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:13.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:12.637" endtime="20230629 21:18:13.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:13.113" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:13.113" endtime="20230629 21:18:13.113"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:13.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:13.114" endtime="20230629 21:18:13.114"/>
</kw>
<status status="PASS" starttime="20230629 21:18:12.637" endtime="20230629 21:18:13.114"/>
</kw>
<msg timestamp="20230629 21:18:13.115" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:12.637" endtime="20230629 21:18:13.115"/>
</kw>
<status status="PASS" starttime="20230629 21:18:12.636" endtime="20230629 21:18:13.115"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:13.119" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:13.592" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:13.592" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:13.117" endtime="20230629 21:18:13.592"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:13.594" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:13.593" endtime="20230629 21:18:13.594"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:13.595" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:13.594" endtime="20230629 21:18:13.595"/>
</kw>
<status status="PASS" starttime="20230629 21:18:13.116" endtime="20230629 21:18:13.595"/>
</kw>
<msg timestamp="20230629 21:18:13.595" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:13.116" endtime="20230629 21:18:13.596"/>
</kw>
<status status="PASS" starttime="20230629 21:18:13.115" endtime="20230629 21:18:13.596"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:13.600" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:14.084" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:14.084" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:13.598" endtime="20230629 21:18:14.084"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:14.086" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:14.085" endtime="20230629 21:18:14.086"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:14.086" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:14.086" endtime="20230629 21:18:14.086"/>
</kw>
<status status="PASS" starttime="20230629 21:18:13.597" endtime="20230629 21:18:14.087"/>
</kw>
<msg timestamp="20230629 21:18:14.087" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:13.597" endtime="20230629 21:18:14.088"/>
</kw>
<status status="PASS" starttime="20230629 21:18:13.596" endtime="20230629 21:18:14.088"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:14.092" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:14.580" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:14.580" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:14.090" endtime="20230629 21:18:14.580"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:14.581" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:14.581" endtime="20230629 21:18:14.581"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:14.582" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:14.582" endtime="20230629 21:18:14.582"/>
</kw>
<status status="PASS" starttime="20230629 21:18:14.089" endtime="20230629 21:18:14.582"/>
</kw>
<msg timestamp="20230629 21:18:14.582" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:14.089" endtime="20230629 21:18:14.583"/>
</kw>
<status status="PASS" starttime="20230629 21:18:14.088" endtime="20230629 21:18:14.583"/>
</kw>
<status status="PASS" starttime="20230629 21:18:12.636" endtime="20230629 21:18:14.583"/>
</kw>
<status status="PASS" starttime="20230629 21:18:12.635" endtime="20230629 21:18:14.583"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:12.635" endtime="20230629 21:18:14.584"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:14.590" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:15.263" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:15.263" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:14.587" endtime="20230629 21:18:15.263"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:15.265" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:15.264" endtime="20230629 21:18:15.265"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:15.266" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:15.265" endtime="20230629 21:18:15.266"/>
</kw>
<status status="PASS" starttime="20230629 21:18:14.587" endtime="20230629 21:18:15.266"/>
</kw>
<msg timestamp="20230629 21:18:15.266" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:14.587" endtime="20230629 21:18:15.267"/>
</kw>
<msg timestamp="20230629 21:18:15.267" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:14.586" endtime="20230629 21:18:15.267"/>
</kw>
<msg timestamp="20230629 21:18:15.268" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:14.586" endtime="20230629 21:18:15.268"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:15.268" endtime="20230629 21:18:15.268"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:15.268" endtime="20230629 21:18:15.269"/>
</kw>
<msg timestamp="20230629 21:18:15.269" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230629 21:18:14.585" endtime="20230629 21:18:15.269"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230629 21:18:15.269" endtime="20230629 21:18:15.270"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:14.584" endtime="20230629 21:18:15.270"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:15.276" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:18:15.278" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:15.278" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:15.274" endtime="20230629 21:18:15.278"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:15.280" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:15.279" endtime="20230629 21:18:15.280"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:15.280" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:15.280" endtime="20230629 21:18:15.280"/>
</kw>
<status status="PASS" starttime="20230629 21:18:15.273" endtime="20230629 21:18:15.281"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:15.284" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:16.412" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:16.412" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:15.282" endtime="20230629 21:18:16.412"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:16.413" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:16.413" endtime="20230629 21:18:16.413"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:16.414" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:16.414" endtime="20230629 21:18:16.414"/>
</kw>
<msg timestamp="20230629 21:18:16.414" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:15.281" endtime="20230629 21:18:16.414"/>
</kw>
<msg timestamp="20230629 21:18:16.415" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:15.281" endtime="20230629 21:18:16.415"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:16.415" endtime="20230629 21:18:16.415"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:16.418" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:16.422" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:16.422" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:16.416" endtime="20230629 21:18:16.422"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:16.423" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:16.423" endtime="20230629 21:18:16.423"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:16.424" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:16.423" endtime="20230629 21:18:16.424"/>
</kw>
<status status="PASS" starttime="20230629 21:18:16.416" endtime="20230629 21:18:16.424"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:15.272" endtime="20230629 21:18:16.424"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230629 21:17:53.643" endtime="20230629 21:18:16.426"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230629 21:18:20.266" level="INFO">${random} = 44205</msg>
<status status="PASS" starttime="20230629 21:18:20.266" endtime="20230629 21:18:20.266"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:20.272" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-44205 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:24.345" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:24.345" level="INFO">${output} = 2023-06-29 21:18:23,175 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:23,283 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:20.268" endtime="20230629 21:18:24.345"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:24.346" level="INFO">2023-06-29 21:18:23,175 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:23,283 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:18:23,283 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230629 21:18:24.345" endtime="20230629 21:18:24.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:24.347" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:24.346" endtime="20230629 21:18:24.347"/>
</kw>
<status status="PASS" starttime="20230629 21:18:20.268" endtime="20230629 21:18:24.347"/>
</kw>
<msg timestamp="20230629 21:18:24.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:20.267" endtime="20230629 21:18:24.349"/>
</kw>
<msg timestamp="20230629 21:18:24.349" level="INFO">${output} = 2023-06-29 21:18:23,175 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:23,283 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:20.266" endtime="20230629 21:18:24.349"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:24.349" endtime="20230629 21:18:24.350"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:24.353" level="INFO">Running command 'cat /tmp/key-44205 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:24.355" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:24.355" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:18:24.350" endtime="20230629 21:18:24.355"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:24.356" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:18:24.356" endtime="20230629 21:18:24.357"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:24.357" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:24.357" endtime="20230629 21:18:24.357"/>
</kw>
<msg timestamp="20230629 21:18:24.358" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:18:24.350" endtime="20230629 21:18:24.358"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:24.358" endtime="20230629 21:18:24.358"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:24.361" level="INFO">Running command 'rm /tmp/key-44205 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:24.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:24.363" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:24.359" endtime="20230629 21:18:24.363"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:24.364" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:24.363" endtime="20230629 21:18:24.364"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:24.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:24.364" endtime="20230629 21:18:24.365"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.358" endtime="20230629 21:18:24.365"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:20.265" endtime="20230629 21:18:24.365"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:24.371" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:24.877" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:24.877" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:24.370" endtime="20230629 21:18:24.877"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:24.879" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:24.878" endtime="20230629 21:18:24.879"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:24.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:24.879" endtime="20230629 21:18:24.880"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.369" endtime="20230629 21:18:24.880"/>
</kw>
<msg timestamp="20230629 21:18:24.880" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:24.369" endtime="20230629 21:18:24.881"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.368" endtime="20230629 21:18:24.881"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:24.885" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:25.400" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:25.400" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:24.882" endtime="20230629 21:18:25.400"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:25.401" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:25.401" endtime="20230629 21:18:25.402"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:25.402" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:25.402" endtime="20230629 21:18:25.402"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.882" endtime="20230629 21:18:25.402"/>
</kw>
<msg timestamp="20230629 21:18:25.403" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:24.882" endtime="20230629 21:18:25.403"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.881" endtime="20230629 21:18:25.403"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:25.407" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:25.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:25.878" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:25.405" endtime="20230629 21:18:25.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:25.879" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:25.879" endtime="20230629 21:18:25.880"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:25.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:25.880" endtime="20230629 21:18:25.880"/>
</kw>
<status status="PASS" starttime="20230629 21:18:25.404" endtime="20230629 21:18:25.881"/>
</kw>
<msg timestamp="20230629 21:18:25.881" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:25.404" endtime="20230629 21:18:25.881"/>
</kw>
<status status="PASS" starttime="20230629 21:18:25.403" endtime="20230629 21:18:25.881"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:25.886" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:26.358" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:26.358" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:25.883" endtime="20230629 21:18:26.358"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:26.359" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:26.358" endtime="20230629 21:18:26.359"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:26.360" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:26.359" endtime="20230629 21:18:26.360"/>
</kw>
<status status="PASS" starttime="20230629 21:18:25.882" endtime="20230629 21:18:26.360"/>
</kw>
<msg timestamp="20230629 21:18:26.360" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:25.882" endtime="20230629 21:18:26.361"/>
</kw>
<status status="PASS" starttime="20230629 21:18:25.882" endtime="20230629 21:18:26.361"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.368" endtime="20230629 21:18:26.361"/>
</kw>
<status status="PASS" starttime="20230629 21:18:24.367" endtime="20230629 21:18:26.361"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:24.367" endtime="20230629 21:18:26.361"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:26.366" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:27.007" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:27.007" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:18:26.364" endtime="20230629 21:18:27.007"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:27.008" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:18:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:18:27.007" endtime="20230629 21:18:27.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:27.009" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:27.008" endtime="20230629 21:18:27.009"/>
</kw>
<msg timestamp="20230629 21:18:27.009" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:18:26.363" endtime="20230629 21:18:27.009"/>
</kw>
<msg timestamp="20230629 21:18:27.009" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:18:26.363" endtime="20230629 21:18:27.009"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:27.010" endtime="20230629 21:18:27.010"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:27.013" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:27.015" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:27.015" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:18:27.010" endtime="20230629 21:18:27.015"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:27.016" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:18:27.015" endtime="20230629 21:18:27.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:27.017" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:27.016" endtime="20230629 21:18:27.017"/>
</kw>
<msg timestamp="20230629 21:18:27.017" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:18:27.010" endtime="20230629 21:18:27.017"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:27.017" endtime="20230629 21:18:27.018"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:27.020" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:27.023" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:27.023" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:27.018" endtime="20230629 21:18:27.023"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:27.024" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:27.023" endtime="20230629 21:18:27.024"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:27.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:27.024" endtime="20230629 21:18:27.024"/>
</kw>
<status status="PASS" starttime="20230629 21:18:27.018" endtime="20230629 21:18:27.025"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:26.362" endtime="20230629 21:18:27.025"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:27.030" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:27.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:27.654" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:18:27.028" endtime="20230629 21:18:27.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:27.655" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:18:27 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:18:27.655" endtime="20230629 21:18:27.655"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:27.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:27.656" endtime="20230629 21:18:27.656"/>
</kw>
<msg timestamp="20230629 21:18:27.656" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:18:27.027" endtime="20230629 21:18:27.657"/>
</kw>
<msg timestamp="20230629 21:18:27.657" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:18:16 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:18:27.026" endtime="20230629 21:18:27.657"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:27.657" endtime="20230629 21:18:27.657"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:27.661" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:27.663" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:27.663" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:18:27.658" endtime="20230629 21:18:27.663"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:27.664" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:18:27.664" endtime="20230629 21:18:27.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:27.665" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:27.664" endtime="20230629 21:18:27.665"/>
</kw>
<msg timestamp="20230629 21:18:27.665" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:18:27.658" endtime="20230629 21:18:27.665"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:27.665" endtime="20230629 21:18:27.666"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:27.668" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:27.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:27.671" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:27.666" endtime="20230629 21:18:27.671"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:27.672" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:27.671" endtime="20230629 21:18:27.672"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:27.673" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:27.672" endtime="20230629 21:18:27.673"/>
</kw>
<status status="PASS" starttime="20230629 21:18:27.666" endtime="20230629 21:18:27.673"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:27.026" endtime="20230629 21:18:27.673"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230629 21:18:20.189" endtime="20230629 21:18:27.675"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:31.553" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:18:31.554" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:31.554" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:31.549" endtime="20230629 21:18:31.554"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:31.555" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:31.554" endtime="20230629 21:18:31.555"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:31.556" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:31.555" endtime="20230629 21:18:31.556"/>
</kw>
<status status="PASS" starttime="20230629 21:18:31.548" endtime="20230629 21:18:31.556"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:31.559" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:36.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:36.038" level="INFO">${output} = 2023-06-29 21:18:34,503 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:34,574 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:31.558" endtime="20230629 21:18:36.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:36.039" level="INFO">2023-06-29 21:18:34,503 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:34,574 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:18:34,574 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-29 21:18:34,816 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230629 21:18:36.038" endtime="20230629 21:18:36.039"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:36.040" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:36.039" endtime="20230629 21:18:36.040"/>
</kw>
<status status="PASS" starttime="20230629 21:18:31.557" endtime="20230629 21:18:36.040"/>
</kw>
<msg timestamp="20230629 21:18:36.040" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:31.557" endtime="20230629 21:18:36.042"/>
</kw>
<msg timestamp="20230629 21:18:36.042" level="INFO">${output} = 2023-06-29 21:18:34,503 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:34,574 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:31.556" endtime="20230629 21:18:36.042"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:36.042" endtime="20230629 21:18:36.043"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:36.046" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:36.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:36.048" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:36.043" endtime="20230629 21:18:36.048"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:36.049" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:36.048" endtime="20230629 21:18:36.049"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:36.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:36.049" endtime="20230629 21:18:36.050"/>
</kw>
<status status="PASS" starttime="20230629 21:18:36.043" endtime="20230629 21:18:36.050"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:31.547" endtime="20230629 21:18:36.050"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:36.054" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:18:36.056" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:36.056" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:36.052" endtime="20230629 21:18:36.056"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:36.057" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:36.056" endtime="20230629 21:18:36.057"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:36.057" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:36.057" endtime="20230629 21:18:36.058"/>
</kw>
<status status="PASS" starttime="20230629 21:18:36.051" endtime="20230629 21:18:36.058"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:36.061" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:40.702" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:40.702" level="INFO">${output} = 2023-06-29 21:18:39,252 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:39,368 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:36.059" endtime="20230629 21:18:40.702"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:40.704" level="INFO">2023-06-29 21:18:39,252 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:39,368 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:18:39,368 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-29 21:18:39,642 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230629 21:18:40.703" endtime="20230629 21:18:40.704"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:40.704" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:40.704" endtime="20230629 21:18:40.704"/>
</kw>
<status status="PASS" starttime="20230629 21:18:36.059" endtime="20230629 21:18:40.705"/>
</kw>
<msg timestamp="20230629 21:18:40.705" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:36.059" endtime="20230629 21:18:40.705"/>
</kw>
<msg timestamp="20230629 21:18:40.705" level="INFO">${output} = 2023-06-29 21:18:39,252 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:18:39,368 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:18:36.058" endtime="20230629 21:18:40.705"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:40.706" endtime="20230629 21:18:40.706"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:40.709" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:40.711" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:40.711" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:40.707" endtime="20230629 21:18:40.711"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:40.712" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:40.712" endtime="20230629 21:18:40.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:40.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:40.713" endtime="20230629 21:18:40.713"/>
</kw>
<status status="PASS" starttime="20230629 21:18:40.706" endtime="20230629 21:18:40.714"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:36.051" endtime="20230629 21:18:40.714"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:40.720" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:41.185" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:41.186" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:40.718" endtime="20230629 21:18:41.186"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:41.187" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:41.186" endtime="20230629 21:18:41.187"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:41.187" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:41.187" endtime="20230629 21:18:41.188"/>
</kw>
<status status="PASS" starttime="20230629 21:18:40.718" endtime="20230629 21:18:41.188"/>
</kw>
<msg timestamp="20230629 21:18:41.188" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:40.717" endtime="20230629 21:18:41.188"/>
</kw>
<status status="PASS" starttime="20230629 21:18:40.717" endtime="20230629 21:18:41.189"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:41.192" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:41.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:41.652" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:41.190" endtime="20230629 21:18:41.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:41.654" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:41.653" endtime="20230629 21:18:41.654"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:41.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:41.654" endtime="20230629 21:18:41.655"/>
</kw>
<status status="PASS" starttime="20230629 21:18:41.189" endtime="20230629 21:18:41.655"/>
</kw>
<msg timestamp="20230629 21:18:41.655" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:41.189" endtime="20230629 21:18:41.655"/>
</kw>
<status status="PASS" starttime="20230629 21:18:41.189" endtime="20230629 21:18:41.656"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:41.659" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:42.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:42.132" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:41.657" endtime="20230629 21:18:42.132"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:42.134" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:42.133" endtime="20230629 21:18:42.134"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:42.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:42.134" endtime="20230629 21:18:42.134"/>
</kw>
<status status="PASS" starttime="20230629 21:18:41.656" endtime="20230629 21:18:42.135"/>
</kw>
<msg timestamp="20230629 21:18:42.135" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:41.656" endtime="20230629 21:18:42.135"/>
</kw>
<status status="PASS" starttime="20230629 21:18:41.656" endtime="20230629 21:18:42.135"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:42.139" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:42.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:42.606" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:42.137" endtime="20230629 21:18:42.606"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:42.607" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:42.606" endtime="20230629 21:18:42.607"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:42.608" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:42.607" endtime="20230629 21:18:42.608"/>
</kw>
<status status="PASS" starttime="20230629 21:18:42.136" endtime="20230629 21:18:42.608"/>
</kw>
<msg timestamp="20230629 21:18:42.608" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:42.136" endtime="20230629 21:18:42.609"/>
</kw>
<status status="PASS" starttime="20230629 21:18:42.135" endtime="20230629 21:18:42.609"/>
</kw>
<status status="PASS" starttime="20230629 21:18:40.717" endtime="20230629 21:18:42.609"/>
</kw>
<status status="PASS" starttime="20230629 21:18:40.716" endtime="20230629 21:18:42.609"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:40.715" endtime="20230629 21:18:42.609"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:42.615" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:43.197" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:43.197" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:42.613" endtime="20230629 21:18:43.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:43.199" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:43.198" endtime="20230629 21:18:43.199"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:43.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:43.199" endtime="20230629 21:18:43.200"/>
</kw>
<status status="PASS" starttime="20230629 21:18:42.612" endtime="20230629 21:18:43.200"/>
</kw>
<msg timestamp="20230629 21:18:43.200" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:18:42.612" endtime="20230629 21:18:43.201"/>
</kw>
<msg timestamp="20230629 21:18:43.201" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:42.612" endtime="20230629 21:18:43.201"/>
</kw>
<msg timestamp="20230629 21:18:43.201" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:18:42.611" endtime="20230629 21:18:43.202"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:43.202" endtime="20230629 21:18:43.202"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:43.202" endtime="20230629 21:18:43.203"/>
</kw>
<msg timestamp="20230629 21:18:43.203" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230629 21:18:42.611" endtime="20230629 21:18:43.203"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230629 21:18:43.203" endtime="20230629 21:18:43.204"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:42.610" endtime="20230629 21:18:43.204"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:43.209" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:18:43.210" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:43.210" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:43.207" endtime="20230629 21:18:43.210"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:43.211" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:43.211" endtime="20230629 21:18:43.211"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:43.212" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:43.211" endtime="20230629 21:18:43.212"/>
</kw>
<status status="PASS" starttime="20230629 21:18:43.206" endtime="20230629 21:18:43.212"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:43.225" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:43.959" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:43.959" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:43.217" endtime="20230629 21:18:43.959"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:43.960" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:43.959" endtime="20230629 21:18:43.960"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:43.961" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:43.960" endtime="20230629 21:18:43.961"/>
</kw>
<msg timestamp="20230629 21:18:43.961" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:43.213" endtime="20230629 21:18:43.961"/>
</kw>
<msg timestamp="20230629 21:18:43.962" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:43.212" endtime="20230629 21:18:43.962"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:18:43.962" endtime="20230629 21:18:43.962"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:43.965" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:18:43.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:18:43.967" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:18:43.963" endtime="20230629 21:18:43.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:18:43.968" level="INFO"/>
<status status="PASS" starttime="20230629 21:18:43.968" endtime="20230629 21:18:43.969"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:18:43.969" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:18:43.969" endtime="20230629 21:18:43.969"/>
</kw>
<status status="PASS" starttime="20230629 21:18:43.962" endtime="20230629 21:18:43.969"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:18:43.205" endtime="20230629 21:18:43.970"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230629 21:18:31.472" endtime="20230629 21:18:43.971"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:18:47.801" endtime="20230629 21:18:47.801"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:18:47.801" endtime="20230629 21:18:47.802"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:18:47.806" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:23:47.801" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<status status="FAIL" starttime="20230629 21:18:47.803" endtime="20230629 21:23:47.801"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" starttime="20230629 21:23:47.802" endtime="20230629 21:23:47.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" starttime="20230629 21:23:47.802" endtime="20230629 21:23:47.802"/>
</kw>
<status status="FAIL" starttime="20230629 21:18:47.802" endtime="20230629 21:23:47.803"/>
</kw>
<msg timestamp="20230629 21:23:47.803" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="FAIL" starttime="20230629 21:18:47.802" endtime="20230629 21:23:47.804"/>
</kw>
<status status="FAIL" starttime="20230629 21:18:47.802" endtime="20230629 21:23:47.804"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" starttime="20230629 21:23:47.804" endtime="20230629 21:23:47.804"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" starttime="20230629 21:18:47.800" endtime="20230629 21:23:47.805">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" starttime="20230629 21:18:47.756" endtime="20230629 21:23:47.806"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:17:18.964" endtime="20230629 21:17:18.964"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:18.971" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:18.973" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:18.973" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=db95112a72cf
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230629 21:17:18.966" endtime="20230629 21:17:18.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:18.975" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=db95112a72cf
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230629 21:17:18.974" endtime="20230629 21:17:18.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:18.975" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:18.975" endtime="20230629 21:17:18.975"/>
</kw>
<status status="PASS" starttime="20230629 21:17:18.965" endtime="20230629 21:17:18.976"/>
</kw>
<msg timestamp="20230629 21:17:18.976" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:18.965" endtime="20230629 21:17:18.977"/>
</kw>
<msg timestamp="20230629 21:17:18.977" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=db95112a72cf
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230629 21:17:18.965" endtime="20230629 21:17:18.977"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:18.978" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=db95112a72cf
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230629 21:17:18.977" endtime="20230629 21:17:18.978"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:17:18.978" endtime="20230629 21:17:18.978"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:18.981" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:21.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:21.661" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:17:18.980" endtime="20230629 21:17:21.662"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:21.663" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:17:21.662" endtime="20230629 21:17:21.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:21.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:21.663" endtime="20230629 21:17:21.664"/>
</kw>
<status status="PASS" starttime="20230629 21:17:18.979" endtime="20230629 21:17:21.664"/>
</kw>
<msg timestamp="20230629 21:17:21.664" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:18.979" endtime="20230629 21:17:21.665"/>
</kw>
<msg timestamp="20230629 21:17:21.665" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:17:18.978" endtime="20230629 21:17:21.665"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:21.666" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:17:21.665" endtime="20230629 21:17:21.666"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230629 21:17:21.666" endtime="20230629 21:17:21.666"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230629 21:17:18.963" endtime="20230629 21:17:21.667"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:17:21.670" endtime="20230629 21:17:21.670"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:17:21.670" endtime="20230629 21:17:21.670"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:17:21.674" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:17:24.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:17:24.224" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:17:21.672" endtime="20230629 21:17:24.224"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:24.225" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:17:24.225" endtime="20230629 21:17:24.226"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:17:24.226" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:17:24.226" endtime="20230629 21:17:24.226"/>
</kw>
<status status="PASS" starttime="20230629 21:17:21.671" endtime="20230629 21:17:24.226"/>
</kw>
<msg timestamp="20230629 21:17:24.227" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:17:21.671" endtime="20230629 21:17:24.227"/>
</kw>
<msg timestamp="20230629 21:17:24.227" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:17:21.671" endtime="20230629 21:17:24.227"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:17:24.228" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:17:24.228" endtime="20230629 21:17:24.228"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230629 21:17:24.228" endtime="20230629 21:17:24.229"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230629 21:17:21.668" endtime="20230629 21:17:24.229"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230629 21:17:18.899" endtime="20230629 21:17:24.230"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:09:58.530" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:01.241" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:01.241" level="INFO">${output} = 2023-06-29 21:10:00,960 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230629 21:09:58.526" endtime="20230629 21:10:01.241"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:01.243" level="INFO">2023-06-29 21:10:00,960 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230629 21:10:01.241" endtime="20230629 21:10:01.243"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:01.243" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:01.243" endtime="20230629 21:10:01.244"/>
</kw>
<status status="PASS" starttime="20230629 21:09:58.526" endtime="20230629 21:10:01.244"/>
</kw>
<msg timestamp="20230629 21:10:01.244" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:09:58.526" endtime="20230629 21:10:01.245"/>
</kw>
<msg timestamp="20230629 21:10:01.245" level="INFO">${output} = 2023-06-29 21:10:00,960 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230629 21:09:58.525" endtime="20230629 21:10:01.246"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:01.246" endtime="20230629 21:10:01.246"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:01.259" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:04.296" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:04.296" level="INFO">${output} = 2023-06-29 21:10:04,228 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230629 21:10:01.256" endtime="20230629 21:10:04.296"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:04.297" level="INFO">2023-06-29 21:10:04,228 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230629 21:10:04.296" endtime="20230629 21:10:04.297"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:04.298" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:04.298" endtime="20230629 21:10:04.298"/>
</kw>
<status status="PASS" starttime="20230629 21:10:01.247" endtime="20230629 21:10:04.298"/>
</kw>
<msg timestamp="20230629 21:10:04.298" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:01.247" endtime="20230629 21:10:04.299"/>
</kw>
<msg timestamp="20230629 21:10:04.299" level="INFO">${output} = 2023-06-29 21:10:04,228 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230629 21:10:01.246" endtime="20230629 21:10:04.299"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:04.299" endtime="20230629 21:10:04.300"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:09:58.524" endtime="20230629 21:10:04.300"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:04.305" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:10:04.307" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:04.307" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:04.303" endtime="20230629 21:10:04.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:04.308" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:04.307" endtime="20230629 21:10:04.308"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:04.309" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:04.308" endtime="20230629 21:10:04.309"/>
</kw>
<status status="PASS" starttime="20230629 21:10:04.302" endtime="20230629 21:10:04.309"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:04.316" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:10.581" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:10.581" level="INFO">${output} = 2023-06-29 21:10:08,010 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:08,079 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:10:04.313" endtime="20230629 21:10:10.581"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:10.582" level="INFO">2023-06-29 21:10:08,010 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:08,079 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:10:08,080 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-29 21:10:08,453 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230629 21:10:10.581" endtime="20230629 21:10:10.582"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:10.583" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:10.582" endtime="20230629 21:10:10.583"/>
</kw>
<status status="PASS" starttime="20230629 21:10:04.312" endtime="20230629 21:10:10.583"/>
</kw>
<msg timestamp="20230629 21:10:10.583" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:04.312" endtime="20230629 21:10:10.583"/>
</kw>
<msg timestamp="20230629 21:10:10.584" level="INFO">${output} = 2023-06-29 21:10:08,010 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:08,079 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:10:04.309" endtime="20230629 21:10:10.584"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:10.584" endtime="20230629 21:10:10.584"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:10.587" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:10.590" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:10.590" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:10.585" endtime="20230629 21:10:10.590"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:10.591" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:10.590" endtime="20230629 21:10:10.591"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:10.591" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:10.591" endtime="20230629 21:10:10.591"/>
</kw>
<status status="PASS" starttime="20230629 21:10:10.584" endtime="20230629 21:10:10.591"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:04.301" endtime="20230629 21:10:10.592"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:10.597" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:13.216" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:13.216" level="INFO">${output} = 2023-06-29 21:10:13,160 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230629 21:10:10.594" endtime="20230629 21:10:13.217"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:13.218" level="INFO">2023-06-29 21:10:13,160 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230629 21:10:13.217" endtime="20230629 21:10:13.218"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:13.219" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:13.218" endtime="20230629 21:10:13.219"/>
</kw>
<status status="PASS" starttime="20230629 21:10:10.594" endtime="20230629 21:10:13.219"/>
</kw>
<msg timestamp="20230629 21:10:13.219" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:10.594" endtime="20230629 21:10:13.220"/>
</kw>
<msg timestamp="20230629 21:10:13.220" level="INFO">${output} = 2023-06-29 21:10:13,160 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230629 21:10:10.593" endtime="20230629 21:10:13.220"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:13.220" endtime="20230629 21:10:13.220"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:10.592" endtime="20230629 21:10:13.221"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:13.226" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:10:13.227" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:13.227" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:13.223" endtime="20230629 21:10:13.227"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:13.228" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:13.228" endtime="20230629 21:10:13.228"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:13.229" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:13.229" endtime="20230629 21:10:13.229"/>
</kw>
<status status="PASS" starttime="20230629 21:10:13.223" endtime="20230629 21:10:13.229"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:13.233" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:18.327" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:18.327" level="INFO">${output} = 2023-06-29 21:10:16,639 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:16,774 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:10:13.231" endtime="20230629 21:10:18.327"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:18.329" level="INFO">2023-06-29 21:10:16,639 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:16,774 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:10:16,774 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-29 21:10:17,002 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230629 21:10:18.328" endtime="20230629 21:10:18.329"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:18.329" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:18.329" endtime="20230629 21:10:18.329"/>
</kw>
<status status="PASS" starttime="20230629 21:10:13.230" endtime="20230629 21:10:18.330"/>
</kw>
<msg timestamp="20230629 21:10:18.330" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:13.230" endtime="20230629 21:10:18.330"/>
</kw>
<msg timestamp="20230629 21:10:18.331" level="INFO">${output} = 2023-06-29 21:10:16,639 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:16,774 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:10:13.230" endtime="20230629 21:10:18.331"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:18.331" endtime="20230629 21:10:18.331"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:18.345" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:18.350" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:18.350" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:18.332" endtime="20230629 21:10:18.350"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:18.351" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:18.351" endtime="20230629 21:10:18.351"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:18.352" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:18.352" endtime="20230629 21:10:18.352"/>
</kw>
<status status="PASS" starttime="20230629 21:10:18.331" endtime="20230629 21:10:18.353"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:13.222" endtime="20230629 21:10:18.353"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:18.359" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:19.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:19.017" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:18.357" endtime="20230629 21:10:19.018"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:19.022" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:19.018" endtime="20230629 21:10:19.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:19.023" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:19.022" endtime="20230629 21:10:19.023"/>
</kw>
<status status="PASS" starttime="20230629 21:10:18.356" endtime="20230629 21:10:19.023"/>
</kw>
<msg timestamp="20230629 21:10:19.023" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:18.356" endtime="20230629 21:10:19.024"/>
</kw>
<status status="PASS" starttime="20230629 21:10:18.355" endtime="20230629 21:10:19.024"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:19.028" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:19.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:19.497" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:19.026" endtime="20230629 21:10:19.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:19.498" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:19.497" endtime="20230629 21:10:19.498"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:19.498" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:19.498" endtime="20230629 21:10:19.499"/>
</kw>
<status status="PASS" starttime="20230629 21:10:19.025" endtime="20230629 21:10:19.499"/>
</kw>
<msg timestamp="20230629 21:10:19.499" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:19.025" endtime="20230629 21:10:19.499"/>
</kw>
<status status="PASS" starttime="20230629 21:10:19.024" endtime="20230629 21:10:19.500"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:19.503" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:20.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:20.006" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:19.501" endtime="20230629 21:10:20.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:20.007" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:20.007" endtime="20230629 21:10:20.007"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:20.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:20.008" endtime="20230629 21:10:20.008"/>
</kw>
<status status="PASS" starttime="20230629 21:10:19.500" endtime="20230629 21:10:20.008"/>
</kw>
<msg timestamp="20230629 21:10:20.008" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:19.500" endtime="20230629 21:10:20.009"/>
</kw>
<status status="PASS" starttime="20230629 21:10:19.500" endtime="20230629 21:10:20.009"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:20.013" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:20.538" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:20.538" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:20.011" endtime="20230629 21:10:20.539"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:20.540" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:20.539" endtime="20230629 21:10:20.540"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:20.540" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:20.540" endtime="20230629 21:10:20.541"/>
</kw>
<status status="PASS" starttime="20230629 21:10:20.010" endtime="20230629 21:10:20.541"/>
</kw>
<msg timestamp="20230629 21:10:20.541" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:20.010" endtime="20230629 21:10:20.541"/>
</kw>
<status status="PASS" starttime="20230629 21:10:20.009" endtime="20230629 21:10:20.542"/>
</kw>
<status status="PASS" starttime="20230629 21:10:18.355" endtime="20230629 21:10:20.542"/>
</kw>
<status status="PASS" starttime="20230629 21:10:18.355" endtime="20230629 21:10:20.542"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:18.354" endtime="20230629 21:10:20.542"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:20.549" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:22.451" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:22.451" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:10:20.546" endtime="20230629 21:10:22.451"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:22.453" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:10:22.452" endtime="20230629 21:10:22.453"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:22.453" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:22.453" endtime="20230629 21:10:22.454"/>
</kw>
<status status="PASS" starttime="20230629 21:10:20.546" endtime="20230629 21:10:22.454"/>
</kw>
<msg timestamp="20230629 21:10:22.454" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:20.546" endtime="20230629 21:10:22.455"/>
</kw>
<msg timestamp="20230629 21:10:22.455" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:10:20.545" endtime="20230629 21:10:22.455"/>
</kw>
<msg timestamp="20230629 21:10:22.455" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:10:20.545" endtime="20230629 21:10:22.455"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:22.455" endtime="20230629 21:10:22.456"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:22.456" endtime="20230629 21:10:22.456"/>
</kw>
<msg timestamp="20230629 21:10:22.457" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230629 21:10:20.544" endtime="20230629 21:10:22.457"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230629 21:10:22.457" endtime="20230629 21:10:22.457"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:20.543" endtime="20230629 21:10:22.457"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:22.462" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:10:22.464" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:22.464" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:22.460" endtime="20230629 21:10:22.464"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:22.465" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:22.465" endtime="20230629 21:10:22.465"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:22.466" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:22.466" endtime="20230629 21:10:22.466"/>
</kw>
<status status="PASS" starttime="20230629 21:10:22.459" endtime="20230629 21:10:22.466"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:22.470" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:24.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:24.044" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:22.468" endtime="20230629 21:10:24.044"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:24.045" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:24.044" endtime="20230629 21:10:24.045"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:24.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:24.045" endtime="20230629 21:10:24.046"/>
</kw>
<msg timestamp="20230629 21:10:24.046" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:22.467" endtime="20230629 21:10:24.046"/>
</kw>
<msg timestamp="20230629 21:10:24.046" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:22.467" endtime="20230629 21:10:24.046"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:24.046" endtime="20230629 21:10:24.047"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:24.050" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:24.052" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:24.052" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:24.047" endtime="20230629 21:10:24.052"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:24.053" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:24.053" endtime="20230629 21:10:24.053"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:24.054" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:24.054" endtime="20230629 21:10:24.054"/>
</kw>
<status status="PASS" starttime="20230629 21:10:24.047" endtime="20230629 21:10:24.055"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:22.458" endtime="20230629 21:10:24.055"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230629 21:09:58.448" endtime="20230629 21:10:24.057"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230629 21:10:27.874" level="INFO">${random} = 90317</msg>
<status status="PASS" starttime="20230629 21:10:27.873" endtime="20230629 21:10:27.874"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:27.879" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-90317 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:32.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:32.329" level="INFO">${output} = 2023-06-29 21:10:31,092 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:31,168 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:10:27.876" endtime="20230629 21:10:32.329"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:32.331" level="INFO">2023-06-29 21:10:31,092 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:31,168 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-29 21:10:31,168 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230629 21:10:32.329" endtime="20230629 21:10:32.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:32.331" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:32.331" endtime="20230629 21:10:32.331"/>
</kw>
<status status="PASS" starttime="20230629 21:10:27.875" endtime="20230629 21:10:32.332"/>
</kw>
<msg timestamp="20230629 21:10:32.332" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:27.874" endtime="20230629 21:10:32.333"/>
</kw>
<msg timestamp="20230629 21:10:32.333" level="INFO">${output} = 2023-06-29 21:10:31,092 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-29 21:10:31,168 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230629 21:10:27.874" endtime="20230629 21:10:32.333"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:32.334" endtime="20230629 21:10:32.334"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:32.337" level="INFO">Running command 'cat /tmp/key-90317 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:32.339" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:32.340" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:10:32.335" endtime="20230629 21:10:32.340"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:32.341" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:10:32.340" endtime="20230629 21:10:32.341"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:32.341" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:32.341" endtime="20230629 21:10:32.341"/>
</kw>
<msg timestamp="20230629 21:10:32.342" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:10:32.334" endtime="20230629 21:10:32.342"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:32.342" endtime="20230629 21:10:32.342"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:32.345" level="INFO">Running command 'rm /tmp/key-90317 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:32.347" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:32.348" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:32.343" endtime="20230629 21:10:32.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:32.349" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:32.348" endtime="20230629 21:10:32.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:32.349" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:32.349" endtime="20230629 21:10:32.349"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.343" endtime="20230629 21:10:32.350"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:27.872" endtime="20230629 21:10:32.350"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:32.356" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:32.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:32.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:32.354" endtime="20230629 21:10:32.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:32.824" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:32.823" endtime="20230629 21:10:32.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:32.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:32.824" endtime="20230629 21:10:32.825"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.353" endtime="20230629 21:10:32.825"/>
</kw>
<msg timestamp="20230629 21:10:32.825" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:32.353" endtime="20230629 21:10:32.826"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.353" endtime="20230629 21:10:32.826"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:32.829" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:33.319" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:33.319" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:32.827" endtime="20230629 21:10:33.319"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:33.321" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:33.320" endtime="20230629 21:10:33.321"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:33.321" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:33.321" endtime="20230629 21:10:33.321"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.827" endtime="20230629 21:10:33.322"/>
</kw>
<msg timestamp="20230629 21:10:33.322" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:32.826" endtime="20230629 21:10:33.322"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.826" endtime="20230629 21:10:33.322"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:33.326" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:33.800" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:33.800" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:33.324" endtime="20230629 21:10:33.800"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:33.802" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:33.801" endtime="20230629 21:10:33.802"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:33.802" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:33.802" endtime="20230629 21:10:33.802"/>
</kw>
<status status="PASS" starttime="20230629 21:10:33.323" endtime="20230629 21:10:33.803"/>
</kw>
<msg timestamp="20230629 21:10:33.803" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:33.323" endtime="20230629 21:10:33.803"/>
</kw>
<status status="PASS" starttime="20230629 21:10:33.322" endtime="20230629 21:10:33.803"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:33.807" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:34.306" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:34.306" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:33.805" endtime="20230629 21:10:34.306"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:34.307" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:34.307" endtime="20230629 21:10:34.307"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:34.308" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:34.308" endtime="20230629 21:10:34.308"/>
</kw>
<status status="PASS" starttime="20230629 21:10:33.804" endtime="20230629 21:10:34.309"/>
</kw>
<msg timestamp="20230629 21:10:34.309" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:33.804" endtime="20230629 21:10:34.309"/>
</kw>
<status status="PASS" starttime="20230629 21:10:33.803" endtime="20230629 21:10:34.309"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.352" endtime="20230629 21:10:34.310"/>
</kw>
<status status="PASS" starttime="20230629 21:10:32.352" endtime="20230629 21:10:34.310"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:32.351" endtime="20230629 21:10:34.310"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:34.315" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:35.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:35.044" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:10:34.313" endtime="20230629 21:10:35.044"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:35.045" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:10:34 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:10:35.045" endtime="20230629 21:10:35.046"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:35.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:35.046" endtime="20230629 21:10:35.046"/>
</kw>
<msg timestamp="20230629 21:10:35.047" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:10:34.312" endtime="20230629 21:10:35.047"/>
</kw>
<msg timestamp="20230629 21:10:35.047" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:10:34.312" endtime="20230629 21:10:35.047"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:35.047" endtime="20230629 21:10:35.047"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:35.050" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:35.053" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:35.053" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:10:35.048" endtime="20230629 21:10:35.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:35.054" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:10:35.053" endtime="20230629 21:10:35.054"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:35.054" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:35.054" endtime="20230629 21:10:35.054"/>
</kw>
<msg timestamp="20230629 21:10:35.055" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:10:35.047" endtime="20230629 21:10:35.055"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:35.055" endtime="20230629 21:10:35.055"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:35.058" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:35.060" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:35.060" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:35.056" endtime="20230629 21:10:35.060"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:35.061" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:35.061" endtime="20230629 21:10:35.061"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:35.062" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:35.062" endtime="20230629 21:10:35.062"/>
</kw>
<status status="PASS" starttime="20230629 21:10:35.056" endtime="20230629 21:10:35.062"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:34.311" endtime="20230629 21:10:35.063"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:35.067" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:35.686" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:35.687" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:10:35.066" endtime="20230629 21:10:35.687"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:35.688" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:10:35 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:10:35.687" endtime="20230629 21:10:35.688"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:35.688" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:35.688" endtime="20230629 21:10:35.689"/>
</kw>
<msg timestamp="20230629 21:10:35.689" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:10:35.065" endtime="20230629 21:10:35.689"/>
</kw>
<msg timestamp="20230629 21:10:35.689" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:10:35.065" endtime="20230629 21:10:35.690"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:35.690" endtime="20230629 21:10:35.690"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:35.693" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:35.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:35.697" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:10:35.691" endtime="20230629 21:10:35.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:35.698" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:10:35.697" endtime="20230629 21:10:35.698"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:35.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:35.698" endtime="20230629 21:10:35.698"/>
</kw>
<msg timestamp="20230629 21:10:35.699" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:10:35.690" endtime="20230629 21:10:35.699"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:35.699" endtime="20230629 21:10:35.699"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:35.702" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:35.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:35.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:10:35.700" endtime="20230629 21:10:35.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:35.706" level="INFO"/>
<status status="PASS" starttime="20230629 21:10:35.705" endtime="20230629 21:10:35.706"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:35.707" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:35.706" endtime="20230629 21:10:35.707"/>
</kw>
<status status="PASS" starttime="20230629 21:10:35.699" endtime="20230629 21:10:35.707"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:35.064" endtime="20230629 21:10:35.707"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230629 21:10:27.794" endtime="20230629 21:10:35.710"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:10:39.478" endtime="20230629 21:10:39.479"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:10:39.479" endtime="20230629 21:10:39.479"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:10:39.484" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:10:47.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:10:47.094" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230629 21:10:39.481" endtime="20230629 21:10:47.094"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:10:47.095" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230629 21:10:47.094" endtime="20230629 21:10:47.096"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:10:47.096" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:10:47.096" endtime="20230629 21:10:47.097"/>
</kw>
<status status="PASS" starttime="20230629 21:10:39.480" endtime="20230629 21:10:47.097"/>
</kw>
<msg timestamp="20230629 21:10:47.097" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:10:39.480" endtime="20230629 21:10:47.098"/>
</kw>
<msg timestamp="20230629 21:10:47.098" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230629 21:10:39.480" endtime="20230629 21:10:47.099"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:10:47.099" endtime="20230629 21:10:47.100"/>
</kw>
<status status="PASS" starttime="20230629 21:10:47.099" endtime="20230629 21:10:47.100"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:10:39.478" endtime="20230629 21:10:47.100"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230629 21:10:39.433" endtime="20230629 21:10:47.101"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:09:49.339" endtime="20230629 21:09:49.340"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:09:49.346" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:09:49.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:09:49.348" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=7e4109ce0dc7
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230629 21:09:49.341" endtime="20230629 21:09:49.348"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:09:49.349" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=7e4109ce0dc7
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230629 21:09:49.348" endtime="20230629 21:09:49.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:09:49.350" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:09:49.349" endtime="20230629 21:09:49.350"/>
</kw>
<status status="PASS" starttime="20230629 21:09:49.341" endtime="20230629 21:09:49.350"/>
</kw>
<msg timestamp="20230629 21:09:49.350" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:09:49.340" endtime="20230629 21:09:49.351"/>
</kw>
<msg timestamp="20230629 21:09:49.352" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=7e4109ce0dc7
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230629 21:09:49.340" endtime="20230629 21:09:49.352"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:09:49.352" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=7e4109ce0dc7
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230629 21:09:49.352" endtime="20230629 21:09:49.352"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:09:49.352" endtime="20230629 21:09:49.353"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:09:49.356" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:09:51.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:09:51.980" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:09:49.354" endtime="20230629 21:09:51.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:09:51.981" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:09:51.980" endtime="20230629 21:09:51.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:09:51.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:09:51.981" endtime="20230629 21:09:51.982"/>
</kw>
<status status="PASS" starttime="20230629 21:09:49.353" endtime="20230629 21:09:51.982"/>
</kw>
<msg timestamp="20230629 21:09:51.982" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:09:49.353" endtime="20230629 21:09:51.983"/>
</kw>
<msg timestamp="20230629 21:09:51.983" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:09:49.353" endtime="20230629 21:09:51.983"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:09:51.984" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230629 21:09:51.983" endtime="20230629 21:09:51.984"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230629 21:09:51.984" endtime="20230629 21:09:51.984"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230629 21:09:49.338" endtime="20230629 21:09:51.984"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:09:51.987" endtime="20230629 21:09:51.987"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:09:51.987" endtime="20230629 21:09:51.988"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:09:51.992" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:09:54.612" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:09:54.612" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:09:51.989" endtime="20230629 21:09:54.612"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:09:54.613" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:09:54.612" endtime="20230629 21:09:54.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:09:54.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:09:54.613" endtime="20230629 21:09:54.614"/>
</kw>
<status status="PASS" starttime="20230629 21:09:51.989" endtime="20230629 21:09:54.614"/>
</kw>
<msg timestamp="20230629 21:09:54.614" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:09:51.988" endtime="20230629 21:09:54.614"/>
</kw>
<msg timestamp="20230629 21:09:54.615" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:09:51.988" endtime="20230629 21:09:54.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:09:54.615" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230629 21:09:54.615" endtime="20230629 21:09:54.615"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230629 21:09:54.615" endtime="20230629 21:09:54.616"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230629 21:09:51.986" endtime="20230629 21:09:54.616"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230629 21:09:49.286" endtime="20230629 21:09:54.617"/>
</suite>
<suite id="s1-s12" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s12-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:21.673" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:13:21.676" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:21.676" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:21.666" endtime="20230629 21:13:21.676"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:21.677" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:21.676" endtime="20230629 21:13:21.677"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:21.678" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:21.678" endtime="20230629 21:13:21.679"/>
</kw>
<status status="PASS" starttime="20230629 21:13:21.665" endtime="20230629 21:13:21.679"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:21.692" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:29.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:29.817" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:21.689" endtime="20230629 21:13:29.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:29.821" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:29.817" endtime="20230629 21:13:29.821"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:29.822" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:29.821" endtime="20230629 21:13:29.822"/>
</kw>
<status status="PASS" starttime="20230629 21:13:21.688" endtime="20230629 21:13:29.822"/>
</kw>
<msg timestamp="20230629 21:13:29.822" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:21.688" endtime="20230629 21:13:29.822"/>
</kw>
<msg timestamp="20230629 21:13:29.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:21.680" endtime="20230629 21:13:29.823"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:29.823" endtime="20230629 21:13:29.824"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:29.828" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:29.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:29.833" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:29.825" endtime="20230629 21:13:29.833"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:29.834" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:29.833" endtime="20230629 21:13:29.834"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:29.835" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:29.834" endtime="20230629 21:13:29.835"/>
</kw>
<status status="PASS" starttime="20230629 21:13:29.824" endtime="20230629 21:13:29.835"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:21.661" endtime="20230629 21:13:29.836"/>
</test>
<test id="s1-s12-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:29.842" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:13:29.844" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:29.844" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:29.839" endtime="20230629 21:13:29.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:29.845" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:29.845" endtime="20230629 21:13:29.845"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:29.847" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:29.846" endtime="20230629 21:13:29.847"/>
</kw>
<status status="PASS" starttime="20230629 21:13:29.839" endtime="20230629 21:13:29.847"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:29.852" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:36.600" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:36.600" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:29.849" endtime="20230629 21:13:36.600"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:36.602" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:36.601" endtime="20230629 21:13:36.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:36.602" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:36.602" endtime="20230629 21:13:36.602"/>
</kw>
<status status="PASS" starttime="20230629 21:13:29.848" endtime="20230629 21:13:36.603"/>
</kw>
<msg timestamp="20230629 21:13:36.603" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:29.848" endtime="20230629 21:13:36.603"/>
</kw>
<msg timestamp="20230629 21:13:36.603" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:29.847" endtime="20230629 21:13:36.603"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:36.603" endtime="20230629 21:13:36.604"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:36.608" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:36.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:36.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:36.605" endtime="20230629 21:13:36.611"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:36.613" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:36.612" endtime="20230629 21:13:36.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:36.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:36.613" endtime="20230629 21:13:36.614"/>
</kw>
<status status="PASS" starttime="20230629 21:13:36.604" endtime="20230629 21:13:36.614"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:29.837" endtime="20230629 21:13:36.614"/>
</test>
<test id="s1-s12-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:36.638" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:37.244" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:37.244" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:36.619" endtime="20230629 21:13:37.244"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:37.245" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:37.244" endtime="20230629 21:13:37.246"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:37.247" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:37.246" endtime="20230629 21:13:37.247"/>
</kw>
<status status="PASS" starttime="20230629 21:13:36.619" endtime="20230629 21:13:37.248"/>
</kw>
<msg timestamp="20230629 21:13:37.248" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:36.618" endtime="20230629 21:13:37.248"/>
</kw>
<status status="PASS" starttime="20230629 21:13:36.618" endtime="20230629 21:13:37.248"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:37.253" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:37.817" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:37.817" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:37.250" endtime="20230629 21:13:37.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:37.818" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:37.818" endtime="20230629 21:13:37.819"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:37.819" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:37.819" endtime="20230629 21:13:37.819"/>
</kw>
<status status="PASS" starttime="20230629 21:13:37.249" endtime="20230629 21:13:37.819"/>
</kw>
<msg timestamp="20230629 21:13:37.820" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:37.249" endtime="20230629 21:13:37.820"/>
</kw>
<status status="PASS" starttime="20230629 21:13:37.248" endtime="20230629 21:13:37.820"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:37.824" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:38.334" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:38.334" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:37.821" endtime="20230629 21:13:38.334"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:38.336" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:38.335" endtime="20230629 21:13:38.336"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:38.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:38.336" endtime="20230629 21:13:38.337"/>
</kw>
<status status="PASS" starttime="20230629 21:13:37.821" endtime="20230629 21:13:38.337"/>
</kw>
<msg timestamp="20230629 21:13:38.337" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:37.821" endtime="20230629 21:13:38.337"/>
</kw>
<status status="PASS" starttime="20230629 21:13:37.820" endtime="20230629 21:13:38.337"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:38.341" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:39.014" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:39.014" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:38.339" endtime="20230629 21:13:39.014"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:39.016" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:39.015" endtime="20230629 21:13:39.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:39.017" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:39.017" endtime="20230629 21:13:39.017"/>
</kw>
<status status="PASS" starttime="20230629 21:13:38.338" endtime="20230629 21:13:39.018"/>
</kw>
<msg timestamp="20230629 21:13:39.018" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:38.338" endtime="20230629 21:13:39.018"/>
</kw>
<status status="PASS" starttime="20230629 21:13:38.337" endtime="20230629 21:13:39.018"/>
</kw>
<status status="PASS" starttime="20230629 21:13:36.617" endtime="20230629 21:13:39.018"/>
</kw>
<status status="PASS" starttime="20230629 21:13:36.617" endtime="20230629 21:13:39.018"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:36.616" endtime="20230629 21:13:39.019"/>
</test>
<test id="s1-s12-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:39.026" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:39.837" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:39.837" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:13:39.023" endtime="20230629 21:13:39.837"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:39.839" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:13:39.838" endtime="20230629 21:13:39.839"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:39.840" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:39.840" endtime="20230629 21:13:39.840"/>
</kw>
<status status="PASS" starttime="20230629 21:13:39.023" endtime="20230629 21:13:39.841"/>
</kw>
<msg timestamp="20230629 21:13:39.841" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:39.022" endtime="20230629 21:13:39.841"/>
</kw>
<msg timestamp="20230629 21:13:39.841" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:13:39.022" endtime="20230629 21:13:39.841"/>
</kw>
<msg timestamp="20230629 21:13:39.842" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:13:39.021" endtime="20230629 21:13:39.842"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:39.842" endtime="20230629 21:13:39.843"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:39.844" endtime="20230629 21:13:39.844"/>
</kw>
<msg timestamp="20230629 21:13:39.844" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230629 21:13:39.021" endtime="20230629 21:13:39.844"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230629 21:13:39.845" endtime="20230629 21:13:39.845"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:39.020" endtime="20230629 21:13:39.845"/>
</test>
<test id="s1-s12-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:39.851" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:13:39.853" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:39.853" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:39.848" endtime="20230629 21:13:39.854"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:39.855" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:39.854" endtime="20230629 21:13:39.855"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:39.856" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:39.855" endtime="20230629 21:13:39.856"/>
</kw>
<status status="PASS" starttime="20230629 21:13:39.847" endtime="20230629 21:13:39.856"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:39.860" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:41.257" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:41.257" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:39.858" endtime="20230629 21:13:41.257"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:41.259" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:41.258" endtime="20230629 21:13:41.259"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:41.261" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:41.259" endtime="20230629 21:13:41.261"/>
</kw>
<msg timestamp="20230629 21:13:41.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:39.857" endtime="20230629 21:13:41.263"/>
</kw>
<msg timestamp="20230629 21:13:41.263" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:39.856" endtime="20230629 21:13:41.263"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:41.263" endtime="20230629 21:13:41.267"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:41.279" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:41.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:41.287" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:41.271" endtime="20230629 21:13:41.288"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:41.292" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:41.288" endtime="20230629 21:13:41.294"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:41.295" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:41.294" endtime="20230629 21:13:41.295"/>
</kw>
<status status="PASS" starttime="20230629 21:13:41.268" endtime="20230629 21:13:41.296"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:39.846" endtime="20230629 21:13:41.297"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230629 21:13:21.579" endtime="20230629 21:13:41.301"/>
</suite>
<suite id="s1-s13" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s13-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:45.479" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:49.859" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:49.859" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:45.474" endtime="20230629 21:13:49.859"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:49.861" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:49.859" endtime="20230629 21:13:49.861"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:49.861" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:49.861" endtime="20230629 21:13:49.862"/>
</kw>
<status status="PASS" starttime="20230629 21:13:45.473" endtime="20230629 21:13:49.862"/>
</kw>
<msg timestamp="20230629 21:13:49.862" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:45.472" endtime="20230629 21:13:49.862"/>
</kw>
<msg timestamp="20230629 21:13:49.862" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:45.471" endtime="20230629 21:13:49.862"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:49.863" endtime="20230629 21:13:49.863"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:49.868" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:53.716" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:53.716" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:49.865" endtime="20230629 21:13:53.716"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:53.718" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:53.717" endtime="20230629 21:13:53.718"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:53.719" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:53.718" endtime="20230629 21:13:53.719"/>
</kw>
<status status="PASS" starttime="20230629 21:13:49.864" endtime="20230629 21:13:53.719"/>
</kw>
<msg timestamp="20230629 21:13:53.719" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:49.864" endtime="20230629 21:13:53.719"/>
</kw>
<msg timestamp="20230629 21:13:53.719" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:49.863" endtime="20230629 21:13:53.720"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:53.720" endtime="20230629 21:13:53.720"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:45.470" endtime="20230629 21:13:53.720"/>
</test>
<test id="s1-s13-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:53.726" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:13:53.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:53.729" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:53.723" endtime="20230629 21:13:53.729"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:53.731" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:53.730" endtime="20230629 21:13:53.732"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:53.732" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:53.732" endtime="20230629 21:13:53.733"/>
</kw>
<status status="PASS" starttime="20230629 21:13:53.722" endtime="20230629 21:13:53.734"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:53.738" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:59.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:59.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:53.735" endtime="20230629 21:13:59.826"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:59.828" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:59.827" endtime="20230629 21:13:59.828"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:59.829" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:59.828" endtime="20230629 21:13:59.829"/>
</kw>
<status status="PASS" starttime="20230629 21:13:53.735" endtime="20230629 21:13:59.829"/>
</kw>
<msg timestamp="20230629 21:13:59.830" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:53.734" endtime="20230629 21:13:59.830"/>
</kw>
<msg timestamp="20230629 21:13:59.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:53.734" endtime="20230629 21:13:59.830"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:59.830" endtime="20230629 21:13:59.831"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:59.835" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:59.838" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:59.838" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:59.832" endtime="20230629 21:13:59.838"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:59.839" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:59.838" endtime="20230629 21:13:59.839"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:59.840" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:59.840" endtime="20230629 21:13:59.840"/>
</kw>
<status status="PASS" starttime="20230629 21:13:59.831" endtime="20230629 21:13:59.841"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:53.722" endtime="20230629 21:13:59.841"/>
</test>
<test id="s1-s13-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:59.847" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:03.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:03.876" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:59.845" endtime="20230629 21:14:03.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:03.878" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:03.877" endtime="20230629 21:14:03.878"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:03.879" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:03.878" endtime="20230629 21:14:03.879"/>
</kw>
<status status="PASS" starttime="20230629 21:13:59.844" endtime="20230629 21:14:03.879"/>
</kw>
<msg timestamp="20230629 21:14:03.879" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:59.844" endtime="20230629 21:14:03.879"/>
</kw>
<msg timestamp="20230629 21:14:03.880" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:59.843" endtime="20230629 21:14:03.880"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:03.880" endtime="20230629 21:14:03.880"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:59.842" endtime="20230629 21:14:03.881"/>
</test>
<test id="s1-s13-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:03.886" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:14:03.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:03.889" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:03.883" endtime="20230629 21:14:03.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:03.891" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:03.891" endtime="20230629 21:14:03.891"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:03.892" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:03.892" endtime="20230629 21:14:03.892"/>
</kw>
<status status="PASS" starttime="20230629 21:14:03.883" endtime="20230629 21:14:03.893"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:03.899" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:09.878" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:09.878" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:03.896" endtime="20230629 21:14:09.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:09.879" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:09.878" endtime="20230629 21:14:09.879"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:09.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:09.879" endtime="20230629 21:14:09.880"/>
</kw>
<status status="PASS" starttime="20230629 21:14:03.894" endtime="20230629 21:14:09.880"/>
</kw>
<msg timestamp="20230629 21:14:09.880" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:03.894" endtime="20230629 21:14:09.880"/>
</kw>
<msg timestamp="20230629 21:14:09.881" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:03.893" endtime="20230629 21:14:09.881"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:09.881" endtime="20230629 21:14:09.881"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:09.885" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:09.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:09.888" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:09.882" endtime="20230629 21:14:09.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:09.890" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:09.889" endtime="20230629 21:14:09.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:09.890" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:09.890" endtime="20230629 21:14:09.891"/>
</kw>
<status status="PASS" starttime="20230629 21:14:09.881" endtime="20230629 21:14:09.891"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:03.882" endtime="20230629 21:14:09.891"/>
</test>
<test id="s1-s13-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:09.898" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:10.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:10.457" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:09.895" endtime="20230629 21:14:10.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:10.459" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:10.458" endtime="20230629 21:14:10.459"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:10.460" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:10.459" endtime="20230629 21:14:10.460"/>
</kw>
<status status="PASS" starttime="20230629 21:14:09.895" endtime="20230629 21:14:10.460"/>
</kw>
<msg timestamp="20230629 21:14:10.460" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:09.895" endtime="20230629 21:14:10.461"/>
</kw>
<status status="PASS" starttime="20230629 21:14:09.894" endtime="20230629 21:14:10.461"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:10.466" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:11.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:11.039" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:10.463" endtime="20230629 21:14:11.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:11.040" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:11.039" endtime="20230629 21:14:11.040"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:11.041" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:11.040" endtime="20230629 21:14:11.041"/>
</kw>
<status status="PASS" starttime="20230629 21:14:10.462" endtime="20230629 21:14:11.041"/>
</kw>
<msg timestamp="20230629 21:14:11.041" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:10.462" endtime="20230629 21:14:11.042"/>
</kw>
<status status="PASS" starttime="20230629 21:14:10.461" endtime="20230629 21:14:11.042"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:11.046" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:11.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:11.570" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:11.043" endtime="20230629 21:14:11.570"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:11.572" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:11.571" endtime="20230629 21:14:11.573"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:11.574" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:11.573" endtime="20230629 21:14:11.574"/>
</kw>
<status status="PASS" starttime="20230629 21:14:11.043" endtime="20230629 21:14:11.574"/>
</kw>
<msg timestamp="20230629 21:14:11.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:11.042" endtime="20230629 21:14:11.575"/>
</kw>
<status status="PASS" starttime="20230629 21:14:11.042" endtime="20230629 21:14:11.575"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:11.580" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:12.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:12.187" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:11.577" endtime="20230629 21:14:12.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:12.188" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:12.188" endtime="20230629 21:14:12.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:12.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:12.189" endtime="20230629 21:14:12.189"/>
</kw>
<status status="PASS" starttime="20230629 21:14:11.576" endtime="20230629 21:14:12.189"/>
</kw>
<msg timestamp="20230629 21:14:12.190" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:11.576" endtime="20230629 21:14:12.190"/>
</kw>
<status status="PASS" starttime="20230629 21:14:11.575" endtime="20230629 21:14:12.190"/>
</kw>
<status status="PASS" starttime="20230629 21:14:09.894" endtime="20230629 21:14:12.190"/>
</kw>
<status status="PASS" starttime="20230629 21:14:09.893" endtime="20230629 21:14:12.190"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:09.892" endtime="20230629 21:14:12.190"/>
</test>
<test id="s1-s13-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:12.197" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:13.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:13.135" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:14:12.195" endtime="20230629 21:14:13.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:13.137" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:14:13.136" endtime="20230629 21:14:13.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:13.138" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:13.137" endtime="20230629 21:14:13.138"/>
</kw>
<status status="PASS" starttime="20230629 21:14:12.194" endtime="20230629 21:14:13.138"/>
</kw>
<msg timestamp="20230629 21:14:13.138" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:12.194" endtime="20230629 21:14:13.139"/>
</kw>
<msg timestamp="20230629 21:14:13.139" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:14:12.194" endtime="20230629 21:14:13.139"/>
</kw>
<msg timestamp="20230629 21:14:13.139" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230629 21:14:12.193" endtime="20230629 21:14:13.139"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:13.139" endtime="20230629 21:14:13.140"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:13.140" endtime="20230629 21:14:13.141"/>
</kw>
<msg timestamp="20230629 21:14:13.141" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230629 21:14:12.192" endtime="20230629 21:14:13.141"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230629 21:14:13.141" endtime="20230629 21:14:13.142"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:12.192" endtime="20230629 21:14:13.142"/>
</test>
<test id="s1-s13-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:13.148" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230629 21:14:13.150" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:13.150" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:13.145" endtime="20230629 21:14:13.150"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:13.151" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:13.151" endtime="20230629 21:14:13.151"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:13.152" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:13.152" endtime="20230629 21:14:13.152"/>
</kw>
<status status="PASS" starttime="20230629 21:14:13.144" endtime="20230629 21:14:13.153"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:13.157" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:14.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:14.057" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:13.154" endtime="20230629 21:14:14.057"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:14.058" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:14.057" endtime="20230629 21:14:14.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:14.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:14.059" endtime="20230629 21:14:14.059"/>
</kw>
<msg timestamp="20230629 21:14:14.060" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:13.154" endtime="20230629 21:14:14.060"/>
</kw>
<msg timestamp="20230629 21:14:14.060" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:13.153" endtime="20230629 21:14:14.060"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:14.060" endtime="20230629 21:14:14.061"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:14.064" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:14.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:14.068" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:14.061" endtime="20230629 21:14:14.068"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:14.069" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:14.068" endtime="20230629 21:14:14.069"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:14.070" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:14.069" endtime="20230629 21:14:14.070"/>
</kw>
<status status="PASS" starttime="20230629 21:14:14.061" endtime="20230629 21:14:14.070"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:13.143" endtime="20230629 21:14:14.071"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230629 21:13:45.378" endtime="20230629 21:14:14.073"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230629 21:14:18.127" level="INFO">${random} = 06692</msg>
<status status="PASS" starttime="20230629 21:14:18.127" endtime="20230629 21:14:18.127"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:18.133" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-06692 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:24.108" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:24.109" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:18.128" endtime="20230629 21:14:24.109"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:24.110" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:24.109" endtime="20230629 21:14:24.110"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:24.111" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:24.111" endtime="20230629 21:14:24.111"/>
</kw>
<status status="PASS" starttime="20230629 21:14:18.128" endtime="20230629 21:14:24.112"/>
</kw>
<msg timestamp="20230629 21:14:24.112" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:18.128" endtime="20230629 21:14:24.112"/>
</kw>
<msg timestamp="20230629 21:14:24.113" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:18.127" endtime="20230629 21:14:24.113"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:24.113" endtime="20230629 21:14:24.114"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:24.123" level="INFO">Running command 'cat /tmp/key-06692 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:24.127" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:24.127" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:14:24.115" endtime="20230629 21:14:24.127"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:24.128" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:14:24.128" endtime="20230629 21:14:24.129"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:24.129" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:24.129" endtime="20230629 21:14:24.129"/>
</kw>
<msg timestamp="20230629 21:14:24.130" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:14:24.114" endtime="20230629 21:14:24.130"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:24.130" endtime="20230629 21:14:24.131"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:24.134" level="INFO">Running command 'rm /tmp/key-06692 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:24.137" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:24.137" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:24.132" endtime="20230629 21:14:24.137"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:24.138" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:24.138" endtime="20230629 21:14:24.138"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:24.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:24.139" endtime="20230629 21:14:24.139"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.131" endtime="20230629 21:14:24.140"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:18.126" endtime="20230629 21:14:24.140"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:24.147" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:24.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:24.684" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:24.145" endtime="20230629 21:14:24.684"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:24.686" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:24.685" endtime="20230629 21:14:24.686"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:24.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:24.686" endtime="20230629 21:14:24.687"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.144" endtime="20230629 21:14:24.688"/>
</kw>
<msg timestamp="20230629 21:14:24.688" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:24.144" endtime="20230629 21:14:24.688"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.143" endtime="20230629 21:14:24.688"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:24.693" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:25.208" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:25.208" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:24.690" endtime="20230629 21:14:25.208"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:25.210" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:25.209" endtime="20230629 21:14:25.210"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:25.210" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:25.210" endtime="20230629 21:14:25.210"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.690" endtime="20230629 21:14:25.211"/>
</kw>
<msg timestamp="20230629 21:14:25.211" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:24.689" endtime="20230629 21:14:25.211"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.689" endtime="20230629 21:14:25.211"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:25.215" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:25.727" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:25.727" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:25.212" endtime="20230629 21:14:25.727"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:25.728" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:25.727" endtime="20230629 21:14:25.728"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:25.729" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:25.728" endtime="20230629 21:14:25.729"/>
</kw>
<status status="PASS" starttime="20230629 21:14:25.212" endtime="20230629 21:14:25.729"/>
</kw>
<msg timestamp="20230629 21:14:25.729" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:25.212" endtime="20230629 21:14:25.729"/>
</kw>
<status status="PASS" starttime="20230629 21:14:25.211" endtime="20230629 21:14:25.729"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:25.734" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:26.334" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:26.334" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:25.731" endtime="20230629 21:14:26.334"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:26.336" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:26.335" endtime="20230629 21:14:26.336"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:26.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:26.336" endtime="20230629 21:14:26.337"/>
</kw>
<status status="PASS" starttime="20230629 21:14:25.731" endtime="20230629 21:14:26.337"/>
</kw>
<msg timestamp="20230629 21:14:26.338" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:25.730" endtime="20230629 21:14:26.338"/>
</kw>
<status status="PASS" starttime="20230629 21:14:25.730" endtime="20230629 21:14:26.338"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.142" endtime="20230629 21:14:26.338"/>
</kw>
<status status="PASS" starttime="20230629 21:14:24.142" endtime="20230629 21:14:26.338"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:24.141" endtime="20230629 21:14:26.338"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:26.345" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:27.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:27.136" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:14:26.343" endtime="20230629 21:14:27.136"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:27.138" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:14:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:14:27.137" endtime="20230629 21:14:27.138"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:27.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:27.138" endtime="20230629 21:14:27.139"/>
</kw>
<msg timestamp="20230629 21:14:27.139" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:14:26.342" endtime="20230629 21:14:27.140"/>
</kw>
<msg timestamp="20230629 21:14:27.140" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:09 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:14:26.341" endtime="20230629 21:14:27.140"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:27.140" endtime="20230629 21:14:27.141"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:27.144" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:27.147" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:27.147" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:14:27.141" endtime="20230629 21:14:27.147"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:27.148" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:14:27.148" endtime="20230629 21:14:27.148"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:27.149" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:27.149" endtime="20230629 21:14:27.149"/>
</kw>
<msg timestamp="20230629 21:14:27.150" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:14:27.141" endtime="20230629 21:14:27.150"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:27.150" endtime="20230629 21:14:27.150"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:27.153" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:27.156" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:27.156" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:27.151" endtime="20230629 21:14:27.156"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:27.157" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:27.157" endtime="20230629 21:14:27.157"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:27.158" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:27.158" endtime="20230629 21:14:27.158"/>
</kw>
<status status="PASS" starttime="20230629 21:14:27.150" endtime="20230629 21:14:27.158"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:26.340" endtime="20230629 21:14:27.159"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:27.164" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:27.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:27.876" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:14:27.162" endtime="20230629 21:14:27.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:27.877" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:14:27 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:14:27.877" endtime="20230629 21:14:27.877"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:27.878" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:27.878" endtime="20230629 21:14:27.878"/>
</kw>
<msg timestamp="20230629 21:14:27.878" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:14:27.161" endtime="20230629 21:14:27.878"/>
</kw>
<msg timestamp="20230629 21:14:27.879" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:14:13 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:14:27.161" endtime="20230629 21:14:27.879"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:27.879" endtime="20230629 21:14:27.881"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:27.886" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:27.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:27.889" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:14:27.883" endtime="20230629 21:14:27.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:27.890" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:14:27.889" endtime="20230629 21:14:27.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:27.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:27.890" endtime="20230629 21:14:27.891"/>
</kw>
<msg timestamp="20230629 21:14:27.891" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:14:27.881" endtime="20230629 21:14:27.891"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:27.891" endtime="20230629 21:14:27.892"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:27.895" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:27.898" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:27.898" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:27.893" endtime="20230629 21:14:27.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:27.899" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:27.898" endtime="20230629 21:14:27.899"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:27.900" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:27.899" endtime="20230629 21:14:27.900"/>
</kw>
<status status="PASS" starttime="20230629 21:14:27.892" endtime="20230629 21:14:27.900"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:27.160" endtime="20230629 21:14:27.900"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230629 21:14:18.051" endtime="20230629 21:14:27.902"/>
</suite>
<suite id="s1-s15" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s15-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:14:32.056" endtime="20230629 21:14:32.058"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:32.067" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:36.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:36.291" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:32.062" endtime="20230629 21:14:36.292"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:36.293" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:36.292" endtime="20230629 21:14:36.293"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:36.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:36.294" endtime="20230629 21:14:36.294"/>
</kw>
<status status="PASS" starttime="20230629 21:14:32.061" endtime="20230629 21:14:36.295"/>
</kw>
<msg timestamp="20230629 21:14:36.295" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:32.061" endtime="20230629 21:14:36.295"/>
</kw>
<msg timestamp="20230629 21:14:36.295" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:32.060" endtime="20230629 21:14:36.295"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:36.296" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:36.295" endtime="20230629 21:14:36.296"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230629 21:14:36.296" endtime="20230629 21:14:36.296"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230629 21:14:32.055" endtime="20230629 21:14:36.297"/>
</test>
<test id="s1-s15-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:14:36.307" endtime="20230629 21:14:36.307"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:36.322" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:40.447" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:40.447" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:36.314" endtime="20230629 21:14:40.447"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:40.449" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:40.448" endtime="20230629 21:14:40.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:40.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:40.449" endtime="20230629 21:14:40.450"/>
</kw>
<status status="PASS" starttime="20230629 21:14:36.314" endtime="20230629 21:14:40.450"/>
</kw>
<msg timestamp="20230629 21:14:40.450" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:14:36.313" endtime="20230629 21:14:40.450"/>
</kw>
<msg timestamp="20230629 21:14:40.450" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:36.312" endtime="20230629 21:14:40.450"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:40.451" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230629 21:14:40.450" endtime="20230629 21:14:40.451"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230629 21:14:40.451" endtime="20230629 21:14:40.451"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230629 21:14:36.305" endtime="20230629 21:14:40.452"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230629 21:14:31.987" endtime="20230629 21:14:40.453"/>
</suite>
<suite id="s1-s16" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s16-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="28">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:44.645" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:48.493" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:48.493" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:44.641" endtime="20230629 21:14:48.493"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:48.494" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:48.493" endtime="20230629 21:14:48.494"/>
</kw>
<msg timestamp="20230629 21:14:48.495" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:44.640" endtime="20230629 21:14:48.495"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:48.495" endtime="20230629 21:14:48.495"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:48.499" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:52.305" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:14:52.305" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:48.496" endtime="20230629 21:14:52.305"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:52.306" level="INFO"/>
<status status="PASS" starttime="20230629 21:14:52.306" endtime="20230629 21:14:52.307"/>
</kw>
<msg timestamp="20230629 21:14:52.307" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:14:48.496" endtime="20230629 21:14:52.307"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:52.307" endtime="20230629 21:14:52.308"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:52.311" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:55.893" level="INFO">${rc} = 255</msg>
<msg timestamp="20230629 21:14:55.893" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230629 21:14:52.309" endtime="20230629 21:14:55.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:55.895" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230629 21:14:55.894" endtime="20230629 21:14:55.895"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:55.895" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:55.895" endtime="20230629 21:14:55.896"/>
</kw>
<msg timestamp="20230629 21:14:55.896" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230629 21:14:52.308" endtime="20230629 21:14:55.896"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:55.896" endtime="20230629 21:14:55.897"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:44.639" endtime="20230629 21:14:55.897"/>
</test>
<test id="s1-s16-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="36">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:55.903" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:14:59.585" level="INFO">${rc} = 255</msg>
<msg timestamp="20230629 21:14:59.585" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230629 21:14:55.900" endtime="20230629 21:14:59.585"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:14:59.587" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230629 21:14:59.586" endtime="20230629 21:14:59.587"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:14:59.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:14:59.587" endtime="20230629 21:14:59.588"/>
</kw>
<msg timestamp="20230629 21:14:59.588" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230629 21:14:55.899" endtime="20230629 21:14:59.588"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:14:59.588" endtime="20230629 21:14:59.589"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:55.898" endtime="20230629 21:14:59.589"/>
</test>
<test id="s1-s16-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="40">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:14:59.595" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:15:03.130" level="INFO">${rc} = 255</msg>
<msg timestamp="20230629 21:15:03.130" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230629 21:14:59.592" endtime="20230629 21:15:03.130"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:15:03.132" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230629 21:15:03.131" endtime="20230629 21:15:03.132"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:15:03.133" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:15:03.132" endtime="20230629 21:15:03.133"/>
</kw>
<msg timestamp="20230629 21:15:03.133" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230629 21:14:59.592" endtime="20230629 21:15:03.134"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:15:03.134" endtime="20230629 21:15:03.134"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:14:59.591" endtime="20230629 21:15:03.134"/>
</test>
<test id="s1-s16-t4" name="Attempt to delete when snapshot feature is disabled" line="44">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:15:03.141" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:15:07.095" level="INFO">${rc} = 255</msg>
<msg timestamp="20230629 21:15:07.095" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230629 21:15:03.138" endtime="20230629 21:15:07.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:15:07.097" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230629 21:15:07.096" endtime="20230629 21:15:07.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:15:07.097" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:15:07.097" endtime="20230629 21:15:07.098"/>
</kw>
<msg timestamp="20230629 21:15:07.098" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230629 21:15:03.137" endtime="20230629 21:15:07.098"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:15:07.098" endtime="20230629 21:15:07.099"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:15:03.136" endtime="20230629 21:15:07.099"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230629 21:14:44.594" endtime="20230629 21:15:07.100"/>
</suite>
<suite id="s1-s17" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s17-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230629 21:15:11.067" endtime="20230629 21:15:11.067"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230629 21:15:11.068" endtime="20230629 21:15:11.068"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:15:11.073" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:15:19.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:15:19.858" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230629 21:15:11.069" endtime="20230629 21:15:19.858"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:15:19.859" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230629 21:15:19.858" endtime="20230629 21:15:19.859"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:15:19.860" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:15:19.859" endtime="20230629 21:15:19.860"/>
</kw>
<status status="PASS" starttime="20230629 21:15:11.069" endtime="20230629 21:15:19.860"/>
</kw>
<msg timestamp="20230629 21:15:19.860" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:15:11.068" endtime="20230629 21:15:19.861"/>
</kw>
<msg timestamp="20230629 21:15:19.861" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230629 21:15:11.068" endtime="20230629 21:15:19.861"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:15:19.862" endtime="20230629 21:15:19.862"/>
</kw>
<status status="PASS" starttime="20230629 21:15:19.861" endtime="20230629 21:15:19.862"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:15:11.066" endtime="20230629 21:15:19.862"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230629 21:15:11.019" endtime="20230629 21:15:19.864"/>
</suite>
<suite id="s1-s18" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s18-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230629 21:13:01.584" level="INFO">${random} = 80029</msg>
<status status="PASS" starttime="20230629 21:13:01.583" endtime="20230629 21:13:01.584"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:01.590" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-80029 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:08.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:08.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:01.586" endtime="20230629 21:13:08.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:08.936" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:08.935" endtime="20230629 21:13:08.936"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:08.937" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:08.936" endtime="20230629 21:13:08.937"/>
</kw>
<status status="PASS" starttime="20230629 21:13:01.585" endtime="20230629 21:13:08.937"/>
</kw>
<msg timestamp="20230629 21:13:08.937" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:01.584" endtime="20230629 21:13:08.938"/>
</kw>
<msg timestamp="20230629 21:13:08.938" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:01.584" endtime="20230629 21:13:08.938"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:08.938" endtime="20230629 21:13:08.938"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:08.942" level="INFO">Running command 'cat /tmp/key-80029 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:08.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:08.946" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:13:08.939" endtime="20230629 21:13:08.946"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:08.947" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:13:08.946" endtime="20230629 21:13:08.947"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:08.948" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:08.947" endtime="20230629 21:13:08.948"/>
</kw>
<msg timestamp="20230629 21:13:08.948" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:13:08.939" endtime="20230629 21:13:08.948"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:08.949" endtime="20230629 21:13:08.949"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:08.952" level="INFO">Running command 'rm /tmp/key-80029 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:08.955" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:08.955" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:08.950" endtime="20230629 21:13:08.955"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:08.957" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:08.956" endtime="20230629 21:13:08.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:08.957" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:08.957" endtime="20230629 21:13:08.958"/>
</kw>
<status status="PASS" starttime="20230629 21:13:08.949" endtime="20230629 21:13:08.958"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:01.582" endtime="20230629 21:13:08.958"/>
</test>
<test id="s1-s18-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:08.964" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:09.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:09.980" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:08.962" endtime="20230629 21:13:09.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:09.981" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:09.981" endtime="20230629 21:13:09.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:09.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:09.982" endtime="20230629 21:13:09.982"/>
</kw>
<status status="PASS" starttime="20230629 21:13:08.962" endtime="20230629 21:13:09.983"/>
</kw>
<msg timestamp="20230629 21:13:09.983" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:08.961" endtime="20230629 21:13:09.983"/>
</kw>
<status status="PASS" starttime="20230629 21:13:08.961" endtime="20230629 21:13:09.983"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:09.987" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:10.705" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:10.705" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:09.985" endtime="20230629 21:13:10.705"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:10.707" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:10.706" endtime="20230629 21:13:10.707"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:10.708" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:10.707" endtime="20230629 21:13:10.712"/>
</kw>
<status status="PASS" starttime="20230629 21:13:09.985" endtime="20230629 21:13:10.712"/>
</kw>
<msg timestamp="20230629 21:13:10.712" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:09.984" endtime="20230629 21:13:10.713"/>
</kw>
<status status="PASS" starttime="20230629 21:13:09.983" endtime="20230629 21:13:10.713"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:10.718" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:11.226" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:11.226" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:10.715" endtime="20230629 21:13:11.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:11.227" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:11.227" endtime="20230629 21:13:11.227"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:11.228" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:11.228" endtime="20230629 21:13:11.228"/>
</kw>
<status status="PASS" starttime="20230629 21:13:10.715" endtime="20230629 21:13:11.228"/>
</kw>
<msg timestamp="20230629 21:13:11.228" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:10.714" endtime="20230629 21:13:11.228"/>
</kw>
<status status="PASS" starttime="20230629 21:13:10.713" endtime="20230629 21:13:11.229"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:11.235" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:11.765" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:11.765" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:11.230" endtime="20230629 21:13:11.765"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:11.766" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:11.765" endtime="20230629 21:13:11.766"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:11.767" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:11.766" endtime="20230629 21:13:11.767"/>
</kw>
<status status="PASS" starttime="20230629 21:13:11.230" endtime="20230629 21:13:11.767"/>
</kw>
<msg timestamp="20230629 21:13:11.767" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230629 21:13:11.229" endtime="20230629 21:13:11.767"/>
</kw>
<status status="PASS" starttime="20230629 21:13:11.229" endtime="20230629 21:13:11.767"/>
</kw>
<status status="PASS" starttime="20230629 21:13:08.960" endtime="20230629 21:13:11.768"/>
</kw>
<status status="PASS" starttime="20230629 21:13:08.960" endtime="20230629 21:13:11.768"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:08.959" endtime="20230629 21:13:11.768"/>
</test>
<test id="s1-s18-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:11.773" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:16.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:16.587" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:13:11.771" endtime="20230629 21:13:16.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:16.589" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:13:12 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:13:16.588" endtime="20230629 21:13:16.589"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:16.590" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:16.589" endtime="20230629 21:13:16.590"/>
</kw>
<msg timestamp="20230629 21:13:16.590" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:13:11.770" endtime="20230629 21:13:16.590"/>
</kw>
<msg timestamp="20230629 21:13:16.590" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:17 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:13:11.769" endtime="20230629 21:13:16.590"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:16.590" endtime="20230629 21:13:16.591"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:16.594" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:16.603" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:16.603" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:13:16.592" endtime="20230629 21:13:16.603"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:16.605" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:13:16.604" endtime="20230629 21:13:16.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:16.608" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:16.605" endtime="20230629 21:13:16.608"/>
</kw>
<msg timestamp="20230629 21:13:16.608" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230629 21:13:16.591" endtime="20230629 21:13:16.608"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:16.608" endtime="20230629 21:13:16.615"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:16.617" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:16.620" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:16.620" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:16.615" endtime="20230629 21:13:16.620"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:16.622" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:16.621" endtime="20230629 21:13:16.622"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:16.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:16.622" endtime="20230629 21:13:16.623"/>
</kw>
<status status="PASS" starttime="20230629 21:13:16.615" endtime="20230629 21:13:16.623"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:11.769" endtime="20230629 21:13:16.623"/>
</test>
<test id="s1-s18-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:16.630" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:17.462" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:17.462" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:13:16.627" endtime="20230629 21:13:17.462"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:17.464" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Thu, 29 Jun 2023 21:13:17 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230629 21:13:17.463" endtime="20230629 21:13:17.464"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:17.465" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:17.464" endtime="20230629 21:13:17.465"/>
</kw>
<msg timestamp="20230629 21:13:17.465" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:13:16.626" endtime="20230629 21:13:17.465"/>
</kw>
<msg timestamp="20230629 21:13:17.465" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Thu, 29 Jun 2023 21:10:23 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230629 21:13:16.626" endtime="20230629 21:13:17.466"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:17.466" endtime="20230629 21:13:17.466"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:17.470" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:17.473" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:17.473" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:13:17.467" endtime="20230629 21:13:17.473"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:17.475" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:13:17.474" endtime="20230629 21:13:17.475"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:17.475" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:17.475" endtime="20230629 21:13:17.475"/>
</kw>
<msg timestamp="20230629 21:13:17.476" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230629 21:13:17.467" endtime="20230629 21:13:17.476"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230629 21:13:17.476" endtime="20230629 21:13:17.477"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230629 21:13:17.480" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230629 21:13:17.487" level="INFO">${rc} = 0</msg>
<msg timestamp="20230629 21:13:17.487" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230629 21:13:17.477" endtime="20230629 21:13:17.487"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230629 21:13:17.489" level="INFO"/>
<status status="PASS" starttime="20230629 21:13:17.488" endtime="20230629 21:13:17.489"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230629 21:13:17.490" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230629 21:13:17.489" endtime="20230629 21:13:17.490"/>
</kw>
<status status="PASS" starttime="20230629 21:13:17.477" endtime="20230629 21:13:17.490"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230629 21:13:16.625" endtime="20230629 21:13:17.490"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230629 21:13:01.487" endtime="20230629 21:13:17.492"/>
</suite>
<status status="FAIL" starttime="N/A" endtime="N/A" elapsedtime="526682"/>
</suite>
<statistics>
<total>
<stat pass="67" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="6" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="4" fail="0" skip="0">finalized</stat>
<stat pass="3" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="3" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="67" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="0" fail="1" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="5" fail="0" skip="0" id="s1-s12" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s13" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s15" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s16" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s17" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s18" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
