<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1 (Python 3.8.10 on linux)" generated="20230612 10:25:35.532" rpa="false" schemaversion="4">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s1-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:16:27.243" level="INFO">${random} = 83789</msg>
<status status="PASS" starttime="20230612 10:16:27.242" endtime="20230612 10:16:27.243"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:27.249" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-83789 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:31.944" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:31.945" level="INFO">${output} = 2023-06-12 10:16:30,621 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:16:30,739 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:16:27.245" endtime="20230612 10:16:31.945"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:31.946" level="INFO">2023-06-12 10:16:30,621 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:16:30,739 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:16:30,739 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230612 10:16:31.945" endtime="20230612 10:16:31.946"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:31.946" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:31.946" endtime="20230612 10:16:31.946"/>
</kw>
<status status="PASS" starttime="20230612 10:16:27.245" endtime="20230612 10:16:31.947"/>
</kw>
<msg timestamp="20230612 10:16:31.947" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:27.244" endtime="20230612 10:16:31.948"/>
</kw>
<msg timestamp="20230612 10:16:31.948" level="INFO">${output} = 2023-06-12 10:16:30,621 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:16:30,739 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:16:27.243" endtime="20230612 10:16:31.948"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:31.949" endtime="20230612 10:16:31.949"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:31.952" level="INFO">Running command 'cat /tmp/key-83789 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:31.954" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:31.954" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:31.950" endtime="20230612 10:16:31.954"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:31.955" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:31.955" endtime="20230612 10:16:31.955"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:31.956" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:31.956" endtime="20230612 10:16:31.956"/>
</kw>
<msg timestamp="20230612 10:16:31.956" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:31.949" endtime="20230612 10:16:31.956"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:31.957" endtime="20230612 10:16:31.957"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:31.960" level="INFO">Running command 'rm /tmp/key-83789 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:31.963" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:31.963" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:31.958" endtime="20230612 10:16:31.963"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:31.964" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:31.963" endtime="20230612 10:16:31.964"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:31.964" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:31.964" endtime="20230612 10:16:31.964"/>
</kw>
<status status="PASS" starttime="20230612 10:16:31.957" endtime="20230612 10:16:31.965"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:27.241" endtime="20230612 10:16:31.965"/>
</test>
<test id="s1-s1-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:31.971" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:32.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:32.671" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:31.968" endtime="20230612 10:16:32.671"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:32.672" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:32.671" endtime="20230612 10:16:32.672"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:32.673" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:32.672" endtime="20230612 10:16:32.673"/>
</kw>
<status status="PASS" starttime="20230612 10:16:31.968" endtime="20230612 10:16:32.673"/>
</kw>
<msg timestamp="20230612 10:16:32.673" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:31.968" endtime="20230612 10:16:32.674"/>
</kw>
<status status="PASS" starttime="20230612 10:16:31.967" endtime="20230612 10:16:32.674"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:32.679" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:33.304" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:33.305" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:32.676" endtime="20230612 10:16:33.305"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:33.306" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:33.305" endtime="20230612 10:16:33.306"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:33.307" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:33.306" endtime="20230612 10:16:33.307"/>
</kw>
<status status="PASS" starttime="20230612 10:16:32.675" endtime="20230612 10:16:33.308"/>
</kw>
<msg timestamp="20230612 10:16:33.308" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:32.675" endtime="20230612 10:16:33.309"/>
</kw>
<status status="PASS" starttime="20230612 10:16:32.674" endtime="20230612 10:16:33.309"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:33.313" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:33.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:33.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:33.310" endtime="20230612 10:16:33.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:33.832" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:33.831" endtime="20230612 10:16:33.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:33.832" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:33.832" endtime="20230612 10:16:33.832"/>
</kw>
<status status="PASS" starttime="20230612 10:16:33.310" endtime="20230612 10:16:33.833"/>
</kw>
<msg timestamp="20230612 10:16:33.833" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:33.310" endtime="20230612 10:16:33.833"/>
</kw>
<status status="PASS" starttime="20230612 10:16:33.309" endtime="20230612 10:16:33.834"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:33.838" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:34.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:34.372" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:33.835" endtime="20230612 10:16:34.372"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:34.373" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:34.373" endtime="20230612 10:16:34.373"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:34.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:34.373" endtime="20230612 10:16:34.374"/>
</kw>
<status status="PASS" starttime="20230612 10:16:33.835" endtime="20230612 10:16:34.374"/>
</kw>
<msg timestamp="20230612 10:16:34.374" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:33.834" endtime="20230612 10:16:34.375"/>
</kw>
<status status="PASS" starttime="20230612 10:16:33.834" endtime="20230612 10:16:34.375"/>
</kw>
<status status="PASS" starttime="20230612 10:16:31.967" endtime="20230612 10:16:34.375"/>
</kw>
<status status="PASS" starttime="20230612 10:16:31.967" endtime="20230612 10:16:34.375"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:31.966" endtime="20230612 10:16:34.375"/>
</test>
<test id="s1-s1-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:34.385" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:37.373" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:37.373" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:34.379" endtime="20230612 10:16:37.373"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:37.375" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:16:35 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:16:37.374" endtime="20230612 10:16:37.375"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:37.375" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:37.375" endtime="20230612 10:16:37.376"/>
</kw>
<msg timestamp="20230612 10:16:37.377" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:34.378" endtime="20230612 10:16:37.377"/>
</kw>
<msg timestamp="20230612 10:16:37.377" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:34 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:34.378" endtime="20230612 10:16:37.377"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:37.377" endtime="20230612 10:16:37.378"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:37.381" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:37.384" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:37.384" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:37.379" endtime="20230612 10:16:37.384"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:37.385" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:37.385" endtime="20230612 10:16:37.386"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:37.386" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:37.386" endtime="20230612 10:16:37.386"/>
</kw>
<msg timestamp="20230612 10:16:37.387" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:37.378" endtime="20230612 10:16:37.387"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:37.387" endtime="20230612 10:16:37.387"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:37.390" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:37.399" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:37.399" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:37.388" endtime="20230612 10:16:37.399"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:37.401" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:37.400" endtime="20230612 10:16:37.401"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:37.401" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:37.401" endtime="20230612 10:16:37.401"/>
</kw>
<status status="PASS" starttime="20230612 10:16:37.388" endtime="20230612 10:16:37.402"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:34.377" endtime="20230612 10:16:37.402"/>
</test>
<test id="s1-s1-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:37.409" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:38.130" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:38.130" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:37.407" endtime="20230612 10:16:38.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:38.132" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:16:37 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:16:38.131" endtime="20230612 10:16:38.132"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:38.133" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:38.132" endtime="20230612 10:16:38.133"/>
</kw>
<msg timestamp="20230612 10:16:38.133" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:37.406" endtime="20230612 10:16:38.133"/>
</kw>
<msg timestamp="20230612 10:16:38.134" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:12:39 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:37.405" endtime="20230612 10:16:38.134"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:38.134" endtime="20230612 10:16:38.134"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:38.137" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:38.140" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:38.140" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:16:38.135" endtime="20230612 10:16:38.140"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:38.141" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:16:38.141" endtime="20230612 10:16:38.141"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:38.142" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:38.142" endtime="20230612 10:16:38.142"/>
</kw>
<msg timestamp="20230612 10:16:38.142" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:16:38.134" endtime="20230612 10:16:38.142"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:38.143" endtime="20230612 10:16:38.143"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:38.147" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:38.149" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:38.149" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:38.144" endtime="20230612 10:16:38.149"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:38.150" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:38.149" endtime="20230612 10:16:38.150"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:38.150" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:38.150" endtime="20230612 10:16:38.150"/>
</kw>
<status status="PASS" starttime="20230612 10:16:38.143" endtime="20230612 10:16:38.151"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:37.404" endtime="20230612 10:16:38.151"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:16:27.165" endtime="20230612 10:16:38.153"/>
</suite>
<suite id="s1-s2" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s2-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:16:42.172" level="INFO">${random} = 09567</msg>
<status status="PASS" starttime="20230612 10:16:42.171" endtime="20230612 10:16:42.172"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:42.178" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-09567 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:46.805" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:46.805" level="INFO">${output} = 2023-06-12 10:16:45,471 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:16:45,554 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:16:42.174" endtime="20230612 10:16:46.805"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:46.806" level="INFO">2023-06-12 10:16:45,471 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:16:45,554 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:16:45,554 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230612 10:16:46.805" endtime="20230612 10:16:46.806"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:46.807" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:46.806" endtime="20230612 10:16:46.807"/>
</kw>
<status status="PASS" starttime="20230612 10:16:42.174" endtime="20230612 10:16:46.807"/>
</kw>
<msg timestamp="20230612 10:16:46.807" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:42.173" endtime="20230612 10:16:46.808"/>
</kw>
<msg timestamp="20230612 10:16:46.809" level="INFO">${output} = 2023-06-12 10:16:45,471 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:16:45,554 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:16:42.172" endtime="20230612 10:16:46.809"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:46.809" endtime="20230612 10:16:46.809"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:46.812" level="INFO">Running command 'cat /tmp/key-09567 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:46.815" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:46.815" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:46.810" endtime="20230612 10:16:46.815"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:46.816" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:46.815" endtime="20230612 10:16:46.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:46.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:46.816" endtime="20230612 10:16:46.817"/>
</kw>
<msg timestamp="20230612 10:16:46.817" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:46.809" endtime="20230612 10:16:46.817"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:46.818" endtime="20230612 10:16:46.818"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:46.821" level="INFO">Running command 'rm /tmp/key-09567 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:46.823" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:46.823" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:46.819" endtime="20230612 10:16:46.823"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:46.824" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:46.824" endtime="20230612 10:16:46.824"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:46.825" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:46.824" endtime="20230612 10:16:46.825"/>
</kw>
<status status="PASS" starttime="20230612 10:16:46.818" endtime="20230612 10:16:46.825"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:42.170" endtime="20230612 10:16:46.826"/>
</test>
<test id="s1-s2-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:46.833" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:47.364" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:47.364" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:46.831" endtime="20230612 10:16:47.364"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:47.366" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:47.365" endtime="20230612 10:16:47.366"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:47.366" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:47.366" endtime="20230612 10:16:47.366"/>
</kw>
<status status="PASS" starttime="20230612 10:16:46.830" endtime="20230612 10:16:47.367"/>
</kw>
<msg timestamp="20230612 10:16:47.367" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:46.829" endtime="20230612 10:16:47.367"/>
</kw>
<status status="PASS" starttime="20230612 10:16:46.829" endtime="20230612 10:16:47.367"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:47.371" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:47.851" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:47.851" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:47.369" endtime="20230612 10:16:47.851"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:47.853" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:47.852" endtime="20230612 10:16:47.853"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:47.853" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:47.853" endtime="20230612 10:16:47.853"/>
</kw>
<status status="PASS" starttime="20230612 10:16:47.368" endtime="20230612 10:16:47.854"/>
</kw>
<msg timestamp="20230612 10:16:47.854" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:47.368" endtime="20230612 10:16:47.854"/>
</kw>
<status status="PASS" starttime="20230612 10:16:47.367" endtime="20230612 10:16:47.854"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:47.858" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:48.344" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:48.344" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:47.856" endtime="20230612 10:16:48.344"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:48.346" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:48.345" endtime="20230612 10:16:48.346"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:48.346" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:48.346" endtime="20230612 10:16:48.346"/>
</kw>
<status status="PASS" starttime="20230612 10:16:47.855" endtime="20230612 10:16:48.347"/>
</kw>
<msg timestamp="20230612 10:16:48.347" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:47.855" endtime="20230612 10:16:48.347"/>
</kw>
<status status="PASS" starttime="20230612 10:16:47.854" endtime="20230612 10:16:48.347"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:48.352" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:48.850" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:48.850" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:48.349" endtime="20230612 10:16:48.850"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:48.851" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:48.851" endtime="20230612 10:16:48.852"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:48.852" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:48.852" endtime="20230612 10:16:48.852"/>
</kw>
<status status="PASS" starttime="20230612 10:16:48.348" endtime="20230612 10:16:48.852"/>
</kw>
<msg timestamp="20230612 10:16:48.852" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:48.348" endtime="20230612 10:16:48.853"/>
</kw>
<status status="PASS" starttime="20230612 10:16:48.348" endtime="20230612 10:16:48.853"/>
</kw>
<status status="PASS" starttime="20230612 10:16:46.828" endtime="20230612 10:16:48.853"/>
</kw>
<status status="PASS" starttime="20230612 10:16:46.828" endtime="20230612 10:16:48.853"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:46.827" endtime="20230612 10:16:48.854"/>
</test>
<test id="s1-s2-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:48.859" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:49.495" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:49.495" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:48.857" endtime="20230612 10:16:49.495"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:49.496" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:16:49 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:16:49.496" endtime="20230612 10:16:49.497"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:49.497" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:49.497" endtime="20230612 10:16:49.497"/>
</kw>
<msg timestamp="20230612 10:16:49.498" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:48.856" endtime="20230612 10:16:49.498"/>
</kw>
<msg timestamp="20230612 10:16:49.498" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:48.856" endtime="20230612 10:16:49.498"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:49.498" endtime="20230612 10:16:49.498"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:49.501" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:49.504" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:49.504" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:49.499" endtime="20230612 10:16:49.504"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:49.505" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:49.505" endtime="20230612 10:16:49.506"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:49.506" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:49.506" endtime="20230612 10:16:49.506"/>
</kw>
<msg timestamp="20230612 10:16:49.507" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:16:49.499" endtime="20230612 10:16:49.507"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:49.507" endtime="20230612 10:16:49.507"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:49.511" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:49.514" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:49.514" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:49.508" endtime="20230612 10:16:49.514"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:49.515" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:49.514" endtime="20230612 10:16:49.515"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:49.515" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:49.515" endtime="20230612 10:16:49.515"/>
</kw>
<status status="PASS" starttime="20230612 10:16:49.507" endtime="20230612 10:16:49.516"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:48.855" endtime="20230612 10:16:49.516"/>
</test>
<test id="s1-s2-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:49.522" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:50.142" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:50.142" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:49.519" endtime="20230612 10:16:50.142"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:50.143" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:16:50 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:16:50.143" endtime="20230612 10:16:50.143"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:50.144" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:50.144" endtime="20230612 10:16:50.144"/>
</kw>
<msg timestamp="20230612 10:16:50.144" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:49.518" endtime="20230612 10:16:50.144"/>
</kw>
<msg timestamp="20230612 10:16:50.145" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:16:49.518" endtime="20230612 10:16:50.145"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:50.145" endtime="20230612 10:16:50.145"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:50.148" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:50.163" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:50.163" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:16:50.146" endtime="20230612 10:16:50.163"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:50.164" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:16:50.164" endtime="20230612 10:16:50.164"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:50.165" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:50.165" endtime="20230612 10:16:50.165"/>
</kw>
<msg timestamp="20230612 10:16:50.165" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:16:50.146" endtime="20230612 10:16:50.165"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:50.166" endtime="20230612 10:16:50.176"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:50.183" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:50.185" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:50.185" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:50.177" endtime="20230612 10:16:50.185"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:50.187" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:50.186" endtime="20230612 10:16:50.187"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:50.187" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:50.187" endtime="20230612 10:16:50.187"/>
</kw>
<status status="PASS" starttime="20230612 10:16:50.176" endtime="20230612 10:16:50.188"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:49.517" endtime="20230612 10:16:50.188"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:16:42.095" endtime="20230612 10:16:50.189"/>
</suite>
<suite id="s1-s3" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s3-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:54.177" level="INFO">Running command 'ozone sh volume create old2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:57.159" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:57.159" level="INFO">${output} = 2023-06-12 10:16:56,971 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230612 10:16:54.172" endtime="20230612 10:16:57.159"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:57.160" level="INFO">2023-06-12 10:16:56,971 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230612 10:16:57.160" endtime="20230612 10:16:57.160"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:57.164" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:57.160" endtime="20230612 10:16:57.164"/>
</kw>
<status status="PASS" starttime="20230612 10:16:54.171" endtime="20230612 10:16:57.164"/>
</kw>
<msg timestamp="20230612 10:16:57.164" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:54.171" endtime="20230612 10:16:57.165"/>
</kw>
<msg timestamp="20230612 10:16:57.166" level="INFO">${output} = 2023-06-12 10:16:56,971 [main] INFO rpc.RpcClient: Creating Volume: old2-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230612 10:16:54.171" endtime="20230612 10:16:57.166"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:57.166" endtime="20230612 10:16:57.166"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:57.176" level="INFO">Running command 'ozone sh bucket create /old2-volume/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:59.847" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:59.847" level="INFO">${output} = 2023-06-12 10:16:59,779 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230612 10:16:57.170" endtime="20230612 10:16:59.847"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:59.848" level="INFO">2023-06-12 10:16:59,779 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230612 10:16:59.847" endtime="20230612 10:16:59.848"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:59.849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:59.848" endtime="20230612 10:16:59.849"/>
</kw>
<status status="PASS" starttime="20230612 10:16:57.170" endtime="20230612 10:16:59.849"/>
</kw>
<msg timestamp="20230612 10:16:59.849" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:57.169" endtime="20230612 10:16:59.849"/>
</kw>
<msg timestamp="20230612 10:16:59.850" level="INFO">${output} = 2023-06-12 10:16:59,779 [main] INFO rpc.RpcClient: Creating Bucket: old2-volume/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230612 10:16:57.167" endtime="20230612 10:16:59.850"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:16:59.850" endtime="20230612 10:16:59.850"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:54.170" endtime="20230612 10:16:59.850"/>
</test>
<test id="s1-s3-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:59.866" level="INFO">Running command 'echo "old2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:16:59.868" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:59.868" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:16:59.863" endtime="20230612 10:16:59.868"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:59.869" level="INFO"/>
<status status="PASS" starttime="20230612 10:16:59.868" endtime="20230612 10:16:59.869"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:59.870" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:59.869" endtime="20230612 10:16:59.870"/>
</kw>
<status status="PASS" starttime="20230612 10:16:59.862" endtime="20230612 10:16:59.870"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:59.877" level="INFO">Running command 'ozone sh key put /old2-volume/old2-bucket/old2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:05.575" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:05.575" level="INFO">${output} = 2023-06-12 10:17:03,455 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:03,551 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:16:59.872" endtime="20230612 10:17:05.575"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:05.576" level="INFO">2023-06-12 10:17:03,455 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:03,551 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:17:03,551 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-12 10:17:03,866 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230612 10:17:05.576" endtime="20230612 10:17:05.577"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:05.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:05.577" endtime="20230612 10:17:05.577"/>
</kw>
<status status="PASS" starttime="20230612 10:16:59.871" endtime="20230612 10:17:05.578"/>
</kw>
<msg timestamp="20230612 10:17:05.578" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:59.871" endtime="20230612 10:17:05.578"/>
</kw>
<msg timestamp="20230612 10:17:05.578" level="INFO">${output} = 2023-06-12 10:17:03,455 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:03,551 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:16:59.870" endtime="20230612 10:17:05.578"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:05.579" endtime="20230612 10:17:05.579"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:05.582" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:05.585" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:05.585" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:05.580" endtime="20230612 10:17:05.585"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:05.586" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:05.586" endtime="20230612 10:17:05.587"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:05.587" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:05.587" endtime="20230612 10:17:05.587"/>
</kw>
<status status="PASS" starttime="20230612 10:17:05.579" endtime="20230612 10:17:05.588"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:16:59.861" endtime="20230612 10:17:05.588"/>
</test>
<test id="s1-s3-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:05.595" level="INFO">Running command 'ozone sh bucket create /s3v/old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:08.295" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:08.295" level="INFO">${output} = 2023-06-12 10:17:08,225 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230612 10:17:05.592" endtime="20230612 10:17:08.295"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:08.296" level="INFO">2023-06-12 10:17:08,225 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230612 10:17:08.296" endtime="20230612 10:17:08.296"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:08.297" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:08.296" endtime="20230612 10:17:08.297"/>
</kw>
<status status="PASS" starttime="20230612 10:17:05.592" endtime="20230612 10:17:08.298"/>
</kw>
<msg timestamp="20230612 10:17:08.298" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:05.591" endtime="20230612 10:17:08.298"/>
</kw>
<msg timestamp="20230612 10:17:08.298" level="INFO">${output} = 2023-06-12 10:17:08,225 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old2-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230612 10:17:05.591" endtime="20230612 10:17:08.299"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:08.299" endtime="20230612 10:17:08.299"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:05.590" endtime="20230612 10:17:08.299"/>
</test>
<test id="s1-s3-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:08.304" level="INFO">Running command 'echo "old2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:17:08.306" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:08.306" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:08.302" endtime="20230612 10:17:08.306"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:08.307" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:08.306" endtime="20230612 10:17:08.307"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:08.308" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:08.307" endtime="20230612 10:17:08.308"/>
</kw>
<status status="PASS" starttime="20230612 10:17:08.301" endtime="20230612 10:17:08.308"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:08.312" level="INFO">Running command 'ozone sh key put /s3v/old2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:13.278" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:13.278" level="INFO">${output} = 2023-06-12 10:17:11,587 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:11,745 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:08.310" endtime="20230612 10:17:13.278"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:13.280" level="INFO">2023-06-12 10:17:11,587 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:11,745 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:17:11,745 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-12 10:17:12,043 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230612 10:17:13.279" endtime="20230612 10:17:13.280"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:13.280" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:13.280" endtime="20230612 10:17:13.280"/>
</kw>
<status status="PASS" starttime="20230612 10:17:08.309" endtime="20230612 10:17:13.281"/>
</kw>
<msg timestamp="20230612 10:17:13.281" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:08.309" endtime="20230612 10:17:13.281"/>
</kw>
<msg timestamp="20230612 10:17:13.281" level="INFO">${output} = 2023-06-12 10:17:11,587 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:11,745 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:08.308" endtime="20230612 10:17:13.281"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:13.282" endtime="20230612 10:17:13.282"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:13.285" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:13.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:13.288" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:13.283" endtime="20230612 10:17:13.288"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:13.289" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:13.288" endtime="20230612 10:17:13.289"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:13.290" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:13.289" endtime="20230612 10:17:13.290"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.282" endtime="20230612 10:17:13.290"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:08.300" endtime="20230612 10:17:13.290"/>
</test>
<test id="s1-s3-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:13.297" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:13.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:13.811" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:13.294" endtime="20230612 10:17:13.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:13.813" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:13.812" endtime="20230612 10:17:13.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:13.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:13.813" endtime="20230612 10:17:13.814"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.294" endtime="20230612 10:17:13.814"/>
</kw>
<msg timestamp="20230612 10:17:13.814" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:13.293" endtime="20230612 10:17:13.815"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.293" endtime="20230612 10:17:13.815"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:13.819" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:14.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:14.328" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:13.816" endtime="20230612 10:17:14.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:14.329" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:14.328" endtime="20230612 10:17:14.329"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:14.330" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:14.330" endtime="20230612 10:17:14.330"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.816" endtime="20230612 10:17:14.330"/>
</kw>
<msg timestamp="20230612 10:17:14.330" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:13.816" endtime="20230612 10:17:14.331"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.815" endtime="20230612 10:17:14.331"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:14.336" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:14.833" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:14.834" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:14.333" endtime="20230612 10:17:14.834"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:14.835" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:14.834" endtime="20230612 10:17:14.835"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:14.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:14.835" endtime="20230612 10:17:14.836"/>
</kw>
<status status="PASS" starttime="20230612 10:17:14.332" endtime="20230612 10:17:14.836"/>
</kw>
<msg timestamp="20230612 10:17:14.836" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:14.332" endtime="20230612 10:17:14.837"/>
</kw>
<status status="PASS" starttime="20230612 10:17:14.331" endtime="20230612 10:17:14.837"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:14.840" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:15.404" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:15.404" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:14.838" endtime="20230612 10:17:15.404"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:15.405" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:15.404" endtime="20230612 10:17:15.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:15.406" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:15.405" endtime="20230612 10:17:15.406"/>
</kw>
<status status="PASS" starttime="20230612 10:17:14.838" endtime="20230612 10:17:15.406"/>
</kw>
<msg timestamp="20230612 10:17:15.406" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:14.837" endtime="20230612 10:17:15.407"/>
</kw>
<status status="PASS" starttime="20230612 10:17:14.837" endtime="20230612 10:17:15.407"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.293" endtime="20230612 10:17:15.408"/>
</kw>
<status status="PASS" starttime="20230612 10:17:13.292" endtime="20230612 10:17:15.408"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:13.292" endtime="20230612 10:17:15.408"/>
</test>
<test id="s1-s3-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:15.414" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:16.114" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:16.114" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:15.412" endtime="20230612 10:17:16.114"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:16.116" level="INFO">{
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:16.115" endtime="20230612 10:17:16.116"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:16.117" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:16.116" endtime="20230612 10:17:16.117"/>
</kw>
<status status="PASS" starttime="20230612 10:17:15.411" endtime="20230612 10:17:16.117"/>
</kw>
<msg timestamp="20230612 10:17:16.117" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:15.411" endtime="20230612 10:17:16.118"/>
</kw>
<msg timestamp="20230612 10:17:16.118" level="INFO">${output} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:15.410" endtime="20230612 10:17:16.118"/>
</kw>
<msg timestamp="20230612 10:17:16.118" level="INFO">${result} = {
    "Location": "http://s3g:9878/old2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:15.410" endtime="20230612 10:17:16.118"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:16.118" endtime="20230612 10:17:16.119"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:16.119" endtime="20230612 10:17:16.119"/>
</kw>
<msg timestamp="20230612 10:17:16.120" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230612 10:17:15.409" endtime="20230612 10:17:16.120"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230612 10:17:16.120" endtime="20230612 10:17:16.120"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:15.409" endtime="20230612 10:17:16.121"/>
</test>
<test id="s1-s3-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:16.125" level="INFO">Running command 'echo "old2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:17:16.127" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:16.127" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:16.123" endtime="20230612 10:17:16.127"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:16.128" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:16.127" endtime="20230612 10:17:16.128"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:16.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:16.128" endtime="20230612 10:17:16.128"/>
</kw>
<status status="PASS" starttime="20230612 10:17:16.122" endtime="20230612 10:17:16.128"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:16.132" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:17.232" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:17.232" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:16.130" endtime="20230612 10:17:17.232"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:17.234" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:17.233" endtime="20230612 10:17:17.234"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:17.235" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:17.235" endtime="20230612 10:17:17.235"/>
</kw>
<msg timestamp="20230612 10:17:17.236" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:16.129" endtime="20230612 10:17:17.236"/>
</kw>
<msg timestamp="20230612 10:17:17.236" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:16.129" endtime="20230612 10:17:17.236"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:17.236" endtime="20230612 10:17:17.236"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:17.239" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:17.242" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:17.242" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:17.237" endtime="20230612 10:17:17.242"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:17.244" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:17.243" endtime="20230612 10:17:17.244"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:17.245" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:17.244" endtime="20230612 10:17:17.245"/>
</kw>
<status status="PASS" starttime="20230612 10:17:17.237" endtime="20230612 10:17:17.245"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:16.121" endtime="20230612 10:17:17.245"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230612 10:16:54.092" endtime="20230612 10:17:17.247"/>
</suite>
<suite id="s1-s4" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s4-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:17:21.141" level="INFO">${random} = 87877</msg>
<status status="PASS" starttime="20230612 10:17:21.141" endtime="20230612 10:17:21.141"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:21.148" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-87877 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:25.806" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:25.806" level="INFO">${output} = 2023-06-12 10:17:24,358 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:24,481 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:21.143" endtime="20230612 10:17:25.806"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:25.808" level="INFO">2023-06-12 10:17:24,358 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:24,481 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:17:24,481 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230612 10:17:25.807" endtime="20230612 10:17:25.808"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:25.808" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:25.808" endtime="20230612 10:17:25.808"/>
</kw>
<status status="PASS" starttime="20230612 10:17:21.143" endtime="20230612 10:17:25.809"/>
</kw>
<msg timestamp="20230612 10:17:25.809" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:21.142" endtime="20230612 10:17:25.810"/>
</kw>
<msg timestamp="20230612 10:17:25.810" level="INFO">${output} = 2023-06-12 10:17:24,358 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:24,481 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:21.141" endtime="20230612 10:17:25.810"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:25.810" endtime="20230612 10:17:25.811"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:25.814" level="INFO">Running command 'cat /tmp/key-87877 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:25.817" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:25.817" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:17:25.811" endtime="20230612 10:17:25.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:25.818" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:17:25.817" endtime="20230612 10:17:25.818"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:25.819" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:25.818" endtime="20230612 10:17:25.819"/>
</kw>
<msg timestamp="20230612 10:17:25.819" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:17:25.811" endtime="20230612 10:17:25.819"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:25.819" endtime="20230612 10:17:25.820"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:25.823" level="INFO">Running command 'rm /tmp/key-87877 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:25.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:25.826" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:25.820" endtime="20230612 10:17:25.826"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:25.827" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:25.826" endtime="20230612 10:17:25.827"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:25.827" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:25.827" endtime="20230612 10:17:25.828"/>
</kw>
<status status="PASS" starttime="20230612 10:17:25.820" endtime="20230612 10:17:25.828"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:21.140" endtime="20230612 10:17:25.828"/>
</test>
<test id="s1-s4-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:25.834" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:26.341" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:26.341" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:25.832" endtime="20230612 10:17:26.341"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:26.342" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:26.342" endtime="20230612 10:17:26.342"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:26.343" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:26.343" endtime="20230612 10:17:26.343"/>
</kw>
<status status="PASS" starttime="20230612 10:17:25.832" endtime="20230612 10:17:26.343"/>
</kw>
<msg timestamp="20230612 10:17:26.343" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:25.831" endtime="20230612 10:17:26.344"/>
</kw>
<status status="PASS" starttime="20230612 10:17:25.831" endtime="20230612 10:17:26.344"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:26.348" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:26.834" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:26.834" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:26.345" endtime="20230612 10:17:26.834"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:26.836" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:26.835" endtime="20230612 10:17:26.836"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:26.836" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:26.836" endtime="20230612 10:17:26.836"/>
</kw>
<status status="PASS" starttime="20230612 10:17:26.345" endtime="20230612 10:17:26.837"/>
</kw>
<msg timestamp="20230612 10:17:26.837" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:26.345" endtime="20230612 10:17:26.837"/>
</kw>
<status status="PASS" starttime="20230612 10:17:26.344" endtime="20230612 10:17:26.837"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:26.841" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:27.335" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:27.335" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:26.839" endtime="20230612 10:17:27.335"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:27.337" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:27.336" endtime="20230612 10:17:27.337"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:27.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:27.337" endtime="20230612 10:17:27.337"/>
</kw>
<status status="PASS" starttime="20230612 10:17:26.838" endtime="20230612 10:17:27.338"/>
</kw>
<msg timestamp="20230612 10:17:27.338" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:26.838" endtime="20230612 10:17:27.338"/>
</kw>
<status status="PASS" starttime="20230612 10:17:26.838" endtime="20230612 10:17:27.338"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:27.343" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:27.832" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:27.832" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:27.340" endtime="20230612 10:17:27.832"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:27.833" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:27.833" endtime="20230612 10:17:27.834"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:27.834" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:27.834" endtime="20230612 10:17:27.834"/>
</kw>
<status status="PASS" starttime="20230612 10:17:27.339" endtime="20230612 10:17:27.834"/>
</kw>
<msg timestamp="20230612 10:17:27.835" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:27.339" endtime="20230612 10:17:27.835"/>
</kw>
<status status="PASS" starttime="20230612 10:17:27.339" endtime="20230612 10:17:27.835"/>
</kw>
<status status="PASS" starttime="20230612 10:17:25.830" endtime="20230612 10:17:27.835"/>
</kw>
<status status="PASS" starttime="20230612 10:17:25.830" endtime="20230612 10:17:27.835"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:25.829" endtime="20230612 10:17:27.836"/>
</test>
<test id="s1-s4-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:27.841" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:28.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:28.481" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:17:27.839" endtime="20230612 10:17:28.481"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:28.482" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:17:28 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:17:28.481" endtime="20230612 10:17:28.482"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:28.483" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:28.482" endtime="20230612 10:17:28.483"/>
</kw>
<msg timestamp="20230612 10:17:28.483" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:17:27.838" endtime="20230612 10:17:28.483"/>
</kw>
<msg timestamp="20230612 10:17:28.483" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:17:27.838" endtime="20230612 10:17:28.483"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:28.484" endtime="20230612 10:17:28.484"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:28.487" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:28.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:28.489" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:17:28.485" endtime="20230612 10:17:28.489"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:28.491" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:17:28.490" endtime="20230612 10:17:28.491"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:28.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:28.491" endtime="20230612 10:17:28.491"/>
</kw>
<msg timestamp="20230612 10:17:28.491" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:17:28.484" endtime="20230612 10:17:28.492"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:28.492" endtime="20230612 10:17:28.492"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:28.495" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:28.498" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:28.498" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:28.493" endtime="20230612 10:17:28.498"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:28.499" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:28.499" endtime="20230612 10:17:28.499"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:28.500" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:28.499" endtime="20230612 10:17:28.500"/>
</kw>
<status status="PASS" starttime="20230612 10:17:28.492" endtime="20230612 10:17:28.500"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:27.837" endtime="20230612 10:17:28.500"/>
</test>
<test id="s1-s4-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:28.506" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:29.152" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:29.152" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:17:28.503" endtime="20230612 10:17:29.152"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:29.153" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:17:29 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:17:29.152" endtime="20230612 10:17:29.153"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:29.154" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:29.153" endtime="20230612 10:17:29.154"/>
</kw>
<msg timestamp="20230612 10:17:29.155" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:17:28.503" endtime="20230612 10:17:29.155"/>
</kw>
<msg timestamp="20230612 10:17:29.155" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:17:28.502" endtime="20230612 10:17:29.155"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:29.155" endtime="20230612 10:17:29.156"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:29.159" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:29.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:29.161" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:17:29.156" endtime="20230612 10:17:29.161"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:29.162" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:17:29.162" endtime="20230612 10:17:29.162"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:29.163" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:29.162" endtime="20230612 10:17:29.163"/>
</kw>
<msg timestamp="20230612 10:17:29.163" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:17:29.156" endtime="20230612 10:17:29.163"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:29.163" endtime="20230612 10:17:29.164"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:29.167" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:29.169" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:29.169" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:29.164" endtime="20230612 10:17:29.169"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:29.170" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:29.169" endtime="20230612 10:17:29.170"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:29.171" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:29.170" endtime="20230612 10:17:29.171"/>
</kw>
<status status="PASS" starttime="20230612 10:17:29.164" endtime="20230612 10:17:29.171"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:28.501" endtime="20230612 10:17:29.171"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:17:21.061" endtime="20230612 10:17:29.173"/>
</suite>
<suite id="s1-s5" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s5-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:33.185" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:17:33.187" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:33.187" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:33.180" endtime="20230612 10:17:33.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:33.188" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:33.187" endtime="20230612 10:17:33.188"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:33.188" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:33.188" endtime="20230612 10:17:33.188"/>
</kw>
<status status="PASS" starttime="20230612 10:17:33.180" endtime="20230612 10:17:33.189"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:33.193" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:38.214" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:38.214" level="INFO">${output} = 2023-06-12 10:17:36,742 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:36,823 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:33.190" endtime="20230612 10:17:38.214"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:38.216" level="INFO">2023-06-12 10:17:36,742 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:36,823 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:17:36,823 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-12 10:17:37,073 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230612 10:17:38.215" endtime="20230612 10:17:38.216"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:38.217" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:38.216" endtime="20230612 10:17:38.217"/>
</kw>
<status status="PASS" starttime="20230612 10:17:33.190" endtime="20230612 10:17:38.217"/>
</kw>
<msg timestamp="20230612 10:17:38.217" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:33.189" endtime="20230612 10:17:38.218"/>
</kw>
<msg timestamp="20230612 10:17:38.219" level="INFO">${output} = 2023-06-12 10:17:36,742 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:36,823 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:33.189" endtime="20230612 10:17:38.219"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:38.219" endtime="20230612 10:17:38.219"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:38.223" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:38.227" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:38.227" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:38.220" endtime="20230612 10:17:38.227"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:38.228" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:38.227" endtime="20230612 10:17:38.228"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:38.229" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:38.228" endtime="20230612 10:17:38.229"/>
</kw>
<status status="PASS" starttime="20230612 10:17:38.219" endtime="20230612 10:17:38.229"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:33.179" endtime="20230612 10:17:38.230"/>
</test>
<test id="s1-s5-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:38.235" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:17:38.236" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:38.236" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:38.232" endtime="20230612 10:17:38.236"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:38.237" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:38.237" endtime="20230612 10:17:38.237"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:38.238" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:38.238" endtime="20230612 10:17:38.238"/>
</kw>
<status status="PASS" starttime="20230612 10:17:38.232" endtime="20230612 10:17:38.238"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:38.242" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:43.126" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:43.126" level="INFO">${output} = 2023-06-12 10:17:41,550 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:41,664 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:38.240" endtime="20230612 10:17:43.126"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:43.128" level="INFO">2023-06-12 10:17:41,550 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:41,664 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:17:41,664 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-12 10:17:41,934 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230612 10:17:43.127" endtime="20230612 10:17:43.128"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:43.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:43.128" endtime="20230612 10:17:43.128"/>
</kw>
<status status="PASS" starttime="20230612 10:17:38.239" endtime="20230612 10:17:43.129"/>
</kw>
<msg timestamp="20230612 10:17:43.129" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:38.239" endtime="20230612 10:17:43.129"/>
</kw>
<msg timestamp="20230612 10:17:43.130" level="INFO">${output} = 2023-06-12 10:17:41,550 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:17:41,664 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:17:38.238" endtime="20230612 10:17:43.130"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:43.130" endtime="20230612 10:17:43.130"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:43.133" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:43.136" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:43.136" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:43.131" endtime="20230612 10:17:43.136"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:43.137" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:43.136" endtime="20230612 10:17:43.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:43.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:43.137" endtime="20230612 10:17:43.138"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.130" endtime="20230612 10:17:43.138"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:38.231" endtime="20230612 10:17:43.138"/>
</test>
<test id="s1-s5-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:43.144" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:43.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:43.634" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:43.142" endtime="20230612 10:17:43.634"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:43.636" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:43.635" endtime="20230612 10:17:43.636"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:43.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:43.636" endtime="20230612 10:17:43.636"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.141" endtime="20230612 10:17:43.637"/>
</kw>
<msg timestamp="20230612 10:17:43.637" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:43.141" endtime="20230612 10:17:43.637"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.141" endtime="20230612 10:17:43.637"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:43.641" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:44.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:44.125" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:43.639" endtime="20230612 10:17:44.125"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:44.126" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:44.125" endtime="20230612 10:17:44.126"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:44.127" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:44.126" endtime="20230612 10:17:44.127"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.638" endtime="20230612 10:17:44.127"/>
</kw>
<msg timestamp="20230612 10:17:44.127" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:43.638" endtime="20230612 10:17:44.127"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.637" endtime="20230612 10:17:44.128"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:44.131" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:44.620" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:44.620" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:44.129" endtime="20230612 10:17:44.620"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:44.622" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:44.621" endtime="20230612 10:17:44.622"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:44.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:44.622" endtime="20230612 10:17:44.622"/>
</kw>
<status status="PASS" starttime="20230612 10:17:44.129" endtime="20230612 10:17:44.623"/>
</kw>
<msg timestamp="20230612 10:17:44.623" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:44.128" endtime="20230612 10:17:44.623"/>
</kw>
<status status="PASS" starttime="20230612 10:17:44.128" endtime="20230612 10:17:44.623"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:44.627" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:45.112" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:45.112" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:44.625" endtime="20230612 10:17:45.112"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:45.113" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:45.113" endtime="20230612 10:17:45.114"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:45.114" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:45.114" endtime="20230612 10:17:45.114"/>
</kw>
<status status="PASS" starttime="20230612 10:17:44.624" endtime="20230612 10:17:45.115"/>
</kw>
<msg timestamp="20230612 10:17:45.115" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:44.624" endtime="20230612 10:17:45.115"/>
</kw>
<status status="PASS" starttime="20230612 10:17:44.623" endtime="20230612 10:17:45.115"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.140" endtime="20230612 10:17:45.116"/>
</kw>
<status status="PASS" starttime="20230612 10:17:43.140" endtime="20230612 10:17:45.116"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:43.139" endtime="20230612 10:17:45.116"/>
</test>
<test id="s1-s5-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:45.122" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:45.745" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:45.745" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:45.120" endtime="20230612 10:17:45.745"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:45.746" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:45.746" endtime="20230612 10:17:45.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:45.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:45.747" endtime="20230612 10:17:45.747"/>
</kw>
<status status="PASS" starttime="20230612 10:17:45.119" endtime="20230612 10:17:45.747"/>
</kw>
<msg timestamp="20230612 10:17:45.747" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:45.119" endtime="20230612 10:17:45.748"/>
</kw>
<msg timestamp="20230612 10:17:45.748" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:45.118" endtime="20230612 10:17:45.748"/>
</kw>
<msg timestamp="20230612 10:17:45.748" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:17:45.118" endtime="20230612 10:17:45.748"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:45.749" endtime="20230612 10:17:45.749"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:45.749" endtime="20230612 10:17:45.750"/>
</kw>
<msg timestamp="20230612 10:17:45.750" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230612 10:17:45.117" endtime="20230612 10:17:45.750"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230612 10:17:45.750" endtime="20230612 10:17:45.751"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:45.117" endtime="20230612 10:17:45.751"/>
</test>
<test id="s1-s5-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:45.755" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:17:45.757" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:45.757" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:45.753" endtime="20230612 10:17:45.757"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:45.758" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:45.758" endtime="20230612 10:17:45.758"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:45.759" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:45.758" endtime="20230612 10:17:45.759"/>
</kw>
<status status="PASS" starttime="20230612 10:17:45.752" endtime="20230612 10:17:45.759"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:45.763" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:46.609" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:46.609" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:45.761" endtime="20230612 10:17:46.609"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:46.610" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:46.609" endtime="20230612 10:17:46.610"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:46.611" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:46.610" endtime="20230612 10:17:46.611"/>
</kw>
<msg timestamp="20230612 10:17:46.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:45.760" endtime="20230612 10:17:46.611"/>
</kw>
<msg timestamp="20230612 10:17:46.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:45.759" endtime="20230612 10:17:46.611"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:46.612" endtime="20230612 10:17:46.612"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:46.615" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:46.618" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:46.618" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:17:46.613" endtime="20230612 10:17:46.618"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:46.619" level="INFO"/>
<status status="PASS" starttime="20230612 10:17:46.618" endtime="20230612 10:17:46.619"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:46.620" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:46.619" endtime="20230612 10:17:46.620"/>
</kw>
<status status="PASS" starttime="20230612 10:17:46.612" endtime="20230612 10:17:46.620"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:45.751" endtime="20230612 10:17:46.620"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230612 10:17:33.104" endtime="20230612 10:17:46.622"/>
</suite>
<suite id="s1-s6" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s6-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:17:50.552" endtime="20230612 10:17:50.553"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:17:50.553" endtime="20230612 10:17:50.554"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:17:50.558" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:17:58.374" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:17:58.374" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [109].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230612 10:17:50.555" endtime="20230612 10:17:58.374"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:17:58.375" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [109].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [109]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [109]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [109]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230612 10:17:58.374" endtime="20230612 10:17:58.375"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:17:58.376" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:17:58.375" endtime="20230612 10:17:58.376"/>
</kw>
<status status="PASS" starttime="20230612 10:17:50.554" endtime="20230612 10:17:58.376"/>
</kw>
<msg timestamp="20230612 10:17:58.377" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:17:50.554" endtime="20230612 10:17:58.378"/>
</kw>
<msg timestamp="20230612 10:17:58.378" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [109].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], C...</msg>
<status status="PASS" starttime="20230612 10:17:50.554" endtime="20230612 10:17:58.378"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:17:58.379" endtime="20230612 10:17:58.379"/>
</kw>
<status status="PASS" starttime="20230612 10:17:58.378" endtime="20230612 10:17:58.379"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:17:50.551" endtime="20230612 10:17:58.380"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230612 10:17:50.507" endtime="20230612 10:17:58.381"/>
</suite>
<suite id="s1-s7" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s7-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:16:17.984" endtime="20230612 10:16:17.984"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:17.991" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:17.995" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:17.995" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c807fcacba57
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:16:17.986" endtime="20230612 10:16:17.995"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:17.996" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c807fcacba57
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:16:17.995" endtime="20230612 10:16:17.996"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:17.997" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:17.996" endtime="20230612 10:16:17.997"/>
</kw>
<status status="PASS" starttime="20230612 10:16:17.985" endtime="20230612 10:16:17.997"/>
</kw>
<msg timestamp="20230612 10:16:17.997" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:17.985" endtime="20230612 10:16:17.998"/>
</kw>
<msg timestamp="20230612 10:16:17.999" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c807fcacba57
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:16:17.985" endtime="20230612 10:16:17.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:17.999" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c807fcacba57
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:16:17.999" endtime="20230612 10:16:17.999"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:16:17.999" endtime="20230612 10:16:18.000"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:18.003" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:20.787" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:20.787" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:16:18.001" endtime="20230612 10:16:20.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:20.788" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:16:20.787" endtime="20230612 10:16:20.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:20.789" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:20.788" endtime="20230612 10:16:20.789"/>
</kw>
<status status="PASS" starttime="20230612 10:16:18.001" endtime="20230612 10:16:20.789"/>
</kw>
<msg timestamp="20230612 10:16:20.789" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:18.000" endtime="20230612 10:16:20.790"/>
</kw>
<msg timestamp="20230612 10:16:20.790" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:16:18.000" endtime="20230612 10:16:20.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:20.791" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:16:20.790" endtime="20230612 10:16:20.791"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:16:20.791" endtime="20230612 10:16:20.791"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:16:17.983" endtime="20230612 10:16:20.791"/>
</test>
<test id="s1-s7-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:16:20.793" endtime="20230612 10:16:20.793"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:16:20.794" endtime="20230612 10:16:20.794"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:16:20.797" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:16:23.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:16:23.376" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:16:20.795" endtime="20230612 10:16:23.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:23.378" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:16:23.377" endtime="20230612 10:16:23.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:16:23.378" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:16:23.378" endtime="20230612 10:16:23.379"/>
</kw>
<status status="PASS" starttime="20230612 10:16:20.795" endtime="20230612 10:16:23.379"/>
</kw>
<msg timestamp="20230612 10:16:23.379" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:16:20.794" endtime="20230612 10:16:23.379"/>
</kw>
<msg timestamp="20230612 10:16:23.380" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:16:20.794" endtime="20230612 10:16:23.380"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:16:23.380" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:16:23.380" endtime="20230612 10:16:23.380"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:16:23.380" endtime="20230612 10:16:23.381"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:16:20.792" endtime="20230612 10:16:23.381"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230612 10:16:17.930" endtime="20230612 10:16:23.382"/>
</suite>
<suite id="s1-s8" name="Generate" source="/opt/ozone/smoketest/upgrade/generate.robot">
<test id="s1-s8-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:44.266" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:46.994" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:46.994" level="INFO">${output} = 2023-06-12 10:08:46,906 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230612 10:08:44.260" endtime="20230612 10:08:46.994"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:46.995" level="INFO">2023-06-12 10:08:46,906 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230612 10:08:46.994" endtime="20230612 10:08:46.996"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:46.996" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:46.996" endtime="20230612 10:08:46.996"/>
</kw>
<status status="PASS" starttime="20230612 10:08:44.260" endtime="20230612 10:08:46.997"/>
</kw>
<msg timestamp="20230612 10:08:46.997" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:44.260" endtime="20230612 10:08:46.999"/>
</kw>
<msg timestamp="20230612 10:08:46.999" level="INFO">${output} = 2023-06-12 10:08:46,906 [main] INFO rpc.RpcClient: Creating Volume: old1-volume, with hadoop as owner and space quota set to -1 bytes, counts quota set to -1</msg>
<status status="PASS" starttime="20230612 10:08:44.259" endtime="20230612 10:08:46.999"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:08:46.999" endtime="20230612 10:08:47.000"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:47.009" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:49.773" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:49.774" level="INFO">${output} = 2023-06-12 10:08:49,699 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230612 10:08:47.005" endtime="20230612 10:08:49.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:49.775" level="INFO">2023-06-12 10:08:49,699 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230612 10:08:49.774" endtime="20230612 10:08:49.775"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:49.776" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:49.775" endtime="20230612 10:08:49.776"/>
</kw>
<status status="PASS" starttime="20230612 10:08:47.005" endtime="20230612 10:08:49.776"/>
</kw>
<msg timestamp="20230612 10:08:49.776" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:47.001" endtime="20230612 10:08:49.777"/>
</kw>
<msg timestamp="20230612 10:08:49.777" level="INFO">${output} = 2023-06-12 10:08:49,699 [main] INFO rpc.RpcClient: Creating Bucket: old1-volume/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Enc...</msg>
<status status="PASS" starttime="20230612 10:08:47.000" endtime="20230612 10:08:49.777"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:08:49.777" endtime="20230612 10:08:49.778"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:08:44.258" endtime="20230612 10:08:49.778"/>
</test>
<test id="s1-s8-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:49.784" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:08:49.786" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:49.786" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:08:49.781" endtime="20230612 10:08:49.786"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:49.787" level="INFO"/>
<status status="PASS" starttime="20230612 10:08:49.787" endtime="20230612 10:08:49.787"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:49.788" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:49.788" endtime="20230612 10:08:49.788"/>
</kw>
<status status="PASS" starttime="20230612 10:08:49.780" endtime="20230612 10:08:49.788"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:49.793" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:56.005" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:56.005" level="INFO">${output} = 2023-06-12 10:08:53,726 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:08:53,802 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:08:49.790" endtime="20230612 10:08:56.005"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:56.006" level="INFO">2023-06-12 10:08:53,726 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:08:53,802 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:08:53,802 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-12 10:08:54,065 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230612 10:08:56.006" endtime="20230612 10:08:56.006"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:56.007" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:56.007" endtime="20230612 10:08:56.007"/>
</kw>
<status status="PASS" starttime="20230612 10:08:49.790" endtime="20230612 10:08:56.007"/>
</kw>
<msg timestamp="20230612 10:08:56.008" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:49.789" endtime="20230612 10:08:56.008"/>
</kw>
<msg timestamp="20230612 10:08:56.008" level="INFO">${output} = 2023-06-12 10:08:53,726 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:08:53,802 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:08:49.789" endtime="20230612 10:08:56.008"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:08:56.008" endtime="20230612 10:08:56.009"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:56.012" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:56.015" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:56.015" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:08:56.009" endtime="20230612 10:08:56.015"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:56.016" level="INFO"/>
<status status="PASS" starttime="20230612 10:08:56.015" endtime="20230612 10:08:56.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:56.017" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:56.016" endtime="20230612 10:08:56.017"/>
</kw>
<status status="PASS" starttime="20230612 10:08:56.009" endtime="20230612 10:08:56.017"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:08:49.779" endtime="20230612 10:08:56.018"/>
</test>
<test id="s1-s8-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:56.024" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:58.745" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:58.745" level="INFO">${output} = 2023-06-12 10:08:58,688 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230612 10:08:56.021" endtime="20230612 10:08:58.745"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:58.746" level="INFO">2023-06-12 10:08:58,688 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption set to false </msg>
<status status="PASS" starttime="20230612 10:08:58.746" endtime="20230612 10:08:58.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:58.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:58.746" endtime="20230612 10:08:58.747"/>
</kw>
<status status="PASS" starttime="20230612 10:08:56.021" endtime="20230612 10:08:58.747"/>
</kw>
<msg timestamp="20230612 10:08:58.747" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:56.021" endtime="20230612 10:08:58.748"/>
</kw>
<msg timestamp="20230612 10:08:58.748" level="INFO">${output} = 2023-06-12 10:08:58,688 [main] INFO rpc.RpcClient: Creating Bucket: s3v/old1-bucket, with server-side default bucket layout, hadoop as owner, Versioning false, Storage Type set to DISK and Encryption ...</msg>
<status status="PASS" starttime="20230612 10:08:56.020" endtime="20230612 10:08:58.748"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:08:58.748" endtime="20230612 10:08:58.749"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:08:56.019" endtime="20230612 10:08:58.749"/>
</test>
<test id="s1-s8-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:58.755" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:08:58.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:58.756" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:08:58.752" endtime="20230612 10:08:58.756"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:58.757" level="INFO"/>
<status status="PASS" starttime="20230612 10:08:58.757" endtime="20230612 10:08:58.757"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:58.758" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:58.758" endtime="20230612 10:08:58.758"/>
</kw>
<status status="PASS" starttime="20230612 10:08:58.751" endtime="20230612 10:08:58.758"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:58.762" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:04.721" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:04.721" level="INFO">${output} = 2023-06-12 10:09:02,570 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:09:02,709 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:08:58.760" endtime="20230612 10:09:04.721"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:04.722" level="INFO">2023-06-12 10:09:02,570 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:09:02,709 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:09:02,709 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started
2023-06-12 10:09:03,206 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl</msg>
<status status="PASS" starttime="20230612 10:09:04.721" endtime="20230612 10:09:04.722"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:04.723" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:04.723" endtime="20230612 10:09:04.723"/>
</kw>
<status status="PASS" starttime="20230612 10:08:58.759" endtime="20230612 10:09:04.723"/>
</kw>
<msg timestamp="20230612 10:09:04.723" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:58.759" endtime="20230612 10:09:04.724"/>
</kw>
<msg timestamp="20230612 10:09:04.724" level="INFO">${output} = 2023-06-12 10:09:02,570 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:09:02,709 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:08:58.758" endtime="20230612 10:09:04.724"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:04.724" endtime="20230612 10:09:04.725"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:04.728" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:04.730" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:04.730" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:04.725" endtime="20230612 10:09:04.730"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:04.731" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:04.731" endtime="20230612 10:09:04.731"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:04.732" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:04.731" endtime="20230612 10:09:04.732"/>
</kw>
<status status="PASS" starttime="20230612 10:09:04.725" endtime="20230612 10:09:04.732"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:08:58.750" endtime="20230612 10:09:04.733"/>
</test>
<test id="s1-s8-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:04.739" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:05.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:05.480" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:04.737" endtime="20230612 10:09:05.480"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:05.481" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:05.480" endtime="20230612 10:09:05.481"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:05.482" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:05.481" endtime="20230612 10:09:05.482"/>
</kw>
<status status="PASS" starttime="20230612 10:09:04.736" endtime="20230612 10:09:05.482"/>
</kw>
<msg timestamp="20230612 10:09:05.482" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:04.736" endtime="20230612 10:09:05.483"/>
</kw>
<status status="PASS" starttime="20230612 10:09:04.735" endtime="20230612 10:09:05.483"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:05.487" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:05.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:05.979" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:05.484" endtime="20230612 10:09:05.979"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:05.980" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:05.979" endtime="20230612 10:09:05.980"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:05.981" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:05.981" endtime="20230612 10:09:05.981"/>
</kw>
<status status="PASS" starttime="20230612 10:09:05.484" endtime="20230612 10:09:05.982"/>
</kw>
<msg timestamp="20230612 10:09:05.982" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:05.483" endtime="20230612 10:09:05.982"/>
</kw>
<status status="PASS" starttime="20230612 10:09:05.483" endtime="20230612 10:09:05.982"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:05.986" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:06.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:06.471" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:05.984" endtime="20230612 10:09:06.471"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:06.481" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:06.471" endtime="20230612 10:09:06.481"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:06.482" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:06.482" endtime="20230612 10:09:06.482"/>
</kw>
<status status="PASS" starttime="20230612 10:09:05.983" endtime="20230612 10:09:06.483"/>
</kw>
<msg timestamp="20230612 10:09:06.483" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:05.983" endtime="20230612 10:09:06.484"/>
</kw>
<status status="PASS" starttime="20230612 10:09:05.982" endtime="20230612 10:09:06.484"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:06.490" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:06.994" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:06.994" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:06.486" endtime="20230612 10:09:06.994"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:06.995" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:06.995" endtime="20230612 10:09:06.995"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:07.000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:06.996" endtime="20230612 10:09:07.001"/>
</kw>
<status status="PASS" starttime="20230612 10:09:06.485" endtime="20230612 10:09:07.001"/>
</kw>
<msg timestamp="20230612 10:09:07.001" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:06.485" endtime="20230612 10:09:07.001"/>
</kw>
<status status="PASS" starttime="20230612 10:09:06.484" endtime="20230612 10:09:07.002"/>
</kw>
<status status="PASS" starttime="20230612 10:09:04.735" endtime="20230612 10:09:07.002"/>
</kw>
<status status="PASS" starttime="20230612 10:09:04.735" endtime="20230612 10:09:07.002"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:04.734" endtime="20230612 10:09:07.002"/>
</test>
<test id="s1-s8-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:07.010" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:09.288" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:09.288" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:09:07.008" endtime="20230612 10:09:09.288"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:09.289" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:09:09.289" endtime="20230612 10:09:09.290"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:09.290" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:09.290" endtime="20230612 10:09:09.290"/>
</kw>
<status status="PASS" starttime="20230612 10:09:07.007" endtime="20230612 10:09:09.291"/>
</kw>
<msg timestamp="20230612 10:09:09.291" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:07.007" endtime="20230612 10:09:09.291"/>
</kw>
<msg timestamp="20230612 10:09:09.306" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:09:07.007" endtime="20230612 10:09:09.306"/>
</kw>
<msg timestamp="20230612 10:09:09.307" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:09:07.006" endtime="20230612 10:09:09.307"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:09.307" endtime="20230612 10:09:09.308"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:09.308" endtime="20230612 10:09:09.308"/>
</kw>
<msg timestamp="20230612 10:09:09.309" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230612 10:09:07.005" endtime="20230612 10:09:09.309"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230612 10:09:09.309" endtime="20230612 10:09:09.309"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:07.004" endtime="20230612 10:09:09.310"/>
</test>
<test id="s1-s8-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:09.315" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:09:09.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:09.317" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:09.313" endtime="20230612 10:09:09.317"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:09.318" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:09.318" endtime="20230612 10:09:09.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:09.319" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:09.319" endtime="20230612 10:09:09.319"/>
</kw>
<status status="PASS" starttime="20230612 10:09:09.312" endtime="20230612 10:09:09.320"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:09.325" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:11.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:11.010" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:09.322" endtime="20230612 10:09:11.010"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:11.011" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:11.011" endtime="20230612 10:09:11.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:11.012" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:11.012" endtime="20230612 10:09:11.012"/>
</kw>
<msg timestamp="20230612 10:09:11.013" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:09.321" endtime="20230612 10:09:11.013"/>
</kw>
<msg timestamp="20230612 10:09:11.013" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:09.320" endtime="20230612 10:09:11.013"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:11.014" endtime="20230612 10:09:11.014"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:11.017" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:11.020" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:11.020" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:11.015" endtime="20230612 10:09:11.020"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:11.021" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:11.021" endtime="20230612 10:09:11.021"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:11.022" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:11.021" endtime="20230612 10:09:11.022"/>
</kw>
<status status="PASS" starttime="20230612 10:09:11.014" endtime="20230612 10:09:11.022"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:09.311" endtime="20230612 10:09:11.022"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230612 10:08:44.182" endtime="20230612 10:09:11.025"/>
</suite>
<suite id="s1-s9" name="Validate" source="/opt/ozone/smoketest/upgrade/validate.robot">
<test id="s1-s9-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:09:15.060" level="INFO">${random} = 62313</msg>
<status status="PASS" starttime="20230612 10:09:15.059" endtime="20230612 10:09:15.060"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:15.066" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-62313 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:20.106" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:20.106" level="INFO">${output} = 2023-06-12 10:09:18,725 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:09:18,848 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:09:15.062" endtime="20230612 10:09:20.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:20.108" level="INFO">2023-06-12 10:09:18,725 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:09:18,848 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
2023-06-12 10:09:18,848 [main] INFO impl.MetricsSystemImpl: XceiverClientMetrics metrics system started</msg>
<status status="PASS" starttime="20230612 10:09:20.107" endtime="20230612 10:09:20.108"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:20.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:20.108" endtime="20230612 10:09:20.108"/>
</kw>
<status status="PASS" starttime="20230612 10:09:15.062" endtime="20230612 10:09:20.109"/>
</kw>
<msg timestamp="20230612 10:09:20.109" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:15.061" endtime="20230612 10:09:20.110"/>
</kw>
<msg timestamp="20230612 10:09:20.110" level="INFO">${output} = 2023-06-12 10:09:18,725 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
2023-06-12 10:09:18,848 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period a...</msg>
<status status="PASS" starttime="20230612 10:09:15.060" endtime="20230612 10:09:20.110"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:20.110" endtime="20230612 10:09:20.111"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:20.114" level="INFO">Running command 'cat /tmp/key-62313 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:20.117" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:20.117" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:09:20.112" endtime="20230612 10:09:20.117"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:20.118" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:09:20.117" endtime="20230612 10:09:20.118"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:20.118" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:20.118" endtime="20230612 10:09:20.119"/>
</kw>
<msg timestamp="20230612 10:09:20.119" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:09:20.111" endtime="20230612 10:09:20.119"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:20.119" endtime="20230612 10:09:20.119"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:20.122" level="INFO">Running command 'rm /tmp/key-62313 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:20.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:20.125" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:20.120" endtime="20230612 10:09:20.125"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:20.126" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:20.126" endtime="20230612 10:09:20.126"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:20.127" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:20.126" endtime="20230612 10:09:20.127"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.120" endtime="20230612 10:09:20.127"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:15.058" endtime="20230612 10:09:20.128"/>
</test>
<test id="s1-s9-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:20.134" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:20.654" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:20.654" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:20.132" endtime="20230612 10:09:20.654"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:20.655" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:20.654" endtime="20230612 10:09:20.655"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:20.656" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:20.655" endtime="20230612 10:09:20.656"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.131" endtime="20230612 10:09:20.656"/>
</kw>
<msg timestamp="20230612 10:09:20.656" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:20.131" endtime="20230612 10:09:20.656"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.130" endtime="20230612 10:09:20.657"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:20.661" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:21.185" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:21.185" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:20.658" endtime="20230612 10:09:21.185"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:21.186" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:21.185" endtime="20230612 10:09:21.186"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:21.187" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:21.186" endtime="20230612 10:09:21.187"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.658" endtime="20230612 10:09:21.187"/>
</kw>
<msg timestamp="20230612 10:09:21.187" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:20.657" endtime="20230612 10:09:21.187"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.657" endtime="20230612 10:09:21.188"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:21.191" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:21.694" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:21.694" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:21.189" endtime="20230612 10:09:21.695"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:21.696" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:21.695" endtime="20230612 10:09:21.696"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:21.696" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:21.696" endtime="20230612 10:09:21.697"/>
</kw>
<status status="PASS" starttime="20230612 10:09:21.189" endtime="20230612 10:09:21.697"/>
</kw>
<msg timestamp="20230612 10:09:21.697" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:21.188" endtime="20230612 10:09:21.697"/>
</kw>
<status status="PASS" starttime="20230612 10:09:21.188" endtime="20230612 10:09:21.698"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:21.702" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:22.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:22.224" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:21.699" endtime="20230612 10:09:22.224"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:22.226" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:22.225" endtime="20230612 10:09:22.226"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:22.226" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:22.226" endtime="20230612 10:09:22.226"/>
</kw>
<status status="PASS" starttime="20230612 10:09:21.698" endtime="20230612 10:09:22.227"/>
</kw>
<msg timestamp="20230612 10:09:22.227" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:21.698" endtime="20230612 10:09:22.227"/>
</kw>
<status status="PASS" starttime="20230612 10:09:21.698" endtime="20230612 10:09:22.227"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.130" endtime="20230612 10:09:22.228"/>
</kw>
<status status="PASS" starttime="20230612 10:09:20.129" endtime="20230612 10:09:22.228"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:20.129" endtime="20230612 10:09:22.228"/>
</test>
<test id="s1-s9-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:22.234" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:23.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:23.001" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:09:22.231" endtime="20230612 10:09:23.001"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:23.002" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:09:22 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:09:23.002" endtime="20230612 10:09:23.002"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:23.003" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:23.003" endtime="20230612 10:09:23.003"/>
</kw>
<msg timestamp="20230612 10:09:23.003" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:09:22.231" endtime="20230612 10:09:23.003"/>
</kw>
<msg timestamp="20230612 10:09:23.004" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:09:22.230" endtime="20230612 10:09:23.004"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:23.004" endtime="20230612 10:09:23.004"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:23.009" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:23.011" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:23.011" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:09:23.005" endtime="20230612 10:09:23.011"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:23.012" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:09:23.012" endtime="20230612 10:09:23.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:23.013" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:23.013" endtime="20230612 10:09:23.013"/>
</kw>
<msg timestamp="20230612 10:09:23.014" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:09:23.004" endtime="20230612 10:09:23.014"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:23.014" endtime="20230612 10:09:23.014"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:23.017" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:23.019" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:23.019" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:23.015" endtime="20230612 10:09:23.019"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:23.021" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:23.020" endtime="20230612 10:09:23.021"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:23.021" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:23.021" endtime="20230612 10:09:23.021"/>
</kw>
<status status="PASS" starttime="20230612 10:09:23.014" endtime="20230612 10:09:23.022"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:22.229" endtime="20230612 10:09:23.022"/>
</test>
<test id="s1-s9-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:23.032" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:23.660" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:23.660" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:09:23.025" endtime="20230612 10:09:23.660"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:23.663" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:09:23 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:09:23.661" endtime="20230612 10:09:23.664"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:23.664" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:23.664" endtime="20230612 10:09:23.664"/>
</kw>
<msg timestamp="20230612 10:09:23.665" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:09:23.025" endtime="20230612 10:09:23.665"/>
</kw>
<msg timestamp="20230612 10:09:23.665" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:09:23.024" endtime="20230612 10:09:23.665"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:23.665" endtime="20230612 10:09:23.666"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:23.669" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:23.671" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:23.671" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:09:23.666" endtime="20230612 10:09:23.671"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:23.673" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:09:23.672" endtime="20230612 10:09:23.673"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:23.674" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:23.674" endtime="20230612 10:09:23.674"/>
</kw>
<msg timestamp="20230612 10:09:23.674" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:09:23.666" endtime="20230612 10:09:23.675"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:23.675" endtime="20230612 10:09:23.675"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:23.680" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:23.682" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:23.682" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:09:23.678" endtime="20230612 10:09:23.682"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:23.684" level="INFO"/>
<status status="PASS" starttime="20230612 10:09:23.683" endtime="20230612 10:09:23.684"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:23.684" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:23.684" endtime="20230612 10:09:23.684"/>
</kw>
<status status="PASS" starttime="20230612 10:09:23.675" endtime="20230612 10:09:23.685"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:23.023" endtime="20230612 10:09:23.685"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:09:14.982" endtime="20230612 10:09:23.687"/>
</suite>
<suite id="s1-s10" name="Prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s10-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:09:27.535" endtime="20230612 10:09:27.536"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:09:27.536" endtime="20230612 10:09:27.536"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:09:27.541" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:09:40.464" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:09:40.464" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current...</msg>
<status status="PASS" starttime="20230612 10:09:27.537" endtime="20230612 10:09:40.464"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:09:40.466" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current Transaction Id : [-1]
OM : [om3], Prepare Status : [NOT_PREPARED], Current Transaction Id : [-1]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
Waiting for 10 seconds before retrying...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [23]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230612 10:09:40.465" endtime="20230612 10:09:40.466"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:09:40.466" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:09:40.466" endtime="20230612 10:09:40.466"/>
</kw>
<status status="PASS" starttime="20230612 10:09:27.537" endtime="20230612 10:09:40.467"/>
</kw>
<msg timestamp="20230612 10:09:40.467" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:09:27.537" endtime="20230612 10:09:40.468"/>
</kw>
<msg timestamp="20230612 10:09:40.469" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [23].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [NOT_PREPARED], Current...</msg>
<status status="PASS" starttime="20230612 10:09:27.536" endtime="20230612 10:09:40.469"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:09:40.469" endtime="20230612 10:09:40.470"/>
</kw>
<status status="PASS" starttime="20230612 10:09:40.469" endtime="20230612 10:09:40.470"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:09:27.534" endtime="20230612 10:09:40.470"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230612 10:09:27.490" endtime="20230612 10:09:40.472"/>
</suite>
<suite id="s1-s11" name="Check-Finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s11-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:08:34.309" endtime="20230612 10:08:34.310"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:34.316" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:34.319" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:34.319" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c127056927ef
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:08:34.311" endtime="20230612 10:08:34.319"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:34.320" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c127056927ef
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:08:34.320" endtime="20230612 10:08:34.320"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:34.321" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:34.321" endtime="20230612 10:08:34.321"/>
</kw>
<status status="PASS" starttime="20230612 10:08:34.311" endtime="20230612 10:08:34.322"/>
</kw>
<msg timestamp="20230612 10:08:34.322" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:34.311" endtime="20230612 10:08:34.323"/>
</kw>
<msg timestamp="20230612 10:08:34.323" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c127056927ef
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:08:34.310" endtime="20230612 10:08:34.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:34.323" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=c127056927ef
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:08:34.323" endtime="20230612 10:08:34.324"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:08:34.324" endtime="20230612 10:08:34.324"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:34.328" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:37.107" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:37.108" level="INFO">${output} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:08:34.325" endtime="20230612 10:08:37.108"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:37.109" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:08:37.108" endtime="20230612 10:08:37.109"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:37.110" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:37.109" endtime="20230612 10:08:37.110"/>
</kw>
<status status="PASS" starttime="20230612 10:08:34.325" endtime="20230612 10:08:37.110"/>
</kw>
<msg timestamp="20230612 10:08:37.110" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:34.325" endtime="20230612 10:08:37.111"/>
</kw>
<msg timestamp="20230612 10:08:37.111" level="INFO">${result} = ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:08:34.324" endtime="20230612 10:08:37.111"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:37.111" level="INFO">ALREADY_FINALIZED</msg>
<status status="PASS" starttime="20230612 10:08:37.111" endtime="20230612 10:08:37.111"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:08:37.111" endtime="20230612 10:08:37.112"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:08:34.308" endtime="20230612 10:08:37.112"/>
</test>
<test id="s1-s11-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:08:37.114" endtime="20230612 10:08:37.114"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:08:37.114" endtime="20230612 10:08:37.115"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:08:37.119" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:08:40.221" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:08:40.221" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:08:37.116" endtime="20230612 10:08:40.221"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:40.223" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:08:40.222" endtime="20230612 10:08:40.223"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:08:40.223" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:08:40.223" endtime="20230612 10:08:40.223"/>
</kw>
<status status="PASS" starttime="20230612 10:08:37.116" endtime="20230612 10:08:40.224"/>
</kw>
<msg timestamp="20230612 10:08:40.224" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:08:37.115" endtime="20230612 10:08:40.224"/>
</kw>
<msg timestamp="20230612 10:08:40.224" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:08:37.115" endtime="20230612 10:08:40.224"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:08:40.225" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:08:40.225" endtime="20230612 10:08:40.225"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:08:40.225" endtime="20230612 10:08:40.225"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:08:37.113" endtime="20230612 10:08:40.226"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230612 10:08:34.257" endtime="20230612 10:08:40.227"/>
</suite>
<suite id="s1-s12" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s12-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:22:24.044" endtime="20230612 10:22:24.044"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:24.054" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:24.057" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:24.057" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:22:24.050" endtime="20230612 10:22:24.057"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:24.058" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:22:24.058" endtime="20230612 10:22:24.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:24.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:24.058" endtime="20230612 10:22:24.059"/>
</kw>
<status status="PASS" starttime="20230612 10:22:24.049" endtime="20230612 10:22:24.059"/>
</kw>
<msg timestamp="20230612 10:22:24.059" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:24.049" endtime="20230612 10:22:24.059"/>
</kw>
<msg timestamp="20230612 10:22:24.060" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:22:24.047" endtime="20230612 10:22:24.060"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:24.060" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:22:24.060" endtime="20230612 10:22:24.060"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:22:24.060" endtime="20230612 10:22:24.060"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:24.064" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:27.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:27.858" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:24.062" endtime="20230612 10:22:27.858"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:27.859" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:27.859" endtime="20230612 10:22:27.859"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:27.860" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:27.860" endtime="20230612 10:22:27.860"/>
</kw>
<status status="PASS" starttime="20230612 10:22:24.061" endtime="20230612 10:22:27.860"/>
</kw>
<msg timestamp="20230612 10:22:27.860" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:24.061" endtime="20230612 10:22:27.860"/>
</kw>
<msg timestamp="20230612 10:22:27.861" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:24.061" endtime="20230612 10:22:27.861"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:27.862" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:27.861" endtime="20230612 10:22:27.862"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:22:27.862" endtime="20230612 10:22:27.862"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:22:24.043" endtime="20230612 10:22:27.863"/>
</test>
<test id="s1-s12-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:22:27.864" endtime="20230612 10:22:27.864"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:22:27.865" endtime="20230612 10:22:27.865"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:27.869" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:32.253" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:32.253" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:27.866" endtime="20230612 10:22:32.253"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:32.255" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:32.254" endtime="20230612 10:22:32.255"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:32.256" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:32.255" endtime="20230612 10:22:32.256"/>
</kw>
<status status="PASS" starttime="20230612 10:22:27.866" endtime="20230612 10:22:32.256"/>
</kw>
<msg timestamp="20230612 10:22:32.256" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:27.866" endtime="20230612 10:22:32.256"/>
</kw>
<msg timestamp="20230612 10:22:32.257" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:27.865" endtime="20230612 10:22:32.257"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:32.257" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:22:32.257" endtime="20230612 10:22:32.257"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:22:32.258" endtime="20230612 10:22:32.258"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:22:27.863" endtime="20230612 10:22:32.258"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230612 10:22:23.996" endtime="20230612 10:22:32.260"/>
</suite>
<suite id="s1-s13" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s13-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:22:36.654" level="INFO">${random} = 23910</msg>
<status status="PASS" starttime="20230612 10:22:36.654" endtime="20230612 10:22:36.654"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:36.662" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-23910 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:43.194" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:43.194" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:36.656" endtime="20230612 10:22:43.194"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:43.195" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:43.194" endtime="20230612 10:22:43.195"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:43.196" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:43.196" endtime="20230612 10:22:43.196"/>
</kw>
<status status="PASS" starttime="20230612 10:22:36.656" endtime="20230612 10:22:43.197"/>
</kw>
<msg timestamp="20230612 10:22:43.197" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:36.655" endtime="20230612 10:22:43.197"/>
</kw>
<msg timestamp="20230612 10:22:43.197" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:36.655" endtime="20230612 10:22:43.197"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:22:43.198" endtime="20230612 10:22:43.198"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:43.203" level="INFO">Running command 'cat /tmp/key-23910 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:43.207" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:43.207" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:22:43.199" endtime="20230612 10:22:43.207"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:43.209" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:22:43.208" endtime="20230612 10:22:43.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:43.209" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:43.209" endtime="20230612 10:22:43.209"/>
</kw>
<msg timestamp="20230612 10:22:43.210" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:22:43.198" endtime="20230612 10:22:43.210"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:22:43.210" endtime="20230612 10:22:43.211"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:43.215" level="INFO">Running command 'rm /tmp/key-23910 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:43.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:43.219" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:43.211" endtime="20230612 10:22:43.219"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:43.220" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:43.219" endtime="20230612 10:22:43.220"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:43.221" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:43.221" endtime="20230612 10:22:43.221"/>
</kw>
<status status="PASS" starttime="20230612 10:22:43.211" endtime="20230612 10:22:43.222"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:22:36.653" endtime="20230612 10:22:43.222"/>
</test>
<test id="s1-s13-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:43.230" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:44.300" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:44.300" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:43.227" endtime="20230612 10:22:44.300"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:44.302" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:44.301" endtime="20230612 10:22:44.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:44.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:44.302" endtime="20230612 10:22:44.303"/>
</kw>
<status status="PASS" starttime="20230612 10:22:43.227" endtime="20230612 10:22:44.304"/>
</kw>
<msg timestamp="20230612 10:22:44.304" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:43.226" endtime="20230612 10:22:44.304"/>
</kw>
<status status="PASS" starttime="20230612 10:22:43.226" endtime="20230612 10:22:44.304"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:44.309" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:44.988" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:44.988" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:44.306" endtime="20230612 10:22:44.989"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:44.990" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:44.989" endtime="20230612 10:22:44.990"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:44.991" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:44.990" endtime="20230612 10:22:44.991"/>
</kw>
<status status="PASS" starttime="20230612 10:22:44.306" endtime="20230612 10:22:44.991"/>
</kw>
<msg timestamp="20230612 10:22:44.991" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:44.305" endtime="20230612 10:22:44.991"/>
</kw>
<status status="PASS" starttime="20230612 10:22:44.305" endtime="20230612 10:22:44.992"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:44.996" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:45.724" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:45.724" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:44.993" endtime="20230612 10:22:45.724"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:45.726" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:45.725" endtime="20230612 10:22:45.726"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:45.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:45.726" endtime="20230612 10:22:45.727"/>
</kw>
<status status="PASS" starttime="20230612 10:22:44.993" endtime="20230612 10:22:45.727"/>
</kw>
<msg timestamp="20230612 10:22:45.727" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:44.992" endtime="20230612 10:22:45.727"/>
</kw>
<status status="PASS" starttime="20230612 10:22:44.992" endtime="20230612 10:22:45.728"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:45.733" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:46.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:46.403" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:45.729" endtime="20230612 10:22:46.403"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:46.404" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:46.403" endtime="20230612 10:22:46.404"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:46.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:46.404" endtime="20230612 10:22:46.405"/>
</kw>
<status status="PASS" starttime="20230612 10:22:45.729" endtime="20230612 10:22:46.405"/>
</kw>
<msg timestamp="20230612 10:22:46.405" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:45.728" endtime="20230612 10:22:46.406"/>
</kw>
<status status="PASS" starttime="20230612 10:22:45.728" endtime="20230612 10:22:46.406"/>
</kw>
<status status="PASS" starttime="20230612 10:22:43.225" endtime="20230612 10:22:46.406"/>
</kw>
<status status="PASS" starttime="20230612 10:22:43.225" endtime="20230612 10:22:46.406"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:22:43.224" endtime="20230612 10:22:46.406"/>
</test>
<test id="s1-s13-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:46.413" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:51.701" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:51.701" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:22:46.410" endtime="20230612 10:22:51.701"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:51.703" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:22:47 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:22:51.702" endtime="20230612 10:22:51.703"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:51.704" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:51.704" endtime="20230612 10:22:51.704"/>
</kw>
<msg timestamp="20230612 10:22:51.705" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:22:46.409" endtime="20230612 10:22:51.705"/>
</kw>
<msg timestamp="20230612 10:22:51.705" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:42 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:22:46.409" endtime="20230612 10:22:51.705"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:22:51.705" endtime="20230612 10:22:51.706"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:51.709" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:51.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:51.712" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:22:51.706" endtime="20230612 10:22:51.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:51.714" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:22:51.713" endtime="20230612 10:22:51.714"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:51.715" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:51.714" endtime="20230612 10:22:51.715"/>
</kw>
<msg timestamp="20230612 10:22:51.715" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:22:51.706" endtime="20230612 10:22:51.715"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:22:51.715" endtime="20230612 10:22:51.716"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:51.719" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:51.722" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:51.722" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:51.717" endtime="20230612 10:22:51.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:51.724" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:51.723" endtime="20230612 10:22:51.724"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:51.725" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:51.724" endtime="20230612 10:22:51.725"/>
</kw>
<status status="PASS" starttime="20230612 10:22:51.716" endtime="20230612 10:22:51.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:22:46.408" endtime="20230612 10:22:51.725"/>
</test>
<test id="s1-s13-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:51.732" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:52.502" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:52.502" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:46 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:22:51.729" endtime="20230612 10:22:52.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:52.504" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:46 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:22:52 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:22:52.503" endtime="20230612 10:22:52.504"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:52.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:52.504" endtime="20230612 10:22:52.505"/>
</kw>
<msg timestamp="20230612 10:22:52.505" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:46 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:22:51.728" endtime="20230612 10:22:52.505"/>
</kw>
<msg timestamp="20230612 10:22:52.505" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:46 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:22:51.728" endtime="20230612 10:22:52.505"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:22:52.506" endtime="20230612 10:22:52.506"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:52.510" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:52.512" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:52.512" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:22:52.507" endtime="20230612 10:22:52.513"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:52.514" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:22:52.513" endtime="20230612 10:22:52.514"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:52.515" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:52.514" endtime="20230612 10:22:52.515"/>
</kw>
<msg timestamp="20230612 10:22:52.515" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:22:52.506" endtime="20230612 10:22:52.515"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:22:52.515" endtime="20230612 10:22:52.516"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:52.519" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:52.521" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:52.521" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:52.516" endtime="20230612 10:22:52.521"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:52.523" level="INFO"/>
<status status="PASS" starttime="20230612 10:22:52.522" endtime="20230612 10:22:52.523"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:52.523" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:52.523" endtime="20230612 10:22:52.523"/>
</kw>
<status status="PASS" starttime="20230612 10:22:52.516" endtime="20230612 10:22:52.524"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:22:51.727" endtime="20230612 10:22:52.524"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:22:36.548" endtime="20230612 10:22:52.526"/>
</suite>
<suite id="s1-s14" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s14-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:22:56.840" level="INFO">${random} = 50558</msg>
<status status="PASS" starttime="20230612 10:22:56.839" endtime="20230612 10:22:56.840"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:56.846" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-50558 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:03.241" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:03.241" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:56.841" endtime="20230612 10:23:03.241"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:03.242" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:03.241" endtime="20230612 10:23:03.242"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:03.243" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:03.242" endtime="20230612 10:23:03.243"/>
</kw>
<status status="PASS" starttime="20230612 10:22:56.841" endtime="20230612 10:23:03.243"/>
</kw>
<msg timestamp="20230612 10:23:03.243" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:56.840" endtime="20230612 10:23:03.243"/>
</kw>
<msg timestamp="20230612 10:23:03.244" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:22:56.840" endtime="20230612 10:23:03.244"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:03.244" endtime="20230612 10:23:03.244"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:03.248" level="INFO">Running command 'cat /tmp/key-50558 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:03.251" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:03.251" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:03.245" endtime="20230612 10:23:03.251"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:03.252" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:03.251" endtime="20230612 10:23:03.252"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:03.252" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:03.252" endtime="20230612 10:23:03.253"/>
</kw>
<msg timestamp="20230612 10:23:03.253" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:03.244" endtime="20230612 10:23:03.253"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:03.253" endtime="20230612 10:23:03.253"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:03.256" level="INFO">Running command 'rm /tmp/key-50558 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:03.259" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:03.259" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:03.254" endtime="20230612 10:23:03.259"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:03.260" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:03.259" endtime="20230612 10:23:03.260"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:03.260" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:03.260" endtime="20230612 10:23:03.260"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.254" endtime="20230612 10:23:03.261"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:22:56.838" endtime="20230612 10:23:03.261"/>
</test>
<test id="s1-s14-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:03.268" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:03.885" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:03.885" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:03.266" endtime="20230612 10:23:03.885"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:03.886" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:03.885" endtime="20230612 10:23:03.886"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:03.887" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:03.886" endtime="20230612 10:23:03.887"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.265" endtime="20230612 10:23:03.888"/>
</kw>
<msg timestamp="20230612 10:23:03.888" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:03.265" endtime="20230612 10:23:03.888"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.264" endtime="20230612 10:23:03.888"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:03.892" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:04.462" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:04.463" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:03.889" endtime="20230612 10:23:04.463"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:04.464" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:04.463" endtime="20230612 10:23:04.464"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:04.465" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:04.465" endtime="20230612 10:23:04.466"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.889" endtime="20230612 10:23:04.466"/>
</kw>
<msg timestamp="20230612 10:23:04.466" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:03.889" endtime="20230612 10:23:04.466"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.888" endtime="20230612 10:23:04.467"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:04.473" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:05.073" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:05.074" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:04.470" endtime="20230612 10:23:05.074"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:05.075" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:05.074" endtime="20230612 10:23:05.075"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:05.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:05.075" endtime="20230612 10:23:05.076"/>
</kw>
<status status="PASS" starttime="20230612 10:23:04.469" endtime="20230612 10:23:05.076"/>
</kw>
<msg timestamp="20230612 10:23:05.076" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:04.468" endtime="20230612 10:23:05.076"/>
</kw>
<status status="PASS" starttime="20230612 10:23:04.467" endtime="20230612 10:23:05.077"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:05.082" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:05.775" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:05.775" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:05.078" endtime="20230612 10:23:05.775"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:05.777" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:05.776" endtime="20230612 10:23:05.777"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:05.778" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:05.777" endtime="20230612 10:23:05.778"/>
</kw>
<status status="PASS" starttime="20230612 10:23:05.078" endtime="20230612 10:23:05.778"/>
</kw>
<msg timestamp="20230612 10:23:05.778" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:05.077" endtime="20230612 10:23:05.778"/>
</kw>
<status status="PASS" starttime="20230612 10:23:05.077" endtime="20230612 10:23:05.779"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.264" endtime="20230612 10:23:05.779"/>
</kw>
<status status="PASS" starttime="20230612 10:23:03.264" endtime="20230612 10:23:05.779"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:03.263" endtime="20230612 10:23:05.779"/>
</test>
<test id="s1-s14-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:05.786" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:06.557" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:06.557" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:05.783" endtime="20230612 10:23:06.557"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:06.558" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:23:06 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:23:06.557" endtime="20230612 10:23:06.558"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:06.559" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:06.558" endtime="20230612 10:23:06.559"/>
</kw>
<msg timestamp="20230612 10:23:06.561" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:05.782" endtime="20230612 10:23:06.561"/>
</kw>
<msg timestamp="20230612 10:23:06.562" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:05.781" endtime="20230612 10:23:06.562"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:06.562" endtime="20230612 10:23:06.562"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:06.571" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:06.572" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:06.572" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:06.563" endtime="20230612 10:23:06.572"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:06.574" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:06.573" endtime="20230612 10:23:06.574"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:06.575" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:06.574" endtime="20230612 10:23:06.575"/>
</kw>
<msg timestamp="20230612 10:23:06.575" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:06.562" endtime="20230612 10:23:06.575"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:06.575" endtime="20230612 10:23:06.576"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:06.580" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:06.583" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:06.583" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:06.577" endtime="20230612 10:23:06.583"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:06.584" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:06.583" endtime="20230612 10:23:06.584"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:06.585" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:06.585" endtime="20230612 10:23:06.585"/>
</kw>
<status status="PASS" starttime="20230612 10:23:06.576" endtime="20230612 10:23:06.585"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:05.780" endtime="20230612 10:23:06.586"/>
</test>
<test id="s1-s14-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:06.592" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:07.351" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:07.351" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:06.589" endtime="20230612 10:23:07.351"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:07.353" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:23:07 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:23:07.352" endtime="20230612 10:23:07.353"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:07.354" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:07.353" endtime="20230612 10:23:07.354"/>
</kw>
<msg timestamp="20230612 10:23:07.354" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:06.588" endtime="20230612 10:23:07.354"/>
</kw>
<msg timestamp="20230612 10:23:07.355" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:06.588" endtime="20230612 10:23:07.355"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:07.355" endtime="20230612 10:23:07.356"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:07.359" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:07.363" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:07.363" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:23:07.356" endtime="20230612 10:23:07.363"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:07.364" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:23:07.363" endtime="20230612 10:23:07.364"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:07.365" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:07.364" endtime="20230612 10:23:07.365"/>
</kw>
<msg timestamp="20230612 10:23:07.365" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:23:07.356" endtime="20230612 10:23:07.365"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:07.365" endtime="20230612 10:23:07.366"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:07.369" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:07.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:07.372" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:07.367" endtime="20230612 10:23:07.372"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:07.373" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:07.373" endtime="20230612 10:23:07.373"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:07.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:07.374" endtime="20230612 10:23:07.374"/>
</kw>
<status status="PASS" starttime="20230612 10:23:07.366" endtime="20230612 10:23:07.374"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:06.587" endtime="20230612 10:23:07.375"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:22:56.754" endtime="20230612 10:23:07.376"/>
</suite>
<suite id="s1-s15" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s15-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:23:11.708" level="INFO">${random} = 14881</msg>
<status status="PASS" starttime="20230612 10:23:11.707" endtime="20230612 10:23:11.708"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:11.716" level="INFO">Running command 'ozone sh key get /old2-volume/old2-bucket/old2-key /tmp/key-14881 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:18.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:18.001" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:11.710" endtime="20230612 10:23:18.001"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:18.002" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:18.002" endtime="20230612 10:23:18.003"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:18.003" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:18.003" endtime="20230612 10:23:18.003"/>
</kw>
<status status="PASS" starttime="20230612 10:23:11.709" endtime="20230612 10:23:18.004"/>
</kw>
<msg timestamp="20230612 10:23:18.004" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:11.709" endtime="20230612 10:23:18.004"/>
</kw>
<msg timestamp="20230612 10:23:18.004" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:11.708" endtime="20230612 10:23:18.004"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:18.004" endtime="20230612 10:23:18.005"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:18.008" level="INFO">Running command 'cat /tmp/key-14881 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:18.011" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:18.011" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:18.006" endtime="20230612 10:23:18.011"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:18.013" level="INFO">old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:18.012" endtime="20230612 10:23:18.013"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:18.014" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:18.014" endtime="20230612 10:23:18.014"/>
</kw>
<msg timestamp="20230612 10:23:18.015" level="INFO">${output} = old2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:18.005" endtime="20230612 10:23:18.015"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:18.015" endtime="20230612 10:23:18.016"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:18.019" level="INFO">Running command 'rm /tmp/key-14881 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:18.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:18.022" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:18.016" endtime="20230612 10:23:18.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:18.023" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:18.023" endtime="20230612 10:23:18.024"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:18.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:18.024" endtime="20230612 10:23:18.025"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.016" endtime="20230612 10:23:18.025"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:11.706" endtime="20230612 10:23:18.025"/>
</test>
<test id="s1-s15-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:18.032" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:18.600" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:18.600" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:18.029" endtime="20230612 10:23:18.600"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:18.602" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:18.601" endtime="20230612 10:23:18.602"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:18.603" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:18.602" endtime="20230612 10:23:18.603"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.029" endtime="20230612 10:23:18.603"/>
</kw>
<msg timestamp="20230612 10:23:18.603" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:18.029" endtime="20230612 10:23:18.603"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.028" endtime="20230612 10:23:18.604"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:18.608" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:19.175" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:19.175" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:18.605" endtime="20230612 10:23:19.176"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:19.177" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:19.176" endtime="20230612 10:23:19.177"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:19.178" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:19.178" endtime="20230612 10:23:19.178"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.605" endtime="20230612 10:23:19.179"/>
</kw>
<msg timestamp="20230612 10:23:19.179" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:18.604" endtime="20230612 10:23:19.179"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.604" endtime="20230612 10:23:19.179"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:19.184" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:19.756" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:19.756" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:19.181" endtime="20230612 10:23:19.756"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:19.757" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:19.756" endtime="20230612 10:23:19.757"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:19.758" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:19.757" endtime="20230612 10:23:19.758"/>
</kw>
<status status="PASS" starttime="20230612 10:23:19.181" endtime="20230612 10:23:19.758"/>
</kw>
<msg timestamp="20230612 10:23:19.758" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:19.180" endtime="20230612 10:23:19.758"/>
</kw>
<status status="PASS" starttime="20230612 10:23:19.180" endtime="20230612 10:23:19.759"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:19.763" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:20.336" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:20.336" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:19.760" endtime="20230612 10:23:20.337"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:20.338" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:20.337" endtime="20230612 10:23:20.338"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:20.338" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:20.338" endtime="20230612 10:23:20.339"/>
</kw>
<status status="PASS" starttime="20230612 10:23:19.760" endtime="20230612 10:23:20.339"/>
</kw>
<msg timestamp="20230612 10:23:20.339" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:19.759" endtime="20230612 10:23:20.339"/>
</kw>
<status status="PASS" starttime="20230612 10:23:19.759" endtime="20230612 10:23:20.339"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.028" endtime="20230612 10:23:20.339"/>
</kw>
<status status="PASS" starttime="20230612 10:23:18.027" endtime="20230612 10:23:20.339"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:18.026" endtime="20230612 10:23:20.340"/>
</test>
<test id="s1-s15-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:20.345" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:20.997" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:20.997" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:20.342" endtime="20230612 10:23:20.998"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:21.000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:23:20 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:23:20.998" endtime="20230612 10:23:21.000"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:21.001" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:21.000" endtime="20230612 10:23:21.001"/>
</kw>
<msg timestamp="20230612 10:23:21.001" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:20.341" endtime="20230612 10:23:21.001"/>
</kw>
<msg timestamp="20230612 10:23:21.001" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:12 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:20.341" endtime="20230612 10:23:21.001"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:21.002" endtime="20230612 10:23:21.002"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:21.006" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:21.008" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:21.008" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:21.003" endtime="20230612 10:23:21.008"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:21.009" level="INFO">old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:21.009" endtime="20230612 10:23:21.009"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:21.010" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:21.010" endtime="20230612 10:23:21.010"/>
</kw>
<msg timestamp="20230612 10:23:21.010" level="INFO">${output} = old2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:23:21.002" endtime="20230612 10:23:21.010"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:21.011" endtime="20230612 10:23:21.011"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:21.014" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:21.017" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:21.017" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:21.012" endtime="20230612 10:23:21.017"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:21.018" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:21.018" endtime="20230612 10:23:21.018"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:21.019" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:21.019" endtime="20230612 10:23:21.019"/>
</kw>
<status status="PASS" starttime="20230612 10:23:21.011" endtime="20230612 10:23:21.020"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:20.340" endtime="20230612 10:23:21.020"/>
</test>
<test id="s1-s15-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:21.025" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:21.738" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:21.738" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:21.023" endtime="20230612 10:23:21.738"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:21.739" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:23:21 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:23:21.738" endtime="20230612 10:23:21.739"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:21.740" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:21.740" endtime="20230612 10:23:21.740"/>
</kw>
<msg timestamp="20230612 10:23:21.741" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:21.023" endtime="20230612 10:23:21.741"/>
</kw>
<msg timestamp="20230612 10:23:21.741" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:17:17 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:23:21.022" endtime="20230612 10:23:21.741"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:21.741" endtime="20230612 10:23:21.745"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:21.748" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:21.751" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:21.751" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:23:21.745" endtime="20230612 10:23:21.751"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:21.753" level="INFO">old2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:23:21.752" endtime="20230612 10:23:21.753"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:21.753" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:21.753" endtime="20230612 10:23:21.754"/>
</kw>
<msg timestamp="20230612 10:23:21.754" level="INFO">${output} = old2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:23:21.745" endtime="20230612 10:23:21.754"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:21.754" endtime="20230612 10:23:21.755"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:21.759" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:21.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:21.762" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:21.756" endtime="20230612 10:23:21.762"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:21.763" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:21.763" endtime="20230612 10:23:21.763"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:21.764" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:21.764" endtime="20230612 10:23:21.764"/>
</kw>
<status status="PASS" starttime="20230612 10:23:21.755" endtime="20230612 10:23:21.765"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:21.021" endtime="20230612 10:23:21.765"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:23:11.603" endtime="20230612 10:23:21.767"/>
</suite>
<suite id="s1-s16" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s16-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:26.073" level="INFO">Running command 'ozone sh volume create new2-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:29.623" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:29.623" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:26.068" endtime="20230612 10:23:29.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:29.624" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:29.624" endtime="20230612 10:23:29.625"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:29.625" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:29.625" endtime="20230612 10:23:29.626"/>
</kw>
<status status="PASS" starttime="20230612 10:23:26.068" endtime="20230612 10:23:29.626"/>
</kw>
<msg timestamp="20230612 10:23:29.626" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:26.068" endtime="20230612 10:23:29.626"/>
</kw>
<msg timestamp="20230612 10:23:29.626" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:26.067" endtime="20230612 10:23:29.626"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:29.627" endtime="20230612 10:23:29.627"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:29.639" level="INFO">Running command 'ozone sh bucket create /new2-volume/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:33.887" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:33.888" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:29.632" endtime="20230612 10:23:33.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:33.889" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:33.888" endtime="20230612 10:23:33.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:33.890" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:33.890" endtime="20230612 10:23:33.891"/>
</kw>
<status status="PASS" starttime="20230612 10:23:29.632" endtime="20230612 10:23:33.891"/>
</kw>
<msg timestamp="20230612 10:23:33.891" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:29.631" endtime="20230612 10:23:33.891"/>
</kw>
<msg timestamp="20230612 10:23:33.891" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:29.627" endtime="20230612 10:23:33.891"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:33.892" endtime="20230612 10:23:33.892"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:26.066" endtime="20230612 10:23:33.893"/>
</test>
<test id="s1-s16-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:33.901" level="INFO">Running command 'echo "new2: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:23:33.903" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:33.903" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:33.897" endtime="20230612 10:23:33.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:33.904" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:33.904" endtime="20230612 10:23:33.905"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:33.905" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:33.905" endtime="20230612 10:23:33.905"/>
</kw>
<status status="PASS" starttime="20230612 10:23:33.897" endtime="20230612 10:23:33.906"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:33.910" level="INFO">Running command 'ozone sh key put /new2-volume/new2-bucket/new2-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:41.788" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:41.788" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:33.907" endtime="20230612 10:23:41.788"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:41.790" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:41.789" endtime="20230612 10:23:41.790"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:41.791" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:41.790" endtime="20230612 10:23:41.791"/>
</kw>
<status status="PASS" starttime="20230612 10:23:33.907" endtime="20230612 10:23:41.791"/>
</kw>
<msg timestamp="20230612 10:23:41.791" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:33.906" endtime="20230612 10:23:41.792"/>
</kw>
<msg timestamp="20230612 10:23:41.792" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:33.906" endtime="20230612 10:23:41.797"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:41.797" endtime="20230612 10:23:41.798"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:41.809" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:41.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:41.821" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:41.799" endtime="20230612 10:23:41.821"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:41.822" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:41.821" endtime="20230612 10:23:41.822"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:41.823" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:41.823" endtime="20230612 10:23:41.823"/>
</kw>
<status status="PASS" starttime="20230612 10:23:41.798" endtime="20230612 10:23:41.823"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:33.894" endtime="20230612 10:23:41.824"/>
</test>
<test id="s1-s16-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:41.830" level="INFO">Running command 'ozone sh bucket create /s3v/new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:45.713" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:45.714" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:41.827" endtime="20230612 10:23:45.714"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:45.715" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:45.714" endtime="20230612 10:23:45.715"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:45.716" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:45.716" endtime="20230612 10:23:45.716"/>
</kw>
<status status="PASS" starttime="20230612 10:23:41.826" endtime="20230612 10:23:45.717"/>
</kw>
<msg timestamp="20230612 10:23:45.717" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:41.826" endtime="20230612 10:23:45.717"/>
</kw>
<msg timestamp="20230612 10:23:45.717" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:41.826" endtime="20230612 10:23:45.717"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:45.717" endtime="20230612 10:23:45.718"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:41.825" endtime="20230612 10:23:45.718"/>
</test>
<test id="s1-s16-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:45.723" level="INFO">Running command 'echo "new2: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:23:45.726" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:45.726" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:45.720" endtime="20230612 10:23:45.726"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:45.727" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:45.726" endtime="20230612 10:23:45.727"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:45.728" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:45.727" endtime="20230612 10:23:45.728"/>
</kw>
<status status="PASS" starttime="20230612 10:23:45.720" endtime="20230612 10:23:45.728"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:45.734" level="INFO">Running command 'ozone sh key put /s3v/new2-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:51.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:51.937" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:45.731" endtime="20230612 10:23:51.937"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:51.938" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:51.937" endtime="20230612 10:23:51.938"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:51.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:51.938" endtime="20230612 10:23:51.939"/>
</kw>
<status status="PASS" starttime="20230612 10:23:45.730" endtime="20230612 10:23:51.939"/>
</kw>
<msg timestamp="20230612 10:23:51.939" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:45.729" endtime="20230612 10:23:51.939"/>
</kw>
<msg timestamp="20230612 10:23:51.940" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:45.729" endtime="20230612 10:23:51.940"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:51.940" endtime="20230612 10:23:51.940"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:51.944" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:51.947" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:51.947" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:51.941" endtime="20230612 10:23:51.947"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:51.948" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:51.948" endtime="20230612 10:23:51.949"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:51.949" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:51.949" endtime="20230612 10:23:51.949"/>
</kw>
<status status="PASS" starttime="20230612 10:23:51.940" endtime="20230612 10:23:51.950"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:45.719" endtime="20230612 10:23:51.950"/>
</test>
<test id="s1-s16-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:51.957" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:52.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:52.483" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:51.954" endtime="20230612 10:23:52.483"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:52.485" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:52.484" endtime="20230612 10:23:52.485"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:52.486" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:52.486" endtime="20230612 10:23:52.486"/>
</kw>
<status status="PASS" starttime="20230612 10:23:51.954" endtime="20230612 10:23:52.487"/>
</kw>
<msg timestamp="20230612 10:23:52.487" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:51.953" endtime="20230612 10:23:52.487"/>
</kw>
<status status="PASS" starttime="20230612 10:23:51.953" endtime="20230612 10:23:52.487"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:52.492" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:53.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:53.033" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:52.489" endtime="20230612 10:23:53.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:53.035" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:53.034" endtime="20230612 10:23:53.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:53.035" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:53.035" endtime="20230612 10:23:53.036"/>
</kw>
<status status="PASS" starttime="20230612 10:23:52.488" endtime="20230612 10:23:53.036"/>
</kw>
<msg timestamp="20230612 10:23:53.036" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:52.488" endtime="20230612 10:23:53.036"/>
</kw>
<status status="PASS" starttime="20230612 10:23:52.487" endtime="20230612 10:23:53.036"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:53.040" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:53.610" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:53.610" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:53.038" endtime="20230612 10:23:53.610"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:53.613" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:53.611" endtime="20230612 10:23:53.613"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:53.614" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:53.613" endtime="20230612 10:23:53.614"/>
</kw>
<status status="PASS" starttime="20230612 10:23:53.037" endtime="20230612 10:23:53.615"/>
</kw>
<msg timestamp="20230612 10:23:53.615" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:53.037" endtime="20230612 10:23:53.615"/>
</kw>
<status status="PASS" starttime="20230612 10:23:53.036" endtime="20230612 10:23:53.615"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:53.620" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:54.154" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:54.154" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:53.617" endtime="20230612 10:23:54.154"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:54.156" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:54.155" endtime="20230612 10:23:54.156"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:54.157" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:54.156" endtime="20230612 10:23:54.157"/>
</kw>
<status status="PASS" starttime="20230612 10:23:53.617" endtime="20230612 10:23:54.157"/>
</kw>
<msg timestamp="20230612 10:23:54.157" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:53.616" endtime="20230612 10:23:54.157"/>
</kw>
<status status="PASS" starttime="20230612 10:23:53.616" endtime="20230612 10:23:54.157"/>
</kw>
<status status="PASS" starttime="20230612 10:23:51.953" endtime="20230612 10:23:54.158"/>
</kw>
<status status="PASS" starttime="20230612 10:23:51.952" endtime="20230612 10:23:54.158"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:51.952" endtime="20230612 10:23:54.158"/>
</test>
<test id="s1-s16-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:54.165" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new2-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:54.953" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:54.954" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:23:54.162" endtime="20230612 10:23:54.954"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:54.955" level="INFO">{
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:23:54.954" endtime="20230612 10:23:54.955"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:54.956" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:54.956" endtime="20230612 10:23:54.956"/>
</kw>
<status status="PASS" starttime="20230612 10:23:54.162" endtime="20230612 10:23:54.957"/>
</kw>
<msg timestamp="20230612 10:23:54.957" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:23:54.161" endtime="20230612 10:23:54.957"/>
</kw>
<msg timestamp="20230612 10:23:54.957" level="INFO">${output} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:23:54.161" endtime="20230612 10:23:54.957"/>
</kw>
<msg timestamp="20230612 10:23:54.957" level="INFO">${result} = {
    "Location": "http://s3g:9878/new2-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:23:54.160" endtime="20230612 10:23:54.958"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:54.958" endtime="20230612 10:23:54.958"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:54.958" endtime="20230612 10:23:54.959"/>
</kw>
<msg timestamp="20230612 10:23:54.959" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230612 10:23:54.160" endtime="20230612 10:23:54.959"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230612 10:23:54.959" endtime="20230612 10:23:54.960"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:54.159" endtime="20230612 10:23:54.960"/>
</test>
<test id="s1-s16-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:54.965" level="INFO">Running command 'echo "new2: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:23:54.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:54.967" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:54.962" endtime="20230612 10:23:54.967"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:54.968" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:54.968" endtime="20230612 10:23:54.968"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:54.969" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:54.968" endtime="20230612 10:23:54.969"/>
</kw>
<status status="PASS" starttime="20230612 10:23:54.962" endtime="20230612 10:23:54.970"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:54.974" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new2-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:56.404" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:56.404" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:54.971" endtime="20230612 10:23:56.404"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:56.405" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:56.404" endtime="20230612 10:23:56.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:56.406" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:56.406" endtime="20230612 10:23:56.406"/>
</kw>
<msg timestamp="20230612 10:23:56.407" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:54.970" endtime="20230612 10:23:56.407"/>
</kw>
<msg timestamp="20230612 10:23:56.407" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:54.970" endtime="20230612 10:23:56.407"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:23:56.407" endtime="20230612 10:23:56.408"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:23:56.411" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:23:56.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:23:56.415" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:23:56.409" endtime="20230612 10:23:56.415"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:23:56.416" level="INFO"/>
<status status="PASS" starttime="20230612 10:23:56.416" endtime="20230612 10:23:56.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:23:56.417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:23:56.417" endtime="20230612 10:23:56.418"/>
</kw>
<status status="PASS" starttime="20230612 10:23:56.408" endtime="20230612 10:23:56.418"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:23:54.961" endtime="20230612 10:23:56.418"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230612 10:23:25.992" endtime="20230612 10:23:56.420"/>
</suite>
<suite id="s1-s17" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s17-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:24:00.476" level="INFO">${random} = 27903</msg>
<status status="PASS" starttime="20230612 10:24:00.476" endtime="20230612 10:24:00.476"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:00.483" level="INFO">Running command 'ozone sh key get /new2-volume/new2-bucket/new2-key /tmp/key-27903 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:06.768" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:06.768" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:00.478" endtime="20230612 10:24:06.769"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:06.770" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:06.769" endtime="20230612 10:24:06.770"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:06.771" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:06.771" endtime="20230612 10:24:06.771"/>
</kw>
<status status="PASS" starttime="20230612 10:24:00.478" endtime="20230612 10:24:06.772"/>
</kw>
<msg timestamp="20230612 10:24:06.772" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:00.477" endtime="20230612 10:24:06.772"/>
</kw>
<msg timestamp="20230612 10:24:06.772" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:00.476" endtime="20230612 10:24:06.772"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:06.772" endtime="20230612 10:24:06.773"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:06.777" level="INFO">Running command 'cat /tmp/key-27903 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:06.781" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:06.781" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:24:06.774" endtime="20230612 10:24:06.781"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:06.782" level="INFO">new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:24:06.782" endtime="20230612 10:24:06.782"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:06.783" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:06.782" endtime="20230612 10:24:06.783"/>
</kw>
<msg timestamp="20230612 10:24:06.783" level="INFO">${output} = new2: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:24:06.773" endtime="20230612 10:24:06.783"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:06.784" endtime="20230612 10:24:06.784"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:06.788" level="INFO">Running command 'rm /tmp/key-27903 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:06.791" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:06.791" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:06.785" endtime="20230612 10:24:06.791"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:06.793" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:06.792" endtime="20230612 10:24:06.793"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:06.793" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:06.793" endtime="20230612 10:24:06.793"/>
</kw>
<status status="PASS" starttime="20230612 10:24:06.784" endtime="20230612 10:24:06.794"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:00.475" endtime="20230612 10:24:06.794"/>
</test>
<test id="s1-s17-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:06.801" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:07.335" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:07.335" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:06.798" endtime="20230612 10:24:07.335"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:07.336" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:07.335" endtime="20230612 10:24:07.336"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:07.337" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:07.336" endtime="20230612 10:24:07.337"/>
</kw>
<status status="PASS" starttime="20230612 10:24:06.797" endtime="20230612 10:24:07.337"/>
</kw>
<msg timestamp="20230612 10:24:07.337" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:06.797" endtime="20230612 10:24:07.338"/>
</kw>
<status status="PASS" starttime="20230612 10:24:06.797" endtime="20230612 10:24:07.338"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:07.342" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:07.862" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:07.862" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:07.339" endtime="20230612 10:24:07.862"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:07.863" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:07.862" endtime="20230612 10:24:07.863"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:07.864" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:07.863" endtime="20230612 10:24:07.864"/>
</kw>
<status status="PASS" starttime="20230612 10:24:07.339" endtime="20230612 10:24:07.864"/>
</kw>
<msg timestamp="20230612 10:24:07.864" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:07.338" endtime="20230612 10:24:07.864"/>
</kw>
<status status="PASS" starttime="20230612 10:24:07.338" endtime="20230612 10:24:07.864"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:07.869" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:08.423" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:08.423" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:07.866" endtime="20230612 10:24:08.423"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:08.424" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:08.423" endtime="20230612 10:24:08.424"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:08.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:08.424" endtime="20230612 10:24:08.425"/>
</kw>
<status status="PASS" starttime="20230612 10:24:07.866" endtime="20230612 10:24:08.425"/>
</kw>
<msg timestamp="20230612 10:24:08.425" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:07.865" endtime="20230612 10:24:08.426"/>
</kw>
<status status="PASS" starttime="20230612 10:24:07.865" endtime="20230612 10:24:08.426"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:08.431" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:08.984" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:08.984" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:08.427" endtime="20230612 10:24:08.984"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:08.993" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:08.985" endtime="20230612 10:24:08.993"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:08.994" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:08.993" endtime="20230612 10:24:08.994"/>
</kw>
<status status="PASS" starttime="20230612 10:24:08.427" endtime="20230612 10:24:08.995"/>
</kw>
<msg timestamp="20230612 10:24:08.995" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:08.427" endtime="20230612 10:24:08.995"/>
</kw>
<status status="PASS" starttime="20230612 10:24:08.426" endtime="20230612 10:24:08.995"/>
</kw>
<status status="PASS" starttime="20230612 10:24:06.796" endtime="20230612 10:24:08.995"/>
</kw>
<status status="PASS" starttime="20230612 10:24:06.796" endtime="20230612 10:24:08.995"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:06.795" endtime="20230612 10:24:08.996"/>
</test>
<test id="s1-s17-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:09.003" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:09.699" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:09.699" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:24:08.999" endtime="20230612 10:24:09.699"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:09.701" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:24:09 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:24:09.700" endtime="20230612 10:24:09.701"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:09.702" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:09.701" endtime="20230612 10:24:09.702"/>
</kw>
<msg timestamp="20230612 10:24:09.703" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:24:08.998" endtime="20230612 10:24:09.703"/>
</kw>
<msg timestamp="20230612 10:24:09.703" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:51 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:24:08.998" endtime="20230612 10:24:09.703"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:09.704" endtime="20230612 10:24:09.704"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:09.709" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:09.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:09.712" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:24:09.705" endtime="20230612 10:24:09.712"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:09.713" level="INFO">new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:24:09.712" endtime="20230612 10:24:09.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:09.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:09.713" endtime="20230612 10:24:09.714"/>
</kw>
<msg timestamp="20230612 10:24:09.714" level="INFO">${output} = new2: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:24:09.704" endtime="20230612 10:24:09.715"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:09.715" endtime="20230612 10:24:09.715"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:09.718" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:09.722" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:09.722" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:09.716" endtime="20230612 10:24:09.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:09.723" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:09.722" endtime="20230612 10:24:09.723"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:09.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:09.723" endtime="20230612 10:24:09.724"/>
</kw>
<status status="PASS" starttime="20230612 10:24:09.715" endtime="20230612 10:24:09.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:08.996" endtime="20230612 10:24:09.725"/>
</test>
<test id="s1-s17-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:09.730" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new2-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:10.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:10.513" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:56 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:24:09.728" endtime="20230612 10:24:10.513"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:10.516" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:56 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:24:10 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:24:10.513" endtime="20230612 10:24:10.517"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:10.519" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:10.518" endtime="20230612 10:24:10.519"/>
</kw>
<msg timestamp="20230612 10:24:10.519" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:56 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:24:09.728" endtime="20230612 10:24:10.519"/>
</kw>
<msg timestamp="20230612 10:24:10.519" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:23:56 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:24:09.727" endtime="20230612 10:24:10.519"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:10.520" endtime="20230612 10:24:10.521"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:10.529" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:10.532" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:10.532" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:24:10.522" endtime="20230612 10:24:10.533"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:10.534" level="INFO">new2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:24:10.533" endtime="20230612 10:24:10.534"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:10.535" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:10.535" endtime="20230612 10:24:10.535"/>
</kw>
<msg timestamp="20230612 10:24:10.536" level="INFO">${output} = new2: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:24:10.521" endtime="20230612 10:24:10.536"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:10.536" endtime="20230612 10:24:10.536"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:10.539" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:10.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:10.543" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:10.537" endtime="20230612 10:24:10.543"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:10.544" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:10.543" endtime="20230612 10:24:10.544"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:10.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:10.544" endtime="20230612 10:24:10.544"/>
</kw>
<status status="PASS" starttime="20230612 10:24:10.537" endtime="20230612 10:24:10.545"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:09.726" endtime="20230612 10:24:10.545"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:24:00.395" endtime="20230612 10:24:10.547"/>
</suite>
<suite id="s1-s18" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s18-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:24:14.579" endtime="20230612 10:24:14.579"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>env</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:14.585" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:14.588" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:14.589" level="INFO">${output} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:24:14.580" endtime="20230612 10:24:14.589"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:14.590" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:24:14.589" endtime="20230612 10:24:14.590"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:14.590" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:14.590" endtime="20230612 10:24:14.590"/>
</kw>
<status status="PASS" starttime="20230612 10:24:14.580" endtime="20230612 10:24:14.591"/>
</kw>
<msg timestamp="20230612 10:24:14.591" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:14.580" endtime="20230612 10:24:14.591"/>
</kw>
<msg timestamp="20230612 10:24:14.591" level="INFO">${result} = OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/ha...</msg>
<status status="PASS" starttime="20230612 10:24:14.579" endtime="20230612 10:24:14.591"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:14.592" level="INFO">OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
HOSTNAME=dfadc871a7c0
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.replication=3
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.scm.container.size=1GB
JAVA_HOME=/usr/lib/jvm/jre/
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_UPGRADE_FROM=1.3.0
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE_UPGRADE_TO=1.4.0
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3
_=/usr/bin/env</msg>
<status status="PASS" starttime="20230612 10:24:14.591" endtime="20230612 10:24:14.592"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:24:14.592" endtime="20230612 10:24:14.592"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:14.596" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:18.967" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:18.967" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:14.594" endtime="20230612 10:24:18.968"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:18.969" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:18.968" endtime="20230612 10:24:18.969"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:18.970" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:18.969" endtime="20230612 10:24:18.974"/>
</kw>
<status status="PASS" starttime="20230612 10:24:14.593" endtime="20230612 10:24:18.974"/>
</kw>
<msg timestamp="20230612 10:24:18.974" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:14.593" endtime="20230612 10:24:18.974"/>
</kw>
<msg timestamp="20230612 10:24:18.974" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:14.593" endtime="20230612 10:24:18.974"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:18.975" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:18.975" endtime="20230612 10:24:18.975"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:24:18.975" endtime="20230612 10:24:18.976"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:24:14.578" endtime="20230612 10:24:18.977"/>
</test>
<test id="s1-s18-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:24:18.979" endtime="20230612 10:24:18.979"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:24:18.979" endtime="20230612 10:24:18.980"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:18.984" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:22.537" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:22.537" level="INFO">${output} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:18.981" endtime="20230612 10:24:22.537"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:22.538" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:22.538" endtime="20230612 10:24:22.539"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:22.539" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:22.539" endtime="20230612 10:24:22.539"/>
</kw>
<status status="PASS" starttime="20230612 10:24:18.981" endtime="20230612 10:24:22.540"/>
</kw>
<msg timestamp="20230612 10:24:22.540" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:18.980" endtime="20230612 10:24:22.540"/>
</kw>
<msg timestamp="20230612 10:24:22.540" level="INFO">${result} = FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:18.980" endtime="20230612 10:24:22.540"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:22.541" level="INFO">FINALIZATION_DONE</msg>
<status status="PASS" starttime="20230612 10:24:22.541" endtime="20230612 10:24:22.541"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:24:22.541" endtime="20230612 10:24:22.542"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:24:18.978" endtime="20230612 10:24:22.542"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230612 10:24:14.529" endtime="20230612 10:24:22.543"/>
</suite>
<suite id="s1-s19" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s19-t1" name="Create snapshots" line="27">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:26.613" level="INFO">Running command 'ozone sh volume create snapvolume-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:29.905" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:29.905" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:26.608" endtime="20230612 10:24:29.905"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:29.907" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:29.906" endtime="20230612 10:24:29.907"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:29.907" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:29.907" endtime="20230612 10:24:29.908"/>
</kw>
<status status="PASS" starttime="20230612 10:24:26.607" endtime="20230612 10:24:29.908"/>
</kw>
<msg timestamp="20230612 10:24:29.908" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:26.607" endtime="20230612 10:24:29.908"/>
</kw>
<msg timestamp="20230612 10:24:29.908" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:26.606" endtime="20230612 10:24:29.908"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:29.909" endtime="20230612 10:24:29.909"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-1/snapbucket-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:29.914" level="INFO">Running command 'ozone sh bucket create /snapvolume-1/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:33.567" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:33.567" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:29.911" endtime="20230612 10:24:33.567"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:33.569" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:33.568" endtime="20230612 10:24:33.569"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:33.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:33.569" endtime="20230612 10:24:33.570"/>
</kw>
<status status="PASS" starttime="20230612 10:24:29.910" endtime="20230612 10:24:33.570"/>
</kw>
<msg timestamp="20230612 10:24:33.570" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:29.910" endtime="20230612 10:24:33.570"/>
</kw>
<msg timestamp="20230612 10:24:33.571" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:29.909" endtime="20230612 10:24:33.571"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:33.571" endtime="20230612 10:24:33.571"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:33.576" level="INFO">Running command 'ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:37.813" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:37.813" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:33.573" endtime="20230612 10:24:37.813"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:37.820" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:37.815" endtime="20230612 10:24:37.821"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:37.832" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:37.826" endtime="20230612 10:24:37.833"/>
</kw>
<status status="PASS" starttime="20230612 10:24:33.573" endtime="20230612 10:24:37.836"/>
</kw>
<msg timestamp="20230612 10:24:37.836" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:33.572" endtime="20230612 10:24:37.837"/>
</kw>
<msg timestamp="20230612 10:24:37.837" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:33.572" endtime="20230612 10:24:37.837"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:37.838" endtime="20230612 10:24:37.838"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>echo "key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:37.863" level="INFO">Running command 'echo "key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:24:37.885" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:37.885" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:37.840" endtime="20230612 10:24:37.885"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:37.895" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:37.889" endtime="20230612 10:24:37.896"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:37.898" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:37.896" endtime="20230612 10:24:37.898"/>
</kw>
<status status="PASS" starttime="20230612 10:24:37.839" endtime="20230612 10:24:37.898"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /snapvolume-1/snapbucket-1/key1 /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:37.921" level="INFO">Running command 'ozone sh key put /snapvolume-1/snapbucket-1/key1 /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:44.614" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:44.615" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:37.913" endtime="20230612 10:24:44.615"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:44.617" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:44.616" endtime="20230612 10:24:44.617"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:44.618" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:44.618" endtime="20230612 10:24:44.618"/>
</kw>
<status status="PASS" starttime="20230612 10:24:37.911" endtime="20230612 10:24:44.619"/>
</kw>
<msg timestamp="20230612 10:24:44.619" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:37.909" endtime="20230612 10:24:44.619"/>
</kw>
<status status="PASS" starttime="20230612 10:24:37.906" endtime="20230612 10:24:44.619"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:44.624" level="INFO">Running command 'ozone sh snapshot create /snapvolume-1/snapbucket-1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:48.286" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:48.286" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:24:44.621" endtime="20230612 10:24:48.286"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:48.287" level="INFO"/>
<status status="PASS" starttime="20230612 10:24:48.286" endtime="20230612 10:24:48.287"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:48.288" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:48.287" endtime="20230612 10:24:48.288"/>
</kw>
<status status="PASS" starttime="20230612 10:24:44.620" endtime="20230612 10:24:48.288"/>
</kw>
<msg timestamp="20230612 10:24:48.288" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:44.620" endtime="20230612 10:24:48.288"/>
</kw>
<status status="PASS" starttime="20230612 10:24:44.619" endtime="20230612 10:24:48.289"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:26.606" endtime="20230612 10:24:48.289"/>
</test>
<test id="s1-s19-t2" name="List snapshots" line="48">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-1/snapbucket-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:48.294" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-1/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:52.365" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:52.365" level="INFO">${output} = [ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot1",
  "creationTime" : 1686565477678,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "75bf30b2-e40f-...</msg>
<status status="PASS" starttime="20230612 10:24:48.292" endtime="20230612 10:24:52.365"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:52.367" level="INFO">[ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot1",
  "creationTime" : 1686565477678,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "75bf30b2-e40f-43a2-8512-253691a1e126",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-75bf30b2-e40f-43a2-8512-253691a1e126"
}, {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot2",
  "creationTime" : 1686565488179,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "8499ff87-c85f-4041-b704-61a1ee1f95df",
  "snapshotPath" : "snapvolume-1/snapbucket-1",
  "checkpointDir" : "-8499ff87-c85f-4041-b704-61a1ee1f95df"
} ]</msg>
<status status="PASS" starttime="20230612 10:24:52.366" endtime="20230612 10:24:52.367"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:52.368" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:52.367" endtime="20230612 10:24:52.368"/>
</kw>
<status status="PASS" starttime="20230612 10:24:48.291" endtime="20230612 10:24:52.368"/>
</kw>
<msg timestamp="20230612 10:24:52.368" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:48.291" endtime="20230612 10:24:52.369"/>
</kw>
<msg timestamp="20230612 10:24:52.369" level="INFO">${output} = [ {
  "volumeName" : "snapvolume-1",
  "bucketName" : "snapbucket-1",
  "name" : "snapshot1",
  "creationTime" : 1686565477678,
  "snapshotStatus" : "SNAPSHOT_ACTIVE",
  "snapshotId" : "75bf30b2-e40f-...</msg>
<status status="PASS" starttime="20230612 10:24:48.291" endtime="20230612 10:24:52.369"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>snapshot1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:52.369" endtime="20230612 10:24:52.370"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>snapshot2</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:52.370" endtime="20230612 10:24:52.370"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_ACTIVE</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:24:52.371" endtime="20230612 10:24:52.371"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:48.290" endtime="20230612 10:24:52.371"/>
</test>
<test id="s1-s19-t3" name="Snapshot Diff" line="60">
<while condition="True">
<iter>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:24:52.378" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:24:56.428" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:24:56.429" level="INFO">${output} = Snapshot diff job is IN_PROGRESS
Please retry after 60000 ms.</msg>
<status status="PASS" starttime="20230612 10:24:52.375" endtime="20230612 10:24:56.429"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:24:56.430" level="INFO">Snapshot diff job is IN_PROGRESS
Please retry after 60000 ms.</msg>
<status status="PASS" starttime="20230612 10:24:56.429" endtime="20230612 10:24:56.430"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:24:56.431" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:24:56.430" endtime="20230612 10:24:56.431"/>
</kw>
<status status="PASS" starttime="20230612 10:24:52.375" endtime="20230612 10:24:56.431"/>
</kw>
<msg timestamp="20230612 10:24:56.432" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:24:52.374" endtime="20230612 10:24:56.432"/>
</kw>
<msg timestamp="20230612 10:24:56.432" level="INFO">${output} = Snapshot diff job is IN_PROGRESS
Please retry after 60000 ms.</msg>
<status status="PASS" starttime="20230612 10:24:52.374" endtime="20230612 10:24:56.432"/>
</kw>
<if>
<branch type="IF" condition="&quot;Snapshot diff job is IN_PROGRESS&quot; in &quot;&quot;&quot;${output}&quot;&quot;&quot;">
<kw name="Sleep" library="BuiltIn">
<arg>10s</arg>
<doc>Pauses the test executed for the given time.</doc>
<msg timestamp="20230612 10:25:06.433" level="INFO">Slept 10 seconds</msg>
<status status="PASS" starttime="20230612 10:24:56.433" endtime="20230612 10:25:06.434"/>
</kw>
<status status="PASS" starttime="20230612 10:24:56.432" endtime="20230612 10:25:06.434"/>
</branch>
<branch type="ELSE">
<break>
<status status="NOT RUN" starttime="20230612 10:25:06.434" endtime="20230612 10:25:06.434"/>
</break>
<status status="NOT RUN" starttime="20230612 10:25:06.434" endtime="20230612 10:25:06.434"/>
</branch>
<status status="PASS" starttime="20230612 10:24:56.432" endtime="20230612 10:25:06.434"/>
</if>
<status status="PASS" starttime="20230612 10:24:52.373" endtime="20230612 10:25:06.434"/>
</iter>
<iter>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:25:06.440" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-1/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:25:09.826" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:25:09.826" level="INFO">${output} = Difference between snapshot: snapshot1 and snapshot: snapshot2
+	./key1</msg>
<status status="PASS" starttime="20230612 10:25:06.436" endtime="20230612 10:25:09.827"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:25:09.828" level="INFO">Difference between snapshot: snapshot1 and snapshot: snapshot2
+	./key1</msg>
<status status="PASS" starttime="20230612 10:25:09.827" endtime="20230612 10:25:09.828"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:25:09.829" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:25:09.828" endtime="20230612 10:25:09.829"/>
</kw>
<status status="PASS" starttime="20230612 10:25:06.436" endtime="20230612 10:25:09.829"/>
</kw>
<msg timestamp="20230612 10:25:09.829" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:25:06.435" endtime="20230612 10:25:09.829"/>
</kw>
<msg timestamp="20230612 10:25:09.830" level="INFO">${output} = Difference between snapshot: snapshot1 and snapshot: snapshot2
+	./key1</msg>
<status status="PASS" starttime="20230612 10:25:06.435" endtime="20230612 10:25:09.830"/>
</kw>
<if>
<branch type="IF" condition="&quot;Snapshot diff job is IN_PROGRESS&quot; in &quot;&quot;&quot;${output}&quot;&quot;&quot;">
<kw name="Sleep" library="BuiltIn">
<arg>10s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" starttime="20230612 10:25:09.830" endtime="20230612 10:25:09.830"/>
</kw>
<status status="NOT RUN" starttime="20230612 10:25:09.830" endtime="20230612 10:25:09.830"/>
</branch>
<branch type="ELSE">
<break>
<status status="PASS" starttime="20230612 10:25:09.830" endtime="20230612 10:25:09.830"/>
</break>
<status status="PASS" starttime="20230612 10:25:09.830" endtime="20230612 10:25:09.830"/>
</branch>
<status status="PASS" starttime="20230612 10:25:09.830" endtime="20230612 10:25:09.831"/>
</if>
<status status="PASS" starttime="20230612 10:25:06.434" endtime="20230612 10:25:09.831"/>
</iter>
<status status="PASS" starttime="20230612 10:24:52.373" endtime="20230612 10:25:09.831"/>
</while>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>+</arg>
<arg>key1</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:25:09.831" endtime="20230612 10:25:09.831"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:24:52.372" endtime="20230612 10:25:09.831"/>
</test>
<test id="s1-s19-t4" name="Delete snapshot" line="77">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-1/snapbucket-1 snapshot1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:25:09.837" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-1/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:25:13.616" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:25:13.616" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:25:09.835" endtime="20230612 10:25:13.616"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:25:13.623" level="INFO"/>
<status status="PASS" starttime="20230612 10:25:13.617" endtime="20230612 10:25:13.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:25:13.624" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:25:13.623" endtime="20230612 10:25:13.625"/>
</kw>
<status status="PASS" starttime="20230612 10:25:09.834" endtime="20230612 10:25:13.625"/>
</kw>
<msg timestamp="20230612 10:25:13.627" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:25:09.834" endtime="20230612 10:25:13.627"/>
</kw>
<msg timestamp="20230612 10:25:13.628" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:25:09.833" endtime="20230612 10:25:13.628"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:25:13.628" endtime="20230612 10:25:13.630"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-1/snapbucket-1 | jq '[.[] | select(.name == "snapshot1") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:25:13.640" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-1/snapbucket-1 | jq '[.[] | select(.name == "snapshot1") | .snapshotStatus] | if length &gt; 0 then .[] else "SNAPSHOT_DELETED" end''.</msg>
<msg timestamp="20230612 10:25:17.947" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:25:17.947" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230612 10:25:13.635" endtime="20230612 10:25:17.947"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:25:17.948" level="INFO">"SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230612 10:25:17.947" endtime="20230612 10:25:17.948"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:25:17.948" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:25:17.948" endtime="20230612 10:25:17.949"/>
</kw>
<status status="PASS" starttime="20230612 10:25:13.633" endtime="20230612 10:25:17.949"/>
</kw>
<msg timestamp="20230612 10:25:17.949" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:25:13.632" endtime="20230612 10:25:17.949"/>
</kw>
<msg timestamp="20230612 10:25:17.949" level="INFO">${output} = "SNAPSHOT_DELETED"</msg>
<status status="PASS" starttime="20230612 10:25:13.630" endtime="20230612 10:25:17.949"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>SNAPSHOT_DELETED</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:25:17.949" endtime="20230612 10:25:17.950"/>
</kw>
<tag>finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:25:09.832" endtime="20230612 10:25:17.950"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230612 10:24:26.556" endtime="20230612 10:25:17.952"/>
</suite>
<suite id="s1-s20" name="Finalize" source="/opt/hadoop/smoketest/upgrade/finalize.robot">
<test id="s1-s20-t1" name="Finalize HDDS" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:20:19.784" endtime="20230612 10:20:19.786"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizeupgrade</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:20:19.793" level="INFO">Running command 'ozone admin scm finalizeupgrade 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:15.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:15.050" level="INFO">${output} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230612 10:20:19.788" endtime="20230612 10:22:15.050"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:15.051" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230612 10:22:15.050" endtime="20230612 10:22:15.051"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:15.052" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:15.052" endtime="20230612 10:22:15.052"/>
</kw>
<status status="PASS" starttime="20230612 10:20:19.787" endtime="20230612 10:22:15.052"/>
</kw>
<msg timestamp="20230612 10:22:15.053" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:20:19.786" endtime="20230612 10:22:15.053"/>
</kw>
<msg timestamp="20230612 10:22:15.053" level="INFO">${result} = Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature:...</msg>
<status status="PASS" starttime="20230612 10:20:19.786" endtime="20230612 10:22:15.053"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:15.054" level="INFO">Finalization started.
  Existing pipelines and containers will be closed during Upgrade.
  New pipelines creation will remain frozen until Upgrade is finalized.
No onFinalize work defined for feature: RATIS_DATASTREAM_PORT_IN_DATANODEDETAILS.
No onFinalize work defined for feature: WEBUI_PORTS_IN_DATANODEDETAILS.
No onFinalize work defined for feature: HADOOP_PRC_PORTS_IN_DATANODEDETAILS.
Finalization is done.
Exiting...
Finalization of Storage Container Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230612 10:22:15.053" endtime="20230612 10:22:15.054"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:20:19.783" endtime="20230612 10:22:15.054"/>
</test>
<test id="s1-s20-t2" name="Finalize OMs" line="27">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:22:15.056" endtime="20230612 10:22:15.057"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizeupgrade -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:22:15.061" level="INFO">Running command 'ozone admin om finalizeupgrade -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:22:19.789" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:22:19.789" level="INFO">${output} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metad...</msg>
<status status="PASS" starttime="20230612 10:22:15.058" endtime="20230612 10:22:19.789"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:19.791" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230612 10:22:19.790" endtime="20230612 10:22:19.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:22:19.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:22:19.791" endtime="20230612 10:22:19.792"/>
</kw>
<status status="PASS" starttime="20230612 10:22:15.058" endtime="20230612 10:22:19.792"/>
</kw>
<msg timestamp="20230612 10:22:19.792" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:22:15.057" endtime="20230612 10:22:19.792"/>
</kw>
<msg timestamp="20230612 10:22:19.792" level="INFO">${result} = Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metad...</msg>
<status status="PASS" starttime="20230612 10:22:15.057" endtime="20230612 10:22:19.792"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:22:19.793" level="INFO">Finalization started.
No onFinalize work defined for feature: HSYNC.
No onFinalize work defined for feature: FILESYSTEM_SNAPSHOT.
Finalization is done.
Exiting...
Finalization of Ozone Manager's metadata upgrade finished.</msg>
<status status="PASS" starttime="20230612 10:22:19.792" endtime="20230612 10:22:19.793"/>
</kw>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:22:15.055" endtime="20230612 10:22:19.793"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230612 10:20:19.721" endtime="20230612 10:22:19.797"/>
</suite>
<suite id="s1-s21" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s21-t1" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:21.150" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:12:21.152" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:21.152" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:21.146" endtime="20230612 10:12:21.152"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:21.153" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:21.152" endtime="20230612 10:12:21.153"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:21.154" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:21.153" endtime="20230612 10:12:21.154"/>
</kw>
<status status="PASS" starttime="20230612 10:12:21.145" endtime="20230612 10:12:21.154"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:21.158" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:29.324" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:29.324" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:21.156" endtime="20230612 10:12:29.324"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:29.326" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:29.325" endtime="20230612 10:12:29.326"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:29.326" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:29.326" endtime="20230612 10:12:29.326"/>
</kw>
<status status="PASS" starttime="20230612 10:12:21.155" endtime="20230612 10:12:29.327"/>
</kw>
<msg timestamp="20230612 10:12:29.327" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:21.155" endtime="20230612 10:12:29.327"/>
</kw>
<msg timestamp="20230612 10:12:29.327" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:21.155" endtime="20230612 10:12:29.327"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:29.327" endtime="20230612 10:12:29.328"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:29.333" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:29.345" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:29.345" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:29.328" endtime="20230612 10:12:29.346"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:29.348" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:29.347" endtime="20230612 10:12:29.348"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:29.348" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:29.348" endtime="20230612 10:12:29.348"/>
</kw>
<status status="PASS" starttime="20230612 10:12:29.328" endtime="20230612 10:12:29.349"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:21.145" endtime="20230612 10:12:29.349"/>
</test>
<test id="s1-s21-t2" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:29.356" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:12:29.358" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:29.358" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:29.353" endtime="20230612 10:12:29.358"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:29.360" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:29.359" endtime="20230612 10:12:29.360"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:29.361" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:29.360" endtime="20230612 10:12:29.361"/>
</kw>
<status status="PASS" starttime="20230612 10:12:29.353" endtime="20230612 10:12:29.361"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:29.365" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:35.338" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:35.338" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:29.363" endtime="20230612 10:12:35.338"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:35.340" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:35.339" endtime="20230612 10:12:35.340"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:35.341" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:35.340" endtime="20230612 10:12:35.341"/>
</kw>
<status status="PASS" starttime="20230612 10:12:29.362" endtime="20230612 10:12:35.341"/>
</kw>
<msg timestamp="20230612 10:12:35.341" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:29.362" endtime="20230612 10:12:35.341"/>
</kw>
<msg timestamp="20230612 10:12:35.342" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:29.361" endtime="20230612 10:12:35.342"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:35.342" endtime="20230612 10:12:35.342"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:35.346" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:35.349" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:35.349" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:35.343" endtime="20230612 10:12:35.349"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:35.350" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:35.350" endtime="20230612 10:12:35.350"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:35.351" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:35.351" endtime="20230612 10:12:35.351"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.342" endtime="20230612 10:12:35.351"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:29.351" endtime="20230612 10:12:35.352"/>
</test>
<test id="s1-s21-t3" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:35.358" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:35.926" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:35.926" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:35.355" endtime="20230612 10:12:35.927"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:35.930" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:35.928" endtime="20230612 10:12:35.930"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:35.931" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:35.931" endtime="20230612 10:12:35.933"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.355" endtime="20230612 10:12:35.933"/>
</kw>
<msg timestamp="20230612 10:12:35.933" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:35.355" endtime="20230612 10:12:35.935"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.354" endtime="20230612 10:12:35.935"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:35.945" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:36.646" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:36.646" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:35.938" endtime="20230612 10:12:36.646"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:36.647" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:36.646" endtime="20230612 10:12:36.647"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:36.648" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:36.647" endtime="20230612 10:12:36.648"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.938" endtime="20230612 10:12:36.648"/>
</kw>
<msg timestamp="20230612 10:12:36.648" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:35.936" endtime="20230612 10:12:36.648"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.935" endtime="20230612 10:12:36.648"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:36.653" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:37.165" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:37.165" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:36.650" endtime="20230612 10:12:37.165"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:37.167" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:37.166" endtime="20230612 10:12:37.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:37.167" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:37.167" endtime="20230612 10:12:37.168"/>
</kw>
<status status="PASS" starttime="20230612 10:12:36.649" endtime="20230612 10:12:37.168"/>
</kw>
<msg timestamp="20230612 10:12:37.168" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:36.649" endtime="20230612 10:12:37.168"/>
</kw>
<status status="PASS" starttime="20230612 10:12:36.649" endtime="20230612 10:12:37.168"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:37.172" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:37.733" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:37.733" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:37.170" endtime="20230612 10:12:37.733"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:37.735" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:37.734" endtime="20230612 10:12:37.735"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:37.736" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:37.735" endtime="20230612 10:12:37.736"/>
</kw>
<status status="PASS" starttime="20230612 10:12:37.169" endtime="20230612 10:12:37.736"/>
</kw>
<msg timestamp="20230612 10:12:37.736" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:37.169" endtime="20230612 10:12:37.737"/>
</kw>
<status status="PASS" starttime="20230612 10:12:37.168" endtime="20230612 10:12:37.737"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.354" endtime="20230612 10:12:37.737"/>
</kw>
<status status="PASS" starttime="20230612 10:12:35.354" endtime="20230612 10:12:37.737"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:35.353" endtime="20230612 10:12:37.737"/>
</test>
<test id="s1-s21-t4" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:37.745" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:38.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:38.582" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:12:37.742" endtime="20230612 10:12:38.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:38.584" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:12:38.583" endtime="20230612 10:12:38.584"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:38.585" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:38.584" endtime="20230612 10:12:38.585"/>
</kw>
<status status="PASS" starttime="20230612 10:12:37.741" endtime="20230612 10:12:38.585"/>
</kw>
<msg timestamp="20230612 10:12:38.585" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:37.741" endtime="20230612 10:12:38.586"/>
</kw>
<msg timestamp="20230612 10:12:38.586" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:12:37.741" endtime="20230612 10:12:38.586"/>
</kw>
<msg timestamp="20230612 10:12:38.586" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:12:37.740" endtime="20230612 10:12:38.586"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:38.587" endtime="20230612 10:12:38.587"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:38.587" endtime="20230612 10:12:38.588"/>
</kw>
<msg timestamp="20230612 10:12:38.588" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230612 10:12:37.740" endtime="20230612 10:12:38.588"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230612 10:12:38.588" endtime="20230612 10:12:38.589"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:37.739" endtime="20230612 10:12:38.589"/>
</test>
<test id="s1-s21-t5" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:38.602" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:12:38.604" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:38.604" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:38.599" endtime="20230612 10:12:38.604"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:38.605" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:38.605" endtime="20230612 10:12:38.605"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:38.606" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:38.605" endtime="20230612 10:12:38.606"/>
</kw>
<status status="PASS" starttime="20230612 10:12:38.598" endtime="20230612 10:12:38.606"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:38.610" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:39.741" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:39.741" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:38.608" endtime="20230612 10:12:39.741"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:39.743" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:39.742" endtime="20230612 10:12:39.743"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:39.744" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:39.743" endtime="20230612 10:12:39.744"/>
</kw>
<msg timestamp="20230612 10:12:39.744" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:38.607" endtime="20230612 10:12:39.744"/>
</kw>
<msg timestamp="20230612 10:12:39.745" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:38.607" endtime="20230612 10:12:39.745"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:39.745" endtime="20230612 10:12:39.745"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:39.749" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:39.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:39.752" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:39.746" endtime="20230612 10:12:39.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:39.754" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:39.753" endtime="20230612 10:12:39.754"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:39.755" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:39.754" endtime="20230612 10:12:39.755"/>
</kw>
<status status="PASS" starttime="20230612 10:12:39.746" endtime="20230612 10:12:39.755"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:38.590" endtime="20230612 10:12:39.756"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230612 10:12:21.069" endtime="20230612 10:12:39.757"/>
</suite>
<suite id="s1-s22" name="Generate" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<test id="s1-s22-t1" name="Create a volume and bucket" line="28">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:43.900" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:47.563" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:47.563" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:43.896" endtime="20230612 10:12:47.563"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:47.565" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:47.564" endtime="20230612 10:12:47.565"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:47.565" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:47.565" endtime="20230612 10:12:47.566"/>
</kw>
<status status="PASS" starttime="20230612 10:12:43.896" endtime="20230612 10:12:47.566"/>
</kw>
<msg timestamp="20230612 10:12:47.566" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:43.895" endtime="20230612 10:12:47.566"/>
</kw>
<msg timestamp="20230612 10:12:47.566" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:43.895" endtime="20230612 10:12:47.566"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:47.567" endtime="20230612 10:12:47.567"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:47.571" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:51.161" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:51.161" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:47.569" endtime="20230612 10:12:51.161"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:51.163" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:51.162" endtime="20230612 10:12:51.163"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:51.163" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:51.163" endtime="20230612 10:12:51.164"/>
</kw>
<status status="PASS" starttime="20230612 10:12:47.568" endtime="20230612 10:12:51.164"/>
</kw>
<msg timestamp="20230612 10:12:51.164" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:47.568" endtime="20230612 10:12:51.164"/>
</kw>
<msg timestamp="20230612 10:12:51.164" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:47.567" endtime="20230612 10:12:51.164"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:51.165" endtime="20230612 10:12:51.165"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:43.894" endtime="20230612 10:12:51.165"/>
</test>
<test id="s1-s22-t2" name="Create key" line="35">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:51.171" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:12:51.173" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:51.174" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:51.168" endtime="20230612 10:12:51.174"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:51.175" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:51.174" endtime="20230612 10:12:51.175"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:51.176" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:51.175" endtime="20230612 10:12:51.176"/>
</kw>
<status status="PASS" starttime="20230612 10:12:51.167" endtime="20230612 10:12:51.176"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:51.181" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:58.058" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:58.058" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:51.178" endtime="20230612 10:12:58.058"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:58.059" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:58.058" endtime="20230612 10:12:58.060"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:58.060" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:58.060" endtime="20230612 10:12:58.061"/>
</kw>
<status status="PASS" starttime="20230612 10:12:51.177" endtime="20230612 10:12:58.061"/>
</kw>
<msg timestamp="20230612 10:12:58.061" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:51.177" endtime="20230612 10:12:58.061"/>
</kw>
<msg timestamp="20230612 10:12:58.061" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:51.176" endtime="20230612 10:12:58.061"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:58.062" endtime="20230612 10:12:58.062"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:58.066" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:58.069" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:58.069" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:58.063" endtime="20230612 10:12:58.069"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:58.070" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:58.069" endtime="20230612 10:12:58.070"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:58.071" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:58.070" endtime="20230612 10:12:58.071"/>
</kw>
<status status="PASS" starttime="20230612 10:12:58.062" endtime="20230612 10:12:58.071"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:51.166" endtime="20230612 10:12:58.071"/>
</test>
<test id="s1-s22-t3" name="Create a bucket in s3v volume" line="41">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:58.077" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:02.075" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:02.075" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:58.075" endtime="20230612 10:13:02.075"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:02.077" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:02.075" endtime="20230612 10:13:02.077"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:02.077" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:02.077" endtime="20230612 10:13:02.078"/>
</kw>
<status status="PASS" starttime="20230612 10:12:58.074" endtime="20230612 10:13:02.078"/>
</kw>
<msg timestamp="20230612 10:13:02.078" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:58.074" endtime="20230612 10:13:02.078"/>
</kw>
<msg timestamp="20230612 10:13:02.078" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:58.074" endtime="20230612 10:13:02.078"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:02.079" endtime="20230612 10:13:02.079"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:58.073" endtime="20230612 10:13:02.079"/>
</test>
<test id="s1-s22-t4" name="Create key in the bucket in s3v volume" line="46">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:02.086" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:13:02.088" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:02.088" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:02.082" endtime="20230612 10:13:02.088"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:02.090" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:02.089" endtime="20230612 10:13:02.090"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:02.090" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:02.090" endtime="20230612 10:13:02.090"/>
</kw>
<status status="PASS" starttime="20230612 10:13:02.081" endtime="20230612 10:13:02.091"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:02.095" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:08.700" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:08.700" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:02.093" endtime="20230612 10:13:08.700"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:08.702" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:08.701" endtime="20230612 10:13:08.702"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:08.702" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:08.702" endtime="20230612 10:13:08.702"/>
</kw>
<status status="PASS" starttime="20230612 10:13:02.092" endtime="20230612 10:13:08.703"/>
</kw>
<msg timestamp="20230612 10:13:08.703" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:02.092" endtime="20230612 10:13:08.703"/>
</kw>
<msg timestamp="20230612 10:13:08.703" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:02.091" endtime="20230612 10:13:08.703"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:08.704" endtime="20230612 10:13:08.704"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:08.708" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:08.711" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:08.711" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:08.705" endtime="20230612 10:13:08.711"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:08.712" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:08.711" endtime="20230612 10:13:08.712"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:08.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:08.712" endtime="20230612 10:13:08.713"/>
</kw>
<status status="PASS" starttime="20230612 10:13:08.704" endtime="20230612 10:13:08.714"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:02.080" endtime="20230612 10:13:08.714"/>
</test>
<test id="s1-s22-t5" name="Setup credentials for S3" line="52">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:08.720" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:09.252" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:09.252" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:08.718" endtime="20230612 10:13:09.252"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:09.253" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:09.252" endtime="20230612 10:13:09.253"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:09.254" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:09.253" endtime="20230612 10:13:09.254"/>
</kw>
<status status="PASS" starttime="20230612 10:13:08.717" endtime="20230612 10:13:09.254"/>
</kw>
<msg timestamp="20230612 10:13:09.254" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:08.717" endtime="20230612 10:13:09.254"/>
</kw>
<status status="PASS" starttime="20230612 10:13:08.717" endtime="20230612 10:13:09.255"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:09.259" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:09.839" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:09.839" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:09.256" endtime="20230612 10:13:09.839"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:09.841" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:09.840" endtime="20230612 10:13:09.841"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:09.842" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:09.841" endtime="20230612 10:13:09.842"/>
</kw>
<status status="PASS" starttime="20230612 10:13:09.256" endtime="20230612 10:13:09.842"/>
</kw>
<msg timestamp="20230612 10:13:09.842" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:09.255" endtime="20230612 10:13:09.842"/>
</kw>
<status status="PASS" starttime="20230612 10:13:09.255" endtime="20230612 10:13:09.842"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:09.847" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:10.395" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:10.395" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:09.844" endtime="20230612 10:13:10.395"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:10.397" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:10.396" endtime="20230612 10:13:10.398"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:10.398" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:10.398" endtime="20230612 10:13:10.399"/>
</kw>
<status status="PASS" starttime="20230612 10:13:09.843" endtime="20230612 10:13:10.399"/>
</kw>
<msg timestamp="20230612 10:13:10.399" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:09.843" endtime="20230612 10:13:10.399"/>
</kw>
<status status="PASS" starttime="20230612 10:13:09.842" endtime="20230612 10:13:10.400"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:10.405" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:10.979" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:10.980" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:10.402" endtime="20230612 10:13:10.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:10.981" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:10.980" endtime="20230612 10:13:10.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:10.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:10.981" endtime="20230612 10:13:10.982"/>
</kw>
<status status="PASS" starttime="20230612 10:13:10.401" endtime="20230612 10:13:10.982"/>
</kw>
<msg timestamp="20230612 10:13:10.982" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:10.401" endtime="20230612 10:13:10.982"/>
</kw>
<status status="PASS" starttime="20230612 10:13:10.400" endtime="20230612 10:13:10.983"/>
</kw>
<status status="PASS" starttime="20230612 10:13:08.716" endtime="20230612 10:13:10.983"/>
</kw>
<status status="PASS" starttime="20230612 10:13:08.716" endtime="20230612 10:13:10.983"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:08.715" endtime="20230612 10:13:10.983"/>
</test>
<test id="s1-s22-t6" name="Try to create a bucket using S3 API" line="56">
<kw name="Create bucket with name" library="commonawslib">
<var>${output}</var>
<arg>${PREFIX}-bucket</arg>
<kw name="Execute AWSS3APICli" library="commonawslib">
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:10.990" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:11.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:11.739" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:13:10.987" endtime="20230612 10:13:11.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:11.740" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:13:11.740" endtime="20230612 10:13:11.741"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:11.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:11.741" endtime="20230612 10:13:11.742"/>
</kw>
<status status="PASS" starttime="20230612 10:13:10.986" endtime="20230612 10:13:11.742"/>
</kw>
<msg timestamp="20230612 10:13:11.742" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:10.986" endtime="20230612 10:13:11.742"/>
</kw>
<msg timestamp="20230612 10:13:11.742" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:13:10.986" endtime="20230612 10:13:11.743"/>
</kw>
<msg timestamp="20230612 10:13:11.743" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket"
}</msg>
<status status="PASS" starttime="20230612 10:13:10.985" endtime="20230612 10:13:11.743"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:11.743" endtime="20230612 10:13:11.743"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:11.744" endtime="20230612 10:13:11.744"/>
</kw>
<msg timestamp="20230612 10:13:11.744" level="INFO">${output} = None</msg>
<status status="PASS" starttime="20230612 10:13:10.985" endtime="20230612 10:13:11.744"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20230612 10:13:11.744" endtime="20230612 10:13:11.745"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:10.984" endtime="20230612 10:13:11.745"/>
</test>
<test id="s1-s22-t7" name="Create key using S3 API" line="61">
<kw name="Execute and checkrc" library="os">
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:11.751" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg timestamp="20230612 10:13:11.753" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:11.753" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:11.748" endtime="20230612 10:13:11.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:11.754" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:11.754" endtime="20230612 10:13:11.754"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:11.755" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:11.754" endtime="20230612 10:13:11.755"/>
</kw>
<status status="PASS" starttime="20230612 10:13:11.748" endtime="20230612 10:13:11.755"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:11.760" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:12.751" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:12.752" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:11.757" endtime="20230612 10:13:12.752"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:12.753" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:12.752" endtime="20230612 10:13:12.753"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:12.754" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:12.753" endtime="20230612 10:13:12.754"/>
</kw>
<msg timestamp="20230612 10:13:12.754" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:11.756" endtime="20230612 10:13:12.754"/>
</kw>
<msg timestamp="20230612 10:13:12.755" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:11.756" endtime="20230612 10:13:12.755"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:12.755" endtime="20230612 10:13:12.755"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:12.759" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:12.761" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:12.761" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:12.756" endtime="20230612 10:13:12.762"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:12.763" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:12.762" endtime="20230612 10:13:12.763"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:12.764" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:12.763" endtime="20230612 10:13:12.764"/>
</kw>
<status status="PASS" starttime="20230612 10:13:12.755" endtime="20230612 10:13:12.764"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:11.747" endtime="20230612 10:13:12.764"/>
</test>
<doc>Generate data</doc>
<status status="PASS" starttime="20230612 10:12:43.812" endtime="20230612 10:13:12.766"/>
</suite>
<suite id="s1-s23" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s23-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:13:16.853" level="INFO">${random} = 90168</msg>
<status status="PASS" starttime="20230612 10:13:16.853" endtime="20230612 10:13:16.853"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:16.859" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-90168 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:23.054" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:23.054" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:16.855" endtime="20230612 10:13:23.054"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:23.055" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:23.054" endtime="20230612 10:13:23.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:23.056" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:23.056" endtime="20230612 10:13:23.056"/>
</kw>
<status status="PASS" starttime="20230612 10:13:16.854" endtime="20230612 10:13:23.057"/>
</kw>
<msg timestamp="20230612 10:13:23.057" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:16.854" endtime="20230612 10:13:23.057"/>
</kw>
<msg timestamp="20230612 10:13:23.057" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:16.853" endtime="20230612 10:13:23.057"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:23.057" endtime="20230612 10:13:23.058"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:23.062" level="INFO">Running command 'cat /tmp/key-90168 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:23.065" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:23.065" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:13:23.059" endtime="20230612 10:13:23.065"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:23.066" level="INFO">new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:13:23.065" endtime="20230612 10:13:23.066"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:23.067" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:23.066" endtime="20230612 10:13:23.067"/>
</kw>
<msg timestamp="20230612 10:13:23.067" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:13:23.058" endtime="20230612 10:13:23.067"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:23.068" endtime="20230612 10:13:23.068"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:23.071" level="INFO">Running command 'rm /tmp/key-90168 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:23.074" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:23.074" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:23.069" endtime="20230612 10:13:23.074"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:23.075" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:23.075" endtime="20230612 10:13:23.076"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:23.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:23.076" endtime="20230612 10:13:23.076"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.068" endtime="20230612 10:13:23.077"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:16.852" endtime="20230612 10:13:23.077"/>
</test>
<test id="s1-s23-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:23.084" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:23.641" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:23.641" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:23.081" endtime="20230612 10:13:23.641"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:23.643" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:23.642" endtime="20230612 10:13:23.643"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:23.643" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:23.643" endtime="20230612 10:13:23.644"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.081" endtime="20230612 10:13:23.644"/>
</kw>
<msg timestamp="20230612 10:13:23.644" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:23.081" endtime="20230612 10:13:23.644"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.080" endtime="20230612 10:13:23.645"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:23.649" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:24.171" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:24.171" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:23.646" endtime="20230612 10:13:24.171"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:24.172" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:24.171" endtime="20230612 10:13:24.172"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:24.173" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:24.172" endtime="20230612 10:13:24.173"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.646" endtime="20230612 10:13:24.173"/>
</kw>
<msg timestamp="20230612 10:13:24.173" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:23.645" endtime="20230612 10:13:24.174"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.645" endtime="20230612 10:13:24.174"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:24.178" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:24.748" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:24.748" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:24.175" endtime="20230612 10:13:24.748"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:24.749" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:24.748" endtime="20230612 10:13:24.749"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:24.750" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:24.750" endtime="20230612 10:13:24.750"/>
</kw>
<status status="PASS" starttime="20230612 10:13:24.175" endtime="20230612 10:13:24.751"/>
</kw>
<msg timestamp="20230612 10:13:24.751" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:24.174" endtime="20230612 10:13:24.751"/>
</kw>
<status status="PASS" starttime="20230612 10:13:24.174" endtime="20230612 10:13:24.751"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:24.756" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:25.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:25.284" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:24.752" endtime="20230612 10:13:25.284"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:25.285" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:25.284" endtime="20230612 10:13:25.285"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:25.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:25.285" endtime="20230612 10:13:25.286"/>
</kw>
<status status="PASS" starttime="20230612 10:13:24.752" endtime="20230612 10:13:25.286"/>
</kw>
<msg timestamp="20230612 10:13:25.286" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:24.752" endtime="20230612 10:13:25.286"/>
</kw>
<status status="PASS" starttime="20230612 10:13:24.751" endtime="20230612 10:13:25.286"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.080" endtime="20230612 10:13:25.287"/>
</kw>
<status status="PASS" starttime="20230612 10:13:23.079" endtime="20230612 10:13:25.287"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:23.078" endtime="20230612 10:13:25.287"/>
</test>
<test id="s1-s23-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:25.292" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:26.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:26.133" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:13:25.290" endtime="20230612 10:13:26.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:26.135" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:13:25 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:13:26.134" endtime="20230612 10:13:26.135"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:26.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:26.135" endtime="20230612 10:13:26.136"/>
</kw>
<msg timestamp="20230612 10:13:26.136" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:13:25.289" endtime="20230612 10:13:26.136"/>
</kw>
<msg timestamp="20230612 10:13:26.136" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:08 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:13:25.289" endtime="20230612 10:13:26.136"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:26.137" endtime="20230612 10:13:26.137"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:26.141" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:26.144" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:26.144" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:13:26.138" endtime="20230612 10:13:26.144"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:26.145" level="INFO">new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:13:26.144" endtime="20230612 10:13:26.145"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:26.146" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:26.145" endtime="20230612 10:13:26.146"/>
</kw>
<msg timestamp="20230612 10:13:26.146" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:13:26.137" endtime="20230612 10:13:26.146"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:26.147" endtime="20230612 10:13:26.147"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:26.150" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:26.153" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:26.153" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:26.148" endtime="20230612 10:13:26.153"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:26.154" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:26.153" endtime="20230612 10:13:26.154"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:26.155" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:26.154" endtime="20230612 10:13:26.155"/>
</kw>
<status status="PASS" starttime="20230612 10:13:26.147" endtime="20230612 10:13:26.155"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:25.288" endtime="20230612 10:13:26.155"/>
</test>
<test id="s1-s23-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:26.161" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:26.909" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:26.909" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:13:26.159" endtime="20230612 10:13:26.909"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:26.910" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:13:26 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:13:26.909" endtime="20230612 10:13:26.910"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:26.911" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:26.910" endtime="20230612 10:13:26.911"/>
</kw>
<msg timestamp="20230612 10:13:26.911" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:13:26.158" endtime="20230612 10:13:26.911"/>
</kw>
<msg timestamp="20230612 10:13:26.912" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:13:12 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:13:26.157" endtime="20230612 10:13:26.912"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:26.912" endtime="20230612 10:13:26.913"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:26.916" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:26.919" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:26.919" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:13:26.913" endtime="20230612 10:13:26.919"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:26.920" level="INFO">new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:13:26.919" endtime="20230612 10:13:26.920"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:26.921" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:26.921" endtime="20230612 10:13:26.921"/>
</kw>
<msg timestamp="20230612 10:13:26.922" level="INFO">${output} = new1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:13:26.913" endtime="20230612 10:13:26.922"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:26.922" endtime="20230612 10:13:26.922"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:26.926" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:26.929" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:26.929" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:26.923" endtime="20230612 10:13:26.929"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:26.931" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:26.930" endtime="20230612 10:13:26.931"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:26.931" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:26.931" endtime="20230612 10:13:26.931"/>
</kw>
<status status="PASS" starttime="20230612 10:13:26.923" endtime="20230612 10:13:26.932"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:26.157" endtime="20230612 10:13:26.932"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:13:16.777" endtime="20230612 10:13:26.934"/>
</suite>
<suite id="s1-s24" name="Check-Finalization" source="/opt/hadoop/smoketest/upgrade/check-finalization.robot">
<test id="s1-s24-t1" name="Check OM Pre Finalized" line="39">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:13:31.080" endtime="20230612 10:13:31.081"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:31.087" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:34.863" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:34.863" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:31.082" endtime="20230612 10:13:34.863"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:34.864" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:34.863" endtime="20230612 10:13:34.865"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:34.865" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:34.865" endtime="20230612 10:13:34.866"/>
</kw>
<status status="PASS" starttime="20230612 10:13:31.082" endtime="20230612 10:13:34.866"/>
</kw>
<msg timestamp="20230612 10:13:34.866" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:31.081" endtime="20230612 10:13:34.866"/>
</kw>
<msg timestamp="20230612 10:13:34.866" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:31.081" endtime="20230612 10:13:34.866"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:34.867" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:34.867" endtime="20230612 10:13:34.867"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:13:34.867" endtime="20230612 10:13:34.868"/>
</kw>
<tag>om</tag>
<tag>pre-finalized</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:13:31.079" endtime="20230612 10:13:34.868"/>
</test>
<test id="s1-s24-t2" name="Check SCM Pre Finalized" line="45">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:13:34.871" endtime="20230612 10:13:34.871"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:34.876" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:39.287" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:39.287" level="INFO">${output} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:34.873" endtime="20230612 10:13:39.287"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:39.289" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:39.288" endtime="20230612 10:13:39.289"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:39.290" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:39.289" endtime="20230612 10:13:39.290"/>
</kw>
<status status="PASS" starttime="20230612 10:13:34.872" endtime="20230612 10:13:39.290"/>
</kw>
<msg timestamp="20230612 10:13:39.290" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:13:34.872" endtime="20230612 10:13:39.291"/>
</kw>
<msg timestamp="20230612 10:13:39.291" level="INFO">${result} = FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:34.871" endtime="20230612 10:13:39.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:39.291" level="INFO">FINALIZATION_REQUIRED</msg>
<status status="PASS" starttime="20230612 10:13:39.291" endtime="20230612 10:13:39.291"/>
</kw>
<kw name="Should Contain Any" library="BuiltIn">
<arg>${result}</arg>
<arg>FINALIZATION_REQUIRED</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" starttime="20230612 10:13:39.292" endtime="20230612 10:13:39.292"/>
</kw>
<tag>pre-finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" starttime="20230612 10:13:34.870" endtime="20230612 10:13:39.292"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" starttime="20230612 10:13:31.031" endtime="20230612 10:13:39.294"/>
</suite>
<suite id="s1-s25" name="Upgrade-Snapshot-Check" source="/opt/hadoop/smoketest/snapshot/upgrade-snapshot-check.robot">
<test id="s1-s25-t1" name="Attempt to create snapshot when snapshot feature is disabled" line="39">
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh volume create snapvolume-2</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:43.314" level="INFO">Running command 'ozone sh volume create snapvolume-2 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:47.120" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:47.120" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:43.307" endtime="20230612 10:13:47.120"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:47.122" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:47.121" endtime="20230612 10:13:47.122"/>
</kw>
<msg timestamp="20230612 10:13:47.123" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:43.307" endtime="20230612 10:13:47.123"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:47.123" endtime="20230612 10:13:47.123"/>
</kw>
<kw name="Execute And Ignore Error" library="os">
<var>${output}</var>
<arg>ozone sh bucket create /snapvolume-2/snapbucket-1</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:47.127" level="INFO">Running command 'ozone sh bucket create /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:50.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:13:50.889" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:47.124" endtime="20230612 10:13:50.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:50.891" level="INFO"/>
<status status="PASS" starttime="20230612 10:13:50.890" endtime="20230612 10:13:50.891"/>
</kw>
<msg timestamp="20230612 10:13:50.891" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:13:47.124" endtime="20230612 10:13:50.892"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:50.892" endtime="20230612 10:13:50.892"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:50.896" level="INFO">Running command 'ozone sh snapshot create /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:54.291" level="INFO">${rc} = 255</msg>
<msg timestamp="20230612 10:13:54.291" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230612 10:13:50.893" endtime="20230612 10:13:54.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:54.293" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230612 10:13:54.292" endtime="20230612 10:13:54.293"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:54.294" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:54.294" endtime="20230612 10:13:54.294"/>
</kw>
<msg timestamp="20230612 10:13:54.295" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotCreateRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230612 10:13:50.892" endtime="20230612 10:13:54.295"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:54.295" endtime="20230612 10:13:54.295"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:43.303" endtime="20230612 10:13:54.296"/>
</test>
<test id="s1-s25-t2" name="Attempt to list snapshot when snapshot feature is disabled" line="55">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot ls /snapvolume-2/snapbucket-1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:54.301" level="INFO">Running command 'ozone sh snapshot ls /snapvolume-2/snapbucket-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:13:58.423" level="INFO">${rc} = 255</msg>
<msg timestamp="20230612 10:13:58.423" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230612 10:13:54.298" endtime="20230612 10:13:58.423"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:13:58.424" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230612 10:13:58.423" endtime="20230612 10:13:58.424"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:13:58.425" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:13:58.424" endtime="20230612 10:13:58.425"/>
</kw>
<msg timestamp="20230612 10:13:58.425" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.getSnapshots(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230612 10:13:54.298" endtime="20230612 10:13:58.425"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:13:58.425" endtime="20230612 10:13:58.426"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:54.297" endtime="20230612 10:13:58.426"/>
</test>
<test id="s1-s25-t3" name="Attempt to snapshotDiff when snapshot feature is disabled" line="72">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:13:58.431" level="INFO">Running command 'ozone sh snapshot snapshotDiff /snapvolume-2/snapbucket-1 snapshot1 snapshot2 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:14:02.110" level="INFO">${rc} = 255</msg>
<msg timestamp="20230612 10:14:02.110" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230612 10:13:58.428" endtime="20230612 10:14:02.110"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:14:02.112" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230612 10:14:02.111" endtime="20230612 10:14:02.112"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:14:02.112" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:14:02.112" endtime="20230612 10:14:02.113"/>
</kw>
<msg timestamp="20230612 10:14:02.113" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OzoneManagerRequestHandler.snapshotDiff(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layo...</msg>
<status status="PASS" starttime="20230612 10:13:58.428" endtime="20230612 10:14:02.113"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:14:02.113" endtime="20230612 10:14:02.114"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:13:58.427" endtime="20230612 10:14:02.114"/>
</test>
<test id="s1-s25-t4" name="Attempt to delete when snapshot feature is disabled" line="85">
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1</arg>
<arg>255</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:14:02.121" level="INFO">Running command 'ozone sh snapshot delete /snapvolume-2/snapbucket-1 snapshot1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:14:05.530" level="INFO">${rc} = 255</msg>
<msg timestamp="20230612 10:14:05.530" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230612 10:14:02.117" endtime="20230612 10:14:05.530"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:14:05.532" level="INFO">NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout version is 5. Current Layout version is 3</msg>
<status status="PASS" starttime="20230612 10:14:05.531" endtime="20230612 10:14:05.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:14:05.532" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:14:05.532" endtime="20230612 10:14:05.533"/>
</kw>
<msg timestamp="20230612 10:14:05.533" level="INFO">${output} = NOT_SUPPORTED_OPERATION_PRIOR_FINALIZATION Operation OMSnapshotDeleteRequest.preExecute(..) cannot be invoked before finalization. It belongs to the layout feature FILESYSTEM_SNAPSHOT, whose layout ve...</msg>
<status status="PASS" starttime="20230612 10:14:02.116" endtime="20230612 10:14:05.533"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>NOT_SUPPORTED_OPERATION</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:14:05.533" endtime="20230612 10:14:05.533"/>
</kw>
<tag>pre-finalized-snapshot-tests</tag>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:14:02.115" endtime="20230612 10:14:05.534"/>
</test>
<doc>Smoketest ozone cluster snapshot feature</doc>
<status status="PASS" starttime="20230612 10:13:43.235" endtime="20230612 10:14:05.535"/>
</suite>
<suite id="s1-s26" name="Prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s26-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" library="BuiltIn" type="SETUP">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20230612 10:14:09.666" endtime="20230612 10:14:09.667"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20230612 10:14:09.667" endtime="20230612 10:14:09.668"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:14:09.674" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:14:18.840" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:14:18.840" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230612 10:14:09.669" endtime="20230612 10:14:18.840"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:14:18.842" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [69]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<status status="PASS" starttime="20230612 10:14:18.841" endtime="20230612 10:14:18.842"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:14:18.843" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:14:18.843" endtime="20230612 10:14:18.843"/>
</kw>
<status status="PASS" starttime="20230612 10:14:09.669" endtime="20230612 10:14:18.844"/>
</kw>
<msg timestamp="20230612 10:14:18.844" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:14:09.668" endtime="20230612 10:14:18.844"/>
</kw>
<msg timestamp="20230612 10:14:18.844" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [69].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<status status="PASS" starttime="20230612 10:14:09.668" endtime="20230612 10:14:18.844"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:14:18.845" endtime="20230612 10:14:18.845"/>
</kw>
<status status="PASS" starttime="20230612 10:14:18.844" endtime="20230612 10:14:18.845"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:14:09.665" endtime="20230612 10:14:18.845"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" starttime="20230612 10:14:09.611" endtime="20230612 10:14:18.847"/>
</suite>
<suite id="s1-s27" name="Validate" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<test id="s1-s27-t1" name="Read data from previously created key" line="28">
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20230612 10:12:01.199" level="INFO">${random} = 15228</msg>
<status status="PASS" starttime="20230612 10:12:01.199" endtime="20230612 10:12:01.199"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:01.206" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-15228 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:08.329" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:08.330" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:01.201" endtime="20230612 10:12:08.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:08.331" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:08.330" endtime="20230612 10:12:08.331"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:08.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:08.332" endtime="20230612 10:12:08.332"/>
</kw>
<status status="PASS" starttime="20230612 10:12:01.200" endtime="20230612 10:12:08.333"/>
</kw>
<msg timestamp="20230612 10:12:08.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:01.200" endtime="20230612 10:12:08.333"/>
</kw>
<msg timestamp="20230612 10:12:08.333" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:01.199" endtime="20230612 10:12:08.333"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:08.334" endtime="20230612 10:12:08.334"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:08.338" level="INFO">Running command 'cat /tmp/key-15228 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:08.342" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:08.342" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:12:08.335" endtime="20230612 10:12:08.343"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:08.344" level="INFO">old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:12:08.343" endtime="20230612 10:12:08.344"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:08.345" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:08.344" endtime="20230612 10:12:08.345"/>
</kw>
<msg timestamp="20230612 10:12:08.345" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:12:08.334" endtime="20230612 10:12:08.345"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:08.345" endtime="20230612 10:12:08.346"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:08.351" level="INFO">Running command 'rm /tmp/key-15228 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:08.358" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:08.358" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:08.347" endtime="20230612 10:12:08.358"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:08.360" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:08.359" endtime="20230612 10:12:08.360"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:08.360" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:08.360" endtime="20230612 10:12:08.361"/>
</kw>
<status status="PASS" starttime="20230612 10:12:08.346" endtime="20230612 10:12:08.361"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:01.198" endtime="20230612 10:12:08.361"/>
</test>
<test id="s1-s27-t2" name="Setup credentials for S3" line="36">
<kw name="Run Keyword" library="BuiltIn">
<arg>Setup dummy credentials for S3</arg>
<doc>Executes the given keyword with the given arguments.</doc>
<kw name="Setup dummy credentials for S3" library="commonawslib">
<kw name="Execute" library="os">
<arg>aws configure set default.s3.signature_version s3v4</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:08.369" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:09.345" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:09.345" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:08.366" endtime="20230612 10:12:09.345"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:09.347" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:09.346" endtime="20230612 10:12:09.347"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:09.348" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:09.347" endtime="20230612 10:12:09.348"/>
</kw>
<status status="PASS" starttime="20230612 10:12:08.365" endtime="20230612 10:12:09.349"/>
</kw>
<msg timestamp="20230612 10:12:09.349" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:08.365" endtime="20230612 10:12:09.349"/>
</kw>
<status status="PASS" starttime="20230612 10:12:08.364" endtime="20230612 10:12:09.349"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_access_key_id dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:09.354" level="INFO">Running command 'aws configure set aws_access_key_id dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:09.956" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:09.956" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:09.351" endtime="20230612 10:12:09.956"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:09.957" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:09.957" endtime="20230612 10:12:09.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:09.958" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:09.958" endtime="20230612 10:12:09.958"/>
</kw>
<status status="PASS" starttime="20230612 10:12:09.350" endtime="20230612 10:12:09.958"/>
</kw>
<msg timestamp="20230612 10:12:09.958" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:09.350" endtime="20230612 10:12:09.959"/>
</kw>
<status status="PASS" starttime="20230612 10:12:09.349" endtime="20230612 10:12:09.959"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set aws_secret_access_key dlfknslnfslf</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:09.963" level="INFO">Running command 'aws configure set aws_secret_access_key dlfknslnfslf 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:10.511" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:10.511" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:09.960" endtime="20230612 10:12:10.511"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:10.512" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:10.512" endtime="20230612 10:12:10.512"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:10.513" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:10.513" endtime="20230612 10:12:10.513"/>
</kw>
<status status="PASS" starttime="20230612 10:12:09.960" endtime="20230612 10:12:10.513"/>
</kw>
<msg timestamp="20230612 10:12:10.514" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:09.959" endtime="20230612 10:12:10.514"/>
</kw>
<status status="PASS" starttime="20230612 10:12:09.959" endtime="20230612 10:12:10.514"/>
</kw>
<kw name="Execute" library="os">
<arg>aws configure set region us-west-1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:10.524" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:11.110" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:11.110" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:10.515" endtime="20230612 10:12:11.110"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:11.112" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:11.111" endtime="20230612 10:12:11.112"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:11.113" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:11.112" endtime="20230612 10:12:11.113"/>
</kw>
<status status="PASS" starttime="20230612 10:12:10.515" endtime="20230612 10:12:11.113"/>
</kw>
<msg timestamp="20230612 10:12:11.113" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20230612 10:12:10.514" endtime="20230612 10:12:11.113"/>
</kw>
<status status="PASS" starttime="20230612 10:12:10.514" endtime="20230612 10:12:11.113"/>
</kw>
<status status="PASS" starttime="20230612 10:12:08.364" endtime="20230612 10:12:11.114"/>
</kw>
<status status="PASS" starttime="20230612 10:12:08.363" endtime="20230612 10:12:11.114"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:08.363" endtime="20230612 10:12:11.114"/>
</test>
<test id="s1-s27-t3" name="Read key created with Ozone Shell using S3 API" line="40">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:11.120" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:15.968" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:15.968" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:12:11.117" endtime="20230612 10:12:15.969"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:15.971" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:12:11 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:12:15.969" endtime="20230612 10:12:15.971"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:15.972" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:15.971" endtime="20230612 10:12:15.972"/>
</kw>
<msg timestamp="20230612 10:12:15.973" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:12:11.117" endtime="20230612 10:12:15.973"/>
</kw>
<msg timestamp="20230612 10:12:15.973" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:04 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:12:11.116" endtime="20230612 10:12:15.973"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:15.973" endtime="20230612 10:12:15.974"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:15.978" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:15.981" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:15.981" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:12:15.975" endtime="20230612 10:12:15.981"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:15.982" level="INFO">old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:12:15.981" endtime="20230612 10:12:15.982"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:15.983" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:15.982" endtime="20230612 10:12:15.983"/>
</kw>
<msg timestamp="20230612 10:12:15.983" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<status status="PASS" starttime="20230612 10:12:15.974" endtime="20230612 10:12:15.984"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:15.984" endtime="20230612 10:12:15.984"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:15.988" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:15.991" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:15.991" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:15.985" endtime="20230612 10:12:15.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:15.992" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:15.991" endtime="20230612 10:12:15.992"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:15.993" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:15.993" endtime="20230612 10:12:15.993"/>
</kw>
<status status="PASS" starttime="20230612 10:12:15.984" endtime="20230612 10:12:15.993"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:11.115" endtime="20230612 10:12:15.994"/>
</test>
<test id="s1-s27-t4" name="Read key created with S3 API using S3 API" line="47">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:16.000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:16.877" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:16.877" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:12:15.997" endtime="20230612 10:12:16.878"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:16.879" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Mon, 12 Jun 2023 10:12:16 GMT",
    "Metadata": {}
}</msg>
<status status="PASS" starttime="20230612 10:12:16.878" endtime="20230612 10:12:16.879"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:16.880" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:16.880" endtime="20230612 10:12:16.880"/>
</kw>
<msg timestamp="20230612 10:12:16.881" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:12:15.996" endtime="20230612 10:12:16.881"/>
</kw>
<msg timestamp="20230612 10:12:16.881" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Mon, 12 Jun 2023 10:09:10 GMT",
    "ContentLength": 31,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<status status="PASS" starttime="20230612 10:12:15.995" endtime="20230612 10:12:16.881"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:16.881" endtime="20230612 10:12:16.882"/>
</kw>
<kw name="Execute and checkrc" library="os">
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:16.885" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:16.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:16.889" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:12:16.882" endtime="20230612 10:12:16.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:16.890" level="INFO">old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:12:16.889" endtime="20230612 10:12:16.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:16.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:16.890" endtime="20230612 10:12:16.891"/>
</kw>
<msg timestamp="20230612 10:12:16.891" level="INFO">${output} = old1: key created using S3 API</msg>
<status status="PASS" starttime="20230612 10:12:16.882" endtime="20230612 10:12:16.891"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20230612 10:12:16.891" endtime="20230612 10:12:16.892"/>
</kw>
<kw name="Execute and checkrc" library="os">
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20230612 10:12:16.895" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg timestamp="20230612 10:12:16.898" level="INFO">${rc} = 0</msg>
<msg timestamp="20230612 10:12:16.898" level="INFO">${output} = </msg>
<status status="PASS" starttime="20230612 10:12:16.893" endtime="20230612 10:12:16.898"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20230612 10:12:16.900" level="INFO"/>
<status status="PASS" starttime="20230612 10:12:16.899" endtime="20230612 10:12:16.900"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20230612 10:12:16.900" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20230612 10:12:16.900" endtime="20230612 10:12:16.901"/>
</kw>
<status status="PASS" starttime="20230612 10:12:16.892" endtime="20230612 10:12:16.901"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20230612 10:12:15.994" endtime="20230612 10:12:16.901"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20230612 10:12:01.102" endtime="20230612 10:12:16.904"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="510187"/>
</suite>
<statistics>
<total>
<stat pass="101" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="8" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="8" fail="0" skip="0">finalized</stat>
<stat pass="4" fail="0" skip="0">finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">om</stat>
<stat pass="2" fail="0" skip="0">pre-finalized</stat>
<stat pass="4" fail="0" skip="0">pre-finalized-snapshot-tests</stat>
<stat pass="5" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="101" fail="0" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="4" fail="0" skip="0" id="s1-s1" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s2" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s3" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s4" name="Validate">upgrade.Validate</stat>
<stat pass="5" fail="0" skip="0" id="s1-s5" name="Generate">upgrade.Generate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s7" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="7" fail="0" skip="0" id="s1-s8" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s9" name="Validate">upgrade.Validate</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Prepare">upgrade.Prepare</stat>
<stat pass="2" fail="0" skip="0" id="s1-s11" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="2" fail="0" skip="0" id="s1-s12" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s13" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s14" name="Validate">upgrade.Validate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s15" name="Validate">upgrade.Validate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s16" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s17" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s18" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s19" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="2" fail="0" skip="0" id="s1-s20" name="Finalize">upgrade.Finalize</stat>
<stat pass="5" fail="0" skip="0" id="s1-s21" name="Generate">upgrade.Generate</stat>
<stat pass="7" fail="0" skip="0" id="s1-s22" name="Generate">upgrade.Generate</stat>
<stat pass="4" fail="0" skip="0" id="s1-s23" name="Validate">upgrade.Validate</stat>
<stat pass="2" fail="0" skip="0" id="s1-s24" name="Check-Finalization">upgrade.Check-Finalization</stat>
<stat pass="4" fail="0" skip="0" id="s1-s25" name="Upgrade-Snapshot-Check">upgrade.Upgrade-Snapshot-Check</stat>
<stat pass="1" fail="0" skip="0" id="s1-s26" name="Prepare">upgrade.Prepare</stat>
<stat pass="4" fail="0" skip="0" id="s1-s27" name="Validate">upgrade.Validate</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
