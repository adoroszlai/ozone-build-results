<?xml version="1.0" encoding="UTF-8"?>
<robot rpa="false" generated="20210314 02:11:50.564" schemaversion="2" generator="Rebot 4.0 (Python 2.7.17 on linux2)">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite source="/opt/hadoop/smoketest/createmrenv.robot" id="s1-s1-s1" name="Createmrenv">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:20.540" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:23.025" level="INFO">${rc} = 255</msg>
<msg timestamp="20210314 01:57:23.025" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 01:57:23.025" starttime="20210314 01:57:20.536"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:23.026" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 01:57:23.026" starttime="20210314 01:57:23.025"/>
</kw>
<msg timestamp="20210314 01:57:23.026" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 01:57:23.026" starttime="20210314 01:57:20.535"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:23.032" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:25.591" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:25.591" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:25.591" starttime="20210314 01:57:23.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:25.592" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:25.592" starttime="20210314 01:57:25.591"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:25.593" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:25.593" starttime="20210314 01:57:25.592"/>
</kw>
<status status="PASS" endtime="20210314 01:57:25.593" starttime="20210314 01:57:23.028"/>
</kw>
<msg timestamp="20210314 01:57:25.594" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:25.594" starttime="20210314 01:57:23.028"/>
</kw>
<msg timestamp="20210314 01:57:25.594" level="INFO">${result} = </msg>
<status status="PASS" endtime="20210314 01:57:25.594" starttime="20210314 01:57:23.028"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:57:25.594" starttime="20210314 01:57:25.594"/>
</kw>
<status status="PASS" endtime="20210314 01:57:25.595" starttime="20210314 01:57:23.027"/>
</kw>
<status status="PASS" endtime="20210314 01:57:25.595" starttime="20210314 01:57:23.027"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:25.600" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:27.847" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:27.847" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:27.847" starttime="20210314 01:57:25.598"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:27.848" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:27.849" starttime="20210314 01:57:27.848"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:27.849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:27.850" starttime="20210314 01:57:27.849"/>
</kw>
<status status="PASS" endtime="20210314 01:57:27.850" starttime="20210314 01:57:25.597"/>
</kw>
<msg timestamp="20210314 01:57:27.850" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:27.850" starttime="20210314 01:57:25.596"/>
</kw>
<status status="PASS" endtime="20210314 01:57:27.850" starttime="20210314 01:57:25.596"/>
</kw>
<status status="PASS" endtime="20210314 01:57:27.850" starttime="20210314 01:57:25.595"/>
</kw>
<status status="PASS" endtime="20210314 01:57:27.851" starttime="20210314 01:57:25.595"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" endtime="20210314 01:57:27.851" starttime="20210314 01:57:27.851"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:27.855" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:30.309" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:30.309" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T01:57...</msg>
<status status="PASS" endtime="20210314 01:57:30.309" starttime="20210314 01:57:27.853"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:30.310" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T01:57:27.808Z",
  "modificationTime" : "2021-03-14T01:57:27.808Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" endtime="20210314 01:57:30.311" starttime="20210314 01:57:30.310"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:30.311" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:30.311" starttime="20210314 01:57:30.311"/>
</kw>
<status status="PASS" endtime="20210314 01:57:30.312" starttime="20210314 01:57:27.852"/>
</kw>
<msg timestamp="20210314 01:57:30.312" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:30.312" starttime="20210314 01:57:27.852"/>
</kw>
<msg timestamp="20210314 01:57:30.312" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T01:57...</msg>
<status status="PASS" endtime="20210314 01:57:30.312" starttime="20210314 01:57:27.851"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:57:30.313" starttime="20210314 01:57:30.312"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:57:30.317" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:57:30.317" starttime="20210314 01:57:30.316"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:57:30.317" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:57:30.317" starttime="20210314 01:57:30.317"/>
</kw>
<status status="PASS" endtime="20210314 01:57:30.318" starttime="20210314 01:57:30.316"/>
</kw>
<msg timestamp="20210314 01:57:30.318" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:57:30.318" starttime="20210314 01:57:30.315"/>
</kw>
<status status="PASS" endtime="20210314 01:57:30.318" starttime="20210314 01:57:30.315"/>
</kw>
<msg timestamp="20210314 01:57:30.318" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20210314 01:57:30.318" starttime="20210314 01:57:30.314"/>
</kw>
<msg timestamp="20210314 01:57:30.319" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20210314 01:57:30.319" starttime="20210314 01:57:30.313"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:30.322" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:32.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:32.709" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:32.709" starttime="20210314 01:57:30.320"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:32.711" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:32.711" starttime="20210314 01:57:32.710"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:32.712" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:32.712" starttime="20210314 01:57:32.711"/>
</kw>
<status status="PASS" endtime="20210314 01:57:32.712" starttime="20210314 01:57:30.319"/>
</kw>
<msg timestamp="20210314 01:57:32.712" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:32.713" starttime="20210314 01:57:30.319"/>
</kw>
<status status="PASS" endtime="20210314 01:57:32.713" starttime="20210314 01:57:30.319"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:32.717" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:38.711" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:38.711" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:38.711" starttime="20210314 01:57:32.715"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:38.712" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:38.712" starttime="20210314 01:57:38.711"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:38.713" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:38.713" starttime="20210314 01:57:38.712"/>
</kw>
<status status="PASS" endtime="20210314 01:57:38.713" starttime="20210314 01:57:32.714"/>
</kw>
<msg timestamp="20210314 01:57:38.713" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:38.713" starttime="20210314 01:57:32.714"/>
</kw>
<status status="PASS" endtime="20210314 01:57:38.713" starttime="20210314 01:57:32.713"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:38.718" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:42.938" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:42.938" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:42.938" starttime="20210314 01:57:38.715"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:42.940" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:42.940" starttime="20210314 01:57:42.939"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:42.940" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:42.940" starttime="20210314 01:57:42.940"/>
</kw>
<status status="PASS" endtime="20210314 01:57:42.941" starttime="20210314 01:57:38.715"/>
</kw>
<msg timestamp="20210314 01:57:42.941" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:42.941" starttime="20210314 01:57:38.715"/>
</kw>
<status status="PASS" endtime="20210314 01:57:42.941" starttime="20210314 01:57:38.714"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:42.946" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:47.048" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:47.048" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:47.048" starttime="20210314 01:57:42.944"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:47.050" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:47.050" starttime="20210314 01:57:47.049"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:47.050" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:47.050" starttime="20210314 01:57:47.050"/>
</kw>
<status status="PASS" endtime="20210314 01:57:47.051" starttime="20210314 01:57:42.943"/>
</kw>
<msg timestamp="20210314 01:57:47.051" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:47.051" starttime="20210314 01:57:42.942"/>
</kw>
<status status="PASS" endtime="20210314 01:57:47.051" starttime="20210314 01:57:42.941"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" endtime="20210314 01:57:47.051" starttime="20210314 01:57:20.534"/>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:57:47.056" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:57:47.056" starttime="20210314 01:57:47.056"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:57:47.057" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:57:47.057" starttime="20210314 01:57:47.057"/>
</kw>
<status status="PASS" endtime="20210314 01:57:47.057" starttime="20210314 01:57:47.055"/>
</kw>
<msg timestamp="20210314 01:57:47.057" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:57:47.057" starttime="20210314 01:57:47.055"/>
</kw>
<status status="PASS" endtime="20210314 01:57:47.058" starttime="20210314 01:57:47.054"/>
</kw>
<msg timestamp="20210314 01:57:47.058" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 01:57:47.058" starttime="20210314 01:57:47.053"/>
</kw>
<msg timestamp="20210314 01:57:47.058" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 01:57:47.058" starttime="20210314 01:57:47.053"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:47.062" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:49.348" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:49.349" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:49.349" starttime="20210314 01:57:47.059"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:49.350" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:49.350" starttime="20210314 01:57:49.349"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:49.351" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:49.351" starttime="20210314 01:57:49.350"/>
</kw>
<status status="PASS" endtime="20210314 01:57:49.351" starttime="20210314 01:57:47.059"/>
</kw>
<msg timestamp="20210314 01:57:49.351" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:49.351" starttime="20210314 01:57:47.059"/>
</kw>
<status status="PASS" endtime="20210314 01:57:49.351" starttime="20210314 01:57:47.058"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:49.355" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:57:51.629" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:57:51.629" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 01:57:51.630" starttime="20210314 01:57:49.353"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:57:51.631" level="INFO"/>
<status status="PASS" endtime="20210314 01:57:51.631" starttime="20210314 01:57:51.630"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:57:51.631" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:57:51.632" starttime="20210314 01:57:51.631"/>
</kw>
<status status="PASS" endtime="20210314 01:57:51.632" starttime="20210314 01:57:49.353"/>
</kw>
<msg timestamp="20210314 01:57:51.632" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:57:51.632" starttime="20210314 01:57:49.352"/>
</kw>
<status status="PASS" endtime="20210314 01:57:51.632" starttime="20210314 01:57:49.352"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" endtime="20210314 01:57:51.633" starttime="20210314 01:57:47.052"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" endtime="20210314 01:57:51.634" starttime="20210314 01:57:20.480"/>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s1-s2" name="hadoopfs-ofs">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:59:40.221" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 01:59:40.221" starttime="20210314 01:59:40.220"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:59:40.221" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 01:59:40.222" starttime="20210314 01:59:40.221"/>
</kw>
<status status="PASS" endtime="20210314 01:59:40.222" starttime="20210314 01:59:40.220"/>
</kw>
<msg timestamp="20210314 01:59:40.222" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 01:59:40.222" starttime="20210314 01:59:40.219"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 01:59:40.223" starttime="20210314 01:59:40.222"/>
</kw>
<msg timestamp="20210314 01:59:40.223" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 01:59:40.223" starttime="20210314 01:59:40.222"/>
</kw>
<status status="PASS" endtime="20210314 01:59:40.223" starttime="20210314 01:59:40.219"/>
</kw>
<msg timestamp="20210314 01:59:40.223" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 01:59:40.223" starttime="20210314 01:59:40.218"/>
</kw>
<msg timestamp="20210314 01:59:40.224" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 01:59:40.224" starttime="20210314 01:59:40.217"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 01:59:40.224" level="INFO">${random} = 01404</msg>
<status status="PASS" endtime="20210314 01:59:40.224" starttime="20210314 01:59:40.224"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:59:40.231" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-01404 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:59:44.096" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:59:44.096" level="INFO">${output} = 2021-03-14 01:59:42 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:42 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 ...</msg>
<status status="PASS" endtime="20210314 01:59:44.096" starttime="20210314 01:59:40.226"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:59:44.097" level="INFO">2021-03-14 01:59:42 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:42 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 01:59:42 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-03-14 01:59:42 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 01:59:42 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-EF4A2261504B-&gt;eec70e00-8f17-49fc-93b7-145665e5f8fc
2021-03-14 01:59:42 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" endtime="20210314 01:59:44.097" starttime="20210314 01:59:44.097"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:59:44.098" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:59:44.098" starttime="20210314 01:59:44.098"/>
</kw>
<status status="PASS" endtime="20210314 01:59:44.098" starttime="20210314 01:59:40.225"/>
</kw>
<msg timestamp="20210314 01:59:44.098" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:59:44.099" starttime="20210314 01:59:40.225"/>
</kw>
<msg timestamp="20210314 01:59:44.099" level="INFO">${result} = 2021-03-14 01:59:42 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:42 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 ...</msg>
<status status="PASS" endtime="20210314 01:59:44.099" starttime="20210314 01:59:40.224"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:59:44.103" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:59:46.200" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:59:46.200" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:59 ofs://om/volume1/bucket1/ozone-01404
-rw-...</msg>
<status status="PASS" endtime="20210314 01:59:46.200" starttime="20210314 01:59:44.101"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:59:46.202" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:59 ofs://om/volume1/bucket1/ozone-01404
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:57 ofs://om/volume1/bucket1/ozone-55422
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:59 ofs://om/volume1/bucket1/wordcount-iGpbScqF.txt</msg>
<status status="PASS" endtime="20210314 01:59:46.202" starttime="20210314 01:59:46.201"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:59:46.202" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:59:46.203" starttime="20210314 01:59:46.202"/>
</kw>
<status status="PASS" endtime="20210314 01:59:46.203" starttime="20210314 01:59:44.100"/>
</kw>
<msg timestamp="20210314 01:59:46.203" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:59:46.203" starttime="20210314 01:59:44.100"/>
</kw>
<msg timestamp="20210314 01:59:46.203" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:59 ofs://om/volume1/bucket1/ozone-01404
-rw-...</msg>
<status status="PASS" endtime="20210314 01:59:46.203" starttime="20210314 01:59:44.099"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:59:46.204" starttime="20210314 01:59:46.203"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" endtime="20210314 01:59:46.204" starttime="20210314 01:59:40.216"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20210314 01:59:46.205" starttime="20210314 01:59:40.159"/>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s1-s3" name="hadoopfs-o3fs">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:57:56.471" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:57:56.471" starttime="20210314 01:57:56.470"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:57:56.471" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:57:56.471" starttime="20210314 01:57:56.471"/>
</kw>
<status status="PASS" endtime="20210314 01:57:56.471" starttime="20210314 01:57:56.470"/>
</kw>
<msg timestamp="20210314 01:57:56.472" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:57:56.472" starttime="20210314 01:57:56.469"/>
</kw>
<status status="PASS" endtime="20210314 01:57:56.472" starttime="20210314 01:57:56.468"/>
</kw>
<msg timestamp="20210314 01:57:56.472" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 01:57:56.472" starttime="20210314 01:57:56.468"/>
</kw>
<msg timestamp="20210314 01:57:56.473" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 01:57:56.473" starttime="20210314 01:57:56.467"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 01:57:56.473" level="INFO">${random} = 55422</msg>
<status status="PASS" endtime="20210314 01:57:56.473" starttime="20210314 01:57:56.473"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:57:56.478" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-55422 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:58:00.298" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:58:00.298" level="INFO">${output} = 2021-03-14 01:57:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:57:58 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 ...</msg>
<status status="PASS" endtime="20210314 01:58:00.298" starttime="20210314 01:57:56.475"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:58:00.300" level="INFO">2021-03-14 01:57:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:57:58 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 01:57:58 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-03-14 01:57:58 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 01:57:58 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-BD1721A0211B-&gt;eec70e00-8f17-49fc-93b7-145665e5f8fc
2021-03-14 01:57:58 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" endtime="20210314 01:58:00.301" starttime="20210314 01:58:00.298"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:58:00.301" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:58:00.301" starttime="20210314 01:58:00.301"/>
</kw>
<status status="PASS" endtime="20210314 01:58:00.302" starttime="20210314 01:57:56.474"/>
</kw>
<msg timestamp="20210314 01:58:00.302" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:58:00.302" starttime="20210314 01:57:56.474"/>
</kw>
<msg timestamp="20210314 01:58:00.302" level="INFO">${result} = 2021-03-14 01:57:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:57:58 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 ...</msg>
<status status="PASS" endtime="20210314 01:58:00.302" starttime="20210314 01:57:56.473"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:58:00.305" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:58:02.388" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:58:02.389" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:57 o3fs://bucket1.volume1.om/ozone-55422
dr...</msg>
<status status="PASS" endtime="20210314 01:58:02.389" starttime="20210314 01:58:00.303"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:58:02.390" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:57 o3fs://bucket1.volume1.om/ozone-55422
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 01:58:02.390" starttime="20210314 01:58:02.389"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:58:02.391" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:58:02.391" starttime="20210314 01:58:02.390"/>
</kw>
<status status="PASS" endtime="20210314 01:58:02.391" starttime="20210314 01:58:00.303"/>
</kw>
<msg timestamp="20210314 01:58:02.391" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:58:02.391" starttime="20210314 01:58:00.303"/>
</kw>
<msg timestamp="20210314 01:58:02.391" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 01:57 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-03-14 01:57 o3fs://bucket1.volume1.om/ozone-55422
dr...</msg>
<status status="PASS" endtime="20210314 01:58:02.391" starttime="20210314 01:58:00.302"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:58:02.392" starttime="20210314 01:58:02.391"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" endtime="20210314 01:58:02.392" starttime="20210314 01:57:56.466"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20210314 01:58:02.393" starttime="20210314 01:57:56.413"/>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s1-s4" name="mapreduce-ofs">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:59:51.043" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:59:51.050" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:59:51.051" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:59:51.051" starttime="20210314 01:59:51.039"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:59:51.052" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:59:51.052" starttime="20210314 01:59:51.052"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:59:51.053" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:59:51.053" starttime="20210314 01:59:51.053"/>
</kw>
<status status="PASS" endtime="20210314 01:59:51.054" starttime="20210314 01:59:51.038"/>
</kw>
<msg timestamp="20210314 01:59:51.054" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:59:51.054" starttime="20210314 01:59:51.038"/>
</kw>
<msg timestamp="20210314 01:59:51.054" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:59:51.054" starttime="20210314 01:59:51.037"/>
</kw>
<msg timestamp="20210314 01:59:51.055" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:59:51.055" starttime="20210314 01:59:51.036"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:59:51.060" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 01:59:51.060" starttime="20210314 01:59:51.060"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:59:51.061" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 01:59:51.061" starttime="20210314 01:59:51.061"/>
</kw>
<status status="PASS" endtime="20210314 01:59:51.061" starttime="20210314 01:59:51.059"/>
</kw>
<msg timestamp="20210314 01:59:51.062" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 01:59:51.062" starttime="20210314 01:59:51.059"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 01:59:51.063" starttime="20210314 01:59:51.062"/>
</kw>
<msg timestamp="20210314 01:59:51.063" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 01:59:51.063" starttime="20210314 01:59:51.062"/>
</kw>
<status status="PASS" endtime="20210314 01:59:51.063" starttime="20210314 01:59:51.058"/>
</kw>
<msg timestamp="20210314 01:59:51.063" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 01:59:51.063" starttime="20210314 01:59:51.056"/>
</kw>
<msg timestamp="20210314 01:59:51.064" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 01:59:51.064" starttime="20210314 01:59:51.055"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:59:51.068" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:00:27.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:00:27.746" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 01:59:53 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:53 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20210314 02:00:27.746" starttime="20210314 01:59:51.065"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:00:27.747" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-03-14 01:59:53 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:53 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 01:59:53 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-03-14 01:59:53 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 01:59:53 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-EF55CA6255E8-&gt;dd91f88f-38cb-4140-a394-3afc4d000818
2021-03-14 01:59:53 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-03-14 01:59:54 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-49A9BE934002-&gt;eec70e00-8f17-49fc-93b7-145665e5f8fc
2021-03-14 01:59:54 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-03-14 01:59:54 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 01:59:54 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 01:59:54 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-03-14 01:59:55 INFO  JobSubmitter:198 - number of splits:3
2021-03-14 01:59:55 INFO  JobSubmitter:287 - Submitting tokens for job: job_1615687000278_0003
2021-03-14 01:59:55 INFO  YarnClientImpl:273 - Submitted application application_1615687000278_0003
2021-03-14 01:59:55 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1615687000278_0003/
2021-03-14 01:59:55 INFO  Job:1339 - Running job: job_1615687000278_0003
2021-03-14 02:00:03 INFO  Job:1360 - Job job_1615687000278_0003 running in uber mode : false
2021-03-14 02:00:03 INFO  Job:1367 -  map 0% reduce 0%
2021-03-14 02:00:10 INFO  Job:1367 -  map 33% reduce 0%
2021-03-14 02:00:15 INFO  Job:1367 -  map 67% reduce 0%
2021-03-14 02:00:20 INFO  Job:1367 -  map 100% reduce 0%
2021-03-14 02:00:25 INFO  Job:1367 -  map 100% reduce 100%
2021-03-14 02:00:26 INFO  Job:1378 - Job job_1615687000278_0003 completed successfully
2021-03-14 02:00:27 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=612465
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=45124
		Total time spent by all reduces in occupied slots (ms)=16484
		Total time spent by all map tasks (ms)=11281
		Total time spent by all reduce tasks (ms)=4121
		Total vcore-milliseconds taken by all map tasks=11281
		Total vcore-milliseconds taken by all reduce tasks=4121
		Total megabyte-milliseconds taken by all map tasks=46206976
		Total megabyte-milliseconds taken by all reduce tasks=16879616
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=654
		CPU time spent (ms)=7710
		Physical memory (bytes) snapshot=1177661440
		Virtual memory (bytes) snapshot=15792615424
		Total committed heap usage (bytes)=1026555904
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 32.575 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20210314 02:00:27.747" starttime="20210314 02:00:27.747"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:00:27.748" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:00:27.748" starttime="20210314 02:00:27.748"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.748" starttime="20210314 01:59:51.065"/>
</kw>
<msg timestamp="20210314 02:00:27.749" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:00:27.749" starttime="20210314 01:59:51.065"/>
</kw>
<msg timestamp="20210314 02:00:27.749" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 01:59:53 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:53 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20210314 02:00:27.749" starttime="20210314 01:59:51.064"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:00:27.750" starttime="20210314 02:00:27.749"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:00:27.750" starttime="20210314 01:59:51.036"/>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:00:27.756" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:00:27.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:00:27.763" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 02:00:27.763" starttime="20210314 02:00:27.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:00:27.764" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 02:00:27.764" starttime="20210314 02:00:27.763"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:00:27.765" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:00:27.765" starttime="20210314 02:00:27.764"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.765" starttime="20210314 02:00:27.753"/>
</kw>
<msg timestamp="20210314 02:00:27.765" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:00:27.765" starttime="20210314 02:00:27.753"/>
</kw>
<msg timestamp="20210314 02:00:27.765" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 02:00:27.765" starttime="20210314 02:00:27.752"/>
</kw>
<msg timestamp="20210314 02:00:27.766" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 02:00:27.766" starttime="20210314 02:00:27.752"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:00:27.766" level="INFO">${random} = 2ppzj5Yl</msg>
<status status="PASS" endtime="20210314 02:00:27.766" starttime="20210314 02:00:27.766"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:00:27.771" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:00:27.771" starttime="20210314 02:00:27.771"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:00:27.772" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:00:27.772" starttime="20210314 02:00:27.771"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.772" starttime="20210314 02:00:27.770"/>
</kw>
<msg timestamp="20210314 02:00:27.772" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:00:27.772" starttime="20210314 02:00:27.770"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:00:27.774" starttime="20210314 02:00:27.773"/>
</kw>
<msg timestamp="20210314 02:00:27.774" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:00:27.774" starttime="20210314 02:00:27.773"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.774" starttime="20210314 02:00:27.769"/>
</kw>
<msg timestamp="20210314 02:00:27.775" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:00:27.775" starttime="20210314 02:00:27.768"/>
</kw>
<msg timestamp="20210314 02:00:27.775" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:00:27.775" starttime="20210314 02:00:27.766"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:00:27.778" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:00:27.778" starttime="20210314 02:00:27.778"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:00:27.779" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:00:27.779" starttime="20210314 02:00:27.778"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.779" starttime="20210314 02:00:27.777"/>
</kw>
<msg timestamp="20210314 02:00:27.779" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:00:27.779" starttime="20210314 02:00:27.777"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:00:27.781" level="INFO">${first} = i</msg>
<status status="PASS" endtime="20210314 02:00:27.781" starttime="20210314 02:00:27.780"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:00:27.782" level="INFO">${result} = /input/</msg>
<status status="PASS" endtime="20210314 02:00:27.782" starttime="20210314 02:00:27.781"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.782" starttime="20210314 02:00:27.780"/>
</kw>
<msg timestamp="20210314 02:00:27.782" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" endtime="20210314 02:00:27.782" starttime="20210314 02:00:27.779"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.782" starttime="20210314 02:00:27.776"/>
</kw>
<msg timestamp="20210314 02:00:27.782" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20210314 02:00:27.782" starttime="20210314 02:00:27.776"/>
</kw>
<msg timestamp="20210314 02:00:27.783" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20210314 02:00:27.783" starttime="20210314 02:00:27.775"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:00:27.786" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:00:27.786" starttime="20210314 02:00:27.786"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:00:27.787" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:00:27.787" starttime="20210314 02:00:27.787"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.787" starttime="20210314 02:00:27.785"/>
</kw>
<msg timestamp="20210314 02:00:27.787" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:00:27.787" starttime="20210314 02:00:27.785"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:00:27.789" level="INFO">${first} = w</msg>
<status status="PASS" endtime="20210314 02:00:27.789" starttime="20210314 02:00:27.789"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:00:27.790" level="INFO">${result} = /wordcount-2ppzj5Yl.txt</msg>
<status status="PASS" endtime="20210314 02:00:27.790" starttime="20210314 02:00:27.789"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.790" starttime="20210314 02:00:27.788"/>
</kw>
<msg timestamp="20210314 02:00:27.790" level="INFO">${path_with_leading} = /wordcount-2ppzj5Yl.txt</msg>
<status status="PASS" endtime="20210314 02:00:27.790" starttime="20210314 02:00:27.788"/>
</kw>
<status status="PASS" endtime="20210314 02:00:27.790" starttime="20210314 02:00:27.784"/>
</kw>
<msg timestamp="20210314 02:00:27.791" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-2ppzj5Yl.txt</msg>
<status status="PASS" endtime="20210314 02:00:27.791" starttime="20210314 02:00:27.783"/>
</kw>
<msg timestamp="20210314 02:00:27.791" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-2ppzj5Yl.txt</msg>
<status status="PASS" endtime="20210314 02:00:27.791" starttime="20210314 02:00:27.783"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:00:27.795" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-2ppzj5Yl.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:01:03.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:01:03.183" level="INFO">${output} = 2021-03-14 02:00:29 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 02:00:30 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20210314 02:01:03.184" starttime="20210314 02:00:27.792"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:01:03.187" level="INFO">2021-03-14 02:00:29 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 02:00:30 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:00:30 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:00:30 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 02:00:30 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-03-14 02:00:30 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:00:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-B83773DC7796-&gt;dd91f88f-38cb-4140-a394-3afc4d000818
2021-03-14 02:00:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:00:31 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-03-14 02:00:31 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-8F110E570364-&gt;eec70e00-8f17-49fc-93b7-145665e5f8fc
2021-03-14 02:00:31 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:00:31 INFO  JobSubmitter:198 - number of splits:3
2021-03-14 02:00:31 INFO  JobSubmitter:287 - Submitting tokens for job: job_1615687000278_0004
2021-03-14 02:00:32 INFO  YarnClientImpl:273 - Submitted application application_1615687000278_0004
2021-03-14 02:00:32 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1615687000278_0004/
2021-03-14 02:00:32 INFO  Job:1339 - Running job: job_1615687000278_0004
2021-03-14 02:00:39 INFO  Job:1360 - Job job_1615687000278_0004 running in uber mode : false
2021-03-14 02:00:39 INFO  Job:1367 -  map 0% reduce 0%
2021-03-14 02:00:46 INFO  Job:1367 -  map 33% reduce 0%
2021-03-14 02:00:52 INFO  Job:1367 -  map 67% reduce 0%
2021-03-14 02:00:57 INFO  Job:1367 -  map 100% reduce 0%
2021-03-14 02:01:01 INFO  Job:1367 -  map 100% reduce 100%
2021-03-14 02:01:02 INFO  Job:1378 - Job job_1615687000278_0004 completed successfully
2021-03-14 02:01:02 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=675243
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39714
		OFS: Number of bytes written=22203
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=43528
		Total time spent by all reduces in occupied slots (ms)=15912
		Total time spent by all map tasks (ms)=10882
		Total time spent by all reduce tasks (ms)=3978
		Total vcore-milliseconds taken by all map tasks=10882
		Total vcore-milliseconds taken by all reduce tasks=3978
		Total megabyte-milliseconds taken by all map tasks=44572672
		Total megabyte-milliseconds taken by all reduce tasks=16293888
	Map-Reduce Framework
		Map input records=1052
		Map output records=4514
		Map output bytes=55079
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32035
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=633
		CPU time spent (ms)=7790
		Physical memory (bytes) snapshot=1166462976
		Virtual memory (bytes) snapshot=15790837760
		Total committed heap usage (bytes)=1029177344
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39414
	File Output Format Counters 
		Bytes Written=22203</msg>
<status status="PASS" endtime="20210314 02:01:03.188" starttime="20210314 02:01:03.185"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:01:03.189" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:01:03.189" starttime="20210314 02:01:03.188"/>
</kw>
<status status="PASS" endtime="20210314 02:01:03.189" starttime="20210314 02:00:27.792"/>
</kw>
<msg timestamp="20210314 02:01:03.189" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:01:03.189" starttime="20210314 02:00:27.792"/>
</kw>
<msg timestamp="20210314 02:01:03.190" level="INFO">${output} = 2021-03-14 02:00:29 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 02:00:30 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20210314 02:01:03.190" starttime="20210314 02:00:27.791"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:01:03.190" starttime="20210314 02:01:03.190"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:01:03.191" starttime="20210314 02:01:03.191"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:01:03.191" starttime="20210314 02:00:27.751"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20210314 02:01:03.193" starttime="20210314 01:59:50.975"/>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s1-s5" name="mapreduce-o3fs">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:58:07.193" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:58:07.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:58:07.202" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:07.202" starttime="20210314 01:58:07.187"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:58:07.203" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:07.203" starttime="20210314 01:58:07.202"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:58:07.204" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:58:07.204" starttime="20210314 01:58:07.203"/>
</kw>
<status status="PASS" endtime="20210314 01:58:07.204" starttime="20210314 01:58:07.187"/>
</kw>
<msg timestamp="20210314 01:58:07.204" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:58:07.204" starttime="20210314 01:58:07.179"/>
</kw>
<msg timestamp="20210314 01:58:07.205" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:07.205" starttime="20210314 01:58:07.179"/>
</kw>
<msg timestamp="20210314 01:58:07.205" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:07.205" starttime="20210314 01:58:07.178"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:58:07.210" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:58:07.210" starttime="20210314 01:58:07.209"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:58:07.211" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:58:07.211" starttime="20210314 01:58:07.210"/>
</kw>
<status status="PASS" endtime="20210314 01:58:07.211" starttime="20210314 01:58:07.209"/>
</kw>
<msg timestamp="20210314 01:58:07.211" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:58:07.211" starttime="20210314 01:58:07.209"/>
</kw>
<status status="PASS" endtime="20210314 01:58:07.211" starttime="20210314 01:58:07.208"/>
</kw>
<msg timestamp="20210314 01:58:07.211" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 01:58:07.211" starttime="20210314 01:58:07.206"/>
</kw>
<msg timestamp="20210314 01:58:07.212" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 01:58:07.212" starttime="20210314 01:58:07.205"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:58:07.215" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:58:59.745" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:58:59.745" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 01:58:09 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:58:09 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20210314 01:58:59.745" starttime="20210314 01:58:07.213"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:58:59.746" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-03-14 01:58:09 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:58:09 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 01:58:09 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-03-14 01:58:09 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 01:58:09 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-2791C41E62C3-&gt;dd91f88f-38cb-4140-a394-3afc4d000818
2021-03-14 01:58:09 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-03-14 01:58:13 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7D2D5A484372-&gt;eec70e00-8f17-49fc-93b7-145665e5f8fc
2021-03-14 01:58:13 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-03-14 01:58:15 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 01:58:18 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-03-14 01:58:21 INFO  JobSubmitter:198 - number of splits:3
2021-03-14 01:58:22 INFO  JobSubmitter:287 - Submitting tokens for job: job_1615687000278_0001
2021-03-14 01:58:22 INFO  YarnClientImpl:273 - Submitted application application_1615687000278_0001
2021-03-14 01:58:22 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1615687000278_0001/
2021-03-14 01:58:22 INFO  Job:1339 - Running job: job_1615687000278_0001
2021-03-14 01:58:32 INFO  Job:1360 - Job job_1615687000278_0001 running in uber mode : false
2021-03-14 01:58:32 INFO  Job:1367 -  map 0% reduce 0%
2021-03-14 01:58:39 INFO  Job:1367 -  map 33% reduce 0%
2021-03-14 01:58:45 INFO  Job:1367 -  map 67% reduce 0%
2021-03-14 01:58:51 INFO  Job:1367 -  map 100% reduce 0%
2021-03-14 01:58:55 INFO  Job:1367 -  map 100% reduce 100%
2021-03-14 01:58:59 INFO  Job:1378 - Job job_1615687000278_0001 completed successfully
2021-03-14 01:58:59 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=612677
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44396
		Total time spent by all reduces in occupied slots (ms)=16432
		Total time spent by all map tasks (ms)=11099
		Total time spent by all reduce tasks (ms)=4108
		Total vcore-milliseconds taken by all map tasks=11099
		Total vcore-milliseconds taken by all reduce tasks=4108
		Total megabyte-milliseconds taken by all map tasks=45461504
		Total megabyte-milliseconds taken by all reduce tasks=16826368
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=924
		CPU time spent (ms)=7690
		Physical memory (bytes) snapshot=1414987776
		Virtual memory (bytes) snapshot=15795757056
		Total committed heap usage (bytes)=1272446976
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 43.382 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20210314 01:58:59.747" starttime="20210314 01:58:59.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:58:59.747" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:58:59.747" starttime="20210314 01:58:59.747"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.748" starttime="20210314 01:58:07.213"/>
</kw>
<msg timestamp="20210314 01:58:59.748" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:58:59.748" starttime="20210314 01:58:07.212"/>
</kw>
<msg timestamp="20210314 01:58:59.748" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 01:58:09 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:58:09 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" endtime="20210314 01:58:59.748" starttime="20210314 01:58:07.212"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:58:59.749" starttime="20210314 01:58:59.749"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 01:58:59.749" starttime="20210314 01:58:07.178"/>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:58:59.755" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:58:59.762" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:58:59.762" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:59.762" starttime="20210314 01:58:59.753"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:58:59.763" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:59.763" starttime="20210314 01:58:59.762"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:58:59.763" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:58:59.764" starttime="20210314 01:58:59.763"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.764" starttime="20210314 01:58:59.752"/>
</kw>
<msg timestamp="20210314 01:58:59.764" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:58:59.764" starttime="20210314 01:58:59.752"/>
</kw>
<msg timestamp="20210314 01:58:59.764" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:59.764" starttime="20210314 01:58:59.752"/>
</kw>
<msg timestamp="20210314 01:58:59.765" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" endtime="20210314 01:58:59.765" starttime="20210314 01:58:59.751"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 01:58:59.765" level="INFO">${random} = iGpbScqF</msg>
<status status="PASS" endtime="20210314 01:58:59.765" starttime="20210314 01:58:59.765"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:58:59.769" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:58:59.769" starttime="20210314 01:58:59.769"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:58:59.770" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:58:59.770" starttime="20210314 01:58:59.769"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.770" starttime="20210314 01:58:59.768"/>
</kw>
<msg timestamp="20210314 01:58:59.770" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:58:59.770" starttime="20210314 01:58:59.768"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.770" starttime="20210314 01:58:59.767"/>
</kw>
<msg timestamp="20210314 01:58:59.770" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 01:58:59.770" starttime="20210314 01:58:59.766"/>
</kw>
<msg timestamp="20210314 01:58:59.771" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 01:58:59.771" starttime="20210314 01:58:59.765"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:58:59.774" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:58:59.774" starttime="20210314 01:58:59.774"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:58:59.775" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:58:59.775" starttime="20210314 01:58:59.774"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.775" starttime="20210314 01:58:59.773"/>
</kw>
<msg timestamp="20210314 01:58:59.775" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:58:59.775" starttime="20210314 01:58:59.773"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.775" starttime="20210314 01:58:59.772"/>
</kw>
<msg timestamp="20210314 01:58:59.775" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20210314 01:58:59.775" starttime="20210314 01:58:59.771"/>
</kw>
<msg timestamp="20210314 01:58:59.775" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20210314 01:58:59.776" starttime="20210314 01:58:59.771"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 01:58:59.779" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 01:58:59.779" starttime="20210314 01:58:59.778"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 01:58:59.779" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 01:58:59.779" starttime="20210314 01:58:59.779"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.780" starttime="20210314 01:58:59.778"/>
</kw>
<msg timestamp="20210314 01:58:59.780" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 01:58:59.780" starttime="20210314 01:58:59.777"/>
</kw>
<status status="PASS" endtime="20210314 01:58:59.780" starttime="20210314 01:58:59.777"/>
</kw>
<msg timestamp="20210314 01:58:59.780" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-iGpbScqF.txt</msg>
<status status="PASS" endtime="20210314 01:58:59.780" starttime="20210314 01:58:59.776"/>
</kw>
<msg timestamp="20210314 01:58:59.780" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-iGpbScqF.txt</msg>
<status status="PASS" endtime="20210314 01:58:59.780" starttime="20210314 01:58:59.776"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 01:58:59.784" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-iGpbScqF.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 01:59:35.040" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 01:59:35.040" level="INFO">${output} = 2021-03-14 01:59:01 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 01:59:02 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20210314 01:59:35.040" starttime="20210314 01:58:59.782"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 01:59:35.041" level="INFO">2021-03-14 01:59:01 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 01:59:02 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 01:59:02 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-03-14 01:59:02 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-03-14 01:59:02 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-03-14 01:59:02 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 01:59:02 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-16982B1E9EC6-&gt;eec70e00-8f17-49fc-93b7-145665e5f8fc
2021-03-14 01:59:02 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 01:59:03 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-03-14 01:59:03 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-76D740E64D08-&gt;dd91f88f-38cb-4140-a394-3afc4d000818
2021-03-14 01:59:03 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 01:59:03 INFO  JobSubmitter:198 - number of splits:3
2021-03-14 01:59:03 INFO  JobSubmitter:287 - Submitting tokens for job: job_1615687000278_0002
2021-03-14 01:59:04 INFO  YarnClientImpl:273 - Submitted application application_1615687000278_0002
2021-03-14 01:59:04 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1615687000278_0002/
2021-03-14 01:59:04 INFO  Job:1339 - Running job: job_1615687000278_0002
2021-03-14 01:59:12 INFO  Job:1360 - Job job_1615687000278_0002 running in uber mode : false
2021-03-14 01:59:12 INFO  Job:1367 -  map 0% reduce 0%
2021-03-14 01:59:19 INFO  Job:1367 -  map 33% reduce 0%
2021-03-14 01:59:24 INFO  Job:1367 -  map 67% reduce 0%
2021-03-14 01:59:29 INFO  Job:1367 -  map 100% reduce 0%
2021-03-14 01:59:34 INFO  Job:1367 -  map 100% reduce 100%
2021-03-14 01:59:34 INFO  Job:1378 - Job job_1615687000278_0002 completed successfully
2021-03-14 01:59:34 INFO  Job:1385 - Counters: 50
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=675327
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39717
		O3FS: Number of bytes written=22203
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44132
		Total time spent by all reduces in occupied slots (ms)=15864
		Total time spent by all map tasks (ms)=11033
		Total time spent by all reduce tasks (ms)=3966
		Total vcore-milliseconds taken by all map tasks=11033
		Total vcore-milliseconds taken by all reduce tasks=3966
		Total megabyte-milliseconds taken by all map tasks=45191168
		Total megabyte-milliseconds taken by all reduce tasks=16244736
	Map-Reduce Framework
		Map input records=1052
		Map output records=4514
		Map output bytes=55079
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32035
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=614
		CPU time spent (ms)=7790
		Physical memory (bytes) snapshot=1204989952
		Virtual memory (bytes) snapshot=15804420096
		Total committed heap usage (bytes)=1056964608
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39414
	File Output Format Counters 
		Bytes Written=22203</msg>
<status status="PASS" endtime="20210314 01:59:35.041" starttime="20210314 01:59:35.040"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 01:59:35.042" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 01:59:35.042" starttime="20210314 01:59:35.042"/>
</kw>
<status status="PASS" endtime="20210314 01:59:35.042" starttime="20210314 01:58:59.781"/>
</kw>
<msg timestamp="20210314 01:59:35.043" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 01:59:35.043" starttime="20210314 01:58:59.781"/>
</kw>
<msg timestamp="20210314 01:59:35.043" level="INFO">${output} = 2021-03-14 01:59:01 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-03-14 01:59:02 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" endtime="20210314 01:59:35.043" starttime="20210314 01:58:59.780"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:59:35.044" starttime="20210314 01:59:35.043"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 01:59:35.044" starttime="20210314 01:59:35.044"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 01:59:35.044" starttime="20210314 01:58:59.750"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20210314 01:59:35.046" starttime="20210314 01:58:07.122"/>
</suite>
<status status="PASS" elapsedtime="203322" endtime="N/A" starttime="N/A"/>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite source="/opt/hadoop/smoketest/createmrenv.robot" id="s1-s2-s1" name="Createmrenv">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:17.655" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:20.183" level="INFO">${rc} = 255</msg>
<msg timestamp="20210314 02:02:20.183" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 02:02:20.183" starttime="20210314 02:02:17.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:20.184" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 02:02:20.184" starttime="20210314 02:02:20.183"/>
</kw>
<msg timestamp="20210314 02:02:20.184" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 02:02:20.185" starttime="20210314 02:02:17.650"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:20.190" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:22.594" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:22.594" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:22.594" starttime="20210314 02:02:20.188"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:22.596" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:22.596" starttime="20210314 02:02:22.595"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:22.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:22.597" starttime="20210314 02:02:22.596"/>
</kw>
<status status="PASS" endtime="20210314 02:02:22.597" starttime="20210314 02:02:20.186"/>
</kw>
<msg timestamp="20210314 02:02:22.597" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:22.597" starttime="20210314 02:02:20.186"/>
</kw>
<msg timestamp="20210314 02:02:22.597" level="INFO">${result} = </msg>
<status status="PASS" endtime="20210314 02:02:22.598" starttime="20210314 02:02:20.186"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:02:22.598" starttime="20210314 02:02:22.598"/>
</kw>
<status status="PASS" endtime="20210314 02:02:22.598" starttime="20210314 02:02:20.185"/>
</kw>
<status status="PASS" endtime="20210314 02:02:22.598" starttime="20210314 02:02:20.185"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:22.607" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:24.994" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:24.994" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:24.994" starttime="20210314 02:02:22.602"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:24.995" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:24.995" starttime="20210314 02:02:24.994"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:24.996" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:24.996" starttime="20210314 02:02:24.995"/>
</kw>
<status status="PASS" endtime="20210314 02:02:24.996" starttime="20210314 02:02:22.601"/>
</kw>
<msg timestamp="20210314 02:02:24.996" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:24.996" starttime="20210314 02:02:22.600"/>
</kw>
<status status="PASS" endtime="20210314 02:02:24.997" starttime="20210314 02:02:22.599"/>
</kw>
<status status="PASS" endtime="20210314 02:02:24.997" starttime="20210314 02:02:22.599"/>
</kw>
<status status="PASS" endtime="20210314 02:02:24.997" starttime="20210314 02:02:22.598"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" endtime="20210314 02:02:24.997" starttime="20210314 02:02:24.997"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:25.001" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:27.517" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:27.517" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T02:02...</msg>
<status status="PASS" endtime="20210314 02:02:27.517" starttime="20210314 02:02:24.999"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:27.518" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T02:02:24.935Z",
  "modificationTime" : "2021-03-14T02:02:24.935Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" endtime="20210314 02:02:27.518" starttime="20210314 02:02:27.517"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:27.519" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:27.519" starttime="20210314 02:02:27.518"/>
</kw>
<status status="PASS" endtime="20210314 02:02:27.519" starttime="20210314 02:02:24.998"/>
</kw>
<msg timestamp="20210314 02:02:27.519" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:27.519" starttime="20210314 02:02:24.998"/>
</kw>
<msg timestamp="20210314 02:02:27.520" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T02:02...</msg>
<status status="PASS" endtime="20210314 02:02:27.520" starttime="20210314 02:02:24.997"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:02:27.520" starttime="20210314 02:02:27.520"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:02:27.524" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:02:27.524" starttime="20210314 02:02:27.524"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:02:27.525" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:02:27.525" starttime="20210314 02:02:27.524"/>
</kw>
<status status="PASS" endtime="20210314 02:02:27.525" starttime="20210314 02:02:27.523"/>
</kw>
<msg timestamp="20210314 02:02:27.525" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:02:27.525" starttime="20210314 02:02:27.523"/>
</kw>
<status status="PASS" endtime="20210314 02:02:27.525" starttime="20210314 02:02:27.522"/>
</kw>
<msg timestamp="20210314 02:02:27.526" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20210314 02:02:27.526" starttime="20210314 02:02:27.521"/>
</kw>
<msg timestamp="20210314 02:02:27.526" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20210314 02:02:27.526" starttime="20210314 02:02:27.520"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:27.531" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:29.842" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:29.842" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:29.842" starttime="20210314 02:02:27.527"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:29.843" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:29.843" starttime="20210314 02:02:29.842"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:29.844" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:29.844" starttime="20210314 02:02:29.843"/>
</kw>
<status status="PASS" endtime="20210314 02:02:29.844" starttime="20210314 02:02:27.527"/>
</kw>
<msg timestamp="20210314 02:02:29.844" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:29.844" starttime="20210314 02:02:27.526"/>
</kw>
<status status="PASS" endtime="20210314 02:02:29.845" starttime="20210314 02:02:27.526"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:29.848" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:35.447" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:35.447" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:35.447" starttime="20210314 02:02:29.846"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:35.449" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:35.449" starttime="20210314 02:02:35.448"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:35.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:35.449" starttime="20210314 02:02:35.449"/>
</kw>
<status status="PASS" endtime="20210314 02:02:35.450" starttime="20210314 02:02:29.846"/>
</kw>
<msg timestamp="20210314 02:02:35.450" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:35.450" starttime="20210314 02:02:29.845"/>
</kw>
<status status="PASS" endtime="20210314 02:02:35.450" starttime="20210314 02:02:29.845"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:35.454" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:42.302" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:42.302" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:42.302" starttime="20210314 02:02:35.452"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:42.303" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:42.303" starttime="20210314 02:02:42.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:42.304" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:42.304" starttime="20210314 02:02:42.303"/>
</kw>
<status status="PASS" endtime="20210314 02:02:42.304" starttime="20210314 02:02:35.451"/>
</kw>
<msg timestamp="20210314 02:02:42.304" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:42.304" starttime="20210314 02:02:35.451"/>
</kw>
<status status="PASS" endtime="20210314 02:02:42.305" starttime="20210314 02:02:35.450"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:42.309" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:46.455" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:46.455" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:46.455" starttime="20210314 02:02:42.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:46.456" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:46.456" starttime="20210314 02:02:46.456"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:46.457" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:46.457" starttime="20210314 02:02:46.457"/>
</kw>
<status status="PASS" endtime="20210314 02:02:46.457" starttime="20210314 02:02:42.306"/>
</kw>
<msg timestamp="20210314 02:02:46.458" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:46.458" starttime="20210314 02:02:42.305"/>
</kw>
<status status="PASS" endtime="20210314 02:02:46.458" starttime="20210314 02:02:42.305"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" endtime="20210314 02:02:46.458" starttime="20210314 02:02:17.649"/>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:02:46.463" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:02:46.463" starttime="20210314 02:02:46.463"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:02:46.464" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:02:46.464" starttime="20210314 02:02:46.463"/>
</kw>
<status status="PASS" endtime="20210314 02:02:46.464" starttime="20210314 02:02:46.462"/>
</kw>
<msg timestamp="20210314 02:02:46.464" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:02:46.464" starttime="20210314 02:02:46.462"/>
</kw>
<status status="PASS" endtime="20210314 02:02:46.465" starttime="20210314 02:02:46.461"/>
</kw>
<msg timestamp="20210314 02:02:46.465" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 02:02:46.465" starttime="20210314 02:02:46.460"/>
</kw>
<msg timestamp="20210314 02:02:46.465" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 02:02:46.465" starttime="20210314 02:02:46.459"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:46.469" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:48.746" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:48.746" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:48.746" starttime="20210314 02:02:46.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:48.747" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:48.747" starttime="20210314 02:02:48.746"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:48.748" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:48.748" starttime="20210314 02:02:48.747"/>
</kw>
<status status="PASS" endtime="20210314 02:02:48.748" starttime="20210314 02:02:46.466"/>
</kw>
<msg timestamp="20210314 02:02:48.748" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:48.748" starttime="20210314 02:02:46.466"/>
</kw>
<status status="PASS" endtime="20210314 02:02:48.748" starttime="20210314 02:02:46.465"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:48.753" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:51.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:51.132" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:02:51.132" starttime="20210314 02:02:48.751"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:51.133" level="INFO"/>
<status status="PASS" endtime="20210314 02:02:51.133" starttime="20210314 02:02:51.132"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:51.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:51.134" starttime="20210314 02:02:51.133"/>
</kw>
<status status="PASS" endtime="20210314 02:02:51.134" starttime="20210314 02:02:48.750"/>
</kw>
<msg timestamp="20210314 02:02:51.134" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:51.134" starttime="20210314 02:02:48.749"/>
</kw>
<status status="PASS" endtime="20210314 02:02:51.135" starttime="20210314 02:02:48.749"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" endtime="20210314 02:02:51.135" starttime="20210314 02:02:46.459"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" endtime="20210314 02:02:51.136" starttime="20210314 02:02:17.592"/>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s2-s2" name="hadoopfs-ofs">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:04:38.101" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:04:38.101" starttime="20210314 02:04:38.101"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:04:38.102" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:04:38.102" starttime="20210314 02:04:38.102"/>
</kw>
<status status="PASS" endtime="20210314 02:04:38.102" starttime="20210314 02:04:38.100"/>
</kw>
<msg timestamp="20210314 02:04:38.102" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:04:38.102" starttime="20210314 02:04:38.100"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:04:38.103" starttime="20210314 02:04:38.103"/>
</kw>
<msg timestamp="20210314 02:04:38.103" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:04:38.103" starttime="20210314 02:04:38.102"/>
</kw>
<status status="PASS" endtime="20210314 02:04:38.104" starttime="20210314 02:04:38.099"/>
</kw>
<msg timestamp="20210314 02:04:38.104" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:04:38.104" starttime="20210314 02:04:38.098"/>
</kw>
<msg timestamp="20210314 02:04:38.104" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:04:38.104" starttime="20210314 02:04:38.097"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:04:38.105" level="INFO">${random} = 57029</msg>
<status status="PASS" endtime="20210314 02:04:38.105" starttime="20210314 02:04:38.104"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:04:38.111" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-57029 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:04:41.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:04:41.974" level="INFO">${output} = 2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:39 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:04:41.975" starttime="20210314 02:04:38.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:04:41.976" level="INFO">2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:40 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-03-14 02:04:40 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:04:40 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:04:40 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:04:40 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:04:40 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F256F74D9003-&gt;c97e2b53-db33-4873-8c1f-a39462969d80
2021-03-14 02:04:40 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:04:41 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:04:41.976" starttime="20210314 02:04:41.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:04:41.977" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:04:41.977" starttime="20210314 02:04:41.976"/>
</kw>
<status status="PASS" endtime="20210314 02:04:41.977" starttime="20210314 02:04:38.105"/>
</kw>
<msg timestamp="20210314 02:04:41.977" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:04:41.977" starttime="20210314 02:04:38.105"/>
</kw>
<msg timestamp="20210314 02:04:41.978" level="INFO">${result} = 2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:39 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:04:41.978" starttime="20210314 02:04:38.105"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:04:41.982" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:04:44.100" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:04:44.100" level="INFO">${output} = 2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:43 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:04:44.101" starttime="20210314 02:04:41.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:04:44.102" level="INFO">2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:02 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-03-14 02:02 ofs://om/volume1/bucket1/ozone-10881
-rw-rw-rw-   3 hadoop hadoop      21867 2021-03-14 02:04 ofs://om/volume1/bucket1/ozone-57029
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:02 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:04 ofs://om/volume1/bucket1/wordcount-wNIRcb31.txt
2021-03-14 02:04:44 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:04:44.102" starttime="20210314 02:04:44.101"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:04:44.102" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:04:44.103" starttime="20210314 02:04:44.102"/>
</kw>
<status status="PASS" endtime="20210314 02:04:44.103" starttime="20210314 02:04:41.979"/>
</kw>
<msg timestamp="20210314 02:04:44.103" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:04:44.103" starttime="20210314 02:04:41.979"/>
</kw>
<msg timestamp="20210314 02:04:44.104" level="INFO">${result} = 2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:43 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:04:44.104" starttime="20210314 02:04:41.978"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:04:44.104" starttime="20210314 02:04:44.104"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" endtime="20210314 02:04:44.104" starttime="20210314 02:04:38.097"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20210314 02:04:44.106" starttime="20210314 02:04:38.044"/>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s2-s3" name="hadoopfs-o3fs">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:02:55.927" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:02:55.927" starttime="20210314 02:02:55.927"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:02:55.928" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:02:55.928" starttime="20210314 02:02:55.927"/>
</kw>
<status status="PASS" endtime="20210314 02:02:55.928" starttime="20210314 02:02:55.926"/>
</kw>
<msg timestamp="20210314 02:02:55.928" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:02:55.928" starttime="20210314 02:02:55.926"/>
</kw>
<status status="PASS" endtime="20210314 02:02:55.929" starttime="20210314 02:02:55.925"/>
</kw>
<msg timestamp="20210314 02:02:55.929" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:02:55.929" starttime="20210314 02:02:55.925"/>
</kw>
<msg timestamp="20210314 02:02:55.929" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:02:55.929" starttime="20210314 02:02:55.923"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:02:55.929" level="INFO">${random} = 10881</msg>
<status status="PASS" endtime="20210314 02:02:55.929" starttime="20210314 02:02:55.929"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:55.934" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-10881 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:02:59.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:02:59.980" level="INFO">${output} = 2021-03-14 02:02:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:57 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:02:59.980" starttime="20210314 02:02:55.931"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:02:59.983" level="INFO">2021-03-14 02:02:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:58 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-03-14 02:02:58 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:02:58 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:02:58 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:02:58 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:02:58 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-DD7323056DCF-&gt;c97e2b53-db33-4873-8c1f-a39462969d80
2021-03-14 02:02:58 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:02:59 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:02:59.983" starttime="20210314 02:02:59.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:02:59.983" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:02:59.983" starttime="20210314 02:02:59.983"/>
</kw>
<status status="PASS" endtime="20210314 02:02:59.984" starttime="20210314 02:02:55.930"/>
</kw>
<msg timestamp="20210314 02:02:59.984" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:02:59.984" starttime="20210314 02:02:55.930"/>
</kw>
<msg timestamp="20210314 02:02:59.984" level="INFO">${result} = 2021-03-14 02:02:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:02:57 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:02:59.984" starttime="20210314 02:02:55.930"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:02:59.988" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:03:01.951" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:03:01.951" level="INFO">${output} = 2021-03-14 02:03:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:01 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:03:01.951" starttime="20210314 02:02:59.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:03:01.952" level="INFO">2021-03-14 02:03:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:01 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:02 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-03-14 02:02 o3fs://bucket1.volume1.om/ozone-10881
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:02 o3fs://bucket1.volume1.om/user
2021-03-14 02:03:01 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:03:01.952" starttime="20210314 02:03:01.951"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:03:01.953" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:03:01.953" starttime="20210314 02:03:01.952"/>
</kw>
<status status="PASS" endtime="20210314 02:03:01.953" starttime="20210314 02:02:59.985"/>
</kw>
<msg timestamp="20210314 02:03:01.953" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:03:01.953" starttime="20210314 02:02:59.985"/>
</kw>
<msg timestamp="20210314 02:03:01.954" level="INFO">${result} = 2021-03-14 02:03:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:01 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:03:01.955" starttime="20210314 02:02:59.984"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:03:01.958" starttime="20210314 02:03:01.955"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" endtime="20210314 02:03:01.958" starttime="20210314 02:02:55.923"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20210314 02:03:01.959" starttime="20210314 02:02:55.870"/>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s2-s4" name="mapreduce-ofs">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:04:49.003" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:04:49.010" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:04:49.010" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:04:49.010" starttime="20210314 02:04:48.998"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:04:49.011" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:04:49.011" starttime="20210314 02:04:49.011"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:04:49.012" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:04:49.012" starttime="20210314 02:04:49.011"/>
</kw>
<status status="PASS" endtime="20210314 02:04:49.012" starttime="20210314 02:04:48.997"/>
</kw>
<msg timestamp="20210314 02:04:49.012" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:04:49.012" starttime="20210314 02:04:48.996"/>
</kw>
<msg timestamp="20210314 02:04:49.013" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:04:49.013" starttime="20210314 02:04:48.996"/>
</kw>
<msg timestamp="20210314 02:04:49.013" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:04:49.013" starttime="20210314 02:04:48.995"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:04:49.018" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:04:49.018" starttime="20210314 02:04:49.017"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:04:49.019" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:04:49.019" starttime="20210314 02:04:49.018"/>
</kw>
<status status="PASS" endtime="20210314 02:04:49.019" starttime="20210314 02:04:49.017"/>
</kw>
<msg timestamp="20210314 02:04:49.019" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:04:49.019" starttime="20210314 02:04:49.016"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:04:49.020" starttime="20210314 02:04:49.020"/>
</kw>
<msg timestamp="20210314 02:04:49.020" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:04:49.020" starttime="20210314 02:04:49.019"/>
</kw>
<status status="PASS" endtime="20210314 02:04:49.020" starttime="20210314 02:04:49.016"/>
</kw>
<msg timestamp="20210314 02:04:49.021" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:04:49.021" starttime="20210314 02:04:49.014"/>
</kw>
<msg timestamp="20210314 02:04:49.021" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:04:49.021" starttime="20210314 02:04:49.013"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:04:49.025" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:05:31.314" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:05:31.314" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04...</msg>
<status status="PASS" endtime="20210314 02:05:31.315" starttime="20210314 02:04:49.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:05:31.316" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:51 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-03-14 02:04:51 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:04:51 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:04:51 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:04:51 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:04:51 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-030EB6B8228D-&gt;c97e2b53-db33-4873-8c1f-a39462969d80
2021-03-14 02:04:51 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-03-14 02:04:52 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-21B0C690AE4D-&gt;88dfaae6-c5b4-4d27-9cd7-1888daa97a7a
2021-03-14 02:04:52 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-03-14 02:04:52 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:52 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:52 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:52 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.4:8032
2021-03-14 02:04:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:53 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:04:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:53 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:04:53 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:04:53 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687304234_0003
2021-03-14 02:04:53 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:04:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:53 INFO  Configuration:2752 - resource-types.xml not found
2021-03-14 02:04:53 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-03-14 02:04:54 INFO  YarnClientImpl:324 - Submitted application application_1615687304234_0003
2021-03-14 02:04:54 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1615687304234_0003/
2021-03-14 02:04:54 INFO  Job:1619 - Running job: job_1615687304234_0003
2021-03-14 02:05:02 INFO  Job:1640 - Job job_1615687304234_0003 running in uber mode : false
2021-03-14 02:05:02 INFO  Job:1647 -  map 0% reduce 0%
2021-03-14 02:05:09 INFO  Job:1647 -  map 33% reduce 0%
2021-03-14 02:05:15 INFO  Job:1647 -  map 67% reduce 0%
2021-03-14 02:05:21 INFO  Job:1647 -  map 100% reduce 0%
2021-03-14 02:05:26 INFO  Job:1647 -  map 100% reduce 100%
2021-03-14 02:05:30 INFO  Job:1658 - Job job_1615687304234_0003 completed successfully
2021-03-14 02:05:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:30 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1018153
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=43596
		Total time spent by all reduces in occupied slots (ms)=16508
		Total time spent by all map tasks (ms)=10899
		Total time spent by all reduce tasks (ms)=4127
		Total vcore-milliseconds taken by all map tasks=10899
		Total vcore-milliseconds taken by all reduce tasks=4127
		Total megabyte-milliseconds taken by all map tasks=44642304
		Total megabyte-milliseconds taken by all reduce tasks=16904192
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=631
		CPU time spent (ms)=7130
		Physical memory (bytes) snapshot=1241878528
		Virtual memory (bytes) snapshot=15790825472
		Total committed heap usage (bytes)=1073741824
		Peak Map Physical memory (bytes)=322482176
		Peak Map Virtual memory (bytes)=3950194688
		Peak Reduce Physical memory (bytes)=309051392
		Peak Reduce Virtual memory (bytes)=3966287872
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 37.976 seconds
2021-03-14 02:05:30 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-03-14 02:05:30 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:05:31.316" starttime="20210314 02:05:31.315"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:05:31.317" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:05:31.317" starttime="20210314 02:05:31.316"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.318" starttime="20210314 02:04:49.022"/>
</kw>
<msg timestamp="20210314 02:05:31.318" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:05:31.318" starttime="20210314 02:04:49.022"/>
</kw>
<msg timestamp="20210314 02:05:31.318" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04...</msg>
<status status="PASS" endtime="20210314 02:05:31.318" starttime="20210314 02:04:49.021"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:05:31.319" starttime="20210314 02:05:31.319"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:05:31.319" starttime="20210314 02:04:48.994"/>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:05:31.325" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:05:31.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:05:31.332" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:05:31.332" starttime="20210314 02:05:31.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:05:31.333" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:05:31.333" starttime="20210314 02:05:31.333"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:05:31.334" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:05:31.334" starttime="20210314 02:05:31.334"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.334" starttime="20210314 02:05:31.322"/>
</kw>
<msg timestamp="20210314 02:05:31.335" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:05:31.335" starttime="20210314 02:05:31.322"/>
</kw>
<msg timestamp="20210314 02:05:31.335" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:05:31.335" starttime="20210314 02:05:31.321"/>
</kw>
<msg timestamp="20210314 02:05:31.335" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:05:31.335" starttime="20210314 02:05:31.321"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:05:31.336" level="INFO">${random} = xmTQIRLi</msg>
<status status="PASS" endtime="20210314 02:05:31.336" starttime="20210314 02:05:31.335"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:05:31.340" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:05:31.340" starttime="20210314 02:05:31.340"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:05:31.341" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:05:31.341" starttime="20210314 02:05:31.341"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.341" starttime="20210314 02:05:31.339"/>
</kw>
<msg timestamp="20210314 02:05:31.341" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:05:31.341" starttime="20210314 02:05:31.339"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:05:31.343" starttime="20210314 02:05:31.342"/>
</kw>
<msg timestamp="20210314 02:05:31.343" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:05:31.343" starttime="20210314 02:05:31.342"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.343" starttime="20210314 02:05:31.338"/>
</kw>
<msg timestamp="20210314 02:05:31.343" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:05:31.343" starttime="20210314 02:05:31.337"/>
</kw>
<msg timestamp="20210314 02:05:31.344" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:05:31.344" starttime="20210314 02:05:31.336"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:05:31.347" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:05:31.347" starttime="20210314 02:05:31.347"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:05:31.348" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:05:31.348" starttime="20210314 02:05:31.348"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.348" starttime="20210314 02:05:31.346"/>
</kw>
<msg timestamp="20210314 02:05:31.348" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:05:31.348" starttime="20210314 02:05:31.346"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:05:31.350" level="INFO">${first} = i</msg>
<status status="PASS" endtime="20210314 02:05:31.350" starttime="20210314 02:05:31.350"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:05:31.351" level="INFO">${result} = /input/</msg>
<status status="PASS" endtime="20210314 02:05:31.351" starttime="20210314 02:05:31.350"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.351" starttime="20210314 02:05:31.349"/>
</kw>
<msg timestamp="20210314 02:05:31.351" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" endtime="20210314 02:05:31.351" starttime="20210314 02:05:31.349"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.351" starttime="20210314 02:05:31.345"/>
</kw>
<msg timestamp="20210314 02:05:31.352" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20210314 02:05:31.352" starttime="20210314 02:05:31.344"/>
</kw>
<msg timestamp="20210314 02:05:31.352" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20210314 02:05:31.352" starttime="20210314 02:05:31.344"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:05:31.356" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:05:31.356" starttime="20210314 02:05:31.355"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:05:31.356" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:05:31.357" starttime="20210314 02:05:31.356"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.357" starttime="20210314 02:05:31.355"/>
</kw>
<msg timestamp="20210314 02:05:31.357" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:05:31.357" starttime="20210314 02:05:31.354"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:05:31.358" level="INFO">${first} = w</msg>
<status status="PASS" endtime="20210314 02:05:31.358" starttime="20210314 02:05:31.358"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:05:31.359" level="INFO">${result} = /wordcount-xmTQIRLi.txt</msg>
<status status="PASS" endtime="20210314 02:05:31.359" starttime="20210314 02:05:31.359"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.359" starttime="20210314 02:05:31.358"/>
</kw>
<msg timestamp="20210314 02:05:31.360" level="INFO">${path_with_leading} = /wordcount-xmTQIRLi.txt</msg>
<status status="PASS" endtime="20210314 02:05:31.360" starttime="20210314 02:05:31.357"/>
</kw>
<status status="PASS" endtime="20210314 02:05:31.360" starttime="20210314 02:05:31.354"/>
</kw>
<msg timestamp="20210314 02:05:31.360" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-xmTQIRLi.txt</msg>
<status status="PASS" endtime="20210314 02:05:31.360" starttime="20210314 02:05:31.353"/>
</kw>
<msg timestamp="20210314 02:05:31.360" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-xmTQIRLi.txt</msg>
<status status="PASS" endtime="20210314 02:05:31.360" starttime="20210314 02:05:31.352"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:05:31.365" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-xmTQIRLi.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:06:12.414" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:06:12.414" level="INFO">${output} = 2021-03-14 02:05:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:06:12.414" starttime="20210314 02:05:31.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:06:12.415" level="INFO">2021-03-14 02:05:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.4:8032
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-03-14 02:05:33 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:05:34 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:05:34 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:05:34 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:05:34 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-72E8DEB0AA95-&gt;88dfaae6-c5b4-4d27-9cd7-1888daa97a7a
2021-03-14 02:05:34 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:05:35 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:05:35 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-A8F3A9C3EED9-&gt;c97e2b53-db33-4873-8c1f-a39462969d80
2021-03-14 02:05:35 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:05:37 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:05:38 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687304234_0004
2021-03-14 02:05:38 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:05:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:38 INFO  Configuration:2752 - resource-types.xml not found
2021-03-14 02:05:38 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-03-14 02:05:38 INFO  YarnClientImpl:324 - Submitted application application_1615687304234_0004
2021-03-14 02:05:38 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1615687304234_0004/
2021-03-14 02:05:38 INFO  Job:1619 - Running job: job_1615687304234_0004
2021-03-14 02:05:46 INFO  Job:1640 - Job job_1615687304234_0004 running in uber mode : false
2021-03-14 02:05:46 INFO  Job:1647 -  map 0% reduce 0%
2021-03-14 02:05:53 INFO  Job:1647 -  map 33% reduce 0%
2021-03-14 02:05:59 INFO  Job:1647 -  map 67% reduce 0%
2021-03-14 02:06:05 INFO  Job:1647 -  map 100% reduce 0%
2021-03-14 02:06:10 INFO  Job:1647 -  map 100% reduce 100%
2021-03-14 02:06:11 INFO  Job:1658 - Job job_1615687304234_0004 completed successfully
2021-03-14 02:06:12 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:06:12 INFO  Job:1665 - Counters: 54
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1080819
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39714
		OFS: Number of bytes written=22203
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44648
		Total time spent by all reduces in occupied slots (ms)=15820
		Total time spent by all map tasks (ms)=11162
		Total time spent by all reduce tasks (ms)=3955
		Total vcore-milliseconds taken by all map tasks=11162
		Total vcore-milliseconds taken by all reduce tasks=3955
		Total megabyte-milliseconds taken by all map tasks=45719552
		Total megabyte-milliseconds taken by all reduce tasks=16199680
	Map-Reduce Framework
		Map input records=1052
		Map output records=4514
		Map output bytes=55079
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32035
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=636
		CPU time spent (ms)=7680
		Physical memory (bytes) snapshot=1254883328
		Virtual memory (bytes) snapshot=15796879360
		Total committed heap usage (bytes)=1068498944
		Peak Map Physical memory (bytes)=321241088
		Peak Map Virtual memory (bytes)=3946975232
		Peak Reduce Physical memory (bytes)=297230336
		Peak Reduce Virtual memory (bytes)=3959521280
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39414
	File Output Format Counters 
		Bytes Written=22203
2021-03-14 02:06:12 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:06:12.415" starttime="20210314 02:06:12.414"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:06:12.416" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:06:12.416" starttime="20210314 02:06:12.415"/>
</kw>
<status status="PASS" endtime="20210314 02:06:12.416" starttime="20210314 02:05:31.361"/>
</kw>
<msg timestamp="20210314 02:06:12.416" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:06:12.417" starttime="20210314 02:05:31.361"/>
</kw>
<msg timestamp="20210314 02:06:12.417" level="INFO">${output} = 2021-03-14 02:05:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:05:33 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:06:12.417" starttime="20210314 02:05:31.360"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:06:12.418" starttime="20210314 02:06:12.417"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:06:12.418" starttime="20210314 02:06:12.418"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:06:12.419" starttime="20210314 02:05:31.320"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20210314 02:06:12.420" starttime="20210314 02:04:48.935"/>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s2-s5" name="mapreduce-o3fs">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:03:06.671" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:03:06.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:03:06.678" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:06.678" starttime="20210314 02:03:06.667"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:03:06.679" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:06.679" starttime="20210314 02:03:06.679"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:03:06.680" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:03:06.680" starttime="20210314 02:03:06.680"/>
</kw>
<status status="PASS" endtime="20210314 02:03:06.681" starttime="20210314 02:03:06.667"/>
</kw>
<msg timestamp="20210314 02:03:06.681" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:03:06.681" starttime="20210314 02:03:06.666"/>
</kw>
<msg timestamp="20210314 02:03:06.681" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:06.681" starttime="20210314 02:03:06.666"/>
</kw>
<msg timestamp="20210314 02:03:06.681" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:06.681" starttime="20210314 02:03:06.665"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:03:06.686" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:03:06.686" starttime="20210314 02:03:06.686"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:03:06.687" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:03:06.687" starttime="20210314 02:03:06.686"/>
</kw>
<status status="PASS" endtime="20210314 02:03:06.687" starttime="20210314 02:03:06.685"/>
</kw>
<msg timestamp="20210314 02:03:06.687" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:03:06.687" starttime="20210314 02:03:06.685"/>
</kw>
<status status="PASS" endtime="20210314 02:03:06.687" starttime="20210314 02:03:06.684"/>
</kw>
<msg timestamp="20210314 02:03:06.687" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:03:06.687" starttime="20210314 02:03:06.682"/>
</kw>
<msg timestamp="20210314 02:03:06.688" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:03:06.688" starttime="20210314 02:03:06.682"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:03:06.697" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:03:54.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:03:54.435" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:03:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03...</msg>
<status status="PASS" endtime="20210314 02:03:54.435" starttime="20210314 02:03:06.689"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:03:54.436" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:03:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:08 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-03-14 02:03:08 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:03:09 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:03:09 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:03:09 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:03:09 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3202BD44A068-&gt;88dfaae6-c5b4-4d27-9cd7-1888daa97a7a
2021-03-14 02:03:09 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-03-14 02:03:10 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-DF1009F8B505-&gt;c97e2b53-db33-4873-8c1f-a39462969d80
2021-03-14 02:03:10 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-03-14 02:03:10 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:10 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:10 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:10 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.4:8032
2021-03-14 02:03:10 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:10 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:11 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:03:11 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:03:11 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687304234_0001
2021-03-14 02:03:11 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:03:11 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:11 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:11 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:11 INFO  Configuration:2752 - resource-types.xml not found
2021-03-14 02:03:11 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-03-14 02:03:12 INFO  YarnClientImpl:324 - Submitted application application_1615687304234_0001
2021-03-14 02:03:12 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1615687304234_0001/
2021-03-14 02:03:12 INFO  Job:1619 - Running job: job_1615687304234_0001
2021-03-14 02:03:23 INFO  Job:1640 - Job job_1615687304234_0001 running in uber mode : false
2021-03-14 02:03:23 INFO  Job:1647 -  map 0% reduce 0%
2021-03-14 02:03:30 INFO  Job:1647 -  map 33% reduce 0%
2021-03-14 02:03:36 INFO  Job:1647 -  map 67% reduce 0%
2021-03-14 02:03:42 INFO  Job:1647 -  map 100% reduce 0%
2021-03-14 02:03:50 INFO  Job:1647 -  map 100% reduce 100%
2021-03-14 02:03:53 INFO  Job:1658 - Job job_1615687304234_0001 completed successfully
2021-03-14 02:03:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:53 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1018349
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=804
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44376
		Total time spent by all reduces in occupied slots (ms)=27376
		Total time spent by all map tasks (ms)=11094
		Total time spent by all reduce tasks (ms)=6844
		Total vcore-milliseconds taken by all map tasks=11094
		Total vcore-milliseconds taken by all reduce tasks=6844
		Total megabyte-milliseconds taken by all map tasks=45441024
		Total megabyte-milliseconds taken by all reduce tasks=28033024
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=450
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=690
		CPU time spent (ms)=7540
		Physical memory (bytes) snapshot=1275203584
		Virtual memory (bytes) snapshot=15806033920
		Total committed heap usage (bytes)=1081606144
		Peak Map Physical memory (bytes)=326664192
		Peak Map Virtual memory (bytes)=3948335104
		Peak Reduce Physical memory (bytes)=314839040
		Peak Reduce Virtual memory (bytes)=3969236992
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 43.265 seconds
2021-03-14 02:03:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:53 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-03-14 02:03:54 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:03:54.436" starttime="20210314 02:03:54.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:03:54.437" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:03:54.437" starttime="20210314 02:03:54.436"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.437" starttime="20210314 02:03:06.689"/>
</kw>
<msg timestamp="20210314 02:03:54.438" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:03:54.438" starttime="20210314 02:03:06.688"/>
</kw>
<msg timestamp="20210314 02:03:54.438" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:03:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03...</msg>
<status status="PASS" endtime="20210314 02:03:54.438" starttime="20210314 02:03:06.688"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:03:54.439" starttime="20210314 02:03:54.438"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:03:54.439" starttime="20210314 02:03:06.665"/>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:03:54.445" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:03:54.451" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:03:54.451" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:54.451" starttime="20210314 02:03:54.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:03:54.452" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:54.453" starttime="20210314 02:03:54.452"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:03:54.453" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:03:54.453" starttime="20210314 02:03:54.453"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.453" starttime="20210314 02:03:54.442"/>
</kw>
<msg timestamp="20210314 02:03:54.454" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:03:54.454" starttime="20210314 02:03:54.442"/>
</kw>
<msg timestamp="20210314 02:03:54.454" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:54.454" starttime="20210314 02:03:54.441"/>
</kw>
<msg timestamp="20210314 02:03:54.454" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" endtime="20210314 02:03:54.454" starttime="20210314 02:03:54.441"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:03:54.455" level="INFO">${random} = wNIRcb31</msg>
<status status="PASS" endtime="20210314 02:03:54.455" starttime="20210314 02:03:54.454"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:03:54.459" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:03:54.459" starttime="20210314 02:03:54.459"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:03:54.460" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:03:54.460" starttime="20210314 02:03:54.459"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.460" starttime="20210314 02:03:54.458"/>
</kw>
<msg timestamp="20210314 02:03:54.460" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:03:54.460" starttime="20210314 02:03:54.458"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.461" starttime="20210314 02:03:54.457"/>
</kw>
<msg timestamp="20210314 02:03:54.461" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:03:54.461" starttime="20210314 02:03:54.456"/>
</kw>
<msg timestamp="20210314 02:03:54.461" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:03:54.461" starttime="20210314 02:03:54.455"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:03:54.465" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:03:54.465" starttime="20210314 02:03:54.465"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:03:54.466" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:03:54.466" starttime="20210314 02:03:54.465"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.466" starttime="20210314 02:03:54.464"/>
</kw>
<msg timestamp="20210314 02:03:54.466" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:03:54.466" starttime="20210314 02:03:54.463"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.467" starttime="20210314 02:03:54.463"/>
</kw>
<msg timestamp="20210314 02:03:54.467" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20210314 02:03:54.467" starttime="20210314 02:03:54.462"/>
</kw>
<msg timestamp="20210314 02:03:54.467" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20210314 02:03:54.467" starttime="20210314 02:03:54.461"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:03:54.472" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:03:54.472" starttime="20210314 02:03:54.471"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:03:54.473" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:03:54.473" starttime="20210314 02:03:54.472"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.473" starttime="20210314 02:03:54.471"/>
</kw>
<msg timestamp="20210314 02:03:54.473" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:03:54.473" starttime="20210314 02:03:54.470"/>
</kw>
<status status="PASS" endtime="20210314 02:03:54.474" starttime="20210314 02:03:54.469"/>
</kw>
<msg timestamp="20210314 02:03:54.474" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-wNIRcb31.txt</msg>
<status status="PASS" endtime="20210314 02:03:54.474" starttime="20210314 02:03:54.468"/>
</kw>
<msg timestamp="20210314 02:03:54.474" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-wNIRcb31.txt</msg>
<status status="PASS" endtime="20210314 02:03:54.474" starttime="20210314 02:03:54.467"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:03:54.479" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-wNIRcb31.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:04:33.269" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:04:33.269" level="INFO">${output} = 2021-03-14 02:03:55 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:55 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:04:33.269" starttime="20210314 02:03:54.477"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:04:33.270" level="INFO">2021-03-14 02:03:55 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:55 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.4:8032
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:57 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-03-14 02:03:57 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-03-14 02:03:57 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:03:57 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:03:57 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:03:57 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-95829EA6B375-&gt;88dfaae6-c5b4-4d27-9cd7-1888daa97a7a
2021-03-14 02:03:57 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:03:58 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:03:58 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C0D771872AA2-&gt;c97e2b53-db33-4873-8c1f-a39462969d80
2021-03-14 02:03:58 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:03:58 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:03:58 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687304234_0002
2021-03-14 02:03:58 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:03:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:59 INFO  Configuration:2752 - resource-types.xml not found
2021-03-14 02:03:59 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-03-14 02:03:59 INFO  YarnClientImpl:324 - Submitted application application_1615687304234_0002
2021-03-14 02:03:59 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1615687304234_0002/
2021-03-14 02:03:59 INFO  Job:1619 - Running job: job_1615687304234_0002
2021-03-14 02:04:07 INFO  Job:1640 - Job job_1615687304234_0002 running in uber mode : false
2021-03-14 02:04:07 INFO  Job:1647 -  map 0% reduce 0%
2021-03-14 02:04:14 INFO  Job:1647 -  map 33% reduce 0%
2021-03-14 02:04:20 INFO  Job:1647 -  map 67% reduce 0%
2021-03-14 02:04:26 INFO  Job:1647 -  map 100% reduce 0%
2021-03-14 02:04:31 INFO  Job:1647 -  map 100% reduce 100%
2021-03-14 02:04:32 INFO  Job:1658 - Job job_1615687304234_0002 completed successfully
2021-03-14 02:04:32 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:04:32 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1080903
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39717
		O3FS: Number of bytes written=22203
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44064
		Total time spent by all reduces in occupied slots (ms)=16000
		Total time spent by all map tasks (ms)=11016
		Total time spent by all reduce tasks (ms)=4000
		Total vcore-milliseconds taken by all map tasks=11016
		Total vcore-milliseconds taken by all reduce tasks=4000
		Total megabyte-milliseconds taken by all map tasks=45121536
		Total megabyte-milliseconds taken by all reduce tasks=16384000
	Map-Reduce Framework
		Map input records=1052
		Map output records=4514
		Map output bytes=55079
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32035
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=648
		CPU time spent (ms)=7620
		Physical memory (bytes) snapshot=1263054848
		Virtual memory (bytes) snapshot=15800864768
		Total committed heap usage (bytes)=1076363264
		Peak Map Physical memory (bytes)=330350592
		Peak Map Virtual memory (bytes)=3950120960
		Peak Reduce Physical memory (bytes)=302911488
		Peak Reduce Virtual memory (bytes)=3968389120
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39414
	File Output Format Counters 
		Bytes Written=22203
2021-03-14 02:04:32 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" endtime="20210314 02:04:33.270" starttime="20210314 02:04:33.269"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:04:33.271" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:04:33.271" starttime="20210314 02:04:33.270"/>
</kw>
<status status="PASS" endtime="20210314 02:04:33.271" starttime="20210314 02:03:54.476"/>
</kw>
<msg timestamp="20210314 02:04:33.271" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:04:33.271" starttime="20210314 02:03:54.476"/>
</kw>
<msg timestamp="20210314 02:04:33.272" level="INFO">${output} = 2021-03-14 02:03:55 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:55 INFO  Configuration:3318 - Removed undeclared tags:
2021-03-14 02:03:56 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" endtime="20210314 02:04:33.272" starttime="20210314 02:03:54.475"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:04:33.273" starttime="20210314 02:04:33.272"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:04:33.273" starttime="20210314 02:04:33.273"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:04:33.273" starttime="20210314 02:03:54.440"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20210314 02:04:33.275" starttime="20210314 02:03:06.612"/>
</suite>
<status status="PASS" elapsedtime="215843" endtime="N/A" starttime="N/A"/>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite source="/opt/hadoop/smoketest/createmrenv.robot" id="s1-s3-s1" name="Createmrenv">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:33.800" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:07:38.190" level="INFO">${rc} = 255</msg>
<msg timestamp="20210314 02:07:38.190" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 02:07:38.190" starttime="20210314 02:07:33.796"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:07:38.192" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 02:07:38.192" starttime="20210314 02:07:38.191"/>
</kw>
<msg timestamp="20210314 02:07:38.192" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" endtime="20210314 02:07:38.192" starttime="20210314 02:07:33.795"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:38.198" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:07:41.763" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:07:41.764" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:07:41.764" starttime="20210314 02:07:38.196"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:07:41.765" level="INFO"/>
<status status="PASS" endtime="20210314 02:07:41.765" starttime="20210314 02:07:41.764"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:07:41.766" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:07:41.766" starttime="20210314 02:07:41.765"/>
</kw>
<status status="PASS" endtime="20210314 02:07:41.766" starttime="20210314 02:07:38.194"/>
</kw>
<msg timestamp="20210314 02:07:41.766" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:07:41.766" starttime="20210314 02:07:38.194"/>
</kw>
<msg timestamp="20210314 02:07:41.766" level="INFO">${result} = </msg>
<status status="PASS" endtime="20210314 02:07:41.766" starttime="20210314 02:07:38.193"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:07:41.767" starttime="20210314 02:07:41.767"/>
</kw>
<status status="PASS" endtime="20210314 02:07:41.767" starttime="20210314 02:07:38.193"/>
</kw>
<status status="PASS" endtime="20210314 02:07:41.767" starttime="20210314 02:07:38.192"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:41.772" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:07:44.995" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:07:44.995" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:07:44.995" starttime="20210314 02:07:41.770"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:07:44.996" level="INFO"/>
<status status="PASS" endtime="20210314 02:07:44.996" starttime="20210314 02:07:44.995"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:07:44.997" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:07:44.997" starttime="20210314 02:07:44.996"/>
</kw>
<status status="PASS" endtime="20210314 02:07:44.997" starttime="20210314 02:07:41.769"/>
</kw>
<msg timestamp="20210314 02:07:44.998" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:07:44.998" starttime="20210314 02:07:41.769"/>
</kw>
<status status="PASS" endtime="20210314 02:07:44.998" starttime="20210314 02:07:41.768"/>
</kw>
<status status="PASS" endtime="20210314 02:07:44.998" starttime="20210314 02:07:41.768"/>
</kw>
<status status="PASS" endtime="20210314 02:07:44.998" starttime="20210314 02:07:41.767"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" endtime="20210314 02:07:44.999" starttime="20210314 02:07:44.998"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:45.003" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:07:48.248" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:07:48.248" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T02:07...</msg>
<status status="PASS" endtime="20210314 02:07:48.248" starttime="20210314 02:07:45.001"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:07:48.250" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T02:07:44.760Z",
  "modificationTime" : "2021-03-14T02:07:44.760Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" endtime="20210314 02:07:48.250" starttime="20210314 02:07:48.249"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:07:48.250" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:07:48.251" starttime="20210314 02:07:48.250"/>
</kw>
<status status="PASS" endtime="20210314 02:07:48.251" starttime="20210314 02:07:45.000"/>
</kw>
<msg timestamp="20210314 02:07:48.251" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:07:48.251" starttime="20210314 02:07:45.000"/>
</kw>
<msg timestamp="20210314 02:07:48.252" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-03-14T02:07...</msg>
<status status="PASS" endtime="20210314 02:07:48.252" starttime="20210314 02:07:44.999"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:07:48.252" starttime="20210314 02:07:48.252"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:07:48.256" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:07:48.256" starttime="20210314 02:07:48.256"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:07:48.257" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:07:48.257" starttime="20210314 02:07:48.257"/>
</kw>
<status status="PASS" endtime="20210314 02:07:48.257" starttime="20210314 02:07:48.255"/>
</kw>
<msg timestamp="20210314 02:07:48.257" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:07:48.257" starttime="20210314 02:07:48.255"/>
</kw>
<status status="PASS" endtime="20210314 02:07:48.258" starttime="20210314 02:07:48.254"/>
</kw>
<msg timestamp="20210314 02:07:48.258" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20210314 02:07:48.258" starttime="20210314 02:07:48.253"/>
</kw>
<msg timestamp="20210314 02:07:48.258" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" endtime="20210314 02:07:48.258" starttime="20210314 02:07:48.252"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:48.263" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:07:51.665" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:07:51.665" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:07:51.665" starttime="20210314 02:07:48.261"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:07:51.666" level="INFO"/>
<status status="PASS" endtime="20210314 02:07:51.666" starttime="20210314 02:07:51.665"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:07:51.667" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:07:51.667" starttime="20210314 02:07:51.666"/>
</kw>
<status status="PASS" endtime="20210314 02:07:51.668" starttime="20210314 02:07:48.260"/>
</kw>
<msg timestamp="20210314 02:07:51.668" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:07:51.668" starttime="20210314 02:07:48.260"/>
</kw>
<status status="PASS" endtime="20210314 02:07:51.668" starttime="20210314 02:07:48.258"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:51.672" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:07:59.055" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:07:59.055" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:07:59.055" starttime="20210314 02:07:51.670"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:07:59.056" level="INFO"/>
<status status="PASS" endtime="20210314 02:07:59.056" starttime="20210314 02:07:59.055"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:07:59.057" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:07:59.057" starttime="20210314 02:07:59.056"/>
</kw>
<status status="PASS" endtime="20210314 02:07:59.057" starttime="20210314 02:07:51.669"/>
</kw>
<msg timestamp="20210314 02:07:59.057" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:07:59.057" starttime="20210314 02:07:51.669"/>
</kw>
<status status="PASS" endtime="20210314 02:07:59.058" starttime="20210314 02:07:51.668"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:07:59.062" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:04.449" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:04.449" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:08:04.449" starttime="20210314 02:07:59.059"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:04.450" level="INFO"/>
<status status="PASS" endtime="20210314 02:08:04.450" starttime="20210314 02:08:04.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:04.451" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:04.451" starttime="20210314 02:08:04.450"/>
</kw>
<status status="PASS" endtime="20210314 02:08:04.451" starttime="20210314 02:07:59.059"/>
</kw>
<msg timestamp="20210314 02:08:04.451" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:04.451" starttime="20210314 02:07:59.058"/>
</kw>
<status status="PASS" endtime="20210314 02:08:04.452" starttime="20210314 02:07:59.058"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:04.458" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:09.974" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:09.974" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:08:09.974" starttime="20210314 02:08:04.454"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:09.975" level="INFO"/>
<status status="PASS" endtime="20210314 02:08:09.975" starttime="20210314 02:08:09.975"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:09.976" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:09.976" starttime="20210314 02:08:09.976"/>
</kw>
<status status="PASS" endtime="20210314 02:08:09.977" starttime="20210314 02:08:04.453"/>
</kw>
<msg timestamp="20210314 02:08:09.977" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:09.977" starttime="20210314 02:08:04.452"/>
</kw>
<status status="PASS" endtime="20210314 02:08:09.977" starttime="20210314 02:08:04.452"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" endtime="20210314 02:08:09.977" starttime="20210314 02:07:33.794"/>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:08:09.982" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:08:09.982" starttime="20210314 02:08:09.982"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:08:09.983" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:08:09.983" starttime="20210314 02:08:09.983"/>
</kw>
<status status="PASS" endtime="20210314 02:08:09.983" starttime="20210314 02:08:09.981"/>
</kw>
<msg timestamp="20210314 02:08:09.984" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:08:09.984" starttime="20210314 02:08:09.981"/>
</kw>
<status status="PASS" endtime="20210314 02:08:09.984" starttime="20210314 02:08:09.980"/>
</kw>
<msg timestamp="20210314 02:08:09.984" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 02:08:09.984" starttime="20210314 02:08:09.979"/>
</kw>
<msg timestamp="20210314 02:08:09.984" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 02:08:09.984" starttime="20210314 02:08:09.979"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:09.988" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:13.297" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:13.297" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:08:13.297" starttime="20210314 02:08:09.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:13.298" level="INFO"/>
<status status="PASS" endtime="20210314 02:08:13.298" starttime="20210314 02:08:13.297"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:13.298" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:13.299" starttime="20210314 02:08:13.298"/>
</kw>
<status status="PASS" endtime="20210314 02:08:13.299" starttime="20210314 02:08:09.985"/>
</kw>
<msg timestamp="20210314 02:08:13.299" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:13.299" starttime="20210314 02:08:09.985"/>
</kw>
<status status="PASS" endtime="20210314 02:08:13.299" starttime="20210314 02:08:09.984"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:13.303" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:16.575" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:16.575" level="INFO">${output} = </msg>
<status status="PASS" endtime="20210314 02:08:16.575" starttime="20210314 02:08:13.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:16.577" level="INFO"/>
<status status="PASS" endtime="20210314 02:08:16.577" starttime="20210314 02:08:16.576"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:16.577" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:16.578" starttime="20210314 02:08:16.577"/>
</kw>
<status status="PASS" endtime="20210314 02:08:16.578" starttime="20210314 02:08:13.300"/>
</kw>
<msg timestamp="20210314 02:08:16.578" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:16.578" starttime="20210314 02:08:13.300"/>
</kw>
<status status="PASS" endtime="20210314 02:08:16.578" starttime="20210314 02:08:13.299"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" endtime="20210314 02:08:16.579" starttime="20210314 02:08:09.978"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" endtime="20210314 02:08:16.580" starttime="20210314 02:07:33.734"/>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s3-s2" name="hadoopfs-ofs">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:10:12.646" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:10:12.646" starttime="20210314 02:10:12.645"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:10:12.646" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:10:12.646" starttime="20210314 02:10:12.646"/>
</kw>
<status status="PASS" endtime="20210314 02:10:12.647" starttime="20210314 02:10:12.645"/>
</kw>
<msg timestamp="20210314 02:10:12.647" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:10:12.647" starttime="20210314 02:10:12.644"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:10:12.648" starttime="20210314 02:10:12.648"/>
</kw>
<msg timestamp="20210314 02:10:12.648" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:10:12.649" starttime="20210314 02:10:12.647"/>
</kw>
<status status="PASS" endtime="20210314 02:10:12.649" starttime="20210314 02:10:12.644"/>
</kw>
<msg timestamp="20210314 02:10:12.649" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:10:12.649" starttime="20210314 02:10:12.643"/>
</kw>
<msg timestamp="20210314 02:10:12.649" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:10:12.649" starttime="20210314 02:10:12.642"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:10:12.650" level="INFO">${random} = 24070</msg>
<status status="PASS" endtime="20210314 02:10:12.650" starttime="20210314 02:10:12.649"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:10:12.658" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-24070 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:10:18.783" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:10:18.783" level="INFO">${output} = 2021-03-14 02:10:14 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:10:14 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" endtime="20210314 02:10:18.783" starttime="20210314 02:10:12.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:10:18.784" level="INFO">2021-03-14 02:10:14 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:10:14 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:10:14 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:10:15 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:10:15 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-AC9A9A96FA0D-&gt;47a4ac3c-20a1-4cf1-85c1-9e68db6d2689
2021-03-14 02:10:15 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" endtime="20210314 02:10:18.784" starttime="20210314 02:10:18.783"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:10:18.785" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:10:18.785" starttime="20210314 02:10:18.784"/>
</kw>
<status status="PASS" endtime="20210314 02:10:18.785" starttime="20210314 02:10:12.651"/>
</kw>
<msg timestamp="20210314 02:10:18.785" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:10:18.786" starttime="20210314 02:10:12.650"/>
</kw>
<msg timestamp="20210314 02:10:18.786" level="INFO">${result} = 2021-03-14 02:10:14 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:10:14 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" endtime="20210314 02:10:18.786" starttime="20210314 02:10:12.650"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:10:18.790" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:10:20.749" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:10:20.749" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:07 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:08 ofs://om/volume1/bucket1/ozone-10801
-rw-...</msg>
<status status="PASS" endtime="20210314 02:10:20.749" starttime="20210314 02:10:18.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:10:20.750" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:07 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:08 ofs://om/volume1/bucket1/ozone-10801
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:10 ofs://om/volume1/bucket1/ozone-24070
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:08 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:09 ofs://om/volume1/bucket1/wordcount-kCuMk2ue.txt</msg>
<status status="PASS" endtime="20210314 02:10:20.751" starttime="20210314 02:10:20.750"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:10:20.751" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:10:20.751" starttime="20210314 02:10:20.751"/>
</kw>
<status status="PASS" endtime="20210314 02:10:20.752" starttime="20210314 02:10:18.787"/>
</kw>
<msg timestamp="20210314 02:10:20.752" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:10:20.752" starttime="20210314 02:10:18.787"/>
</kw>
<msg timestamp="20210314 02:10:20.752" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:07 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:08 ofs://om/volume1/bucket1/ozone-10801
-rw-...</msg>
<status status="PASS" endtime="20210314 02:10:20.752" starttime="20210314 02:10:18.786"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:10:20.753" starttime="20210314 02:10:20.752"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" endtime="20210314 02:10:20.753" starttime="20210314 02:10:12.641"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20210314 02:10:20.756" starttime="20210314 02:10:12.587"/>
</suite>
<suite source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot" id="s1-s3-s3" name="hadoopfs-o3fs">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:08:21.404" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:08:21.404" starttime="20210314 02:08:21.403"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:08:21.405" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:08:21.405" starttime="20210314 02:08:21.404"/>
</kw>
<status status="PASS" endtime="20210314 02:08:21.405" starttime="20210314 02:08:21.403"/>
</kw>
<msg timestamp="20210314 02:08:21.405" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:08:21.405" starttime="20210314 02:08:21.402"/>
</kw>
<status status="PASS" endtime="20210314 02:08:21.405" starttime="20210314 02:08:21.401"/>
</kw>
<msg timestamp="20210314 02:08:21.406" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:08:21.406" starttime="20210314 02:08:21.400"/>
</kw>
<msg timestamp="20210314 02:08:21.406" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:08:21.406" starttime="20210314 02:08:21.399"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:08:21.406" level="INFO">${random} = 10801</msg>
<status status="PASS" endtime="20210314 02:08:21.406" starttime="20210314 02:08:21.406"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:21.412" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-10801 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:27.870" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:27.870" level="INFO">${output} = 2021-03-14 02:08:23 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:08:23 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" endtime="20210314 02:08:27.870" starttime="20210314 02:08:21.408"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:27.872" level="INFO">2021-03-14 02:08:23 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:08:23 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:08:23 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:08:23 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:08:23 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7D63F5171945-&gt;47a4ac3c-20a1-4cf1-85c1-9e68db6d2689
2021-03-14 02:08:23 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" endtime="20210314 02:08:27.873" starttime="20210314 02:08:27.871"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:27.874" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:27.874" starttime="20210314 02:08:27.873"/>
</kw>
<status status="PASS" endtime="20210314 02:08:27.875" starttime="20210314 02:08:21.408"/>
</kw>
<msg timestamp="20210314 02:08:27.875" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:27.875" starttime="20210314 02:08:21.407"/>
</kw>
<msg timestamp="20210314 02:08:27.875" level="INFO">${result} = 2021-03-14 02:08:23 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:08:23 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" endtime="20210314 02:08:27.875" starttime="20210314 02:08:21.407"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:27.879" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:29.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:29.779" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:07 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:08 o3fs://bucket1.volume1.om/ozone-10801
dr...</msg>
<status status="PASS" endtime="20210314 02:08:29.779" starttime="20210314 02:08:27.877"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:29.781" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:07 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:08 o3fs://bucket1.volume1.om/ozone-10801
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:08 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" endtime="20210314 02:08:29.781" starttime="20210314 02:08:29.780"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:29.781" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:29.781" starttime="20210314 02:08:29.781"/>
</kw>
<status status="PASS" endtime="20210314 02:08:29.782" starttime="20210314 02:08:27.876"/>
</kw>
<msg timestamp="20210314 02:08:29.782" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:29.782" starttime="20210314 02:08:27.876"/>
</kw>
<msg timestamp="20210314 02:08:29.782" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-03-14 02:07 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-03-14 02:08 o3fs://bucket1.volume1.om/ozone-10801
dr...</msg>
<status status="PASS" endtime="20210314 02:08:29.782" starttime="20210314 02:08:27.875"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:08:29.783" starttime="20210314 02:08:29.782"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" endtime="20210314 02:08:29.783" starttime="20210314 02:08:21.398"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" endtime="20210314 02:08:29.784" starttime="20210314 02:08:21.338"/>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s3-s4" name="mapreduce-ofs">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:10:25.496" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:10:25.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:10:25.503" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:10:25.503" starttime="20210314 02:10:25.492"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:10:25.504" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:10:25.504" starttime="20210314 02:10:25.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:10:25.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:10:25.505" starttime="20210314 02:10:25.504"/>
</kw>
<status status="PASS" endtime="20210314 02:10:25.505" starttime="20210314 02:10:25.491"/>
</kw>
<msg timestamp="20210314 02:10:25.505" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:10:25.506" starttime="20210314 02:10:25.491"/>
</kw>
<msg timestamp="20210314 02:10:25.506" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:10:25.506" starttime="20210314 02:10:25.490"/>
</kw>
<msg timestamp="20210314 02:10:25.506" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:10:25.506" starttime="20210314 02:10:25.490"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:10:25.511" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:10:25.511" starttime="20210314 02:10:25.511"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:10:25.512" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:10:25.512" starttime="20210314 02:10:25.511"/>
</kw>
<status status="PASS" endtime="20210314 02:10:25.512" starttime="20210314 02:10:25.510"/>
</kw>
<msg timestamp="20210314 02:10:25.512" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:10:25.512" starttime="20210314 02:10:25.510"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:10:25.513" starttime="20210314 02:10:25.513"/>
</kw>
<msg timestamp="20210314 02:10:25.513" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:10:25.513" starttime="20210314 02:10:25.512"/>
</kw>
<status status="PASS" endtime="20210314 02:10:25.513" starttime="20210314 02:10:25.509"/>
</kw>
<msg timestamp="20210314 02:10:25.514" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:10:25.514" starttime="20210314 02:10:25.507"/>
</kw>
<msg timestamp="20210314 02:10:25.514" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:10:25.514" starttime="20210314 02:10:25.506"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:10:25.517" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:11:03.457" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:11:03.457" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:10:27 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:10:27 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" endtime="20210314 02:11:03.458" starttime="20210314 02:10:25.515"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:11:03.459" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:10:27 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:10:27 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:10:27 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:10:28 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:10:28 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-D329C28D16FF-&gt;420bb263-49e8-47ba-869f-ec3500aa2c5f
2021-03-14 02:10:28 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-03-14 02:10:28 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-8F02CA757B51-&gt;47a4ac3c-20a1-4cf1-85c1-9e68db6d2689
2021-03-14 02:10:28 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-03-14 02:10:29 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:10:29 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:10:29 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:10:29 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:10:30 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687615595_0003
2021-03-14 02:10:30 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:10:30 INFO  Configuration:2795 - resource-types.xml not found
2021-03-14 02:10:30 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-03-14 02:10:30 INFO  YarnClientImpl:329 - Submitted application application_1615687615595_0003
2021-03-14 02:10:30 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1615687615595_0003/
2021-03-14 02:10:30 INFO  Job:1614 - Running job: job_1615687615595_0003
2021-03-14 02:10:38 INFO  Job:1635 - Job job_1615687615595_0003 running in uber mode : false
2021-03-14 02:10:38 INFO  Job:1642 -  map 0% reduce 0%
2021-03-14 02:10:44 INFO  Job:1642 -  map 33% reduce 0%
2021-03-14 02:10:50 INFO  Job:1642 -  map 67% reduce 0%
2021-03-14 02:10:56 INFO  Job:1642 -  map 100% reduce 0%
2021-03-14 02:11:01 INFO  Job:1642 -  map 100% reduce 100%
2021-03-14 02:11:02 INFO  Job:1653 - Job job_1615687615595_0003 completed successfully
2021-03-14 02:11:02 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1093529
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=42928
		Total time spent by all reduces in occupied slots (ms)=16700
		Total time spent by all map tasks (ms)=10732
		Total time spent by all reduce tasks (ms)=4175
		Total vcore-milliseconds taken by all map tasks=10732
		Total vcore-milliseconds taken by all reduce tasks=4175
		Total megabyte-milliseconds taken by all map tasks=43958272
		Total megabyte-milliseconds taken by all reduce tasks=17100800
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=662
		CPU time spent (ms)=7600
		Physical memory (bytes) snapshot=1362018304
		Virtual memory (bytes) snapshot=15795781632
		Total committed heap usage (bytes)=1458569216
		Peak Map Physical memory (bytes)=352169984
		Peak Map Virtual memory (bytes)=3951263744
		Peak Reduce Physical memory (bytes)=397426688
		Peak Reduce Virtual memory (bytes)=3970310144
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 33.869 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20210314 02:11:03.459" starttime="20210314 02:11:03.458"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:11:03.459" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:11:03.460" starttime="20210314 02:11:03.459"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.460" starttime="20210314 02:10:25.515"/>
</kw>
<msg timestamp="20210314 02:11:03.460" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:11:03.460" starttime="20210314 02:10:25.514"/>
</kw>
<msg timestamp="20210314 02:11:03.461" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:10:27 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:10:27 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" endtime="20210314 02:11:03.461" starttime="20210314 02:10:25.514"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:11:03.461" starttime="20210314 02:11:03.461"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:11:03.461" starttime="20210314 02:10:25.489"/>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:11:03.467" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:11:03.473" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:11:03.473" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:11:03.473" starttime="20210314 02:11:03.465"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:11:03.474" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:11:03.474" starttime="20210314 02:11:03.473"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:11:03.475" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:11:03.475" starttime="20210314 02:11:03.474"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.475" starttime="20210314 02:11:03.465"/>
</kw>
<msg timestamp="20210314 02:11:03.475" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:11:03.475" starttime="20210314 02:11:03.464"/>
</kw>
<msg timestamp="20210314 02:11:03.475" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:11:03.476" starttime="20210314 02:11:03.464"/>
</kw>
<msg timestamp="20210314 02:11:03.476" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:11:03.476" starttime="20210314 02:11:03.463"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:11:03.476" level="INFO">${random} = SQXG7mww</msg>
<status status="PASS" endtime="20210314 02:11:03.476" starttime="20210314 02:11:03.476"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:11:03.480" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:11:03.480" starttime="20210314 02:11:03.480"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:11:03.481" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:11:03.481" starttime="20210314 02:11:03.481"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.481" starttime="20210314 02:11:03.480"/>
</kw>
<msg timestamp="20210314 02:11:03.481" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:11:03.481" starttime="20210314 02:11:03.479"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" endtime="20210314 02:11:03.482" starttime="20210314 02:11:03.482"/>
</kw>
<msg timestamp="20210314 02:11:03.482" level="INFO">${path_with_leading} = </msg>
<status status="PASS" endtime="20210314 02:11:03.482" starttime="20210314 02:11:03.482"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.483" starttime="20210314 02:11:03.478"/>
</kw>
<msg timestamp="20210314 02:11:03.483" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:11:03.483" starttime="20210314 02:11:03.478"/>
</kw>
<msg timestamp="20210314 02:11:03.483" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" endtime="20210314 02:11:03.483" starttime="20210314 02:11:03.477"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:11:03.486" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:11:03.487" starttime="20210314 02:11:03.486"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:11:03.487" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:11:03.487" starttime="20210314 02:11:03.487"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.488" starttime="20210314 02:11:03.486"/>
</kw>
<msg timestamp="20210314 02:11:03.488" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:11:03.488" starttime="20210314 02:11:03.485"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:11:03.489" level="INFO">${first} = i</msg>
<status status="PASS" endtime="20210314 02:11:03.489" starttime="20210314 02:11:03.489"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:11:03.490" level="INFO">${result} = /input/</msg>
<status status="PASS" endtime="20210314 02:11:03.490" starttime="20210314 02:11:03.490"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.490" starttime="20210314 02:11:03.488"/>
</kw>
<msg timestamp="20210314 02:11:03.490" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" endtime="20210314 02:11:03.490" starttime="20210314 02:11:03.488"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.491" starttime="20210314 02:11:03.485"/>
</kw>
<msg timestamp="20210314 02:11:03.491" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20210314 02:11:03.491" starttime="20210314 02:11:03.484"/>
</kw>
<msg timestamp="20210314 02:11:03.491" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" endtime="20210314 02:11:03.491" starttime="20210314 02:11:03.483"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:11:03.494" level="INFO">${last} = m</msg>
<status status="PASS" endtime="20210314 02:11:03.494" starttime="20210314 02:11:03.494"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:11:03.495" level="INFO">${result} = om/</msg>
<status status="PASS" endtime="20210314 02:11:03.495" starttime="20210314 02:11:03.494"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.495" starttime="20210314 02:11:03.493"/>
</kw>
<msg timestamp="20210314 02:11:03.495" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" endtime="20210314 02:11:03.495" starttime="20210314 02:11:03.493"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:11:03.497" level="INFO">${first} = w</msg>
<status status="PASS" endtime="20210314 02:11:03.497" starttime="20210314 02:11:03.496"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:11:03.497" level="INFO">${result} = /wordcount-SQXG7mww.txt</msg>
<status status="PASS" endtime="20210314 02:11:03.497" starttime="20210314 02:11:03.497"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.498" starttime="20210314 02:11:03.496"/>
</kw>
<msg timestamp="20210314 02:11:03.498" level="INFO">${path_with_leading} = /wordcount-SQXG7mww.txt</msg>
<status status="PASS" endtime="20210314 02:11:03.498" starttime="20210314 02:11:03.495"/>
</kw>
<status status="PASS" endtime="20210314 02:11:03.498" starttime="20210314 02:11:03.492"/>
</kw>
<msg timestamp="20210314 02:11:03.498" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-SQXG7mww.txt</msg>
<status status="PASS" endtime="20210314 02:11:03.498" starttime="20210314 02:11:03.492"/>
</kw>
<msg timestamp="20210314 02:11:03.498" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-SQXG7mww.txt</msg>
<status status="PASS" endtime="20210314 02:11:03.498" starttime="20210314 02:11:03.491"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:11:03.502" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-SQXG7mww.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:11:42.545" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:11:42.545" level="INFO">${output} = 2021-03-14 02:11:05 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:11:05 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20210314 02:11:42.545" starttime="20210314 02:11:03.500"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:11:42.547" level="INFO">2021-03-14 02:11:05 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:11:05 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:11:06 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:11:06 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:11:06 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:11:06 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:11:06 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-CF99CDCBA7DD-&gt;47a4ac3c-20a1-4cf1-85c1-9e68db6d2689
2021-03-14 02:11:06 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:11:09 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:11:09 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0D04FE966D65-&gt;420bb263-49e8-47ba-869f-ec3500aa2c5f
2021-03-14 02:11:09 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:11:10 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:11:10 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687615595_0004
2021-03-14 02:11:10 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:11:10 INFO  Configuration:2795 - resource-types.xml not found
2021-03-14 02:11:10 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-03-14 02:11:10 INFO  YarnClientImpl:329 - Submitted application application_1615687615595_0004
2021-03-14 02:11:10 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1615687615595_0004/
2021-03-14 02:11:10 INFO  Job:1614 - Running job: job_1615687615595_0004
2021-03-14 02:11:18 INFO  Job:1635 - Job job_1615687615595_0004 running in uber mode : false
2021-03-14 02:11:18 INFO  Job:1642 -  map 0% reduce 0%
2021-03-14 02:11:25 INFO  Job:1642 -  map 33% reduce 0%
2021-03-14 02:11:31 INFO  Job:1642 -  map 67% reduce 0%
2021-03-14 02:11:36 INFO  Job:1642 -  map 100% reduce 0%
2021-03-14 02:11:41 INFO  Job:1642 -  map 100% reduce 100%
2021-03-14 02:11:42 INFO  Job:1653 - Job job_1615687615595_0004 completed successfully
2021-03-14 02:11:42 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1156219
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39714
		OFS: Number of bytes written=22203
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=42000
		Total time spent by all reduces in occupied slots (ms)=16532
		Total time spent by all map tasks (ms)=10500
		Total time spent by all reduce tasks (ms)=4133
		Total vcore-milliseconds taken by all map tasks=10500
		Total vcore-milliseconds taken by all reduce tasks=4133
		Total megabyte-milliseconds taken by all map tasks=43008000
		Total megabyte-milliseconds taken by all reduce tasks=16928768
	Map-Reduce Framework
		Map input records=1052
		Map output records=4514
		Map output bytes=55079
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32035
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=624
		CPU time spent (ms)=7810
		Physical memory (bytes) snapshot=1287749632
		Virtual memory (bytes) snapshot=15798472704
		Total committed heap usage (bytes)=1248329728
		Peak Map Physical memory (bytes)=306155520
		Peak Map Virtual memory (bytes)=3949289472
		Peak Reduce Physical memory (bytes)=402255872
		Peak Reduce Virtual memory (bytes)=3979182080
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39414
	File Output Format Counters 
		Bytes Written=22203</msg>
<status status="PASS" endtime="20210314 02:11:42.547" starttime="20210314 02:11:42.545"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:11:42.547" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:11:42.547" starttime="20210314 02:11:42.547"/>
</kw>
<status status="PASS" endtime="20210314 02:11:42.548" starttime="20210314 02:11:03.499"/>
</kw>
<msg timestamp="20210314 02:11:42.548" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:11:42.548" starttime="20210314 02:11:03.499"/>
</kw>
<msg timestamp="20210314 02:11:42.548" level="INFO">${output} = 2021-03-14 02:11:05 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:11:05 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20210314 02:11:42.548" starttime="20210314 02:11:03.499"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:11:42.549" starttime="20210314 02:11:42.549"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:11:42.550" starttime="20210314 02:11:42.549"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:11:42.550" starttime="20210314 02:11:03.463"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20210314 02:11:42.551" starttime="20210314 02:10:25.431"/>
</suite>
<suite source="/opt/ozone/smoketest/mapreduce.robot" id="s1-s3-s5" name="mapreduce-o3fs">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:34.542" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:08:34.549" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:08:34.549" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:08:34.549" starttime="20210314 02:08:34.539"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:08:34.550" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:08:34.550" starttime="20210314 02:08:34.549"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:08:34.551" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:08:34.551" starttime="20210314 02:08:34.550"/>
</kw>
<status status="PASS" endtime="20210314 02:08:34.551" starttime="20210314 02:08:34.538"/>
</kw>
<msg timestamp="20210314 02:08:34.551" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:08:34.551" starttime="20210314 02:08:34.538"/>
</kw>
<msg timestamp="20210314 02:08:34.551" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:08:34.551" starttime="20210314 02:08:34.537"/>
</kw>
<msg timestamp="20210314 02:08:34.552" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:08:34.552" starttime="20210314 02:08:34.537"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:08:34.557" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:08:34.557" starttime="20210314 02:08:34.556"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:08:34.558" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:08:34.558" starttime="20210314 02:08:34.557"/>
</kw>
<status status="PASS" endtime="20210314 02:08:34.558" starttime="20210314 02:08:34.556"/>
</kw>
<msg timestamp="20210314 02:08:34.558" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:08:34.558" starttime="20210314 02:08:34.555"/>
</kw>
<status status="PASS" endtime="20210314 02:08:34.558" starttime="20210314 02:08:34.554"/>
</kw>
<msg timestamp="20210314 02:08:34.558" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:08:34.558" starttime="20210314 02:08:34.553"/>
</kw>
<msg timestamp="20210314 02:08:34.559" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:08:34.559" starttime="20210314 02:08:34.552"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:08:34.563" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:09:26.752" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:09:26.752" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:08:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:08:36 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" endtime="20210314 02:09:26.752" starttime="20210314 02:08:34.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:09:26.754" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:08:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:08:36 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:08:36 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:08:37 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:08:37 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0E6019B072B9-&gt;420bb263-49e8-47ba-869f-ec3500aa2c5f
2021-03-14 02:08:37 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-03-14 02:08:38 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-21C7DB5753A6-&gt;47a4ac3c-20a1-4cf1-85c1-9e68db6d2689
2021-03-14 02:08:38 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-03-14 02:08:40 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:08:41 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:08:41 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:08:41 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687615595_0001
2021-03-14 02:08:41 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:08:42 INFO  Configuration:2795 - resource-types.xml not found
2021-03-14 02:08:42 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-03-14 02:08:42 INFO  YarnClientImpl:329 - Submitted application application_1615687615595_0001
2021-03-14 02:08:42 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1615687615595_0001/
2021-03-14 02:08:42 INFO  Job:1614 - Running job: job_1615687615595_0001
2021-03-14 02:08:53 INFO  Job:1635 - Job job_1615687615595_0001 running in uber mode : false
2021-03-14 02:08:53 INFO  Job:1642 -  map 0% reduce 0%
2021-03-14 02:09:00 INFO  Job:1642 -  map 33% reduce 0%
2021-03-14 02:09:06 INFO  Job:1642 -  map 67% reduce 0%
2021-03-14 02:09:12 INFO  Job:1642 -  map 100% reduce 0%
2021-03-14 02:09:20 INFO  Job:1642 -  map 100% reduce 100%
2021-03-14 02:09:26 INFO  Job:1653 - Job job_1615687615595_0001 completed successfully
2021-03-14 02:09:26 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1093733
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=804
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=45940
		Total time spent by all reduces in occupied slots (ms)=26380
		Total time spent by all map tasks (ms)=11485
		Total time spent by all reduce tasks (ms)=6595
		Total vcore-milliseconds taken by all map tasks=11485
		Total vcore-milliseconds taken by all reduce tasks=6595
		Total megabyte-milliseconds taken by all map tasks=47042560
		Total megabyte-milliseconds taken by all reduce tasks=27013120
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=450
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=679
		CPU time spent (ms)=7900
		Physical memory (bytes) snapshot=1233186816
		Virtual memory (bytes) snapshot=15821139968
		Total committed heap usage (bytes)=1072693248
		Peak Map Physical memory (bytes)=308953088
		Peak Map Virtual memory (bytes)=3949998080
		Peak Reduce Physical memory (bytes)=311222272
		Peak Reduce Virtual memory (bytes)=3973701632
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 45.293 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" endtime="20210314 02:09:26.754" starttime="20210314 02:09:26.753"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:09:26.754" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:09:26.755" starttime="20210314 02:09:26.754"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.755" starttime="20210314 02:08:34.560"/>
</kw>
<msg timestamp="20210314 02:09:26.755" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:09:26.755" starttime="20210314 02:08:34.559"/>
</kw>
<msg timestamp="20210314 02:09:26.756" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-03-14 02:08:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:08:36 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" endtime="20210314 02:09:26.756" starttime="20210314 02:08:34.559"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:09:26.756" starttime="20210314 02:09:26.756"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:09:26.756" starttime="20210314 02:08:34.536"/>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:09:26.762" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:09:26.769" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:09:26.769" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:09:26.769" starttime="20210314 02:09:26.760"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:09:26.770" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:09:26.770" starttime="20210314 02:09:26.769"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:09:26.771" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:09:26.771" starttime="20210314 02:09:26.770"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.771" starttime="20210314 02:09:26.759"/>
</kw>
<msg timestamp="20210314 02:09:26.771" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:09:26.772" starttime="20210314 02:09:26.759"/>
</kw>
<msg timestamp="20210314 02:09:26.772" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:09:26.772" starttime="20210314 02:09:26.759"/>
</kw>
<msg timestamp="20210314 02:09:26.772" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" endtime="20210314 02:09:26.772" starttime="20210314 02:09:26.758"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210314 02:09:26.773" level="INFO">${random} = kCuMk2ue</msg>
<status status="PASS" endtime="20210314 02:09:26.773" starttime="20210314 02:09:26.772"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:09:26.776" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:09:26.777" starttime="20210314 02:09:26.776"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:09:26.777" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:09:26.777" starttime="20210314 02:09:26.777"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.777" starttime="20210314 02:09:26.776"/>
</kw>
<msg timestamp="20210314 02:09:26.778" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:09:26.778" starttime="20210314 02:09:26.775"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.778" starttime="20210314 02:09:26.774"/>
</kw>
<msg timestamp="20210314 02:09:26.778" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:09:26.778" starttime="20210314 02:09:26.774"/>
</kw>
<msg timestamp="20210314 02:09:26.778" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" endtime="20210314 02:09:26.778" starttime="20210314 02:09:26.773"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:09:26.782" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:09:26.782" starttime="20210314 02:09:26.781"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:09:26.782" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:09:26.782" starttime="20210314 02:09:26.782"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.782" starttime="20210314 02:09:26.781"/>
</kw>
<msg timestamp="20210314 02:09:26.783" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:09:26.783" starttime="20210314 02:09:26.780"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.783" starttime="20210314 02:09:26.780"/>
</kw>
<msg timestamp="20210314 02:09:26.783" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20210314 02:09:26.783" starttime="20210314 02:09:26.779"/>
</kw>
<msg timestamp="20210314 02:09:26.783" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" endtime="20210314 02:09:26.783" starttime="20210314 02:09:26.778"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210314 02:09:26.786" level="INFO">${first} = o</msg>
<status status="PASS" endtime="20210314 02:09:26.786" starttime="20210314 02:09:26.786"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210314 02:09:26.787" level="INFO">${result} = .om</msg>
<status status="PASS" endtime="20210314 02:09:26.787" starttime="20210314 02:09:26.787"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.787" starttime="20210314 02:09:26.786"/>
</kw>
<msg timestamp="20210314 02:09:26.788" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" endtime="20210314 02:09:26.788" starttime="20210314 02:09:26.785"/>
</kw>
<status status="PASS" endtime="20210314 02:09:26.788" starttime="20210314 02:09:26.785"/>
</kw>
<msg timestamp="20210314 02:09:26.788" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-kCuMk2ue.txt</msg>
<status status="PASS" endtime="20210314 02:09:26.788" starttime="20210314 02:09:26.784"/>
</kw>
<msg timestamp="20210314 02:09:26.788" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-kCuMk2ue.txt</msg>
<status status="PASS" endtime="20210314 02:09:26.788" starttime="20210314 02:09:26.783"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210314 02:09:26.792" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-kCuMk2ue.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210314 02:10:07.795" level="INFO">${rc} = 0</msg>
<msg timestamp="20210314 02:10:07.795" level="INFO">${output} = 2021-03-14 02:09:28 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:09:29 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20210314 02:10:07.795" starttime="20210314 02:09:26.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210314 02:10:07.796" level="INFO">2021-03-14 02:09:28 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:09:29 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-03-14 02:09:29 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-03-14 02:09:29 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-03-14 02:09:29 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-03-14 02:09:29 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-03-14 02:09:29 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3E7949FB73B9-&gt;420bb263-49e8-47ba-869f-ec3500aa2c5f
2021-03-14 02:09:29 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:09:30 INFO  FileInputFormat:292 - Total input files to process : 3
2021-03-14 02:09:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C3609243A35E-&gt;47a4ac3c-20a1-4cf1-85c1-9e68db6d2689
2021-03-14 02:09:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-03-14 02:09:31 INFO  JobSubmitter:202 - number of splits:3
2021-03-14 02:09:31 INFO  JobSubmitter:298 - Submitting tokens for job: job_1615687615595_0002
2021-03-14 02:09:31 INFO  JobSubmitter:299 - Executing with tokens: []
2021-03-14 02:09:31 INFO  Configuration:2795 - resource-types.xml not found
2021-03-14 02:09:31 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-03-14 02:09:31 INFO  YarnClientImpl:329 - Submitted application application_1615687615595_0002
2021-03-14 02:09:31 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1615687615595_0002/
2021-03-14 02:09:31 INFO  Job:1614 - Running job: job_1615687615595_0002
2021-03-14 02:09:40 INFO  Job:1635 - Job job_1615687615595_0002 running in uber mode : false
2021-03-14 02:09:40 INFO  Job:1642 -  map 0% reduce 0%
2021-03-14 02:09:47 INFO  Job:1642 -  map 33% reduce 0%
2021-03-14 02:09:52 INFO  Job:1642 -  map 67% reduce 0%
2021-03-14 02:09:58 INFO  Job:1642 -  map 100% reduce 0%
2021-03-14 02:10:07 INFO  Job:1642 -  map 100% reduce 100%
2021-03-14 02:10:07 INFO  Job:1653 - Job job_1615687615595_0002 completed successfully
2021-03-14 02:10:07 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1156303
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39717
		O3FS: Number of bytes written=22203
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=43672
		Total time spent by all reduces in occupied slots (ms)=27048
		Total time spent by all map tasks (ms)=10918
		Total time spent by all reduce tasks (ms)=6762
		Total vcore-milliseconds taken by all map tasks=10918
		Total vcore-milliseconds taken by all reduce tasks=6762
		Total megabyte-milliseconds taken by all map tasks=44720128
		Total megabyte-milliseconds taken by all reduce tasks=27697152
	Map-Reduce Framework
		Map input records=1052
		Map output records=4514
		Map output bytes=55079
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32035
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=657
		CPU time spent (ms)=7680
		Physical memory (bytes) snapshot=1230483456
		Virtual memory (bytes) snapshot=15809576960
		Total committed heap usage (bytes)=1059586048
		Peak Map Physical memory (bytes)=310960128
		Peak Map Virtual memory (bytes)=3948711936
		Peak Reduce Physical memory (bytes)=309329920
		Peak Reduce Virtual memory (bytes)=3969421312
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39414
	File Output Format Counters 
		Bytes Written=22203</msg>
<status status="PASS" endtime="20210314 02:10:07.796" starttime="20210314 02:10:07.795"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210314 02:10:07.797" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" endtime="20210314 02:10:07.797" starttime="20210314 02:10:07.797"/>
</kw>
<status status="PASS" endtime="20210314 02:10:07.797" starttime="20210314 02:09:26.789"/>
</kw>
<msg timestamp="20210314 02:10:07.797" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" endtime="20210314 02:10:07.798" starttime="20210314 02:09:26.789"/>
</kw>
<msg timestamp="20210314 02:10:07.798" level="INFO">${output} = 2021-03-14 02:09:28 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-03-14 02:09:29 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" endtime="20210314 02:10:07.798" starttime="20210314 02:09:26.788"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:10:07.799" starttime="20210314 02:10:07.798"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" endtime="20210314 02:10:07.800" starttime="20210314 02:10:07.799"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" endtime="20210314 02:10:07.800" starttime="20210314 02:09:26.757"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" endtime="20210314 02:10:07.801" starttime="20210314 02:08:34.483"/>
</suite>
<status status="PASS" elapsedtime="229899" endtime="N/A" starttime="N/A"/>
</suite>
<status status="PASS" elapsedtime="649064" endtime="N/A" starttime="N/A"/>
</suite>
<statistics>
<total>
<stat fail="0" skip="0" pass="24">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat fail="0" skip="0" id="s1" name="ozone-mr" pass="24">ozone-mr</stat>
<stat fail="0" skip="0" id="s1-s1" name="hadoop27" pass="8">ozone-mr.hadoop27</stat>
<stat fail="0" skip="0" id="s1-s1-s1" name="Createmrenv" pass="2">ozone-mr.hadoop27.Createmrenv</stat>
<stat fail="0" skip="0" id="s1-s1-s2" name="hadoopfs-ofs" pass="1">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat fail="0" skip="0" id="s1-s1-s3" name="hadoopfs-o3fs" pass="1">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat fail="0" skip="0" id="s1-s1-s4" name="mapreduce-ofs" pass="2">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat fail="0" skip="0" id="s1-s1-s5" name="mapreduce-o3fs" pass="2">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat fail="0" skip="0" id="s1-s2" name="hadoop31" pass="8">ozone-mr.hadoop31</stat>
<stat fail="0" skip="0" id="s1-s2-s1" name="Createmrenv" pass="2">ozone-mr.hadoop31.Createmrenv</stat>
<stat fail="0" skip="0" id="s1-s2-s2" name="hadoopfs-ofs" pass="1">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat fail="0" skip="0" id="s1-s2-s3" name="hadoopfs-o3fs" pass="1">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat fail="0" skip="0" id="s1-s2-s4" name="mapreduce-ofs" pass="2">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat fail="0" skip="0" id="s1-s2-s5" name="mapreduce-o3fs" pass="2">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat fail="0" skip="0" id="s1-s3" name="hadoop32" pass="8">ozone-mr.hadoop32</stat>
<stat fail="0" skip="0" id="s1-s3-s1" name="Createmrenv" pass="2">ozone-mr.hadoop32.Createmrenv</stat>
<stat fail="0" skip="0" id="s1-s3-s2" name="hadoopfs-ofs" pass="1">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat fail="0" skip="0" id="s1-s3-s3" name="hadoopfs-o3fs" pass="1">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat fail="0" skip="0" id="s1-s3-s4" name="mapreduce-ofs" pass="2">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat fail="0" skip="0" id="s1-s3-s5" name="mapreduce-o3fs" pass="2">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
