2021-09-21 13:06:13,412 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:13,514 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:13,514 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:13,634 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:13,641 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:13,873 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 135 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:14,525 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:14,655 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:14,840 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:14,841 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:14,889 [Time-limited test] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-09-21 13:06:14,904 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:14,905 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:14,911 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:14,913 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:14,954 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:14,955 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:14,961 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:15,037 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:15,046 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:15,084 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:15,091 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:15,091 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:15,128 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:15,145 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:15,173 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:15,176 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:15,184 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 1 milliseconds for processing 0 containers.
2021-09-21 13:06:15,186 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:15,186 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:15,186 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:15,186 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:15,187 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:15,577 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:15,614 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:15,655 [Listener at 0.0.0.0/46779] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:15,656 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:15,673 [Listener at 0.0.0.0/43849] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:15,673 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:15,753 [Listener at 0.0.0.0/35353] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:15,764 [Listener at 0.0.0.0/35353] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:15,764 [Listener at 0.0.0.0/35353] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:15,765 [Listener at 0.0.0.0/35353] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:15,767 [Listener at 0.0.0.0/35353] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:35353
2021-09-21 13:06:15,830 [Listener at 0.0.0.0/35353] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:15,852 [Listener at 0.0.0.0/35353] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:15,852 [Listener at 0.0.0.0/35353] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:16,179 [Listener at 0.0.0.0/35353] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:35353
2021-09-21 13:06:16,180 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:16,181 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:16,190 [Listener at 0.0.0.0/35353] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:43849
2021-09-21 13:06:16,190 [Listener at 0.0.0.0/35353] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:43849
2021-09-21 13:06:16,191 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:16,191 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:16,194 [Listener at 0.0.0.0/35353] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:46779
2021-09-21 13:06:16,194 [Listener at 0.0.0.0/35353] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:46779
2021-09-21 13:06:16,196 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:16,196 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:16,211 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5036a99c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:16,226 [Listener at 0.0.0.0/35353] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:16,227 [Listener at 0.0.0.0/35353] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:16,251 [Listener at 0.0.0.0/35353] INFO  util.log (Log.java:initialized(170)) - Logging initialized @4179ms to org.eclipse.jetty.util.log.Slf4jLog
2021-09-21 13:06:16,353 [Listener at 0.0.0.0/35353] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:16,357 [Listener at 0.0.0.0/35353] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:16,366 [Listener at 0.0.0.0/35353] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:16,368 [Listener at 0.0.0.0/35353] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:16,368 [Listener at 0.0.0.0/35353] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:16,369 [Listener at 0.0.0.0/35353] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:16,409 [Listener at 0.0.0.0/35353] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 41605
2021-09-21 13:06:16,410 [Listener at 0.0.0.0/35353] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:16,441 [Listener at 0.0.0.0/35353] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:16,441 [Listener at 0.0.0.0/35353] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:16,443 [Listener at 0.0.0.0/35353] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:16,455 [Listener at 0.0.0.0/35353] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7c29eb0a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:16,455 [Listener at 0.0.0.0/35353] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@9ea1eab{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:16,495 [Listener at 0.0.0.0/35353] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@43850713{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:16,503 [Listener at 0.0.0.0/35353] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@12ff4542{HTTP/1.1, (http/1.1)}{0.0.0.0:41605}
2021-09-21 13:06:16,503 [Listener at 0.0.0.0/35353] INFO  server.Server (Server.java:doStart(415)) - Started @4431ms
2021-09-21 13:06:16,505 [Listener at 0.0.0.0/35353] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:16,505 [Listener at 0.0.0.0/35353] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:16,506 [Listener at 0.0.0.0/35353] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:41605
2021-09-21 13:06:16,609 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:16,614 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12476 and Ratis port: 12480
2021-09-21 13:06:16,614 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12478
2021-09-21 13:06:16,615 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12479
2021-09-21 13:06:16,615 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12476
2021-09-21 13:06:16,615 [Listener at 0.0.0.0/35353] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/om;cid=b5dc8ec1-865d-4a0d-a098-0f9a1087b26e;layoutVersion=0
2021-09-21 13:06:16,878 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:16,879 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12476 and Ratis port: 12480
2021-09-21 13:06:16,879 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12478
2021-09-21 13:06:16,879 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12479
2021-09-21 13:06:16,880 [Listener at 0.0.0.0/35353] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12476
2021-09-21 13:06:16,880 [Listener at 0.0.0.0/35353] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:16,882 [Listener at 0.0.0.0/35353] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:16,937 [Listener at 0.0.0.0/35353] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 50 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:16,941 [Listener at 0.0.0.0/35353] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:16,942 [Listener at 0.0.0.0/35353] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:17,083 [Listener at 0.0.0.0/35353] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:17,089 [Listener at 0.0.0.0/35353] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:17,090 [Listener at 0.0.0.0/35353] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:17,297 [Listener at 0.0.0.0/35353] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:17,377 [Listener at 0.0.0.0/35353] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:17,378 [Listener at 0.0.0.0/35353] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:17,405 [Listener at 0.0.0.0/35353] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:17,557 [Listener at 0.0.0.0/35353] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:17,591 [Listener at 0.0.0.0/35353] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12480, localhost:12492, localhost:12486
2021-09-21 13:06:17,600 [Listener at 0.0.0.0/35353] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:17,641 [Listener at 0.0.0.0/35353] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:17,725 [Listener at 0.0.0.0/35353] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:17,731 [Listener at 0.0.0.0/35353] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:17,732 [Listener at 0.0.0.0/35353] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12480 (custom)
2021-09-21 13:06:17,732 [Listener at 0.0.0.0/35353] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:17,732 [Listener at 0.0.0.0/35353] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12480 (custom)
2021-09-21 13:06:17,733 [Listener at 0.0.0.0/35353] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12480 (custom)
2021-09-21 13:06:17,739 [Listener at 0.0.0.0/35353] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:17,741 [Listener at 0.0.0.0/35353] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:17,742 [Listener at 0.0.0.0/35353] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:17,743 [Listener at 0.0.0.0/35353] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:18,047 [Listener at 0.0.0.0/35353] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:18,050 [Listener at 0.0.0.0/35353] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:18,050 [Listener at 0.0.0.0/35353] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:18,068 [Listener at 0.0.0.0/35353] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/ratis] (custom)
2021-09-21 13:06:18,075 [Listener at 0.0.0.0/35353] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@55b5faa7[Not completed]
2021-09-21 13:06:18,075 [Listener at 0.0.0.0/35353] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12480
2021-09-21 13:06:18,106 [pool-39-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:18,108 [Listener at 0.0.0.0/35353] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:18,109 [Socket Reader #1 for port 12476] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12476
2021-09-21 13:06:18,110 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:18,120 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:18,120 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:18,120 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:18,120 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:18,120 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:18,121 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:18,141 [Listener at 127.0.0.1/12476] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:18,142 [Listener at 127.0.0.1/12476] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:18,145 [pool-39-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:18,145 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/ratis] (custom)
2021-09-21 13:06:18,157 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:18,157 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:18,159 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:18,171 [Listener at 127.0.0.1/12476] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12476
2021-09-21 13:06:18,171 [Listener at 127.0.0.1/12476] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 12480
2021-09-21 13:06:18,174 [pool-39-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:18,180 [pool-39-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:18,183 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:18,185 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:18,193 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:18,193 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:18,204 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:18,212 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:18,212 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:18,218 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:18,218 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:18,219 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:18,220 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:18,220 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:18,221 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:18,222 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:18,222 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:18,222 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:18,231 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:18,231 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:18,237 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:18,237 [pool-39-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:18,244 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:18,245 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:18,245 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:18,246 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:18,247 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:18,247 [pool-39-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:18,285 [Listener at 127.0.0.1/12476] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:18,287 [Listener at 127.0.0.1/12476] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:18,288 [Listener at 127.0.0.1/12476] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:18,289 [Listener at 127.0.0.1/12476] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:18,296 [Listener at 127.0.0.1/12476] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:18,360 [Listener at 127.0.0.1/12476] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 12480
2021-09-21 13:06:18,364 [Listener at 127.0.0.1/12476] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:18,366 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@21e4581c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:18,380 [Listener at 127.0.0.1/12476] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12478
2021-09-21 13:06:18,381 [Listener at 127.0.0.1/12476] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:18,382 [Listener at 127.0.0.1/12476] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:18,390 [Listener at 127.0.0.1/12476] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:18,392 [Listener at 127.0.0.1/12476] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:18,393 [Listener at 127.0.0.1/12476] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:18,393 [Listener at 127.0.0.1/12476] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:18,393 [Listener at 127.0.0.1/12476] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:18,395 [Listener at 127.0.0.1/12476] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12478
2021-09-21 13:06:18,395 [Listener at 127.0.0.1/12476] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:18,397 [Listener at 127.0.0.1/12476] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:18,397 [Listener at 127.0.0.1/12476] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:18,397 [Listener at 127.0.0.1/12476] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:18,398 [Listener at 127.0.0.1/12476] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@72df1901{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:18,398 [Listener at 127.0.0.1/12476] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@69d4d98d{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:18,402 [Listener at 127.0.0.1/12476] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6874d57e{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:18,407 [Listener at 127.0.0.1/12476] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@82d90db{HTTP/1.1, (http/1.1)}{0.0.0.0:12478}
2021-09-21 13:06:18,407 [Listener at 127.0.0.1/12476] INFO  server.Server (Server.java:doStart(415)) - Started @6336ms
2021-09-21 13:06:18,407 [Listener at 127.0.0.1/12476] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:18,412 [Listener at 127.0.0.1/12476] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12478
2021-09-21 13:06:18,413 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:18,413 [IPC Server listener on 12476] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12476: starting
2021-09-21 13:06:18,419 [Listener at 127.0.0.1/12476] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:18,420 [Listener at 127.0.0.1/12476] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:12476
2021-09-21 13:06:18,421 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:18,421 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12482 and Ratis port: 12486
2021-09-21 13:06:18,421 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12484
2021-09-21 13:06:18,421 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12485
2021-09-21 13:06:18,421 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12482
2021-09-21 13:06:18,422 [Listener at 127.0.0.1/12476] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,426 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6321b46c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/om;cid=b5dc8ec1-865d-4a0d-a098-0f9a1087b26e;layoutVersion=0
2021-09-21 13:06:18,429 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:18,431 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12482 and Ratis port: 12486
2021-09-21 13:06:18,431 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12484
2021-09-21 13:06:18,431 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12485
2021-09-21 13:06:18,432 [Listener at 127.0.0.1/12476] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12482
2021-09-21 13:06:18,433 [Listener at 127.0.0.1/12476] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,433 [Listener at 127.0.0.1/12476] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:18,483 [Listener at 127.0.0.1/12476] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 48 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:18,483 [Listener at 127.0.0.1/12476] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:18,483 [Listener at 127.0.0.1/12476] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,493 [Listener at 127.0.0.1/12476] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,494 [Listener at 127.0.0.1/12476] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:18,494 [Listener at 127.0.0.1/12476] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:18,611 [Listener at 127.0.0.1/12476] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:18,612 [Listener at 127.0.0.1/12476] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:18,612 [Listener at 127.0.0.1/12476] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:18,612 [Listener at 127.0.0.1/12476] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:18,614 [Listener at 127.0.0.1/12476] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:18,614 [Listener at 127.0.0.1/12476] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:18,614 [Listener at 127.0.0.1/12476] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:18,615 [Listener at 127.0.0.1/12476] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12486, localhost:12492, localhost:12480
2021-09-21 13:06:18,620 [Listener at 127.0.0.1/12476] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:18,624 [Listener at 127.0.0.1/12476] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:18,624 [Listener at 127.0.0.1/12476] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:18,625 [Listener at 127.0.0.1/12476] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:18,625 [Listener at 127.0.0.1/12476] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12486 (custom)
2021-09-21 13:06:18,626 [Listener at 127.0.0.1/12476] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:18,627 [Listener at 127.0.0.1/12476] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12486 (custom)
2021-09-21 13:06:18,627 [Listener at 127.0.0.1/12476] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12486 (custom)
2021-09-21 13:06:18,627 [Listener at 127.0.0.1/12476] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:18,628 [Listener at 127.0.0.1/12476] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:18,628 [Listener at 127.0.0.1/12476] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:18,628 [Listener at 127.0.0.1/12476] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:18,629 [Listener at 127.0.0.1/12476] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:18,630 [Listener at 127.0.0.1/12476] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:18,630 [Listener at 127.0.0.1/12476] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:18,632 [Listener at 127.0.0.1/12476] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/ratis] (custom)
2021-09-21 13:06:18,633 [Listener at 127.0.0.1/12476] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@2ab9628d[Not completed]
2021-09-21 13:06:18,633 [Listener at 127.0.0.1/12476] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12486
2021-09-21 13:06:18,635 [Listener at 127.0.0.1/12476] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:18,638 [pool-62-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:18,641 [pool-62-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:18,642 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/ratis] (custom)
2021-09-21 13:06:18,642 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:18,642 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:18,642 [Socket Reader #1 for port 12482] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12482
2021-09-21 13:06:18,642 [pool-62-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:18,650 [pool-62-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:18,651 [pool-62-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:18,652 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:18,652 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:18,652 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:18,652 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:18,652 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:18,653 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:18,653 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:18,653 [pool-62-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:18,654 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:18,654 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:18,654 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:18,654 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:18,654 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:18,654 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:18,656 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:18,656 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:18,657 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:18,660 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:18,660 [pool-62-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:18,660 [pool-62-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:18,668 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:18,668 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:18,668 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:18,668 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:18,669 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:18,669 [pool-62-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:18,688 [Listener at 127.0.0.1/12482] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:18,691 [Listener at 127.0.0.1/12482] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:18,710 [Listener at 127.0.0.1/12482] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12482
2021-09-21 13:06:18,710 [Listener at 127.0.0.1/12482] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 12486
2021-09-21 13:06:18,711 [Listener at 127.0.0.1/12482] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:18,711 [Listener at 127.0.0.1/12482] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:18,711 [Listener at 127.0.0.1/12482] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:18,712 [Listener at 127.0.0.1/12482] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:18,720 [Listener at 127.0.0.1/12482] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:18,725 [Listener at 127.0.0.1/12482] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 12486
2021-09-21 13:06:18,725 [Listener at 127.0.0.1/12482] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:18,726 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@150f5bb7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:18,737 [Listener at 127.0.0.1/12482] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12484
2021-09-21 13:06:18,737 [Listener at 127.0.0.1/12482] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:18,739 [Listener at 127.0.0.1/12482] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:18,739 [Listener at 127.0.0.1/12482] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:18,740 [Listener at 127.0.0.1/12482] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:18,741 [Listener at 127.0.0.1/12482] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:18,741 [Listener at 127.0.0.1/12482] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:18,742 [Listener at 127.0.0.1/12482] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:18,742 [Listener at 127.0.0.1/12482] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12484
2021-09-21 13:06:18,742 [Listener at 127.0.0.1/12482] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:18,750 [Listener at 127.0.0.1/12482] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:18,750 [Listener at 127.0.0.1/12482] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:18,750 [Listener at 127.0.0.1/12482] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:18,751 [Listener at 127.0.0.1/12482] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@217db198{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:18,752 [Listener at 127.0.0.1/12482] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@277e468e{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:18,755 [Listener at 127.0.0.1/12482] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@634eabd9{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:18,757 [Listener at 127.0.0.1/12482] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6ea4b81b{HTTP/1.1, (http/1.1)}{0.0.0.0:12484}
2021-09-21 13:06:18,758 [Listener at 127.0.0.1/12482] INFO  server.Server (Server.java:doStart(415)) - Started @6686ms
2021-09-21 13:06:18,758 [Listener at 127.0.0.1/12482] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:18,758 [Listener at 127.0.0.1/12482] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12484
2021-09-21 13:06:18,760 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:18,764 [IPC Server listener on 12482] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12482: starting
2021-09-21 13:06:18,770 [Listener at 127.0.0.1/12482] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:18,775 [Listener at 127.0.0.1/12482] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:12482
2021-09-21 13:06:18,781 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:18,781 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5c735a8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:18,782 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12488 and Ratis port: 12492
2021-09-21 13:06:18,782 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12490
2021-09-21 13:06:18,782 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12491
2021-09-21 13:06:18,782 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12488
2021-09-21 13:06:18,783 [Listener at 127.0.0.1/12482] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/om;cid=b5dc8ec1-865d-4a0d-a098-0f9a1087b26e;layoutVersion=0
2021-09-21 13:06:18,799 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:18,800 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12488 and Ratis port: 12492
2021-09-21 13:06:18,800 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12490
2021-09-21 13:06:18,800 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12491
2021-09-21 13:06:18,800 [Listener at 127.0.0.1/12482] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12488
2021-09-21 13:06:18,800 [Listener at 127.0.0.1/12482] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,801 [Listener at 127.0.0.1/12482] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:18,847 [Listener at 127.0.0.1/12482] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 44 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:18,847 [Listener at 127.0.0.1/12482] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:18,847 [Listener at 127.0.0.1/12482] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,859 [Listener at 127.0.0.1/12482] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:18,860 [Listener at 127.0.0.1/12482] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:18,860 [Listener at 127.0.0.1/12482] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:18,982 [Listener at 127.0.0.1/12482] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:18,983 [Listener at 127.0.0.1/12482] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:18,983 [Listener at 127.0.0.1/12482] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:18,983 [Listener at 127.0.0.1/12482] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:18,984 [Listener at 127.0.0.1/12482] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:18,984 [Listener at 127.0.0.1/12482] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:18,984 [Listener at 127.0.0.1/12482] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:18,986 [Listener at 127.0.0.1/12482] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12492, localhost:12480, localhost:12486
2021-09-21 13:06:18,986 [Listener at 127.0.0.1/12482] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:18,986 [Listener at 127.0.0.1/12482] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12492 (custom)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12492 (custom)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12492 (custom)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:18,987 [Listener at 127.0.0.1/12482] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:18,989 [Listener at 127.0.0.1/12482] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:18,989 [Listener at 127.0.0.1/12482] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:18,989 [Listener at 127.0.0.1/12482] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:18,989 [Listener at 127.0.0.1/12482] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/ratis] (custom)
2021-09-21 13:06:18,990 [Listener at 127.0.0.1/12482] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@1ed891b5[Not completed]
2021-09-21 13:06:18,990 [Listener at 127.0.0.1/12482] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12492
2021-09-21 13:06:18,992 [Listener at 127.0.0.1/12482] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:18,997 [pool-83-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:18,997 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:18,998 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:18,998 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:18,998 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:18,998 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:18,999 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:18,999 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:19,000 [pool-83-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:19,007 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/ratis] (custom)
2021-09-21 13:06:18,998 [Socket Reader #1 for port 12488] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12488
2021-09-21 13:06:19,028 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:19,028 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:19,029 [pool-83-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:19,031 [pool-83-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:19,032 [pool-83-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:19,032 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:19,033 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:19,033 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:19,033 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:19,033 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:19,034 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:19,034 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:19,034 [pool-83-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-b5dc8ec1-865d-4a0d-a098-0f9a1087b26e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:19,034 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:19,034 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:19,034 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:19,035 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:19,035 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:19,035 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:19,035 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:19,035 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:19,036 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:19,036 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:19,036 [pool-83-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:19,036 [pool-83-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:19,038 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:19,038 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:19,038 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:19,038 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:19,038 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:19,038 [pool-83-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:19,054 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:19,056 [Listener at 127.0.0.1/12488] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:19,073 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12488
2021-09-21 13:06:19,073 [Listener at 127.0.0.1/12488] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 12492
2021-09-21 13:06:19,073 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:19,074 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:19,074 [Listener at 127.0.0.1/12488] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:19,074 [Listener at 127.0.0.1/12488] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:19,076 [Listener at 127.0.0.1/12488] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:19,079 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 12492
2021-09-21 13:06:19,079 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:19,080 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@4fbc3b93] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:19,081 [Listener at 127.0.0.1/12488] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12490
2021-09-21 13:06:19,081 [Listener at 127.0.0.1/12488] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:19,082 [Listener at 127.0.0.1/12488] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:19,083 [Listener at 127.0.0.1/12488] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:19,084 [Listener at 127.0.0.1/12488] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:19,085 [Listener at 127.0.0.1/12488] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:19,085 [Listener at 127.0.0.1/12488] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:19,085 [Listener at 127.0.0.1/12488] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:19,086 [Listener at 127.0.0.1/12488] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12490
2021-09-21 13:06:19,086 [Listener at 127.0.0.1/12488] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:19,088 [Listener at 127.0.0.1/12488] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:19,088 [Listener at 127.0.0.1/12488] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:19,089 [Listener at 127.0.0.1/12488] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:19,089 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@555a9dee{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:19,090 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@d334a78{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:19,094 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@c4411d9{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:19,099 [Listener at 127.0.0.1/12488] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@69469d06{HTTP/1.1, (http/1.1)}{0.0.0.0:12490}
2021-09-21 13:06:19,099 [Listener at 127.0.0.1/12488] INFO  server.Server (Server.java:doStart(415)) - Started @7027ms
2021-09-21 13:06:19,099 [Listener at 127.0.0.1/12488] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:19,099 [Listener at 127.0.0.1/12488] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12490
2021-09-21 13:06:19,100 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:19,104 [IPC Server listener on 12488] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12488: starting
2021-09-21 13:06:19,109 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:19,109 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:12488
2021-09-21 13:06:19,144 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:19,144 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:19,144 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:19,148 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4a4db05c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:19,599 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1310985432ns, electionTimeout:1148ms
2021-09-21 13:06:19,599 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:19,609 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:19,611 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:19,611 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection1
2021-09-21 13:06:19,625 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:19,718 [Listener at 127.0.0.1/12488] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:12482 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:19,733 [Listener at 127.0.0.1/12488] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:12488 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:19,887 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-2@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1175478795ns, electionTimeout:1162ms
2021-09-21 13:06:19,887 [omNode-2@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:19,888 [omNode-2@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:19,888 [omNode-2@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:19,888 [omNode-2@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-LeaderElection2
2021-09-21 13:06:19,896 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-2@group-523986131536-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,134 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1059753724ns, electionTimeout:1058ms
2021-09-21 13:06:20,134 [omNode-3@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:20,134 [omNode-3@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:20,134 [omNode-3@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:20,134 [omNode-3@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-LeaderElection3
2021-09-21 13:06:20,148 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-3@group-523986131536-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,176 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:20,176 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:20,177 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-CANDIDATE: reject ELECTION from omNode-1: already has voted for omNode-2 at current term 1
2021-09-21 13:06:20,177 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-CANDIDATE: reject ELECTION from omNode-1: already has voted for omNode-3 at current term 1
2021-09-21 13:06:20,183 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-2, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:20,184 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-1@group-523986131536: receive requestVote(ELECTION, omNode-2, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:20,184 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-1@group-523986131536-CANDIDATE: reject ELECTION from omNode-2: already has voted for omNode-1 at current term 1
2021-09-21 13:06:20,184 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-1@group-523986131536 replies to ELECTION vote request: omNode-2<-omNode-1#0:FAIL-t1. Peer's state: omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,185 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:FAIL-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,185 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:FAIL-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,186 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-CANDIDATE: reject ELECTION from omNode-2: already has voted for omNode-3 at current term 1
2021-09-21 13:06:20,186 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-2<-omNode-3#0:FAIL-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,211 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-21 13:06:20,211 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:FAIL-t1
2021-09-21 13:06:20,211 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: omNode-1<-omNode-2#0:FAIL-t1
2021-09-21 13:06:20,212 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection1 ELECTION round 0: result REJECTED
2021-09-21 13:06:20,215 [omNode-1@group-523986131536-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-09-21 13:06:20,215 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection1
2021-09-21 13:06:20,215 [omNode-1@group-523986131536-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-2@group-523986131536-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-2<-omNode-3#0:FAIL-t1
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: omNode-2<-omNode-1#0:FAIL-t1
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-2@group-523986131536-LeaderElection2 ELECTION round 0: result REJECTED
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-2: shutdown omNode-2@group-523986131536-LeaderElection2
2021-09-21 13:06:20,216 [omNode-2@group-523986131536-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:20,224 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-3, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:20,224 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: reject ELECTION from omNode-3: already has voted for omNode-2 at current term 1
2021-09-21 13:06:20,224 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-3<-omNode-2#0:FAIL-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,228 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-1@group-523986131536: receive requestVote(ELECTION, omNode-3, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:20,228 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-1@group-523986131536-FOLLOWER: reject ELECTION from omNode-3: already has voted for omNode-1 at current term 1
2021-09-21 13:06:20,228 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-1@group-523986131536 replies to ELECTION vote request: omNode-3<-omNode-1#0:FAIL-t1. Peer's state: omNode-1@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-3@group-523986131536-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-3<-omNode-1#0:FAIL-t1
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: omNode-3<-omNode-2#0:FAIL-t1
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-3@group-523986131536-LeaderElection3 ELECTION round 0: result REJECTED
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-3: shutdown omNode-3@group-523986131536-LeaderElection3
2021-09-21 13:06:20,230 [omNode-3@group-523986131536-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:21,268 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1038084770ns, electionTimeout:1037ms
2021-09-21 13:06:21,268 [omNode-3@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:21,269 [omNode-3@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-21 13:06:21,283 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1067803272ns, electionTimeout:1066ms
2021-09-21 13:06:21,283 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:21,283 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-21 13:06:21,285 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:21,285 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection4
2021-09-21 13:06:21,286 [omNode-3@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:21,286 [omNode-3@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-LeaderElection5
2021-09-21 13:06:21,288 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,288 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-3@group-523986131536-LeaderElection5 ELECTION round 0: submit vote requests at term 2 for -1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,299 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 2, (t:0, i:~))
2021-09-21 13:06:21,299 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-CANDIDATE: reject ELECTION from omNode-1: already has voted for omNode-3 at current term 2
2021-09-21 13:06:21,299 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:FAIL-t2. Peer's state: omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,303 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-2@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1086784103ns, electionTimeout:1084ms
2021-09-21 13:06:21,303 [omNode-2@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:21,303 [omNode-2@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-09-21 13:06:21,303 [omNode-2@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:21,304 [omNode-2@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-LeaderElection6
2021-09-21 13:06:21,308 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 2, (t:0, i:~))
2021-09-21 13:06:21,310 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-3, group-523986131536, 2, (t:0, i:~))
2021-09-21 13:06:21,311 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-2@group-523986131536-LeaderElection6 ELECTION round 0: submit vote requests at term 2 for -1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,311 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-CANDIDATE: reject ELECTION from omNode-3: already has voted for omNode-2 at current term 2
2021-09-21 13:06:21,311 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-3<-omNode-2#0:FAIL-t2. Peer's state: omNode-2@group-523986131536:t2, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,311 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-CANDIDATE: reject ELECTION from omNode-1: already has voted for omNode-2 at current term 2
2021-09-21 13:06:21,312 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:FAIL-t2. Peer's state: omNode-2@group-523986131536:t2, leader=null, voted=omNode-2, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,321 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-1@group-523986131536: receive requestVote(ELECTION, omNode-3, group-523986131536, 2, (t:0, i:~))
2021-09-21 13:06:21,321 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-1@group-523986131536-CANDIDATE: reject ELECTION from omNode-3: already has voted for omNode-1 at current term 2
2021-09-21 13:06:21,321 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-1@group-523986131536 replies to ELECTION vote request: omNode-3<-omNode-1#0:FAIL-t2. Peer's state: omNode-1@group-523986131536:t2, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection4: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:FAIL-t2
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: omNode-1<-omNode-2#0:FAIL-t2
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection4 ELECTION round 0: result REJECTED
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection4
2021-09-21 13:06:21,323 [omNode-1@group-523986131536-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-3@group-523986131536-LeaderElection5: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-3<-omNode-1#0:FAIL-t2
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: omNode-3<-omNode-2#0:FAIL-t2
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-3@group-523986131536-LeaderElection5 ELECTION round 0: result REJECTED
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-3: shutdown omNode-3@group-523986131536-LeaderElection5
2021-09-21 13:06:21,329 [omNode-3@group-523986131536-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:21,330 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-2, group-523986131536, 2, (t:0, i:~))
2021-09-21 13:06:21,335 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: reject ELECTION from omNode-2: already has voted for omNode-3 at current term 2
2021-09-21 13:06:21,335 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-2<-omNode-3#0:FAIL-t2. Peer's state: omNode-3@group-523986131536:t2, leader=null, voted=omNode-3, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,336 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-1@group-523986131536: receive requestVote(ELECTION, omNode-2, group-523986131536, 2, (t:0, i:~))
2021-09-21 13:06:21,336 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-1@group-523986131536-FOLLOWER: reject ELECTION from omNode-2: already has voted for omNode-1 at current term 2
2021-09-21 13:06:21,337 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-1@group-523986131536 replies to ELECTION vote request: omNode-2<-omNode-1#0:FAIL-t2. Peer's state: omNode-1@group-523986131536:t2, leader=null, voted=omNode-1, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12492|priority:0, omNode-1|rpc:localhost:12480|priority:0, omNode-2|rpc:localhost:12486|priority:0], old=null
2021-09-21 13:06:21,339 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-2@group-523986131536-LeaderElection6: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-09-21 13:06:21,339 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-2<-omNode-3#0:FAIL-t2
2021-09-21 13:06:21,339 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: omNode-2<-omNode-1#0:FAIL-t2
2021-09-21 13:06:21,339 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-2@group-523986131536-LeaderElection6 ELECTION round 0: result REJECTED
2021-09-21 13:06:21,339 [omNode-2@group-523986131536-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-09-21 13:06:21,339 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-2: shutdown omNode-2@group-523986131536-LeaderElection6
2021-09-21 13:06:21,340 [omNode-2@group-523986131536-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:21,736 [Listener at 127.0.0.1/12488] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:12476 after 3 failover attempts. Trying to failover immediately.
2021-09-21 13:06:21,740 [Listener at 127.0.0.1/12488] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:12482 after 4 failover attempts. Trying to failover immediately.
2021-09-21 13:06:21,742 [Listener at 127.0.0.1/12488] ERROR ha.OMFailoverProxyProvider (OMFailoverProxyProvider.java:getRetryAction(292)) - Failed to connect to OMs: [nodeId=omNode-3,nodeAddress=127.0.0.1:12488, nodeId=omNode-1,nodeAddress=127.0.0.1:12476, nodeId=omNode-2,nodeAddress=127.0.0.1:12482]. Attempted 5 failovers.
2021-09-21 13:06:21,743 [Listener at 127.0.0.1/12488] ERROR client.OzoneClientFactory (OzoneClientFactory.java:getClientProtocol(249)) - Couldn't create RpcClient protocol exception: 
java.io.IOException: Could not determine or connect to OM Leader.
	at org.apache.hadoop.ozone.om.protocolPB.Hadoop3OmTransport.submitRequest(Hadoop3OmTransport.java:96)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:230)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.getServiceInfo(OzoneManagerProtocolClientSideTranslatorPB.java:1108)
	at org.apache.hadoop.ozone.client.rpc.RpcClient.<init>(RpcClient.java:193)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getClientProtocol(OzoneClientFactory.java:246)
	at org.apache.hadoop.ozone.client.OzoneClientFactory.getRpcClient(OzoneClientFactory.java:113)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHA.init(TestOzoneManagerHA.java:186)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:258)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:21,746 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:21,746 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:21,746 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:21,746 [Listener at 127.0.0.1/12488] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12488
2021-09-21 13:06:21,748 [IPC Server listener on 12488] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12488
2021-09-21 13:06:21,752 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:21,756 [Listener at 127.0.0.1/12488] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:21,757 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:21,757 [Listener at 127.0.0.1/12488] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:21,757 [Listener at 127.0.0.1/12488] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:21,757 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:21,758 [Listener at 127.0.0.1/12488] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = -1
2021-09-21 13:06:21,758 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:21,759 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: -1
2021-09-21 13:06:21,761 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:21,761 [Listener at 127.0.0.1/12488] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:21,762 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 12492 now
2021-09-21 13:06:21,785 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 12492 successfully
2021-09-21 13:06:21,787 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@4fbc3b93] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:21,787 [Listener at 127.0.0.1/12488] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:21,787 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:21,788 [Listener at 127.0.0.1/12488] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:21,792 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@c4411d9{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:21,796 [Listener at 127.0.0.1/12488] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@69469d06{HTTP/1.1, (http/1.1)}{0.0.0.0:12490}
2021-09-21 13:06:21,796 [Listener at 127.0.0.1/12488] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:21,797 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@d334a78{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:21,797 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@555a9dee{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:21,800 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:21,800 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:21,800 [Listener at 127.0.0.1/12488] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12476
2021-09-21 13:06:21,804 [IPC Server listener on 12476] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12476
2021-09-21 13:06:21,804 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:21,804 [Listener at 127.0.0.1/12488] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:21,805 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:21,805 [Listener at 127.0.0.1/12488] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:21,805 [Listener at 127.0.0.1/12488] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:21,805 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-1@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:21,806 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:21,806 [Listener at 127.0.0.1/12488] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = -1
2021-09-21 13:06:21,807 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: -1
2021-09-21 13:06:21,807 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:21,807 [Listener at 127.0.0.1/12488] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:21,808 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 12480 now
2021-09-21 13:06:21,813 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 12480 successfully
2021-09-21 13:06:21,814 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@21e4581c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:21,814 [Listener at 127.0.0.1/12488] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:21,814 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:21,814 [Listener at 127.0.0.1/12488] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:21,817 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@6874d57e{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:21,818 [Listener at 127.0.0.1/12488] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@82d90db{HTTP/1.1, (http/1.1)}{0.0.0.0:12478}
2021-09-21 13:06:21,819 [Listener at 127.0.0.1/12488] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:21,822 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@69d4d98d{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:21,822 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@72df1901{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:21,824 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:21,824 [Listener at 127.0.0.1/12488] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:21,824 [Listener at 127.0.0.1/12488] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12482
2021-09-21 13:06:21,827 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:21,828 [IPC Server listener on 12482] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12482
2021-09-21 13:06:21,829 [Listener at 127.0.0.1/12488] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:21,829 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:21,829 [Listener at 127.0.0.1/12488] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:21,829 [Listener at 127.0.0.1/12488] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:21,829 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:21,830 [Listener at 127.0.0.1/12488] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = -1
2021-09-21 13:06:21,831 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:21,831 [Listener at 127.0.0.1/12488] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: -1
2021-09-21 13:06:21,832 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:21,832 [Listener at 127.0.0.1/12488] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:21,833 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 12486 now
2021-09-21 13:06:21,835 [Listener at 127.0.0.1/12488] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 12486 successfully
2021-09-21 13:06:21,835 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@150f5bb7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:21,835 [Listener at 127.0.0.1/12488] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:21,835 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:21,836 [Listener at 127.0.0.1/12488] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:21,836 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@634eabd9{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:21,840 [Listener at 127.0.0.1/12488] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6ea4b81b{HTTP/1.1, (http/1.1)}{0.0.0.0:12484}
2021-09-21 13:06:21,840 [Listener at 127.0.0.1/12488] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:21,840 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@277e468e{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:21,840 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@217db198{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager c55505a5-7078-4f1a-a6d5-7271c2024a25
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:21,843 [Listener at 127.0.0.1/12488] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 46779
2021-09-21 13:06:21,844 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:21,845 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:21,909 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:21,910 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:21,910 [Listener at 127.0.0.1/12488] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:21,910 [Listener at 127.0.0.1/12488] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43849
2021-09-21 13:06:21,913 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:21,914 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:21,914 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:21,914 [Listener at 127.0.0.1/12488] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:21,914 [Listener at 127.0.0.1/12488] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 35353
2021-09-21 13:06:21,916 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:21,916 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:21,916 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:21,917 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@43850713{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:21,918 [Listener at 127.0.0.1/12488] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@12ff4542{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:21,918 [Listener at 127.0.0.1/12488] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:21,918 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@9ea1eab{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:21,918 [Listener at 127.0.0.1/12488] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7c29eb0a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:21,919 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:21,919 [Listener at 127.0.0.1/12488] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:21,919 [Listener at 127.0.0.1/12488] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:21,920 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:21,921 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:21,921 [Listener at 127.0.0.1/12488] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:21,922 [Listener at 127.0.0.1/12488] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:21,923 [Listener at 127.0.0.1/12488] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:21,924 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:21,924 [Listener at 127.0.0.1/12488] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:21,924 [Listener at 127.0.0.1/12488] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:21,981 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:21,983 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:21,983 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:21,984 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:21,984 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:22,028 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 43 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:22,030 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,031 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,113 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:22,113 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:22,116 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:22,116 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:22,116 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:22,116 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:22,117 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:22,117 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:22,117 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:22,118 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:22,118 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:22,118 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:22,118 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:22,119 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:22,119 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:22,120 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:22,120 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:22,120 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:22,124 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:22,124 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:22,124 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:22,124 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:22,125 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:22,125 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:22,128 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-21 13:06:22,129 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:22,129 [Listener at 0.0.0.0/44419] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:22,130 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:22,131 [Listener at 0.0.0.0/46425] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:22,131 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:22,155 [Listener at 0.0.0.0/36067] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:22,155 [Listener at 0.0.0.0/36067] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:22,155 [Listener at 0.0.0.0/36067] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:22,156 [Listener at 0.0.0.0/36067] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:22,156 [Listener at 0.0.0.0/36067] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:36067
2021-09-21 13:06:22,157 [Listener at 0.0.0.0/36067] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:22,158 [Listener at 0.0.0.0/36067] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:22,158 [Listener at 0.0.0.0/36067] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:22,164 [Listener at 0.0.0.0/36067] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:22,164 [Listener at 0.0.0.0/36067] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:22,184 [Listener at 0.0.0.0/36067] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:36067
2021-09-21 13:06:22,184 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:22,184 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:22,192 [Listener at 0.0.0.0/36067] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:46425
2021-09-21 13:06:22,193 [Listener at 0.0.0.0/36067] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:46425
2021-09-21 13:06:22,193 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:22,193 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:22,201 [Listener at 0.0.0.0/36067] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:44419
2021-09-21 13:06:22,201 [Listener at 0.0.0.0/36067] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:44419
2021-09-21 13:06:22,201 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:22,201 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:22,211 [Listener at 0.0.0.0/36067] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:22,211 [Listener at 0.0.0.0/36067] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:22,213 [Listener at 0.0.0.0/36067] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:22,214 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@b978dcd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:22,214 [Listener at 0.0.0.0/36067] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:22,215 [Listener at 0.0.0.0/36067] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:22,216 [Listener at 0.0.0.0/36067] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:22,216 [Listener at 0.0.0.0/36067] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:22,216 [Listener at 0.0.0.0/36067] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:22,217 [Listener at 0.0.0.0/36067] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 39859
2021-09-21 13:06:22,218 [Listener at 0.0.0.0/36067] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:22,221 [Listener at 0.0.0.0/36067] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:22,222 [Listener at 0.0.0.0/36067] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:22,222 [Listener at 0.0.0.0/36067] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:22,223 [Listener at 0.0.0.0/36067] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@550e06f7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:22,223 [Listener at 0.0.0.0/36067] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@33fee0d9{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:22,230 [Listener at 0.0.0.0/36067] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@216a371d{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:22,233 [Listener at 0.0.0.0/36067] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3f89041e{HTTP/1.1, (http/1.1)}{0.0.0.0:39859}
2021-09-21 13:06:22,233 [Listener at 0.0.0.0/36067] INFO  server.Server (Server.java:doStart(415)) - Started @10161ms
2021-09-21 13:06:22,233 [Listener at 0.0.0.0/36067] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:22,234 [Listener at 0.0.0.0/36067] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:39859
2021-09-21 13:06:22,235 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:22,235 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11400 and Ratis port: 11404
2021-09-21 13:06:22,235 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11402
2021-09-21 13:06:22,236 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11403
2021-09-21 13:06:22,236 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11400
2021-09-21 13:06:22,236 [Listener at 0.0.0.0/36067] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/om;cid=7ffb8730-02cd-4c9d-9430-9680d4f59fbf;layoutVersion=0
2021-09-21 13:06:22,246 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:22,246 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11400 and Ratis port: 11404
2021-09-21 13:06:22,246 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11402
2021-09-21 13:06:22,246 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11403
2021-09-21 13:06:22,247 [Listener at 0.0.0.0/36067] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11400
2021-09-21 13:06:22,247 [Listener at 0.0.0.0/36067] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,247 [Listener at 0.0.0.0/36067] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:22,295 [Listener at 0.0.0.0/36067] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 47 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:22,295 [Listener at 0.0.0.0/36067] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:22,296 [Listener at 0.0.0.0/36067] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,303 [Listener at 0.0.0.0/36067] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,304 [Listener at 0.0.0.0/36067] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:22,304 [Listener at 0.0.0.0/36067] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:22,419 [Listener at 0.0.0.0/36067] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:22,419 [Listener at 0.0.0.0/36067] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:22,420 [Listener at 0.0.0.0/36067] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:22,420 [Listener at 0.0.0.0/36067] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:22,426 [Listener at 0.0.0.0/36067] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:22,427 [Listener at 0.0.0.0/36067] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11404, localhost:11416, localhost:11410
2021-09-21 13:06:22,428 [Listener at 0.0.0.0/36067] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11404 (custom)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11404 (custom)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11404 (custom)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:22,429 [Listener at 0.0.0.0/36067] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:22,431 [Listener at 0.0.0.0/36067] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:22,431 [Listener at 0.0.0.0/36067] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:22,431 [Listener at 0.0.0.0/36067] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:22,432 [Listener at 0.0.0.0/36067] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis] (custom)
2021-09-21 13:06:22,432 [Listener at 0.0.0.0/36067] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@488fc13d[Not completed]
2021-09-21 13:06:22,432 [Listener at 0.0.0.0/36067] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11404
2021-09-21 13:06:22,435 [Listener at 0.0.0.0/36067] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:22,436 [pool-122-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:22,437 [Socket Reader #1 for port 11400] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11400
2021-09-21 13:06:22,440 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis] (custom)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:22,441 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:22,442 [pool-122-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:22,445 [pool-122-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:22,447 [pool-122-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:22,449 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:22,449 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:22,449 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:22,450 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:22,450 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:22,451 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:22,451 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:22,462 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:22,459 [Listener at 127.0.0.1/11400] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:22,463 [Listener at 127.0.0.1/11400] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:22,471 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:22,471 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:22,471 [pool-122-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:22,471 [pool-122-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:22,474 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:22,475 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:22,475 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:22,475 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:22,475 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:22,475 [pool-122-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:22,510 [Listener at 127.0.0.1/11400] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11400
2021-09-21 13:06:22,512 [Listener at 127.0.0.1/11400] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 11404
2021-09-21 13:06:22,512 [Listener at 127.0.0.1/11400] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null
2021-09-21 13:06:22,513 [Listener at 127.0.0.1/11400] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:22,513 [Listener at 127.0.0.1/11400] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:22,513 [Listener at 127.0.0.1/11400] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:22,514 [Listener at 127.0.0.1/11400] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:22,515 [Listener at 127.0.0.1/11400] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 11404
2021-09-21 13:06:22,516 [Listener at 127.0.0.1/11400] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:22,516 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@687d97c6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:22,519 [Listener at 127.0.0.1/11400] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11402
2021-09-21 13:06:22,519 [Listener at 127.0.0.1/11400] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:22,521 [Listener at 127.0.0.1/11400] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:22,521 [Listener at 127.0.0.1/11400] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:22,522 [Listener at 127.0.0.1/11400] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:22,523 [Listener at 127.0.0.1/11400] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:22,523 [Listener at 127.0.0.1/11400] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:22,523 [Listener at 127.0.0.1/11400] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:22,523 [Listener at 127.0.0.1/11400] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11402
2021-09-21 13:06:22,523 [Listener at 127.0.0.1/11400] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:22,525 [Listener at 127.0.0.1/11400] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:22,525 [Listener at 127.0.0.1/11400] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:22,525 [Listener at 127.0.0.1/11400] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:22,532 [Listener at 127.0.0.1/11400] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@9dc1a18{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:22,533 [Listener at 127.0.0.1/11400] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@367243bb{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:22,536 [Listener at 127.0.0.1/11400] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@38946d61{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:22,537 [Listener at 127.0.0.1/11400] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5854eb84{HTTP/1.1, (http/1.1)}{0.0.0.0:11402}
2021-09-21 13:06:22,537 [Listener at 127.0.0.1/11400] INFO  server.Server (Server.java:doStart(415)) - Started @10465ms
2021-09-21 13:06:22,537 [Listener at 127.0.0.1/11400] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:22,538 [Listener at 127.0.0.1/11400] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11402
2021-09-21 13:06:22,538 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:22,540 [IPC Server listener on 11400] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11400: starting
2021-09-21 13:06:22,550 [Listener at 127.0.0.1/11400] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:22,550 [Listener at 127.0.0.1/11400] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:11400
2021-09-21 13:06:22,550 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4373e7eb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:22,551 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:22,551 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11406 and Ratis port: 11410
2021-09-21 13:06:22,552 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:11408
2021-09-21 13:06:22,552 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:11409
2021-09-21 13:06:22,552 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:11406
2021-09-21 13:06:22,552 [Listener at 127.0.0.1/11400] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/om;cid=7ffb8730-02cd-4c9d-9430-9680d4f59fbf;layoutVersion=0
2021-09-21 13:06:22,562 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:22,563 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11406 and Ratis port: 11410
2021-09-21 13:06:22,563 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:11408
2021-09-21 13:06:22,563 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:11409
2021-09-21 13:06:22,563 [Listener at 127.0.0.1/11400] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:11406
2021-09-21 13:06:22,563 [Listener at 127.0.0.1/11400] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,564 [Listener at 127.0.0.1/11400] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:22,607 [Listener at 127.0.0.1/11400] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 42 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:22,607 [Listener at 127.0.0.1/11400] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:22,607 [Listener at 127.0.0.1/11400] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,616 [Listener at 127.0.0.1/11400] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,617 [Listener at 127.0.0.1/11400] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:22,617 [Listener at 127.0.0.1/11400] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:22,726 [Listener at 127.0.0.1/11400] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:22,727 [Listener at 127.0.0.1/11400] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:22,727 [Listener at 127.0.0.1/11400] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:22,727 [Listener at 127.0.0.1/11400] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:22,729 [Listener at 127.0.0.1/11400] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:22,729 [Listener at 127.0.0.1/11400] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:22,729 [Listener at 127.0.0.1/11400] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:22,730 [Listener at 127.0.0.1/11400] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11410, localhost:11416, localhost:11404
2021-09-21 13:06:22,730 [Listener at 127.0.0.1/11400] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:22,731 [Listener at 127.0.0.1/11400] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:22,731 [Listener at 127.0.0.1/11400] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:22,731 [Listener at 127.0.0.1/11400] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11410 (custom)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11410 (custom)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11410 (custom)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:22,732 [Listener at 127.0.0.1/11400] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:22,733 [Listener at 127.0.0.1/11400] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:22,733 [Listener at 127.0.0.1/11400] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:22,733 [Listener at 127.0.0.1/11400] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:22,734 [Listener at 127.0.0.1/11400] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis] (custom)
2021-09-21 13:06:22,734 [Listener at 127.0.0.1/11400] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@48713ca1[Not completed]
2021-09-21 13:06:22,734 [Listener at 127.0.0.1/11400] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11410
2021-09-21 13:06:22,735 [Listener at 127.0.0.1/11400] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:22,736 [pool-143-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:22,736 [Socket Reader #1 for port 11406] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11406
2021-09-21 13:06:22,741 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis] (custom)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:22,742 [pool-143-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:22,743 [pool-143-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:22,744 [pool-143-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:22,745 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:22,745 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:22,745 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:22,745 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:22,745 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:22,746 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:22,747 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:22,748 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:22,748 [pool-143-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:22,748 [pool-143-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:22,756 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:22,756 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:22,756 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:22,756 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:22,756 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:22,757 [pool-143-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:22,758 [Listener at 127.0.0.1/11406] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:22,763 [Listener at 127.0.0.1/11406] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:22,777 [Listener at 127.0.0.1/11406] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11406
2021-09-21 13:06:22,778 [Listener at 127.0.0.1/11406] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 11410
2021-09-21 13:06:22,778 [Listener at 127.0.0.1/11406] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null
2021-09-21 13:06:22,778 [Listener at 127.0.0.1/11406] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:22,778 [Listener at 127.0.0.1/11406] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:22,780 [Listener at 127.0.0.1/11406] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:22,782 [Listener at 127.0.0.1/11406] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:22,787 [Listener at 127.0.0.1/11406] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 11410
2021-09-21 13:06:22,788 [Listener at 127.0.0.1/11406] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:22,789 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@601954f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:22,791 [Listener at 127.0.0.1/11406] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11408
2021-09-21 13:06:22,791 [Listener at 127.0.0.1/11406] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:22,792 [Listener at 127.0.0.1/11406] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:22,793 [Listener at 127.0.0.1/11406] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:22,794 [Listener at 127.0.0.1/11406] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:22,795 [Listener at 127.0.0.1/11406] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:22,795 [Listener at 127.0.0.1/11406] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:22,795 [Listener at 127.0.0.1/11406] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:22,796 [Listener at 127.0.0.1/11406] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11408
2021-09-21 13:06:22,796 [Listener at 127.0.0.1/11406] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:22,798 [Listener at 127.0.0.1/11406] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:22,798 [Listener at 127.0.0.1/11406] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:22,798 [Listener at 127.0.0.1/11406] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:22,799 [Listener at 127.0.0.1/11406] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@22d2cf8f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:22,799 [Listener at 127.0.0.1/11406] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2958472c{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:22,802 [Listener at 127.0.0.1/11406] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6c0619b2{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:22,803 [Listener at 127.0.0.1/11406] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@12fabbb5{HTTP/1.1, (http/1.1)}{0.0.0.0:11408}
2021-09-21 13:06:22,803 [Listener at 127.0.0.1/11406] INFO  server.Server (Server.java:doStart(415)) - Started @10731ms
2021-09-21 13:06:22,803 [Listener at 127.0.0.1/11406] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:22,804 [Listener at 127.0.0.1/11406] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11408
2021-09-21 13:06:22,804 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:22,804 [IPC Server listener on 11406] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11406: starting
2021-09-21 13:06:22,814 [Listener at 127.0.0.1/11406] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:22,814 [Listener at 127.0.0.1/11406] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:11406
2021-09-21 13:06:22,814 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:22,815 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11412 and Ratis port: 11416
2021-09-21 13:06:22,815 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:11414
2021-09-21 13:06:22,815 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:11415
2021-09-21 13:06:22,815 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:11412
2021-09-21 13:06:22,815 [Listener at 127.0.0.1/11406] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,820 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@13069526] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/om;cid=7ffb8730-02cd-4c9d-9430-9680d4f59fbf;layoutVersion=0
2021-09-21 13:06:22,828 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:22,828 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11412 and Ratis port: 11416
2021-09-21 13:06:22,828 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:11414
2021-09-21 13:06:22,828 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:11415
2021-09-21 13:06:22,828 [Listener at 127.0.0.1/11406] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:11412
2021-09-21 13:06:22,828 [Listener at 127.0.0.1/11406] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,829 [Listener at 127.0.0.1/11406] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:22,882 [Listener at 127.0.0.1/11406] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 52 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:22,882 [Listener at 127.0.0.1/11406] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:22,882 [Listener at 127.0.0.1/11406] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,889 [Listener at 127.0.0.1/11406] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:22,890 [Listener at 127.0.0.1/11406] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:22,890 [Listener at 127.0.0.1/11406] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:23,012 [Listener at 127.0.0.1/11406] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:23,013 [Listener at 127.0.0.1/11406] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:23,013 [Listener at 127.0.0.1/11406] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:23,013 [Listener at 127.0.0.1/11406] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:23,014 [Listener at 127.0.0.1/11406] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:23,015 [Listener at 127.0.0.1/11406] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:23,015 [Listener at 127.0.0.1/11406] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:23,016 [Listener at 127.0.0.1/11406] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11416, localhost:11404, localhost:11410
2021-09-21 13:06:23,016 [Listener at 127.0.0.1/11406] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:23,021 [Listener at 127.0.0.1/11406] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:23,021 [Listener at 127.0.0.1/11406] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11416 (custom)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11416 (custom)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11416 (custom)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:23,022 [Listener at 127.0.0.1/11406] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:23,023 [Listener at 127.0.0.1/11406] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:23,024 [Listener at 127.0.0.1/11406] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:23,024 [Listener at 127.0.0.1/11406] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:23,024 [Listener at 127.0.0.1/11406] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:23,024 [Listener at 127.0.0.1/11406] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis] (custom)
2021-09-21 13:06:23,026 [Listener at 127.0.0.1/11406] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@19d07e91[Not completed]
2021-09-21 13:06:23,026 [Listener at 127.0.0.1/11406] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11416
2021-09-21 13:06:23,030 [Listener at 127.0.0.1/11406] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:23,030 [pool-164-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:23,034 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:23,034 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:23,034 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:23,034 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:23,034 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:23,034 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:23,035 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:23,035 [pool-164-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:23,035 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis] (custom)
2021-09-21 13:06:23,035 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:23,035 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:23,035 [pool-164-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:23,036 [Socket Reader #1 for port 11412] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11412
2021-09-21 13:06:23,036 [pool-164-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:23,037 [pool-164-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:23,038 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:23,038 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:23,038 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:23,038 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:23,038 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:23,039 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:23,040 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:23,040 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:23,040 [pool-164-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:23,040 [pool-164-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:23,048 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:23,048 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:23,048 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:23,048 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:23,048 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:23,049 [pool-164-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:23,059 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:23,062 [Listener at 127.0.0.1/11412] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:23,078 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11412
2021-09-21 13:06:23,078 [Listener at 127.0.0.1/11412] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 11416
2021-09-21 13:06:23,078 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null
2021-09-21 13:06:23,079 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:23,079 [Listener at 127.0.0.1/11412] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:23,080 [Listener at 127.0.0.1/11412] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:23,084 [Listener at 127.0.0.1/11412] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:23,092 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 11416
2021-09-21 13:06:23,094 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:23,094 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@79252927] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:23,096 [Listener at 127.0.0.1/11412] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11414
2021-09-21 13:06:23,096 [Listener at 127.0.0.1/11412] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:23,098 [Listener at 127.0.0.1/11412] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:23,098 [Listener at 127.0.0.1/11412] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:23,100 [Listener at 127.0.0.1/11412] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:23,101 [Listener at 127.0.0.1/11412] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:23,102 [Listener at 127.0.0.1/11412] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:23,102 [Listener at 127.0.0.1/11412] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:23,103 [Listener at 127.0.0.1/11412] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11414
2021-09-21 13:06:23,104 [Listener at 127.0.0.1/11412] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:23,106 [Listener at 127.0.0.1/11412] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:23,106 [Listener at 127.0.0.1/11412] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:23,106 [Listener at 127.0.0.1/11412] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:23,109 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@77fe2bcf{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:23,109 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4474b8c4{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:23,120 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1aac38b4{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:23,121 [Listener at 127.0.0.1/11412] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@55efb9c4{HTTP/1.1, (http/1.1)}{0.0.0.0:11414}
2021-09-21 13:06:23,121 [Listener at 127.0.0.1/11412] INFO  server.Server (Server.java:doStart(415)) - Started @11049ms
2021-09-21 13:06:23,121 [Listener at 127.0.0.1/11412] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:23,122 [Listener at 127.0.0.1/11412] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11414
2021-09-21 13:06:23,123 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:23,124 [IPC Server listener on 11412] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11412: starting
2021-09-21 13:06:23,131 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:23,132 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:11412
2021-09-21 13:06:23,132 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:23,132 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:23,133 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:23,137 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6c7bdc4a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:23,149 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11406 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:23,159 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11412 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:23,699 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1186614666ns, electionTimeout:1185ms
2021-09-21 13:06:23,701 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:23,701 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:23,701 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:23,701 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection7
2021-09-21 13:06:23,707 [omNode-1@group-523986131536-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null
2021-09-21 13:06:23,727 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:23,728 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:23,728 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:23,728 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:23,728 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:23,729 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:23,729 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:23,729 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:23,729 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:23,729 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:23,738 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null
2021-09-21 13:06:23,739 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:23,739 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:23,744 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:11416|priority:0, omNode-1|rpc:localhost:11404|priority:0, omNode-2|rpc:localhost:11410|priority:0], old=null
2021-09-21 13:06:23,745 [omNode-1@group-523986131536-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:23,746 [omNode-1@group-523986131536-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:OK-t1
2021-09-21 13:06:23,746 [omNode-1@group-523986131536-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection7 ELECTION round 0: result PASSED
2021-09-21 13:06:23,746 [omNode-1@group-523986131536-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection7
2021-09-21 13:06:23,746 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:23,746 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1298ms
2021-09-21 13:06:23,753 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:23,758 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:23,760 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:23,766 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:23,766 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:23,767 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:23,776 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:23,776 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:23,777 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:23,779 [omNode-1@group-523986131536-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:23,779 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:23,779 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:23,783 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:23,783 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:23,783 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:23,783 [omNode-1@group-523986131536-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:23,784 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:23,784 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:23,786 [omNode-1@group-523986131536-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:23,803 [omNode-1@group-523986131536-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:23,840 [omNode-1@group-523986131536-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11416|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11404|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11410|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:23,866 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 828ms
2021-09-21 13:06:23,879 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 1134ms
2021-09-21 13:06:23,907 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11416|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11404|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11410|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:23,908 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:23,909 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11416|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11404|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11410|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:23,909 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:23,948 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:23,948 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:23,970 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-7ffb8730-02cd-4c9d-9430-9680d4f59fbf/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:24,052 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11416"
, id: "omNode-1"
address: "localhost:11404"
, id: "omNode-2"
address: "localhost:11410"
]
2021-09-21 13:06:24,468 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11416"
, id: "omNode-1"
address: "localhost:11404"
, id: "omNode-2"
address: "localhost:11410"
]
2021-09-21 13:06:24,471 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11416"
, id: "omNode-1"
address: "localhost:11404"
, id: "omNode-2"
address: "localhost:11410"
]
2021-09-21 13:06:25,323 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:25,324 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11412
2021-09-21 13:06:25,330 [IPC Server listener on 11412] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11412
2021-09-21 13:06:25,335 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:25,335 [Listener at 127.0.0.1/11412] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:25,335 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:25,335 [Listener at 127.0.0.1/11412] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:25,335 [Listener at 127.0.0.1/11412] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:25,336 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:25,336 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:25,338 [Listener at 127.0.0.1/11412] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:25,337 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:25,338 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:25,338 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:25,338 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:25,339 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:25,340 [Listener at 127.0.0.1/11412] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:25,341 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 11416 now
2021-09-21 13:06:25,349 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:25,353 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 11416 successfully
2021-09-21 13:06:25,354 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@79252927] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:25,354 [Listener at 127.0.0.1/11412] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:25,354 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:25,354 [Listener at 127.0.0.1/11412] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:25,355 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1aac38b4{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:25,355 [Listener at 127.0.0.1/11412] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@55efb9c4{HTTP/1.1, (http/1.1)}{0.0.0.0:11414}
2021-09-21 13:06:25,355 [Listener at 127.0.0.1/11412] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:25,356 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4474b8c4{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:25,356 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@77fe2bcf{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:25,358 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:25,359 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Leader has not got in touch with Follower omNode-1@group-523986131536->omNode-3(c0,m0,n1, attendVote=true, lastRpcSendTime=386, lastRpcResponseTime=383) yet, just keep nextIndex unchanged and retry.
2021-09-21 13:06:25,362 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:25,362 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11400
2021-09-21 13:06:25,370 [IPC Server listener on 11400] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11400
2021-09-21 13:06:25,401 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:25,401 [Listener at 127.0.0.1/11412] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:25,401 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:25,401 [Listener at 127.0.0.1/11412] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:25,401 [Listener at 127.0.0.1/11412] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:25,402 [Listener at 127.0.0.1/11412] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:25,403 [Listener at 127.0.0.1/11412] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:25,408 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:25,408 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:25,408 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:25,408 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:25,409 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:25,409 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:25,402 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:25,411 [Listener at 127.0.0.1/11412] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:25,411 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 11404 now
2021-09-21 13:06:25,416 [omNode-1@group-523986131536->omNode-3-GrpcLogAppender-LogAppenderDaemon] ERROR leader.LogAppenderDaemon (LogAppenderDaemon.java:run(86)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalArgumentException: omNode-1@group-523986131536-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:107)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getTermIndex(SegmentedRaftLog.java:322)
	at org.apache.ratis.server.leader.LogAppenderBase.getPrevious(LogAppenderBase.java:110)
	at org.apache.ratis.server.leader.LogAppenderBase.newAppendEntriesRequest(LogAppenderBase.java:128)
	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:211)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:145)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close omNode-1@group-523986131536-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:160)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:356)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:505)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:421)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$4(RaftServerImpl.java:429)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:406)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:129)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:117)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.util.concurrent.ConcurrentHashMap$EntrySpliterator.forEachRemaining(ConcurrentHashMap.java:3606)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)
	at java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:401)
	at java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)
	at java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
	at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:650)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:117)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$close$6(RaftServerProxy.java:392)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerProxy.close(RaftServerProxy.java:390)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerRatisServer.stop(OzoneManagerRatisServer.java:523)
	at org.apache.hadoop.ozone.om.OzoneManager.stop(OzoneManager.java:1660)
	at org.apache.hadoop.ozone.MiniOzoneHAClusterImpl.stopOzoneManager(MiniOzoneHAClusterImpl.java:316)
	at org.apache.hadoop.ozone.om.TestOzoneManagerHAMetadataOnly.testOMRetryProxy(TestOzoneManagerHAMetadataOnly.java:277)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:258)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	... 1 more
2021-09-21 13:06:25,414 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-21 13:06:25,418 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:25,418 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(96)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Failed to getClient for omNode-2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: omNode-1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:60)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:89)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:94)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:53)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:345)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:476)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:616)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:802)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:781)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:25,419 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2021-09-21 13:06:25,420 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 11404 successfully
2021-09-21 13:06:25,420 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@687d97c6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:25,421 [Listener at 127.0.0.1/11412] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:25,421 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:25,421 [Listener at 127.0.0.1/11412] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:25,422 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@38946d61{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:25,422 [Listener at 127.0.0.1/11412] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5854eb84{HTTP/1.1, (http/1.1)}{0.0.0.0:11402}
2021-09-21 13:06:25,422 [Listener at 127.0.0.1/11412] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:25,422 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@367243bb{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:25,423 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@9dc1a18{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:25,424 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:25,424 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11406
2021-09-21 13:06:25,426 [IPC Server listener on 11406] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11406
2021-09-21 13:06:25,427 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:25,427 [Listener at 127.0.0.1/11412] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:25,427 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:25,427 [Listener at 127.0.0.1/11412] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:25,427 [Listener at 127.0.0.1/11412] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:25,427 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:25,428 [Listener at 127.0.0.1/11412] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:25,428 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:25,428 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:25,428 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:25,428 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:25,428 [Listener at 127.0.0.1/11412] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:25,429 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:25,430 [Listener at 127.0.0.1/11412] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:25,430 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 11410 now
2021-09-21 13:06:25,432 [Listener at 127.0.0.1/11412] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 11410 successfully
2021-09-21 13:06:25,432 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@601954f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:25,432 [Listener at 127.0.0.1/11412] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:25,432 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:25,432 [Listener at 127.0.0.1/11412] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:25,433 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@6c0619b2{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:25,433 [Listener at 127.0.0.1/11412] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@12fabbb5{HTTP/1.1, (http/1.1)}{0.0.0.0:11408}
2021-09-21 13:06:25,433 [Listener at 127.0.0.1/11412] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:25,434 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2958472c{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:25,434 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@22d2cf8f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:25,457 [Listener at 127.0.0.1/11412] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume71102, with user41354 as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:25,460 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.io.EOFException: End of File Exception between local host is: "fv-az151-918/10.1.0.59"; destination host is: "localhost":11400; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException, while invoking $Proxy46.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:11400. Trying to failover immediately.
2021-09-21 13:06:25,461 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.io.EOFException: End of File Exception between local host is: "fv-az151-918/10.1.0.59"; destination host is: "localhost":11406; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11406 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:25,462 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.io.EOFException: End of File Exception between local host is: "fv-az151-918/10.1.0.59"; destination host is: "localhost":11412; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11412 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:27,464 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From fv-az151-918/10.1.0.59 to localhost:11400 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy46.submitRequest over nodeId=omNode-1,nodeAddress=127.0.0.1:11400 after 3 failover attempts. Trying to failover immediately.
2021-09-21 13:06:27,466 [Listener at 127.0.0.1/11412] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From fv-az151-918/10.1.0.59 to localhost:11406 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11406 after 4 failover attempts. Trying to failover immediately.
2021-09-21 13:06:27,467 [Listener at 127.0.0.1/11412] ERROR ha.OMFailoverProxyProvider (OMFailoverProxyProvider.java:getRetryAction(292)) - Failed to connect to OMs: [nodeId=omNode-3,nodeAddress=127.0.0.1:11412, nodeId=omNode-1,nodeAddress=127.0.0.1:11400, nodeId=omNode-2,nodeAddress=127.0.0.1:11406]. Attempted 5 failovers.
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11412
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:27,469 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11400
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11406
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager 6ff5df7b-37c2-4d9a-abb4-5cfc3583be16
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:27,470 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:27,471 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:27,471 [Listener at 127.0.0.1/11412] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:27,471 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44419
2021-09-21 13:06:27,471 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:27,477 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:27,528 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:27,528 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:27,528 [Listener at 127.0.0.1/11412] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:27,528 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 46425
2021-09-21 13:06:27,530 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:27,532 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:27,532 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:27,532 [Listener at 127.0.0.1/11412] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:27,532 [Listener at 127.0.0.1/11412] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 36067
2021-09-21 13:06:27,534 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:27,534 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:27,534 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:27,536 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@216a371d{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:27,537 [Listener at 127.0.0.1/11412] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3f89041e{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:27,538 [Listener at 127.0.0.1/11412] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:27,538 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@33fee0d9{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:27,538 [Listener at 127.0.0.1/11412] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@550e06f7{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:27,539 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:27,539 [Listener at 127.0.0.1/11412] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:27,539 [Listener at 127.0.0.1/11412] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:27,539 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:27,539 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:27,539 [Listener at 127.0.0.1/11412] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:27,540 [Listener at 127.0.0.1/11412] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:27,541 [Listener at 127.0.0.1/11412] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:27,541 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:27,542 [Listener at 127.0.0.1/11412] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:27,542 [Listener at 127.0.0.1/11412] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:27,566 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,568 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:27,568 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:27,569 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,569 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:27,610 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 39 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:27,612 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,613 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,686 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:27,686 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:27,688 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:27,689 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:27,689 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:27,689 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:27,689 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:27,689 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:27,690 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:27,691 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:27,691 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:27,691 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:27,691 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:27,692 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:27,692 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:27,693 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:27,693 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:27,693 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:27,696 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:27,696 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:27,696 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 1 milliseconds for processing 0 containers.
2021-09-21 13:06:27,696 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:27,696 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:27,696 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:27,697 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:27,697 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:27,698 [Listener at 0.0.0.0/32869] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:27,703 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:27,703 [Listener at 0.0.0.0/40823] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:27,708 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:27,726 [Listener at 0.0.0.0/39215] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:27,727 [Listener at 0.0.0.0/39215] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:27,727 [Listener at 0.0.0.0/39215] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:27,727 [Listener at 0.0.0.0/39215] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:27,727 [Listener at 0.0.0.0/39215] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:39215
2021-09-21 13:06:27,728 [Listener at 0.0.0.0/39215] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:27,734 [Listener at 0.0.0.0/39215] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:27,734 [Listener at 0.0.0.0/39215] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:27,742 [Listener at 0.0.0.0/39215] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:27,742 [Listener at 0.0.0.0/39215] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:27,762 [Listener at 0.0.0.0/39215] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:39215
2021-09-21 13:06:27,763 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:27,763 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:27,773 [Listener at 0.0.0.0/39215] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:40823
2021-09-21 13:06:27,773 [Listener at 0.0.0.0/39215] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:40823
2021-09-21 13:06:27,773 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:27,777 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:27,783 [Listener at 0.0.0.0/39215] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:32869
2021-09-21 13:06:27,783 [Listener at 0.0.0.0/39215] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:32869
2021-09-21 13:06:27,783 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:27,784 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:27,793 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@35f9c5da] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:27,793 [Listener at 0.0.0.0/39215] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:27,793 [Listener at 0.0.0.0/39215] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:27,794 [Listener at 0.0.0.0/39215] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:27,795 [Listener at 0.0.0.0/39215] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:27,796 [Listener at 0.0.0.0/39215] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:27,797 [Listener at 0.0.0.0/39215] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:27,797 [Listener at 0.0.0.0/39215] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:27,797 [Listener at 0.0.0.0/39215] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:27,797 [Listener at 0.0.0.0/39215] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 43597
2021-09-21 13:06:27,798 [Listener at 0.0.0.0/39215] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:27,801 [Listener at 0.0.0.0/39215] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:27,801 [Listener at 0.0.0.0/39215] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:27,801 [Listener at 0.0.0.0/39215] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:27,804 [Listener at 0.0.0.0/39215] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@56aade59{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:27,805 [Listener at 0.0.0.0/39215] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ab7d3c3{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:27,808 [Listener at 0.0.0.0/39215] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4e80942c{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:27,809 [Listener at 0.0.0.0/39215] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@fe4f436{HTTP/1.1, (http/1.1)}{0.0.0.0:43597}
2021-09-21 13:06:27,809 [Listener at 0.0.0.0/39215] INFO  server.Server (Server.java:doStart(415)) - Started @15737ms
2021-09-21 13:06:27,809 [Listener at 0.0.0.0/39215] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:27,809 [Listener at 0.0.0.0/39215] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:43597
2021-09-21 13:06:27,810 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:27,810 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11684 and Ratis port: 11688
2021-09-21 13:06:27,811 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11686
2021-09-21 13:06:27,811 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11687
2021-09-21 13:06:27,811 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11684
2021-09-21 13:06:27,811 [Listener at 0.0.0.0/39215] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/om;cid=37e12cf4-f199-4787-9b96-888b9e2e118d;layoutVersion=0
2021-09-21 13:06:27,832 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:27,832 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11684 and Ratis port: 11688
2021-09-21 13:06:27,832 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11686
2021-09-21 13:06:27,832 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11687
2021-09-21 13:06:27,833 [Listener at 0.0.0.0/39215] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11684
2021-09-21 13:06:27,833 [Listener at 0.0.0.0/39215] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,833 [Listener at 0.0.0.0/39215] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:27,873 [Listener at 0.0.0.0/39215] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 39 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:27,874 [Listener at 0.0.0.0/39215] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:27,874 [Listener at 0.0.0.0/39215] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,886 [Listener at 0.0.0.0/39215] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:27,887 [Listener at 0.0.0.0/39215] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:27,887 [Listener at 0.0.0.0/39215] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:28,003 [Listener at 0.0.0.0/39215] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:28,004 [Listener at 0.0.0.0/39215] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:28,004 [Listener at 0.0.0.0/39215] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:28,004 [Listener at 0.0.0.0/39215] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:28,006 [Listener at 0.0.0.0/39215] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:28,007 [Listener at 0.0.0.0/39215] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11688, localhost:11700, localhost:11694
2021-09-21 13:06:28,007 [Listener at 0.0.0.0/39215] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:28,007 [Listener at 0.0.0.0/39215] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:28,007 [Listener at 0.0.0.0/39215] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:28,007 [Listener at 0.0.0.0/39215] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11688 (custom)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11688 (custom)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11688 (custom)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:28,008 [Listener at 0.0.0.0/39215] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:28,009 [Listener at 0.0.0.0/39215] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:28,010 [Listener at 0.0.0.0/39215] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:28,010 [Listener at 0.0.0.0/39215] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:28,010 [Listener at 0.0.0.0/39215] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis] (custom)
2021-09-21 13:06:28,010 [Listener at 0.0.0.0/39215] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@3789ecd5[Not completed]
2021-09-21 13:06:28,010 [Listener at 0.0.0.0/39215] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11688
2021-09-21 13:06:28,012 [Listener at 0.0.0.0/39215] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:28,013 [pool-202-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:28,013 [Socket Reader #1 for port 11684] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11684
2021-09-21 13:06:28,019 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:28,019 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:28,024 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:28,024 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:28,024 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:28,024 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:28,024 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:28,024 [pool-202-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:28,025 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis] (custom)
2021-09-21 13:06:28,025 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:28,025 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:28,025 [pool-202-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:28,026 [pool-202-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:28,027 [pool-202-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:28,027 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:28,027 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:28,027 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:28,027 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:28,028 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:28,029 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:28,029 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:28,029 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:28,029 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:28,029 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:28,030 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:28,030 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:28,030 [pool-202-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:28,030 [pool-202-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:28,041 [Listener at 127.0.0.1/11684] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:28,041 [Listener at 127.0.0.1/11684] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:28,044 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:28,044 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:28,044 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:28,044 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:28,044 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:28,045 [pool-202-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:28,057 [Listener at 127.0.0.1/11684] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11684
2021-09-21 13:06:28,057 [Listener at 127.0.0.1/11684] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 11688
2021-09-21 13:06:28,057 [Listener at 127.0.0.1/11684] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null
2021-09-21 13:06:28,057 [Listener at 127.0.0.1/11684] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:28,057 [Listener at 127.0.0.1/11684] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:28,058 [Listener at 127.0.0.1/11684] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:28,060 [Listener at 127.0.0.1/11684] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:28,062 [Listener at 127.0.0.1/11684] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 11688
2021-09-21 13:06:28,064 [Listener at 127.0.0.1/11684] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:28,065 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@e27d568] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:28,069 [Listener at 127.0.0.1/11684] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11686
2021-09-21 13:06:28,069 [Listener at 127.0.0.1/11684] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:28,070 [Listener at 127.0.0.1/11684] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:28,071 [Listener at 127.0.0.1/11684] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:28,072 [Listener at 127.0.0.1/11684] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:28,073 [Listener at 127.0.0.1/11684] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:28,073 [Listener at 127.0.0.1/11684] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:28,073 [Listener at 127.0.0.1/11684] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:28,073 [Listener at 127.0.0.1/11684] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11686
2021-09-21 13:06:28,073 [Listener at 127.0.0.1/11684] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:28,077 [Listener at 127.0.0.1/11684] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:28,078 [Listener at 127.0.0.1/11684] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:28,078 [Listener at 127.0.0.1/11684] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:28,079 [Listener at 127.0.0.1/11684] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3ee2da61{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:28,079 [Listener at 127.0.0.1/11684] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6e592430{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:28,082 [Listener at 127.0.0.1/11684] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@449662c3{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:28,088 [Listener at 127.0.0.1/11684] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@32c5a94e{HTTP/1.1, (http/1.1)}{0.0.0.0:11686}
2021-09-21 13:06:28,088 [Listener at 127.0.0.1/11684] INFO  server.Server (Server.java:doStart(415)) - Started @16017ms
2021-09-21 13:06:28,089 [Listener at 127.0.0.1/11684] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:28,089 [Listener at 127.0.0.1/11684] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11686
2021-09-21 13:06:28,090 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:28,090 [IPC Server listener on 11684] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11684: starting
2021-09-21 13:06:28,094 [Listener at 127.0.0.1/11684] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:28,094 [Listener at 127.0.0.1/11684] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:11684
2021-09-21 13:06:28,094 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@78b5ea25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:28,095 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:28,095 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11690 and Ratis port: 11694
2021-09-21 13:06:28,095 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:11692
2021-09-21 13:06:28,095 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:11693
2021-09-21 13:06:28,096 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:11690
2021-09-21 13:06:28,096 [Listener at 127.0.0.1/11684] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/om;cid=37e12cf4-f199-4787-9b96-888b9e2e118d;layoutVersion=0
2021-09-21 13:06:28,105 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:28,105 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11690 and Ratis port: 11694
2021-09-21 13:06:28,105 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:11692
2021-09-21 13:06:28,105 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:11693
2021-09-21 13:06:28,105 [Listener at 127.0.0.1/11684] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:11690
2021-09-21 13:06:28,105 [Listener at 127.0.0.1/11684] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:28,106 [Listener at 127.0.0.1/11684] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:28,141 [Listener at 127.0.0.1/11684] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 35 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:28,141 [Listener at 127.0.0.1/11684] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:28,141 [Listener at 127.0.0.1/11684] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:28,152 [Listener at 127.0.0.1/11684] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:28,153 [Listener at 127.0.0.1/11684] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:28,153 [Listener at 127.0.0.1/11684] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:28,263 [Listener at 127.0.0.1/11684] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:28,263 [Listener at 127.0.0.1/11684] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:28,263 [Listener at 127.0.0.1/11684] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:28,263 [Listener at 127.0.0.1/11684] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:28,266 [Listener at 127.0.0.1/11684] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:28,266 [Listener at 127.0.0.1/11684] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:28,266 [Listener at 127.0.0.1/11684] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:28,268 [Listener at 127.0.0.1/11684] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11694, localhost:11700, localhost:11688
2021-09-21 13:06:28,268 [Listener at 127.0.0.1/11684] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:28,268 [Listener at 127.0.0.1/11684] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:28,268 [Listener at 127.0.0.1/11684] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:28,268 [Listener at 127.0.0.1/11684] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:28,268 [Listener at 127.0.0.1/11684] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11694 (custom)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11694 (custom)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11694 (custom)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:28,269 [Listener at 127.0.0.1/11684] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:28,270 [Listener at 127.0.0.1/11684] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:28,270 [Listener at 127.0.0.1/11684] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:28,270 [Listener at 127.0.0.1/11684] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:28,270 [Listener at 127.0.0.1/11684] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis] (custom)
2021-09-21 13:06:28,272 [Listener at 127.0.0.1/11684] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@70393bdb[Not completed]
2021-09-21 13:06:28,272 [Listener at 127.0.0.1/11684] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11694
2021-09-21 13:06:28,274 [Listener at 127.0.0.1/11684] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:28,274 [pool-224-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:28,281 [Socket Reader #1 for port 11690] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11690
2021-09-21 13:06:28,281 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:28,282 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis] (custom)
2021-09-21 13:06:28,283 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:28,283 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:28,283 [pool-224-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:28,284 [pool-224-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:28,285 [pool-224-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:28,285 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:28,285 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:28,285 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:28,286 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:28,286 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:28,286 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:28,286 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:28,286 [pool-224-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:28,287 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:28,291 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:28,291 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:28,292 [pool-224-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:28,301 [Listener at 127.0.0.1/11690] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:28,301 [Listener at 127.0.0.1/11690] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:28,315 [Listener at 127.0.0.1/11690] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11690
2021-09-21 13:06:28,315 [Listener at 127.0.0.1/11690] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 11694
2021-09-21 13:06:28,315 [Listener at 127.0.0.1/11690] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null
2021-09-21 13:06:28,315 [Listener at 127.0.0.1/11690] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:28,315 [Listener at 127.0.0.1/11690] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:28,316 [Listener at 127.0.0.1/11690] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:28,317 [Listener at 127.0.0.1/11690] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:28,317 [Listener at 127.0.0.1/11690] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 11694
2021-09-21 13:06:28,320 [Listener at 127.0.0.1/11690] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:28,321 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@405fbf87] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:28,325 [Listener at 127.0.0.1/11690] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11692
2021-09-21 13:06:28,325 [Listener at 127.0.0.1/11690] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:28,327 [Listener at 127.0.0.1/11690] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:28,327 [Listener at 127.0.0.1/11690] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:28,328 [Listener at 127.0.0.1/11690] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:28,329 [Listener at 127.0.0.1/11690] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:28,329 [Listener at 127.0.0.1/11690] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:28,329 [Listener at 127.0.0.1/11690] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:28,329 [Listener at 127.0.0.1/11690] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11692
2021-09-21 13:06:28,330 [Listener at 127.0.0.1/11690] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:28,331 [Listener at 127.0.0.1/11690] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:28,331 [Listener at 127.0.0.1/11690] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:28,331 [Listener at 127.0.0.1/11690] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:28,332 [Listener at 127.0.0.1/11690] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6174db19{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:28,332 [Listener at 127.0.0.1/11690] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2d9ab8ba{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:28,335 [Listener at 127.0.0.1/11690] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2e2cab5c{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:28,336 [Listener at 127.0.0.1/11690] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7cd7ed7d{HTTP/1.1, (http/1.1)}{0.0.0.0:11692}
2021-09-21 13:06:28,336 [Listener at 127.0.0.1/11690] INFO  server.Server (Server.java:doStart(415)) - Started @16265ms
2021-09-21 13:06:28,336 [Listener at 127.0.0.1/11690] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:28,337 [Listener at 127.0.0.1/11690] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11692
2021-09-21 13:06:28,337 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:28,341 [IPC Server listener on 11690] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11690: starting
2021-09-21 13:06:28,349 [Listener at 127.0.0.1/11690] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:28,349 [Listener at 127.0.0.1/11690] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:11690
2021-09-21 13:06:28,349 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@cbe5777] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:28,350 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:28,350 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11696 and Ratis port: 11700
2021-09-21 13:06:28,350 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:11698
2021-09-21 13:06:28,350 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:11699
2021-09-21 13:06:28,350 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:11696
2021-09-21 13:06:28,351 [Listener at 127.0.0.1/11690] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/om;cid=37e12cf4-f199-4787-9b96-888b9e2e118d;layoutVersion=0
2021-09-21 13:06:28,356 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:28,357 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11696 and Ratis port: 11700
2021-09-21 13:06:28,357 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:11698
2021-09-21 13:06:28,357 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:11699
2021-09-21 13:06:28,357 [Listener at 127.0.0.1/11690] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:11696
2021-09-21 13:06:28,357 [Listener at 127.0.0.1/11690] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:28,357 [Listener at 127.0.0.1/11690] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:28,428 [Listener at 127.0.0.1/11690] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 70 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:28,428 [Listener at 127.0.0.1/11690] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:28,428 [Listener at 127.0.0.1/11690] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:28,441 [Listener at 127.0.0.1/11690] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:28,442 [Listener at 127.0.0.1/11690] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:28,442 [Listener at 127.0.0.1/11690] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:28,554 [Listener at 127.0.0.1/11690] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:28,555 [Listener at 127.0.0.1/11690] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:28,555 [Listener at 127.0.0.1/11690] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:28,555 [Listener at 127.0.0.1/11690] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:28,557 [Listener at 127.0.0.1/11690] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:28,557 [Listener at 127.0.0.1/11690] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:28,557 [Listener at 127.0.0.1/11690] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:28,559 [Listener at 127.0.0.1/11690] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11700, localhost:11688, localhost:11694
2021-09-21 13:06:28,559 [Listener at 127.0.0.1/11690] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:28,559 [Listener at 127.0.0.1/11690] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:28,559 [Listener at 127.0.0.1/11690] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:28,559 [Listener at 127.0.0.1/11690] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11700 (custom)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11700 (custom)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11700 (custom)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:28,560 [Listener at 127.0.0.1/11690] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:28,561 [Listener at 127.0.0.1/11690] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:28,561 [Listener at 127.0.0.1/11690] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:28,561 [Listener at 127.0.0.1/11690] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:28,561 [Listener at 127.0.0.1/11690] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis] (custom)
2021-09-21 13:06:28,562 [Listener at 127.0.0.1/11690] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@5dabc37a[Not completed]
2021-09-21 13:06:28,562 [Listener at 127.0.0.1/11690] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11700
2021-09-21 13:06:28,563 [Listener at 127.0.0.1/11690] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:28,564 [Socket Reader #1 for port 11696] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11696
2021-09-21 13:06:28,570 [pool-245-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:28,573 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:28,573 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:28,573 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis] (custom)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:28,577 [pool-245-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:28,579 [pool-245-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:28,586 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:28,587 [Listener at 127.0.0.1/11696] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:28,590 [pool-245-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:28,590 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:28,590 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:28,590 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:28,590 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:28,590 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:28,591 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:28,592 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:28,593 [pool-245-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:28,607 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11696
2021-09-21 13:06:28,607 [Listener at 127.0.0.1/11696] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 11700
2021-09-21 13:06:28,607 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null
2021-09-21 13:06:28,608 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:28,608 [Listener at 127.0.0.1/11696] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:28,608 [Listener at 127.0.0.1/11696] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:28,616 [Listener at 127.0.0.1/11696] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:28,621 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 11700
2021-09-21 13:06:28,621 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:28,622 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@38f0350a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:28,624 [Listener at 127.0.0.1/11696] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11698
2021-09-21 13:06:28,624 [Listener at 127.0.0.1/11696] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:28,625 [Listener at 127.0.0.1/11696] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:28,626 [Listener at 127.0.0.1/11696] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:28,626 [Listener at 127.0.0.1/11696] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:28,627 [Listener at 127.0.0.1/11696] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:28,627 [Listener at 127.0.0.1/11696] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:28,627 [Listener at 127.0.0.1/11696] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:28,628 [Listener at 127.0.0.1/11696] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11698
2021-09-21 13:06:28,628 [Listener at 127.0.0.1/11696] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:28,633 [Listener at 127.0.0.1/11696] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:28,633 [Listener at 127.0.0.1/11696] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:28,633 [Listener at 127.0.0.1/11696] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:28,634 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2f5e667b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:28,634 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1fe70ab0{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:28,637 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1d3bbb0f{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:28,638 [Listener at 127.0.0.1/11696] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1f4b18fb{HTTP/1.1, (http/1.1)}{0.0.0.0:11698}
2021-09-21 13:06:28,638 [Listener at 127.0.0.1/11696] INFO  server.Server (Server.java:doStart(415)) - Started @16566ms
2021-09-21 13:06:28,638 [Listener at 127.0.0.1/11696] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:28,641 [Listener at 127.0.0.1/11696] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11698
2021-09-21 13:06:28,641 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:28,641 [IPC Server listener on 11696] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11696: starting
2021-09-21 13:06:28,645 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:28,645 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:11696
2021-09-21 13:06:28,645 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:28,646 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:28,646 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:28,648 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@29606f6d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:28,669 [Listener at 127.0.0.1/11696] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11690 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:28,675 [Listener at 127.0.0.1/11696] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11696 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:29,114 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1056705957ns, electionTimeout:1053ms
2021-09-21 13:06:29,115 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:29,115 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:29,115 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:29,116 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection8
2021-09-21 13:06:29,118 [omNode-1@group-523986131536-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null
2021-09-21 13:06:29,135 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:29,135 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:29,136 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:29,136 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:29,136 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:29,137 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:29,138 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null
2021-09-21 13:06:29,145 [omNode-1@group-523986131536-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:29,145 [omNode-1@group-523986131536-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:OK-t1
2021-09-21 13:06:29,145 [omNode-1@group-523986131536-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection8 ELECTION round 0: result PASSED
2021-09-21 13:06:29,145 [omNode-1@group-523986131536-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection8
2021-09-21 13:06:29,146 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:29,146 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1118ms
2021-09-21 13:06:29,146 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:29,146 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:29,146 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:29,147 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:29,149 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:29,149 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:29,149 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:29,149 [omNode-1@group-523986131536-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:29,150 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:29,150 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:29,150 [omNode-1@group-523986131536-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:29,151 [omNode-1@group-523986131536-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:29,157 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:29,160 [omNode-1@group-523986131536-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11700|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11688|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11694|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:29,163 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11700"
, id: "omNode-1"
address: "localhost:11688"
, id: "omNode-2"
address: "localhost:11694"
]
2021-09-21 13:06:29,173 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:29,173 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:29,173 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:29,173 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:29,173 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:29,173 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:29,173 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 583ms
2021-09-21 13:06:29,174 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:11700|priority:0, omNode-1|rpc:localhost:11688|priority:0, omNode-2|rpc:localhost:11694|priority:0], old=null
2021-09-21 13:06:29,185 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 899ms
2021-09-21 13:06:29,195 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11700|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11688|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11694|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:29,195 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:29,195 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11700|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11688|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11694|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:29,196 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:29,203 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:29,204 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-37e12cf4-f199-4787-9b96-888b9e2e118d/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:29,205 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11700"
, id: "omNode-1"
address: "localhost:11688"
, id: "omNode-2"
address: "localhost:11694"
]
2021-09-21 13:06:29,210 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11700"
, id: "omNode-1"
address: "localhost:11688"
, id: "omNode-2"
address: "localhost:11694"
]
2021-09-21 13:06:30,699 [Listener at 127.0.0.1/11696] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume38915, with user77747 as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:30,780 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume38915 for user:user77747
2021-09-21 13:06:30,781 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume38915 for user:user77747
2021-09-21 13:06:30,784 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume38915 for user:user77747
2021-09-21 13:06:30,822 [Listener at 127.0.0.1/11696] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume29573, with user79680 as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:30,830 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume29573 for user:user79680
2021-09-21 13:06:30,844 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume29573 for user:user79680
2021-09-21 13:06:30,845 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume29573 for user:user79680
2021-09-21 13:06:30,850 [Listener at 127.0.0.1/11696] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume18371, with user83329 as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:30,856 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume18371 for user:user83329
2021-09-21 13:06:30,860 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume18371 for user:user83329
2021-09-21 13:06:30,871 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume18371 for user:user83329
2021-09-21 13:06:32,870 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:32,870 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:32,870 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:32,870 [Listener at 127.0.0.1/11696] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11696
2021-09-21 13:06:32,873 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:32,873 [IPC Server listener on 11696] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11696
2021-09-21 13:06:32,876 [Listener at 127.0.0.1/11696] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:32,876 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:32,876 [Listener at 127.0.0.1/11696] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:32,876 [Listener at 127.0.0.1/11696] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:32,876 [Listener at 127.0.0.1/11696] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 6
2021-09-21 13:06:32,876 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:32,877 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:6)
2021-09-21 13:06:32,877 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 6
2021-09-21 13:06:32,877 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-09-21 13:06:32,877 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:32,877 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 6
2021-09-21 13:06:32,880 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:32,882 [Listener at 127.0.0.1/11696] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:32,883 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 11700 now
2021-09-21 13:06:32,887 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 11700 successfully
2021-09-21 13:06:32,887 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@38f0350a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:32,887 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:32,888 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#29-t1,previous=(t:1, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:32,888 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 7 -> 6
2021-09-21 13:06:32,891 [Listener at 127.0.0.1/11696] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:32,892 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:32,892 [Listener at 127.0.0.1/11696] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:32,892 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1d3bbb0f{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:32,893 [Listener at 127.0.0.1/11696] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1f4b18fb{HTTP/1.1, (http/1.1)}{0.0.0.0:11698}
2021-09-21 13:06:32,893 [Listener at 127.0.0.1/11696] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:32,893 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1fe70ab0{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:32,893 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2f5e667b{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:32,895 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:32,895 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:32,895 [Listener at 127.0.0.1/11696] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11684
2021-09-21 13:06:32,896 [IPC Server listener on 11684] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11684
2021-09-21 13:06:32,909 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-21 13:06:32,909 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 7 -> 6
2021-09-21 13:06:32,910 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:32,910 [Listener at 127.0.0.1/11696] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:32,910 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:32,910 [Listener at 127.0.0.1/11696] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:32,910 [Listener at 127.0.0.1/11696] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:32,911 [omNode-1@group-523986131536->omNode-3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:32,911 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:32,911 [Listener at 127.0.0.1/11696] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:32,913 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#25-t1,previous=(t:1, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2021-09-21 13:06:32,914 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:32,914 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 7 -> 6
2021-09-21 13:06:32,915 [Listener at 127.0.0.1/11696] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 6
2021-09-21 13:06:32,915 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:6)
2021-09-21 13:06:32,916 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 6
2021-09-21 13:06:32,916 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-09-21 13:06:32,916 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:32,916 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 6
2021-09-21 13:06:32,916 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:32,917 [Listener at 127.0.0.1/11696] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:32,918 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 11688 now
2021-09-21 13:06:32,921 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 11688 successfully
2021-09-21 13:06:32,921 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@e27d568] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:32,921 [Listener at 127.0.0.1/11696] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:32,922 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:32,922 [Listener at 127.0.0.1/11696] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:32,922 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@449662c3{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:32,923 [Listener at 127.0.0.1/11696] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@32c5a94e{HTTP/1.1, (http/1.1)}{0.0.0.0:11686}
2021-09-21 13:06:32,923 [Listener at 127.0.0.1/11696] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:32,923 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6e592430{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:32,923 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3ee2da61{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:32,927 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:32,927 [Listener at 127.0.0.1/11696] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:32,927 [Listener at 127.0.0.1/11696] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11690
2021-09-21 13:06:32,928 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:32,928 [Listener at 127.0.0.1/11696] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:32,928 [IPC Server listener on 11690] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11690
2021-09-21 13:06:32,928 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:32,929 [Listener at 127.0.0.1/11696] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:32,929 [Listener at 127.0.0.1/11696] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:32,929 [Listener at 127.0.0.1/11696] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 6
2021-09-21 13:06:32,929 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:6)
2021-09-21 13:06:32,929 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 6
2021-09-21 13:06:32,930 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-09-21 13:06:32,930 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:32,930 [Listener at 127.0.0.1/11696] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 6
2021-09-21 13:06:32,929 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:32,930 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:32,931 [Listener at 127.0.0.1/11696] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:32,932 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 11694 now
2021-09-21 13:06:32,933 [Listener at 127.0.0.1/11696] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 11694 successfully
2021-09-21 13:06:32,933 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@405fbf87] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:32,933 [Listener at 127.0.0.1/11696] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:32,933 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:32,933 [Listener at 127.0.0.1/11696] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:32,934 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2e2cab5c{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:32,935 [Listener at 127.0.0.1/11696] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7cd7ed7d{HTTP/1.1, (http/1.1)}{0.0.0.0:11692}
2021-09-21 13:06:32,935 [Listener at 127.0.0.1/11696] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:32,935 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2d9ab8ba{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:32,935 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6174db19{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:32,936 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager c557648a-5782-4ec7-a6c3-29c408cb5787
2021-09-21 13:06:32,936 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:32,936 [Listener at 127.0.0.1/11696] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:32,937 [Listener at 127.0.0.1/11696] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 32869
2021-09-21 13:06:32,939 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:32,939 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:33,011 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:33,011 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:33,011 [Listener at 127.0.0.1/11696] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:33,011 [Listener at 127.0.0.1/11696] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 40823
2021-09-21 13:06:33,013 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:33,013 [Listener at 127.0.0.1/11696] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:33,013 [Listener at 127.0.0.1/11696] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 39215
2021-09-21 13:06:33,013 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:33,014 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:33,015 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:33,015 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:33,015 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:33,016 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4e80942c{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:33,016 [Listener at 127.0.0.1/11696] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@fe4f436{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:33,016 [Listener at 127.0.0.1/11696] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:33,017 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5ab7d3c3{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:33,017 [Listener at 127.0.0.1/11696] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@56aade59{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:33,017 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:33,018 [Listener at 127.0.0.1/11696] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:33,018 [Listener at 127.0.0.1/11696] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:33,018 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:33,019 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:33,019 [Listener at 127.0.0.1/11696] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:33,019 [Listener at 127.0.0.1/11696] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:33,020 [Listener at 127.0.0.1/11696] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:33,020 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:33,020 [Listener at 127.0.0.1/11696] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:33,021 [Listener at 127.0.0.1/11696] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:33,045 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,047 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:33,047 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:33,047 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,048 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:33,087 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:33,088 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,089 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,169 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:33,169 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:33,172 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:33,172 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:33,172 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:33,172 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:33,173 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:33,173 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:33,173 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:33,174 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:33,174 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:33,174 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:33,174 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:33,174 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:33,175 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:33,176 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:33,176 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:33,176 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:33,176 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:33,176 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:33,177 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:33,177 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:33,177 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:33,177 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:33,180 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:33,181 [Listener at 0.0.0.0/42865] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:33,188 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:33,189 [Listener at 0.0.0.0/34469] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:33,189 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:33,193 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-21 13:06:33,214 [Listener at 0.0.0.0/41449] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:33,217 [Listener at 0.0.0.0/41449] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:33,218 [Listener at 0.0.0.0/41449] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:33,219 [Listener at 0.0.0.0/41449] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:33,219 [Listener at 0.0.0.0/41449] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:41449
2021-09-21 13:06:33,220 [Listener at 0.0.0.0/41449] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:33,224 [Listener at 0.0.0.0/41449] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:33,224 [Listener at 0.0.0.0/41449] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:33,235 [Listener at 0.0.0.0/41449] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:33,235 [Listener at 0.0.0.0/41449] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:33,257 [Listener at 0.0.0.0/41449] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:41449
2021-09-21 13:06:33,257 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:33,257 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:33,265 [Listener at 0.0.0.0/41449] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34469
2021-09-21 13:06:33,265 [Listener at 0.0.0.0/41449] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:34469
2021-09-21 13:06:33,265 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:33,265 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:33,268 [Listener at 0.0.0.0/41449] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:42865
2021-09-21 13:06:33,268 [Listener at 0.0.0.0/41449] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:42865
2021-09-21 13:06:33,269 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:33,269 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:33,276 [Listener at 0.0.0.0/41449] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:33,276 [Listener at 0.0.0.0/41449] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:33,278 [Listener at 0.0.0.0/41449] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:33,279 [Listener at 0.0.0.0/41449] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:33,280 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6b456e6c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:33,281 [Listener at 0.0.0.0/41449] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:33,283 [Listener at 0.0.0.0/41449] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:33,284 [Listener at 0.0.0.0/41449] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:33,284 [Listener at 0.0.0.0/41449] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:33,285 [Listener at 0.0.0.0/41449] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44549
2021-09-21 13:06:33,285 [Listener at 0.0.0.0/41449] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:33,286 [Listener at 0.0.0.0/41449] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:33,286 [Listener at 0.0.0.0/41449] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:33,286 [Listener at 0.0.0.0/41449] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:33,287 [Listener at 0.0.0.0/41449] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@186f887a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:33,287 [Listener at 0.0.0.0/41449] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2d49b380{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:33,290 [Listener at 0.0.0.0/41449] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@60c3b066{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:33,292 [Listener at 0.0.0.0/41449] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@9905893{HTTP/1.1, (http/1.1)}{0.0.0.0:44549}
2021-09-21 13:06:33,292 [Listener at 0.0.0.0/41449] INFO  server.Server (Server.java:doStart(415)) - Started @21220ms
2021-09-21 13:06:33,292 [Listener at 0.0.0.0/41449] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:33,293 [Listener at 0.0.0.0/41449] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:44549
2021-09-21 13:06:33,293 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:33,294 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11744 and Ratis port: 11748
2021-09-21 13:06:33,294 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11746
2021-09-21 13:06:33,294 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11747
2021-09-21 13:06:33,294 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11744
2021-09-21 13:06:33,295 [Listener at 0.0.0.0/41449] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/om;cid=651c9373-c0bf-4b61-bd63-d90d8abfe16b;layoutVersion=0
2021-09-21 13:06:33,301 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:33,301 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11744 and Ratis port: 11748
2021-09-21 13:06:33,301 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11746
2021-09-21 13:06:33,301 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11747
2021-09-21 13:06:33,301 [Listener at 0.0.0.0/41449] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11744
2021-09-21 13:06:33,302 [Listener at 0.0.0.0/41449] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,302 [Listener at 0.0.0.0/41449] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:33,358 [Listener at 0.0.0.0/41449] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 55 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:33,358 [Listener at 0.0.0.0/41449] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:33,359 [Listener at 0.0.0.0/41449] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,369 [Listener at 0.0.0.0/41449] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,369 [Listener at 0.0.0.0/41449] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:33,369 [Listener at 0.0.0.0/41449] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:33,495 [Listener at 0.0.0.0/41449] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:33,495 [Listener at 0.0.0.0/41449] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:33,495 [Listener at 0.0.0.0/41449] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:33,496 [Listener at 0.0.0.0/41449] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:33,501 [Listener at 0.0.0.0/41449] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:33,503 [Listener at 0.0.0.0/41449] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11748, localhost:11760, localhost:11754
2021-09-21 13:06:33,503 [Listener at 0.0.0.0/41449] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11748 (custom)
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11748 (custom)
2021-09-21 13:06:33,504 [Listener at 0.0.0.0/41449] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11748 (custom)
2021-09-21 13:06:33,505 [Listener at 0.0.0.0/41449] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:33,505 [Listener at 0.0.0.0/41449] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:33,505 [Listener at 0.0.0.0/41449] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:33,505 [Listener at 0.0.0.0/41449] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:33,506 [Listener at 0.0.0.0/41449] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:33,506 [Listener at 0.0.0.0/41449] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:33,506 [Listener at 0.0.0.0/41449] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:33,506 [Listener at 0.0.0.0/41449] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis] (custom)
2021-09-21 13:06:33,507 [Listener at 0.0.0.0/41449] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@35280eef[Not completed]
2021-09-21 13:06:33,507 [Listener at 0.0.0.0/41449] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11748
2021-09-21 13:06:33,508 [Listener at 0.0.0.0/41449] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:33,508 [pool-284-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:33,509 [Socket Reader #1 for port 11744] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11744
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:33,516 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis] (custom)
2021-09-21 13:06:33,517 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:33,517 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:33,517 [pool-284-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:33,518 [pool-284-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:33,519 [pool-284-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:33,519 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:33,519 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:33,519 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:33,519 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:33,520 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:33,521 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:33,521 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:33,521 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:33,521 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:33,522 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:33,522 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:33,522 [pool-284-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:33,522 [pool-284-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:33,528 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:33,528 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:33,528 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:33,528 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:33,529 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:33,529 [pool-284-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:33,536 [Listener at 127.0.0.1/11744] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:33,537 [Listener at 127.0.0.1/11744] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:33,550 [Listener at 127.0.0.1/11744] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11744
2021-09-21 13:06:33,551 [Listener at 127.0.0.1/11744] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 11748
2021-09-21 13:06:33,551 [Listener at 127.0.0.1/11744] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null
2021-09-21 13:06:33,552 [Listener at 127.0.0.1/11744] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:33,552 [Listener at 127.0.0.1/11744] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:33,552 [Listener at 127.0.0.1/11744] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:33,554 [Listener at 127.0.0.1/11744] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:33,560 [Listener at 127.0.0.1/11744] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 11748
2021-09-21 13:06:33,560 [Listener at 127.0.0.1/11744] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:33,560 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@1d1851dd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:33,562 [Listener at 127.0.0.1/11744] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11746
2021-09-21 13:06:33,562 [Listener at 127.0.0.1/11744] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:33,563 [Listener at 127.0.0.1/11744] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:33,564 [Listener at 127.0.0.1/11744] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:33,565 [Listener at 127.0.0.1/11744] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:33,565 [Listener at 127.0.0.1/11744] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:33,565 [Listener at 127.0.0.1/11744] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:33,566 [Listener at 127.0.0.1/11744] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:33,566 [Listener at 127.0.0.1/11744] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11746
2021-09-21 13:06:33,566 [Listener at 127.0.0.1/11744] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:33,568 [Listener at 127.0.0.1/11744] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:33,568 [Listener at 127.0.0.1/11744] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:33,569 [Listener at 127.0.0.1/11744] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:33,569 [Listener at 127.0.0.1/11744] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7b18f2a0{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:33,570 [Listener at 127.0.0.1/11744] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6d447320{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:33,572 [Listener at 127.0.0.1/11744] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5b723016{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:33,574 [Listener at 127.0.0.1/11744] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@19ba29da{HTTP/1.1, (http/1.1)}{0.0.0.0:11746}
2021-09-21 13:06:33,574 [Listener at 127.0.0.1/11744] INFO  server.Server (Server.java:doStart(415)) - Started @21502ms
2021-09-21 13:06:33,574 [Listener at 127.0.0.1/11744] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:33,575 [Listener at 127.0.0.1/11744] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11746
2021-09-21 13:06:33,575 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:33,577 [IPC Server listener on 11744] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11744: starting
2021-09-21 13:06:33,586 [Listener at 127.0.0.1/11744] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:33,587 [Listener at 127.0.0.1/11744] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:11744
2021-09-21 13:06:33,587 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@206f6026] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:33,587 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:33,587 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11750 and Ratis port: 11754
2021-09-21 13:06:33,588 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:11752
2021-09-21 13:06:33,588 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:11753
2021-09-21 13:06:33,588 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:11750
2021-09-21 13:06:33,588 [Listener at 127.0.0.1/11744] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/om;cid=651c9373-c0bf-4b61-bd63-d90d8abfe16b;layoutVersion=0
2021-09-21 13:06:33,595 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:33,595 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:11750 and Ratis port: 11754
2021-09-21 13:06:33,595 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:11752
2021-09-21 13:06:33,595 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:11753
2021-09-21 13:06:33,596 [Listener at 127.0.0.1/11744] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:11750
2021-09-21 13:06:33,596 [Listener at 127.0.0.1/11744] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,596 [Listener at 127.0.0.1/11744] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:33,631 [Listener at 127.0.0.1/11744] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 34 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:33,631 [Listener at 127.0.0.1/11744] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:33,631 [Listener at 127.0.0.1/11744] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,641 [Listener at 127.0.0.1/11744] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,642 [Listener at 127.0.0.1/11744] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:33,642 [Listener at 127.0.0.1/11744] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:33,755 [Listener at 127.0.0.1/11744] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:33,755 [Listener at 127.0.0.1/11744] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:33,755 [Listener at 127.0.0.1/11744] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:33,756 [Listener at 127.0.0.1/11744] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:33,758 [Listener at 127.0.0.1/11744] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:33,758 [Listener at 127.0.0.1/11744] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:33,758 [Listener at 127.0.0.1/11744] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:33,760 [Listener at 127.0.0.1/11744] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11754, localhost:11760, localhost:11748
2021-09-21 13:06:33,760 [Listener at 127.0.0.1/11744] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:33,760 [Listener at 127.0.0.1/11744] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11754 (custom)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11754 (custom)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11754 (custom)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:33,761 [Listener at 127.0.0.1/11744] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:33,762 [Listener at 127.0.0.1/11744] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:33,762 [Listener at 127.0.0.1/11744] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:33,763 [Listener at 127.0.0.1/11744] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:33,763 [Listener at 127.0.0.1/11744] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis] (custom)
2021-09-21 13:06:33,763 [Listener at 127.0.0.1/11744] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@17ef3aa7[Not completed]
2021-09-21 13:06:33,763 [Listener at 127.0.0.1/11744] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11754
2021-09-21 13:06:33,764 [Listener at 127.0.0.1/11744] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:33,765 [Socket Reader #1 for port 11750] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11750
2021-09-21 13:06:33,773 [pool-305-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:33,780 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:33,780 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:33,780 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:33,780 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis] (custom)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:33,781 [pool-305-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:33,782 [pool-305-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:33,784 [pool-305-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:33,784 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:33,784 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:33,784 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:33,784 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:33,784 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:33,785 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:33,786 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:33,786 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:33,786 [pool-305-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:33,787 [pool-305-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:33,791 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:33,791 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:33,791 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:33,791 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:33,791 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:33,791 [pool-305-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:33,796 [Listener at 127.0.0.1/11750] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:33,796 [Listener at 127.0.0.1/11750] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:33,810 [Listener at 127.0.0.1/11750] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11750
2021-09-21 13:06:33,810 [Listener at 127.0.0.1/11750] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 11754
2021-09-21 13:06:33,810 [Listener at 127.0.0.1/11750] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null
2021-09-21 13:06:33,810 [Listener at 127.0.0.1/11750] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:33,810 [Listener at 127.0.0.1/11750] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:33,811 [Listener at 127.0.0.1/11750] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:33,811 [Listener at 127.0.0.1/11750] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:33,812 [Listener at 127.0.0.1/11750] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 11754
2021-09-21 13:06:33,812 [Listener at 127.0.0.1/11750] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:33,813 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@7862f95a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:33,814 [Listener at 127.0.0.1/11750] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11752
2021-09-21 13:06:33,814 [Listener at 127.0.0.1/11750] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:33,815 [Listener at 127.0.0.1/11750] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:33,816 [Listener at 127.0.0.1/11750] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:33,816 [Listener at 127.0.0.1/11750] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:33,817 [Listener at 127.0.0.1/11750] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:33,817 [Listener at 127.0.0.1/11750] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:33,817 [Listener at 127.0.0.1/11750] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:33,818 [Listener at 127.0.0.1/11750] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11752
2021-09-21 13:06:33,818 [Listener at 127.0.0.1/11750] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:33,819 [Listener at 127.0.0.1/11750] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:33,819 [Listener at 127.0.0.1/11750] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:33,819 [Listener at 127.0.0.1/11750] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:33,820 [Listener at 127.0.0.1/11750] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1d496470{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:33,820 [Listener at 127.0.0.1/11750] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4e698887{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:33,823 [Listener at 127.0.0.1/11750] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4dbdb172{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:33,826 [Listener at 127.0.0.1/11750] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@406f7448{HTTP/1.1, (http/1.1)}{0.0.0.0:11752}
2021-09-21 13:06:33,827 [Listener at 127.0.0.1/11750] INFO  server.Server (Server.java:doStart(415)) - Started @21755ms
2021-09-21 13:06:33,828 [Listener at 127.0.0.1/11750] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:33,828 [Listener at 127.0.0.1/11750] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11752
2021-09-21 13:06:33,829 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:33,830 [IPC Server listener on 11750] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11750: starting
2021-09-21 13:06:33,835 [Listener at 127.0.0.1/11750] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:33,836 [Listener at 127.0.0.1/11750] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:11750
2021-09-21 13:06:33,837 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:33,837 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11756 and Ratis port: 11760
2021-09-21 13:06:33,837 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:11758
2021-09-21 13:06:33,837 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:11759
2021-09-21 13:06:33,837 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:11756
2021-09-21 13:06:33,837 [Listener at 127.0.0.1/11750] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,839 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@76efe5a0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/om;cid=651c9373-c0bf-4b61-bd63-d90d8abfe16b;layoutVersion=0
2021-09-21 13:06:33,846 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:33,847 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:11756 and Ratis port: 11760
2021-09-21 13:06:33,847 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:11758
2021-09-21 13:06:33,847 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:11759
2021-09-21 13:06:33,847 [Listener at 127.0.0.1/11750] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:11756
2021-09-21 13:06:33,847 [Listener at 127.0.0.1/11750] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,847 [Listener at 127.0.0.1/11750] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:33,892 [Listener at 127.0.0.1/11750] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 44 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:33,892 [Listener at 127.0.0.1/11750] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:33,892 [Listener at 127.0.0.1/11750] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,898 [Listener at 127.0.0.1/11750] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:33,898 [Listener at 127.0.0.1/11750] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:33,898 [Listener at 127.0.0.1/11750] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:34,018 [Listener at 127.0.0.1/11750] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:34,018 [Listener at 127.0.0.1/11750] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:34,018 [Listener at 127.0.0.1/11750] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:34,018 [Listener at 127.0.0.1/11750] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:34,021 [Listener at 127.0.0.1/11750] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:34,021 [Listener at 127.0.0.1/11750] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:34,021 [Listener at 127.0.0.1/11750] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:34,022 [Listener at 127.0.0.1/11750] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:11760, localhost:11748, localhost:11754
2021-09-21 13:06:34,022 [Listener at 127.0.0.1/11750] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:34,022 [Listener at 127.0.0.1/11750] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:34,022 [Listener at 127.0.0.1/11750] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11760 (custom)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11760 (custom)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 11760 (custom)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:34,023 [Listener at 127.0.0.1/11750] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:34,024 [Listener at 127.0.0.1/11750] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:34,024 [Listener at 127.0.0.1/11750] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:34,024 [Listener at 127.0.0.1/11750] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:34,025 [Listener at 127.0.0.1/11750] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis] (custom)
2021-09-21 13:06:34,027 [Listener at 127.0.0.1/11750] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@671c842f[Not completed]
2021-09-21 13:06:34,027 [Listener at 127.0.0.1/11750] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 11760
2021-09-21 13:06:34,028 [Listener at 127.0.0.1/11750] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:34,028 [Socket Reader #1 for port 11756] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 11756
2021-09-21 13:06:34,029 [pool-326-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:34,041 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis] (custom)
2021-09-21 13:06:34,042 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:34,042 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:34,042 [pool-326-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:34,044 [pool-326-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:34,049 [pool-326-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:34,049 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:34,049 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:34,049 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:34,049 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:34,049 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:34,050 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:34,051 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:34,051 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:34,052 [pool-326-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:34,052 [pool-326-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:34,056 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:34,056 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:34,056 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:34,056 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:34,056 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:34,056 [pool-326-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:34,065 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:34,065 [Listener at 127.0.0.1/11756] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:34,078 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:11756
2021-09-21 13:06:34,079 [Listener at 127.0.0.1/11756] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 11760
2021-09-21 13:06:34,079 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null
2021-09-21 13:06:34,079 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:34,079 [Listener at 127.0.0.1/11756] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:34,079 [Listener at 127.0.0.1/11756] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:34,084 [Listener at 127.0.0.1/11756] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:34,085 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 11760
2021-09-21 13:06:34,085 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:34,085 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@2020ecd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:34,087 [Listener at 127.0.0.1/11756] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:11758
2021-09-21 13:06:34,087 [Listener at 127.0.0.1/11756] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:34,088 [Listener at 127.0.0.1/11756] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:34,088 [Listener at 127.0.0.1/11756] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:34,089 [Listener at 127.0.0.1/11756] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:34,090 [Listener at 127.0.0.1/11756] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:34,090 [Listener at 127.0.0.1/11756] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:34,091 [Listener at 127.0.0.1/11756] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:34,092 [Listener at 127.0.0.1/11756] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 11758
2021-09-21 13:06:34,092 [Listener at 127.0.0.1/11756] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:34,096 [Listener at 127.0.0.1/11756] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:34,096 [Listener at 127.0.0.1/11756] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:34,096 [Listener at 127.0.0.1/11756] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:34,097 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@42358409{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:34,097 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@105eac19{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:34,110 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@7a740cbf{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:34,111 [Listener at 127.0.0.1/11756] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3d6d1f80{HTTP/1.1, (http/1.1)}{0.0.0.0:11758}
2021-09-21 13:06:34,111 [Listener at 127.0.0.1/11756] INFO  server.Server (Server.java:doStart(415)) - Started @22039ms
2021-09-21 13:06:34,111 [Listener at 127.0.0.1/11756] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:34,111 [Listener at 127.0.0.1/11756] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:11758
2021-09-21 13:06:34,112 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:34,116 [IPC Server listener on 11756] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 11756: starting
2021-09-21 13:06:34,126 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:34,126 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:11756
2021-09-21 13:06:34,126 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1d2f54c7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:34,126 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:34,126 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:34,127 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:34,139 [Listener at 127.0.0.1/11756] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:11750 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:34,143 [Listener at 127.0.0.1/11756] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:11756 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:34,597 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1045231335ns, electionTimeout:1044ms
2021-09-21 13:06:34,598 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:34,598 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:34,598 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:34,598 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection9
2021-09-21 13:06:34,603 [omNode-1@group-523986131536-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null
2021-09-21 13:06:34,618 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:34,618 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:34,618 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:34,618 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:34,618 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:34,618 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:34,620 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:OK-t1
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection9 ELECTION round 0: result PASSED
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection9
2021-09-21 13:06:34,623 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:34,623 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1103ms
2021-09-21 13:06:34,623 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:34,623 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:34,623 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:34,623 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:34,623 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:34,624 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:34,624 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:34,624 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:34,624 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:34,624 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:34,624 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:34,625 [omNode-1@group-523986131536-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:34,625 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:34,625 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:34,626 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:11760|priority:0, omNode-1|rpc:localhost:11748|priority:0, omNode-2|rpc:localhost:11754|priority:0], old=null
2021-09-21 13:06:34,633 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:34,633 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:34,633 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:34,633 [omNode-1@group-523986131536-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:34,633 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:34,633 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:34,634 [omNode-1@group-523986131536-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:34,635 [omNode-1@group-523986131536-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:34,644 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:34,644 [omNode-1@group-523986131536-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11760|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11748|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11754|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:34,646 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 597ms
2021-09-21 13:06:34,648 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11760"
, id: "omNode-1"
address: "localhost:11748"
, id: "omNode-2"
address: "localhost:11754"
]
2021-09-21 13:06:34,657 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11760|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11748|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11754|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:34,657 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:34,658 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 874ms
2021-09-21 13:06:34,660 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:11760|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:11748|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:11754|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:34,660 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:34,678 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:34,679 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-651c9373-c0bf-4b61-bd63-d90d8abfe16b/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:35,185 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11760"
, id: "omNode-1"
address: "localhost:11748"
, id: "omNode-2"
address: "localhost:11754"
]
2021-09-21 13:06:35,187 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:11760"
, id: "omNode-1"
address: "localhost:11748"
, id: "omNode-2"
address: "localhost:11754"
]
2021-09-21 13:06:36,162 [Listener at 127.0.0.1/11756] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume52968, with user28944 as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:36,177 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume52968 for user:user28944
2021-09-21 13:06:36,178 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume52968 for user:user28944
2021-09-21 13:06:36,179 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume52968 for user:user28944
2021-09-21 13:06:36,200 [Listener at 127.0.0.1/11756] INFO  rpc.RpcClient (RpcClient.java:createBucket(502)) - Creating Bucket: volume52968/volume08871, with Versioning true and Storage Type set to DISK and Encryption set to false 
13:06:36.319 [OM StateMachine ApplyTransaction Thread - 0] ERROR OMAudit - user=runner | ip=127.0.0.1 | op=DELETE_BUCKET {volume=volume52968, bucket=volume08871} | ret=FAILURE
org.apache.hadoop.ozone.om.exceptions.OMException: Bucket not exists
	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:119) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
13:06:36.305 [OM StateMachine ApplyTransaction Thread - 0] ERROR OMAudit - user=runner | ip=127.0.0.1 | op=DELETE_BUCKET {volume=volume52968, bucket=volume08871} | ret=FAILURE
org.apache.hadoop.ozone.om.exceptions.OMException: Bucket not exists
	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:119) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
13:06:36.317 [OM StateMachine ApplyTransaction Thread - 0] ERROR OMAudit - user=runner | ip=127.0.0.1 | op=DELETE_BUCKET {volume=volume52968, bucket=volume08871} | ret=FAILURE
org.apache.hadoop.ozone.om.exceptions.OMException: Bucket not exists
	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:119) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
2021-09-21 13:06:36,330 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketDeleteRequest (OMBucketDeleteRequest.java:validateAndUpdateCache(182)) - Delete bucket failed for bucket:volume08871 in volume:volume52968
BUCKET_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Bucket not exists
	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:119)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:36,330 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketDeleteRequest (OMBucketDeleteRequest.java:validateAndUpdateCache(182)) - Delete bucket failed for bucket:volume08871 in volume:volume52968
BUCKET_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Bucket not exists
	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:119)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:36,332 [OM StateMachine ApplyTransaction Thread - 0] ERROR bucket.OMBucketDeleteRequest (OMBucketDeleteRequest.java:validateAndUpdateCache(182)) - Delete bucket failed for bucket:volume08871 in volume:volume52968
BUCKET_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Bucket not exists
	at org.apache.hadoop.ozone.om.request.bucket.OMBucketDeleteRequest.validateAndUpdateCache(OMBucketDeleteRequest.java:119)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:36,333 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:36,334 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:36,334 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:36,334 [Listener at 127.0.0.1/11756] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11756
2021-09-21 13:06:36,337 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:36,337 [IPC Server listener on 11756] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11756
2021-09-21 13:06:36,337 [Listener at 127.0.0.1/11756] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:36,337 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:36,337 [Listener at 127.0.0.1/11756] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:36,338 [Listener at 127.0.0.1/11756] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:36,338 [Listener at 127.0.0.1/11756] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 9
2021-09-21 13:06:36,338 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:36,338 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:9)
2021-09-21 13:06:36,339 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 9
2021-09-21 13:06:36,339 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 9
2021-09-21 13:06:36,339 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:36,339 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 9
2021-09-21 13:06:36,339 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:36,340 [Listener at 127.0.0.1/11756] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:36,341 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 11760 now
2021-09-21 13:06:36,346 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#88-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:36,346 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:36,346 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 11 -> 10
2021-09-21 13:06:36,346 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 11760 successfully
2021-09-21 13:06:36,346 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@2020ecd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:36,346 [Listener at 127.0.0.1/11756] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:36,346 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:36,347 [Listener at 127.0.0.1/11756] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:36,347 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@7a740cbf{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:36,348 [Listener at 127.0.0.1/11756] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3d6d1f80{HTTP/1.1, (http/1.1)}{0.0.0.0:11758}
2021-09-21 13:06:36,348 [Listener at 127.0.0.1/11756] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:36,348 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@105eac19{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:36,348 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@42358409{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:36,351 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:36,351 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:36,351 [Listener at 127.0.0.1/11756] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11744
2021-09-21 13:06:36,352 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-21 13:06:36,353 [IPC Server listener on 11744] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11744
2021-09-21 13:06:36,353 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 11 -> 10
2021-09-21 13:06:36,357 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:36,357 [Listener at 127.0.0.1/11756] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:36,357 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:36,357 [Listener at 127.0.0.1/11756] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:36,357 [Listener at 127.0.0.1/11756] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:36,357 [omNode-1@group-523986131536->omNode-3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:36,358 [Listener at 127.0.0.1/11756] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:36,358 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:36,359 [Listener at 127.0.0.1/11756] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 10
2021-09-21 13:06:36,360 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:10)
2021-09-21 13:06:36,360 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 10
2021-09-21 13:06:36,360 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 10
2021-09-21 13:06:36,360 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:36,360 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#86-t1,previous=(t:1, i:9),leaderCommit=9,initializing? true,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2021-09-21 13:06:36,361 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:36,361 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 11 -> 10
2021-09-21 13:06:36,361 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 10
2021-09-21 13:06:36,361 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:36,362 [Listener at 127.0.0.1/11756] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:36,363 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 11748 now
2021-09-21 13:06:36,365 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 11748 successfully
2021-09-21 13:06:36,365 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@1d1851dd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:36,365 [Listener at 127.0.0.1/11756] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:36,365 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:36,365 [Listener at 127.0.0.1/11756] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:36,366 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5b723016{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:36,367 [Listener at 127.0.0.1/11756] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@19ba29da{HTTP/1.1, (http/1.1)}{0.0.0.0:11746}
2021-09-21 13:06:36,367 [Listener at 127.0.0.1/11756] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:36,367 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6d447320{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:36,367 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7b18f2a0{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:36,369 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:36,369 [Listener at 127.0.0.1/11756] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:36,369 [Listener at 127.0.0.1/11756] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 11750
2021-09-21 13:06:36,371 [IPC Server listener on 11750] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 11750
2021-09-21 13:06:36,372 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:36,372 [Listener at 127.0.0.1/11756] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:36,372 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:36,372 [Listener at 127.0.0.1/11756] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:36,372 [Listener at 127.0.0.1/11756] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:36,372 [Listener at 127.0.0.1/11756] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 9
2021-09-21 13:06:36,373 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:9)
2021-09-21 13:06:36,373 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 9
2021-09-21 13:06:36,373 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 9
2021-09-21 13:06:36,373 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:36,373 [Listener at 127.0.0.1/11756] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 9
2021-09-21 13:06:36,372 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:36,373 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:36,375 [Listener at 127.0.0.1/11756] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:36,375 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 11754 now
2021-09-21 13:06:36,376 [Listener at 127.0.0.1/11756] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 11754 successfully
2021-09-21 13:06:36,376 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@7862f95a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:36,376 [Listener at 127.0.0.1/11756] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:36,376 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:36,377 [Listener at 127.0.0.1/11756] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:36,377 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4dbdb172{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:36,378 [Listener at 127.0.0.1/11756] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@406f7448{HTTP/1.1, (http/1.1)}{0.0.0.0:11752}
2021-09-21 13:06:36,378 [Listener at 127.0.0.1/11756] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:36,378 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4e698887{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:36,378 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1d496470{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager 8f4f321a-956e-41b7-9487-a70cdc50c5a0
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:36,380 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:36,381 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:36,381 [Listener at 127.0.0.1/11756] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:36,381 [Listener at 127.0.0.1/11756] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42865
2021-09-21 13:06:36,382 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:36,382 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:36,385 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:36,386 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:36,386 [Listener at 127.0.0.1/11756] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:36,386 [Listener at 127.0.0.1/11756] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34469
2021-09-21 13:06:36,388 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:36,388 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:36,388 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:36,392 [Listener at 127.0.0.1/11756] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:36,392 [Listener at 127.0.0.1/11756] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41449
2021-09-21 13:06:36,394 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:36,395 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:36,395 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:36,396 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@60c3b066{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:36,396 [Listener at 127.0.0.1/11756] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@9905893{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:36,396 [Listener at 127.0.0.1/11756] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:36,396 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2d49b380{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:36,397 [Listener at 127.0.0.1/11756] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@186f887a{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:36,397 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:36,397 [Listener at 127.0.0.1/11756] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:36,398 [Listener at 127.0.0.1/11756] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:36,398 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:36,398 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:36,399 [Listener at 127.0.0.1/11756] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:36,400 [Listener at 127.0.0.1/11756] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:36,401 [Listener at 127.0.0.1/11756] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:36,402 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:36,404 [Listener at 127.0.0.1/11756] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:36,406 [Listener at 127.0.0.1/11756] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:36,441 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,443 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:36,443 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:36,444 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,444 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:36,491 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 45 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:36,494 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,497 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,579 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:36,580 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:36,589 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:36,589 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:36,589 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:36,590 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:36,590 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:36,590 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:36,590 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:36,591 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:36,591 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:36,591 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:36,592 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:36,592 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:36,593 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:36,594 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:36,594 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:36,594 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:36,594 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:36,594 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:36,595 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:36,595 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:36,595 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:36,594 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-21 13:06:36,595 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:36,596 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:36,597 [Listener at 0.0.0.0/37321] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:36,597 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:36,598 [Listener at 0.0.0.0/42817] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:36,598 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:36,616 [Listener at 0.0.0.0/43845] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:36,616 [Listener at 0.0.0.0/43845] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:36,617 [Listener at 0.0.0.0/43845] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:36,617 [Listener at 0.0.0.0/43845] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:36,617 [Listener at 0.0.0.0/43845] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:43845
2021-09-21 13:06:36,618 [Listener at 0.0.0.0/43845] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:36,619 [Listener at 0.0.0.0/43845] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:36,619 [Listener at 0.0.0.0/43845] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:36,624 [Listener at 0.0.0.0/43845] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:36,624 [Listener at 0.0.0.0/43845] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:36,645 [Listener at 0.0.0.0/43845] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:43845
2021-09-21 13:06:36,645 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:36,648 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:36,654 [Listener at 0.0.0.0/43845] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:42817
2021-09-21 13:06:36,654 [Listener at 0.0.0.0/43845] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:42817
2021-09-21 13:06:36,654 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:36,656 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:36,666 [Listener at 0.0.0.0/43845] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:37321
2021-09-21 13:06:36,666 [Listener at 0.0.0.0/43845] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:37321
2021-09-21 13:06:36,666 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:36,668 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:36,677 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@53450f3a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:36,678 [Listener at 0.0.0.0/43845] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:36,678 [Listener at 0.0.0.0/43845] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:36,679 [Listener at 0.0.0.0/43845] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:36,679 [Listener at 0.0.0.0/43845] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:36,680 [Listener at 0.0.0.0/43845] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:36,681 [Listener at 0.0.0.0/43845] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:36,681 [Listener at 0.0.0.0/43845] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:36,681 [Listener at 0.0.0.0/43845] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:36,681 [Listener at 0.0.0.0/43845] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 41359
2021-09-21 13:06:36,681 [Listener at 0.0.0.0/43845] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:36,683 [Listener at 0.0.0.0/43845] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:36,683 [Listener at 0.0.0.0/43845] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:36,683 [Listener at 0.0.0.0/43845] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:36,683 [Listener at 0.0.0.0/43845] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@386d7d1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:36,684 [Listener at 0.0.0.0/43845] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6a56d89b{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:36,686 [Listener at 0.0.0.0/43845] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@c7647f{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:36,688 [Listener at 0.0.0.0/43845] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@466b4aec{HTTP/1.1, (http/1.1)}{0.0.0.0:41359}
2021-09-21 13:06:36,689 [Listener at 0.0.0.0/43845] INFO  server.Server (Server.java:doStart(415)) - Started @24617ms
2021-09-21 13:06:36,689 [Listener at 0.0.0.0/43845] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:36,689 [Listener at 0.0.0.0/43845] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:41359
2021-09-21 13:06:36,690 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:36,690 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12764 and Ratis port: 12768
2021-09-21 13:06:36,690 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12766
2021-09-21 13:06:36,690 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12767
2021-09-21 13:06:36,690 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12764
2021-09-21 13:06:36,690 [Listener at 0.0.0.0/43845] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/om;cid=96fc4abe-c1dc-452c-b97e-668d47a4265e;layoutVersion=0
2021-09-21 13:06:36,698 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:36,698 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12764 and Ratis port: 12768
2021-09-21 13:06:36,698 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12766
2021-09-21 13:06:36,698 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12767
2021-09-21 13:06:36,698 [Listener at 0.0.0.0/43845] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12764
2021-09-21 13:06:36,698 [Listener at 0.0.0.0/43845] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,699 [Listener at 0.0.0.0/43845] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:36,744 [Listener at 0.0.0.0/43845] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 45 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:36,745 [Listener at 0.0.0.0/43845] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:36,745 [Listener at 0.0.0.0/43845] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,750 [Listener at 0.0.0.0/43845] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,750 [Listener at 0.0.0.0/43845] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:36,750 [Listener at 0.0.0.0/43845] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:36,869 [Listener at 0.0.0.0/43845] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:36,869 [Listener at 0.0.0.0/43845] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:36,870 [Listener at 0.0.0.0/43845] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:36,870 [Listener at 0.0.0.0/43845] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:36,871 [Listener at 0.0.0.0/43845] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:36,872 [Listener at 0.0.0.0/43845] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12768, localhost:12780, localhost:12774
2021-09-21 13:06:36,872 [Listener at 0.0.0.0/43845] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12768 (custom)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12768 (custom)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12768 (custom)
2021-09-21 13:06:36,873 [Listener at 0.0.0.0/43845] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:36,874 [Listener at 0.0.0.0/43845] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:36,874 [Listener at 0.0.0.0/43845] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:36,874 [Listener at 0.0.0.0/43845] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:36,875 [Listener at 0.0.0.0/43845] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:36,875 [Listener at 0.0.0.0/43845] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:36,875 [Listener at 0.0.0.0/43845] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:36,875 [Listener at 0.0.0.0/43845] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis] (custom)
2021-09-21 13:06:36,876 [Listener at 0.0.0.0/43845] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@2545a20e[Not completed]
2021-09-21 13:06:36,876 [Listener at 0.0.0.0/43845] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12768
2021-09-21 13:06:36,876 [pool-364-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:36,877 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:36,877 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:36,884 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:36,884 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:36,884 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:36,884 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:36,884 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:36,884 [pool-364-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:36,885 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis] (custom)
2021-09-21 13:06:36,885 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:36,885 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:36,885 [pool-364-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:36,878 [Listener at 0.0.0.0/43845] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:36,888 [pool-364-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:36,889 [Socket Reader #1 for port 12764] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12764
2021-09-21 13:06:36,889 [pool-364-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:36,890 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:36,890 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:36,890 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:36,890 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:36,890 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:36,891 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:36,891 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:36,894 [pool-364-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:36,894 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:36,894 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:36,894 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:36,895 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:36,895 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:36,895 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:36,895 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:36,895 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:36,896 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:36,896 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:36,896 [pool-364-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:36,896 [pool-364-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:36,897 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:36,897 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:36,897 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:36,897 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:36,897 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:36,897 [pool-364-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:36,910 [Listener at 127.0.0.1/12764] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:36,911 [Listener at 127.0.0.1/12764] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:36,924 [Listener at 127.0.0.1/12764] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12764
2021-09-21 13:06:36,924 [Listener at 127.0.0.1/12764] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 12768
2021-09-21 13:06:36,925 [Listener at 127.0.0.1/12764] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null
2021-09-21 13:06:36,925 [Listener at 127.0.0.1/12764] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:36,925 [Listener at 127.0.0.1/12764] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:36,925 [Listener at 127.0.0.1/12764] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:36,926 [Listener at 127.0.0.1/12764] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:36,926 [Listener at 127.0.0.1/12764] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 12768
2021-09-21 13:06:36,927 [Listener at 127.0.0.1/12764] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:36,928 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@45ab51f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:36,929 [Listener at 127.0.0.1/12764] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12766
2021-09-21 13:06:36,929 [Listener at 127.0.0.1/12764] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:36,930 [Listener at 127.0.0.1/12764] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:36,931 [Listener at 127.0.0.1/12764] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:36,931 [Listener at 127.0.0.1/12764] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:36,932 [Listener at 127.0.0.1/12764] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:36,932 [Listener at 127.0.0.1/12764] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:36,932 [Listener at 127.0.0.1/12764] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:36,932 [Listener at 127.0.0.1/12764] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12766
2021-09-21 13:06:36,932 [Listener at 127.0.0.1/12764] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:36,936 [Listener at 127.0.0.1/12764] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:36,937 [Listener at 127.0.0.1/12764] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:36,937 [Listener at 127.0.0.1/12764] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:36,937 [Listener at 127.0.0.1/12764] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@788734bc{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:36,938 [Listener at 127.0.0.1/12764] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3897da86{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:36,940 [Listener at 127.0.0.1/12764] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@784a8f05{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:36,950 [Listener at 127.0.0.1/12764] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@59874999{HTTP/1.1, (http/1.1)}{0.0.0.0:12766}
2021-09-21 13:06:36,950 [Listener at 127.0.0.1/12764] INFO  server.Server (Server.java:doStart(415)) - Started @24878ms
2021-09-21 13:06:36,950 [Listener at 127.0.0.1/12764] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:36,951 [Listener at 127.0.0.1/12764] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12766
2021-09-21 13:06:36,951 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:36,951 [IPC Server listener on 12764] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12764: starting
2021-09-21 13:06:36,953 [Listener at 127.0.0.1/12764] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:36,953 [Listener at 127.0.0.1/12764] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:12764
2021-09-21 13:06:36,954 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:36,954 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12770 and Ratis port: 12774
2021-09-21 13:06:36,954 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12772
2021-09-21 13:06:36,954 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12773
2021-09-21 13:06:36,954 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12770
2021-09-21 13:06:36,955 [Listener at 127.0.0.1/12764] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,956 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3b4de9e6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/om;cid=96fc4abe-c1dc-452c-b97e-668d47a4265e;layoutVersion=0
2021-09-21 13:06:36,974 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:36,975 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12770 and Ratis port: 12774
2021-09-21 13:06:36,975 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12772
2021-09-21 13:06:36,975 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12773
2021-09-21 13:06:36,975 [Listener at 127.0.0.1/12764] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12770
2021-09-21 13:06:36,975 [Listener at 127.0.0.1/12764] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:36,975 [Listener at 127.0.0.1/12764] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:37,024 [Listener at 127.0.0.1/12764] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 47 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:37,024 [Listener at 127.0.0.1/12764] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:37,024 [Listener at 127.0.0.1/12764] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:37,040 [Listener at 127.0.0.1/12764] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:37,041 [Listener at 127.0.0.1/12764] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:37,041 [Listener at 127.0.0.1/12764] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:37,155 [Listener at 127.0.0.1/12764] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:37,155 [Listener at 127.0.0.1/12764] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:37,155 [Listener at 127.0.0.1/12764] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:37,156 [Listener at 127.0.0.1/12764] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:37,160 [Listener at 127.0.0.1/12764] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:37,161 [Listener at 127.0.0.1/12764] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:37,161 [Listener at 127.0.0.1/12764] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12774, localhost:12780, localhost:12768
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12774 (custom)
2021-09-21 13:06:37,162 [Listener at 127.0.0.1/12764] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:37,163 [Listener at 127.0.0.1/12764] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12774 (custom)
2021-09-21 13:06:37,163 [Listener at 127.0.0.1/12764] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12774 (custom)
2021-09-21 13:06:37,163 [Listener at 127.0.0.1/12764] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:37,163 [Listener at 127.0.0.1/12764] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:37,163 [Listener at 127.0.0.1/12764] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:37,163 [Listener at 127.0.0.1/12764] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:37,164 [Listener at 127.0.0.1/12764] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:37,164 [Listener at 127.0.0.1/12764] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:37,164 [Listener at 127.0.0.1/12764] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:37,164 [Listener at 127.0.0.1/12764] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis] (custom)
2021-09-21 13:06:37,165 [Listener at 127.0.0.1/12764] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@b424648[Not completed]
2021-09-21 13:06:37,165 [Listener at 127.0.0.1/12764] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12774
2021-09-21 13:06:37,166 [Listener at 127.0.0.1/12764] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:37,166 [pool-385-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:37,167 [Socket Reader #1 for port 12770] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12770
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis] (custom)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:37,169 [pool-385-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:37,170 [pool-385-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:37,171 [pool-385-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:37,172 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:37,172 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:37,172 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:37,172 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:37,173 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:37,174 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:37,175 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:37,175 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:37,175 [pool-385-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:37,175 [pool-385-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:37,182 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:37,182 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:37,182 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:37,182 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:37,182 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:37,182 [pool-385-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:37,191 [Listener at 127.0.0.1/12770] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:37,192 [Listener at 127.0.0.1/12770] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:37,205 [Listener at 127.0.0.1/12770] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12770
2021-09-21 13:06:37,205 [Listener at 127.0.0.1/12770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 12774
2021-09-21 13:06:37,205 [Listener at 127.0.0.1/12770] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null
2021-09-21 13:06:37,206 [Listener at 127.0.0.1/12770] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:37,206 [Listener at 127.0.0.1/12770] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:37,206 [Listener at 127.0.0.1/12770] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:37,207 [Listener at 127.0.0.1/12770] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:37,208 [Listener at 127.0.0.1/12770] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 12774
2021-09-21 13:06:37,208 [Listener at 127.0.0.1/12770] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:37,208 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@2ca44f01] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:37,212 [Listener at 127.0.0.1/12770] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12772
2021-09-21 13:06:37,212 [Listener at 127.0.0.1/12770] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:37,213 [Listener at 127.0.0.1/12770] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:37,214 [Listener at 127.0.0.1/12770] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:37,214 [Listener at 127.0.0.1/12770] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:37,215 [Listener at 127.0.0.1/12770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:37,215 [Listener at 127.0.0.1/12770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:37,215 [Listener at 127.0.0.1/12770] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:37,215 [Listener at 127.0.0.1/12770] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12772
2021-09-21 13:06:37,215 [Listener at 127.0.0.1/12770] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:37,217 [Listener at 127.0.0.1/12770] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:37,217 [Listener at 127.0.0.1/12770] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:37,217 [Listener at 127.0.0.1/12770] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:37,218 [Listener at 127.0.0.1/12770] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@72293afb{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:37,218 [Listener at 127.0.0.1/12770] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@68b4130e{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:37,223 [Listener at 127.0.0.1/12770] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@17831531{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:37,224 [Listener at 127.0.0.1/12770] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@51fb50d2{HTTP/1.1, (http/1.1)}{0.0.0.0:12772}
2021-09-21 13:06:37,225 [Listener at 127.0.0.1/12770] INFO  server.Server (Server.java:doStart(415)) - Started @25153ms
2021-09-21 13:06:37,225 [Listener at 127.0.0.1/12770] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:37,225 [Listener at 127.0.0.1/12770] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12772
2021-09-21 13:06:37,225 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:37,227 [IPC Server listener on 12770] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12770: starting
2021-09-21 13:06:37,232 [Listener at 127.0.0.1/12770] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:37,232 [Listener at 127.0.0.1/12770] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:12770
2021-09-21 13:06:37,232 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@25b1dc09] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:37,233 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:37,233 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12776 and Ratis port: 12780
2021-09-21 13:06:37,233 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12778
2021-09-21 13:06:37,233 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12779
2021-09-21 13:06:37,233 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12776
2021-09-21 13:06:37,233 [Listener at 127.0.0.1/12770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/om;cid=96fc4abe-c1dc-452c-b97e-668d47a4265e;layoutVersion=0
2021-09-21 13:06:37,243 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:37,243 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12776 and Ratis port: 12780
2021-09-21 13:06:37,243 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12778
2021-09-21 13:06:37,243 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12779
2021-09-21 13:06:37,243 [Listener at 127.0.0.1/12770] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12776
2021-09-21 13:06:37,244 [Listener at 127.0.0.1/12770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:37,244 [Listener at 127.0.0.1/12770] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:37,332 [Listener at 127.0.0.1/12770] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 87 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:37,332 [Listener at 127.0.0.1/12770] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:37,332 [Listener at 127.0.0.1/12770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:37,336 [Listener at 127.0.0.1/12770] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:37,336 [Listener at 127.0.0.1/12770] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:37,337 [Listener at 127.0.0.1/12770] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:37,449 [Listener at 127.0.0.1/12770] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:37,449 [Listener at 127.0.0.1/12770] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:37,449 [Listener at 127.0.0.1/12770] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:37,449 [Listener at 127.0.0.1/12770] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:37,451 [Listener at 127.0.0.1/12770] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:37,451 [Listener at 127.0.0.1/12770] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:37,451 [Listener at 127.0.0.1/12770] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:37,452 [Listener at 127.0.0.1/12770] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12780, localhost:12768, localhost:12774
2021-09-21 13:06:37,452 [Listener at 127.0.0.1/12770] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:37,453 [Listener at 127.0.0.1/12770] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:37,453 [Listener at 127.0.0.1/12770] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:37,453 [Listener at 127.0.0.1/12770] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12780 (custom)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12780 (custom)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12780 (custom)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:37,454 [Listener at 127.0.0.1/12770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:37,455 [Listener at 127.0.0.1/12770] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:37,455 [Listener at 127.0.0.1/12770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:37,456 [Listener at 127.0.0.1/12770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:37,456 [Listener at 127.0.0.1/12770] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis] (custom)
2021-09-21 13:06:37,456 [Listener at 127.0.0.1/12770] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@29ba7143[Not completed]
2021-09-21 13:06:37,456 [Listener at 127.0.0.1/12770] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12780
2021-09-21 13:06:37,456 [pool-406-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:37,458 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:37,458 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:37,458 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:37,458 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis] (custom)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:37,459 [pool-406-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:37,460 [pool-406-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:37,461 [pool-406-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:37,462 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:37,462 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:37,462 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:37,462 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:37,462 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:37,463 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:37,466 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:37,466 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:37,466 [pool-406-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:37,466 [pool-406-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:37,468 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:37,468 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:37,468 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:37,468 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:37,469 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:37,469 [Listener at 127.0.0.1/12770] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:37,469 [pool-406-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:37,472 [Socket Reader #1 for port 12776] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12776
2021-09-21 13:06:37,496 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:37,497 [Listener at 127.0.0.1/12776] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:37,510 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12776
2021-09-21 13:06:37,510 [Listener at 127.0.0.1/12776] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 12780
2021-09-21 13:06:37,510 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null
2021-09-21 13:06:37,510 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:37,510 [Listener at 127.0.0.1/12776] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:37,510 [Listener at 127.0.0.1/12776] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:37,511 [Listener at 127.0.0.1/12776] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:37,512 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 12780
2021-09-21 13:06:37,512 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:37,512 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@314b723] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:37,514 [Listener at 127.0.0.1/12776] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12778
2021-09-21 13:06:37,514 [Listener at 127.0.0.1/12776] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:37,515 [Listener at 127.0.0.1/12776] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:37,515 [Listener at 127.0.0.1/12776] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:37,516 [Listener at 127.0.0.1/12776] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:37,516 [Listener at 127.0.0.1/12776] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:37,516 [Listener at 127.0.0.1/12776] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:37,516 [Listener at 127.0.0.1/12776] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:37,517 [Listener at 127.0.0.1/12776] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12778
2021-09-21 13:06:37,517 [Listener at 127.0.0.1/12776] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:37,521 [Listener at 127.0.0.1/12776] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:37,521 [Listener at 127.0.0.1/12776] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:37,521 [Listener at 127.0.0.1/12776] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:37,522 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@53a70410{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:37,522 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2df04b2f{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:37,524 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@6f08984c{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:37,527 [Listener at 127.0.0.1/12776] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6097e785{HTTP/1.1, (http/1.1)}{0.0.0.0:12778}
2021-09-21 13:06:37,527 [Listener at 127.0.0.1/12776] INFO  server.Server (Server.java:doStart(415)) - Started @25455ms
2021-09-21 13:06:37,527 [Listener at 127.0.0.1/12776] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:37,527 [Listener at 127.0.0.1/12776] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12778
2021-09-21 13:06:37,530 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:37,531 [IPC Server listener on 12776] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12776: starting
2021-09-21 13:06:37,533 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:37,533 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:12776
2021-09-21 13:06:37,533 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:37,533 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:37,533 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:37,534 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@628e22c5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:37,541 [Listener at 127.0.0.1/12776] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:12770 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:37,543 [Listener at 127.0.0.1/12776] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:12776 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:38,075 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1150083709ns, electionTimeout:1149ms
2021-09-21 13:06:38,076 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:38,076 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:38,076 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:38,076 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection10
2021-09-21 13:06:38,082 [omNode-1@group-523986131536-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null
2021-09-21 13:06:38,100 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:38,101 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:38,101 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:38,101 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:38,101 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:38,101 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:38,109 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:38,109 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:38,109 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:38,109 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:38,109 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:38,109 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:38,112 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null
2021-09-21 13:06:38,114 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12780|priority:0, omNode-1|rpc:localhost:12768|priority:0, omNode-2|rpc:localhost:12774|priority:0], old=null
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-2#0:OK-t1
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection10 ELECTION round 0: result PASSED
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection10
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1225ms
2021-09-21 13:06:38,115 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:38,116 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:38,117 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:38,117 [omNode-1@group-523986131536-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:38,117 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:38,117 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:38,118 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:38,118 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:38,118 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:38,118 [omNode-1@group-523986131536-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:38,118 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:38,118 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:38,119 [omNode-1@group-523986131536-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:38,120 [omNode-1@group-523986131536-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:38,126 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:38,128 [omNode-1@group-523986131536-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12780|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12768|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12774|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:38,128 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12780"
, id: "omNode-1"
address: "localhost:12768"
, id: "omNode-2"
address: "localhost:12774"
]
2021-09-21 13:06:38,131 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 669ms
2021-09-21 13:06:38,138 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 966ms
2021-09-21 13:06:38,142 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12780|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12768|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12774|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:38,142 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:38,143 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12780|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12768|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12774|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:38,144 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:38,176 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:38,176 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-96fc4abe-c1dc-452c-b97e-668d47a4265e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:38,187 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12780"
, id: "omNode-1"
address: "localhost:12768"
, id: "omNode-2"
address: "localhost:12774"
]
2021-09-21 13:06:38,682 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12780"
, id: "omNode-1"
address: "localhost:12768"
, id: "omNode-2"
address: "localhost:12774"
]
2021-09-21 13:06:39,566 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:39,566 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:39,567 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:39,567 [Listener at 127.0.0.1/12776] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12776
2021-09-21 13:06:39,569 [IPC Server listener on 12776] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12776
2021-09-21 13:06:39,570 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:39,570 [Listener at 127.0.0.1/12776] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:39,571 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:39,571 [Listener at 127.0.0.1/12776] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:39,571 [Listener at 127.0.0.1/12776] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:39,571 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:39,572 [Listener at 127.0.0.1/12776] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:39,572 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:39,572 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:39,572 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:39,572 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:39,573 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:39,573 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:39,574 [Listener at 127.0.0.1/12776] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:39,574 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 12780 now
2021-09-21 13:06:39,576 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:39,576 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:39,576 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Leader has not got in touch with Follower omNode-1@group-523986131536->omNode-3(c0,m0,n1, attendVote=true, lastRpcSendTime=392, lastRpcResponseTime=387) yet, just keep nextIndex unchanged and retry.
2021-09-21 13:06:39,578 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 12780 successfully
2021-09-21 13:06:39,579 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@314b723] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:39,579 [Listener at 127.0.0.1/12776] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:39,579 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:39,579 [Listener at 127.0.0.1/12776] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:39,593 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@6f08984c{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:39,597 [Listener at 127.0.0.1/12776] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6097e785{HTTP/1.1, (http/1.1)}{0.0.0.0:12778}
2021-09-21 13:06:39,597 [Listener at 127.0.0.1/12776] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:39,597 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2df04b2f{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:39,597 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@53a70410{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:39,599 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:39,599 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:39,599 [Listener at 127.0.0.1/12776] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12764
2021-09-21 13:06:39,605 [IPC Server listener on 12764] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12764
2021-09-21 13:06:39,605 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:39,605 [Listener at 127.0.0.1/12776] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:39,605 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:39,605 [Listener at 127.0.0.1/12776] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:39,605 [Listener at 127.0.0.1/12776] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:39,606 [Listener at 127.0.0.1/12776] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:39,606 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:39,606 [Listener at 127.0.0.1/12776] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:39,607 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:39,607 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:39,607 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:39,607 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:39,607 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-21 13:06:39,610 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:39,610 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:39,610 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:39,610 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2021-09-21 13:06:39,611 [Listener at 127.0.0.1/12776] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:39,612 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 12768 now
2021-09-21 13:06:39,613 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 12768 successfully
2021-09-21 13:06:39,613 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@45ab51f2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:39,614 [Listener at 127.0.0.1/12776] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:39,614 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:39,614 [Listener at 127.0.0.1/12776] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:39,614 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@784a8f05{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:39,615 [Listener at 127.0.0.1/12776] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@59874999{HTTP/1.1, (http/1.1)}{0.0.0.0:12766}
2021-09-21 13:06:39,615 [Listener at 127.0.0.1/12776] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:39,615 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3897da86{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:39,615 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@788734bc{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:39,618 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:39,618 [Listener at 127.0.0.1/12776] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:39,618 [Listener at 127.0.0.1/12776] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12770
2021-09-21 13:06:39,619 [IPC Server listener on 12770] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12770
2021-09-21 13:06:39,626 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:39,627 [Listener at 127.0.0.1/12776] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:39,627 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:39,627 [Listener at 127.0.0.1/12776] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:39,627 [Listener at 127.0.0.1/12776] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:39,627 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:39,627 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:39,628 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:39,628 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:39,628 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:39,628 [Listener at 127.0.0.1/12776] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:39,628 [Listener at 127.0.0.1/12776] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:39,628 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:39,629 [Listener at 127.0.0.1/12776] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:39,630 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 12774 now
2021-09-21 13:06:39,631 [Listener at 127.0.0.1/12776] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 12774 successfully
2021-09-21 13:06:39,631 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@2ca44f01] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:39,631 [Listener at 127.0.0.1/12776] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:39,631 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:39,631 [Listener at 127.0.0.1/12776] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:39,632 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@17831531{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:39,632 [Listener at 127.0.0.1/12776] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@51fb50d2{HTTP/1.1, (http/1.1)}{0.0.0.0:12772}
2021-09-21 13:06:39,633 [Listener at 127.0.0.1/12776] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:39,633 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@68b4130e{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:39,633 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@72293afb{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager 935b9008-3fb2-4dc4-9b3a-d4a4f4574a11
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:39,635 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:39,636 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:39,636 [Listener at 127.0.0.1/12776] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:39,636 [Listener at 127.0.0.1/12776] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 37321
2021-09-21 13:06:39,636 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:39,640 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:39,726 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:39,726 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:39,726 [Listener at 127.0.0.1/12776] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:39,726 [Listener at 127.0.0.1/12776] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42817
2021-09-21 13:06:39,728 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:39,728 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:39,729 [Listener at 127.0.0.1/12776] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:39,729 [Listener at 127.0.0.1/12776] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 43845
2021-09-21 13:06:39,729 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:39,731 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:39,731 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:39,732 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@c7647f{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:39,732 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:39,733 [Listener at 127.0.0.1/12776] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@466b4aec{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:39,733 [Listener at 127.0.0.1/12776] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:39,733 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6a56d89b{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:39,733 [Listener at 127.0.0.1/12776] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@386d7d1{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:39,734 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:39,735 [Listener at 127.0.0.1/12776] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:39,735 [Listener at 127.0.0.1/12776] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:39,735 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:39,735 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:39,735 [Listener at 127.0.0.1/12776] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:39,736 [Listener at 127.0.0.1/12776] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:39,736 [Listener at 127.0.0.1/12776] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:39,737 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:39,737 [Listener at 127.0.0.1/12776] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:39,740 [Listener at 127.0.0.1/12776] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:39,774 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:39,776 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:39,776 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:39,779 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:39,780 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:39,822 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:39,824 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:39,825 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:39,905 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:39,905 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:39,908 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:39,908 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:39,908 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:39,908 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:39,908 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:39,909 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:39,909 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:39,910 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:39,910 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:39,910 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:39,910 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:39,910 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:39,911 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:39,911 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:39,912 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:39,912 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:39,912 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:39,912 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:39,912 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:39,912 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:39,912 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:39,916 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:39,917 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:39,918 [Listener at 0.0.0.0/38189] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:39,918 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:39,919 [Listener at 0.0.0.0/34423] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:39,920 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:39,928 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-21 13:06:39,941 [Listener at 0.0.0.0/44777] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:39,941 [Listener at 0.0.0.0/44777] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:39,942 [Listener at 0.0.0.0/44777] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:39,942 [Listener at 0.0.0.0/44777] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:39,942 [Listener at 0.0.0.0/44777] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44777
2021-09-21 13:06:39,943 [Listener at 0.0.0.0/44777] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:39,944 [Listener at 0.0.0.0/44777] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:39,944 [Listener at 0.0.0.0/44777] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:39,953 [Listener at 0.0.0.0/44777] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:39,953 [Listener at 0.0.0.0/44777] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:39,972 [Listener at 0.0.0.0/44777] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:44777
2021-09-21 13:06:39,973 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:39,973 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:39,980 [Listener at 0.0.0.0/44777] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:34423
2021-09-21 13:06:39,981 [Listener at 0.0.0.0/44777] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:34423
2021-09-21 13:06:39,981 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:39,981 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:39,985 [Listener at 0.0.0.0/44777] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:38189
2021-09-21 13:06:39,985 [Listener at 0.0.0.0/44777] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:38189
2021-09-21 13:06:39,985 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:39,986 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:39,994 [Listener at 0.0.0.0/44777] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:39,994 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2c243d26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:39,994 [Listener at 0.0.0.0/44777] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:39,998 [Listener at 0.0.0.0/44777] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:39,998 [Listener at 0.0.0.0/44777] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:39,999 [Listener at 0.0.0.0/44777] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:39,999 [Listener at 0.0.0.0/44777] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:39,999 [Listener at 0.0.0.0/44777] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:39,999 [Listener at 0.0.0.0/44777] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:40,000 [Listener at 0.0.0.0/44777] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 45717
2021-09-21 13:06:40,000 [Listener at 0.0.0.0/44777] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:40,001 [Listener at 0.0.0.0/44777] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:40,001 [Listener at 0.0.0.0/44777] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:40,002 [Listener at 0.0.0.0/44777] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:40,002 [Listener at 0.0.0.0/44777] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@24451e39{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:40,003 [Listener at 0.0.0.0/44777] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@2ad688fa{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:40,005 [Listener at 0.0.0.0/44777] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@25920a40{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:40,008 [Listener at 0.0.0.0/44777] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4bad39eb{HTTP/1.1, (http/1.1)}{0.0.0.0:45717}
2021-09-21 13:06:40,008 [Listener at 0.0.0.0/44777] INFO  server.Server (Server.java:doStart(415)) - Started @27937ms
2021-09-21 13:06:40,009 [Listener at 0.0.0.0/44777] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:40,009 [Listener at 0.0.0.0/44777] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:45717
2021-09-21 13:06:40,010 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:40,010 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12200 and Ratis port: 12204
2021-09-21 13:06:40,010 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12202
2021-09-21 13:06:40,010 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12203
2021-09-21 13:06:40,010 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12200
2021-09-21 13:06:40,010 [Listener at 0.0.0.0/44777] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/om;cid=5abcb1d6-d0c1-4a40-940f-08d3a01b844c;layoutVersion=0
2021-09-21 13:06:40,019 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:40,019 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12200 and Ratis port: 12204
2021-09-21 13:06:40,019 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12202
2021-09-21 13:06:40,019 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12203
2021-09-21 13:06:40,019 [Listener at 0.0.0.0/44777] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12200
2021-09-21 13:06:40,019 [Listener at 0.0.0.0/44777] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,020 [Listener at 0.0.0.0/44777] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:40,059 [Listener at 0.0.0.0/44777] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 39 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:40,063 [Listener at 0.0.0.0/44777] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:40,063 [Listener at 0.0.0.0/44777] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,069 [Listener at 0.0.0.0/44777] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,070 [Listener at 0.0.0.0/44777] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:40,070 [Listener at 0.0.0.0/44777] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:40,197 [Listener at 0.0.0.0/44777] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:40,198 [Listener at 0.0.0.0/44777] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:40,198 [Listener at 0.0.0.0/44777] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:40,200 [Listener at 0.0.0.0/44777] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:40,203 [Listener at 0.0.0.0/44777] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:40,203 [Listener at 0.0.0.0/44777] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12204, localhost:12216, localhost:12210
2021-09-21 13:06:40,205 [Listener at 0.0.0.0/44777] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:40,205 [Listener at 0.0.0.0/44777] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:40,206 [Listener at 0.0.0.0/44777] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:40,206 [Listener at 0.0.0.0/44777] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:40,206 [Listener at 0.0.0.0/44777] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12204 (custom)
2021-09-21 13:06:40,206 [Listener at 0.0.0.0/44777] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:40,206 [Listener at 0.0.0.0/44777] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12204 (custom)
2021-09-21 13:06:40,207 [Listener at 0.0.0.0/44777] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12204 (custom)
2021-09-21 13:06:40,207 [Listener at 0.0.0.0/44777] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:40,207 [Listener at 0.0.0.0/44777] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:40,207 [Listener at 0.0.0.0/44777] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:40,207 [Listener at 0.0.0.0/44777] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:40,208 [Listener at 0.0.0.0/44777] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:40,209 [Listener at 0.0.0.0/44777] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:40,209 [Listener at 0.0.0.0/44777] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:40,209 [Listener at 0.0.0.0/44777] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis] (custom)
2021-09-21 13:06:40,209 [Listener at 0.0.0.0/44777] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@5eb0392f[Not completed]
2021-09-21 13:06:40,209 [Listener at 0.0.0.0/44777] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12204
2021-09-21 13:06:40,209 [pool-444-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis] (custom)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:40,210 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:40,211 [pool-444-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:40,211 [Listener at 0.0.0.0/44777] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:40,212 [Socket Reader #1 for port 12200] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12200
2021-09-21 13:06:40,216 [pool-444-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:40,217 [pool-444-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:40,218 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:40,218 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:40,218 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:40,218 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:40,218 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:40,219 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:40,220 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:40,220 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:40,220 [pool-444-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:40,220 [pool-444-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:40,224 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:40,224 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:40,224 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:40,224 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:40,224 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:40,225 [pool-444-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:40,235 [Listener at 127.0.0.1/12200] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:40,236 [Listener at 127.0.0.1/12200] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:40,249 [Listener at 127.0.0.1/12200] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12200
2021-09-21 13:06:40,249 [Listener at 127.0.0.1/12200] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 12204
2021-09-21 13:06:40,249 [Listener at 127.0.0.1/12200] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null
2021-09-21 13:06:40,249 [Listener at 127.0.0.1/12200] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:40,249 [Listener at 127.0.0.1/12200] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:40,250 [Listener at 127.0.0.1/12200] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:40,251 [Listener at 127.0.0.1/12200] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:40,252 [Listener at 127.0.0.1/12200] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 12204
2021-09-21 13:06:40,252 [Listener at 127.0.0.1/12200] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:40,252 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@6fcef6f7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:40,253 [Listener at 127.0.0.1/12200] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12202
2021-09-21 13:06:40,254 [Listener at 127.0.0.1/12200] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:40,255 [Listener at 127.0.0.1/12200] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:40,255 [Listener at 127.0.0.1/12200] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:40,256 [Listener at 127.0.0.1/12200] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:40,256 [Listener at 127.0.0.1/12200] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:40,257 [Listener at 127.0.0.1/12200] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:40,257 [Listener at 127.0.0.1/12200] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:40,257 [Listener at 127.0.0.1/12200] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12202
2021-09-21 13:06:40,257 [Listener at 127.0.0.1/12200] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:40,265 [Listener at 127.0.0.1/12200] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:40,265 [Listener at 127.0.0.1/12200] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:40,265 [Listener at 127.0.0.1/12200] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:40,266 [Listener at 127.0.0.1/12200] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1e27aea5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:40,266 [Listener at 127.0.0.1/12200] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@f4144df{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:40,269 [Listener at 127.0.0.1/12200] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5591d70f{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:40,270 [Listener at 127.0.0.1/12200] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@117712ca{HTTP/1.1, (http/1.1)}{0.0.0.0:12202}
2021-09-21 13:06:40,270 [Listener at 127.0.0.1/12200] INFO  server.Server (Server.java:doStart(415)) - Started @28198ms
2021-09-21 13:06:40,270 [Listener at 127.0.0.1/12200] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:40,270 [Listener at 127.0.0.1/12200] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12202
2021-09-21 13:06:40,271 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:40,271 [IPC Server listener on 12200] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12200: starting
2021-09-21 13:06:40,273 [Listener at 127.0.0.1/12200] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:40,273 [Listener at 127.0.0.1/12200] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:12200
2021-09-21 13:06:40,274 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:40,275 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12206 and Ratis port: 12210
2021-09-21 13:06:40,275 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12208
2021-09-21 13:06:40,275 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12209
2021-09-21 13:06:40,275 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12206
2021-09-21 13:06:40,275 [Listener at 127.0.0.1/12200] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,276 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5c4f77e7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/om;cid=5abcb1d6-d0c1-4a40-940f-08d3a01b844c;layoutVersion=0
2021-09-21 13:06:40,283 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:40,283 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12206 and Ratis port: 12210
2021-09-21 13:06:40,283 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12208
2021-09-21 13:06:40,283 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12209
2021-09-21 13:06:40,283 [Listener at 127.0.0.1/12200] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12206
2021-09-21 13:06:40,283 [Listener at 127.0.0.1/12200] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,284 [Listener at 127.0.0.1/12200] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:40,325 [Listener at 127.0.0.1/12200] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 41 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:40,325 [Listener at 127.0.0.1/12200] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:40,325 [Listener at 127.0.0.1/12200] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,329 [Listener at 127.0.0.1/12200] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,330 [Listener at 127.0.0.1/12200] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:40,330 [Listener at 127.0.0.1/12200] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:40,442 [Listener at 127.0.0.1/12200] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:40,443 [Listener at 127.0.0.1/12200] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:40,443 [Listener at 127.0.0.1/12200] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:40,443 [Listener at 127.0.0.1/12200] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:40,445 [Listener at 127.0.0.1/12200] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:40,445 [Listener at 127.0.0.1/12200] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:40,445 [Listener at 127.0.0.1/12200] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:40,446 [Listener at 127.0.0.1/12200] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12210, localhost:12216, localhost:12204
2021-09-21 13:06:40,446 [Listener at 127.0.0.1/12200] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:40,446 [Listener at 127.0.0.1/12200] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:40,446 [Listener at 127.0.0.1/12200] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12210 (custom)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12210 (custom)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12210 (custom)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:40,447 [Listener at 127.0.0.1/12200] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:40,448 [Listener at 127.0.0.1/12200] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:40,448 [Listener at 127.0.0.1/12200] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:40,448 [Listener at 127.0.0.1/12200] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:40,449 [Listener at 127.0.0.1/12200] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis] (custom)
2021-09-21 13:06:40,449 [Listener at 127.0.0.1/12200] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@3dafb83f[Not completed]
2021-09-21 13:06:40,449 [Listener at 127.0.0.1/12200] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12210
2021-09-21 13:06:40,450 [Listener at 127.0.0.1/12200] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:40,450 [pool-465-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis] (custom)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:40,451 [pool-465-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:40,452 [Socket Reader #1 for port 12206] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12206
2021-09-21 13:06:40,457 [pool-465-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:40,458 [pool-465-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:40,459 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:40,459 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:40,459 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:40,459 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:40,459 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:40,459 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:40,460 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:40,461 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:40,461 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:40,461 [pool-465-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:40,461 [pool-465-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:40,468 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:40,468 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:40,468 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:40,468 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:40,468 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:40,468 [pool-465-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:40,469 [Listener at 127.0.0.1/12206] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:40,470 [Listener at 127.0.0.1/12206] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:40,483 [Listener at 127.0.0.1/12206] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12206
2021-09-21 13:06:40,483 [Listener at 127.0.0.1/12206] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 12210
2021-09-21 13:06:40,483 [Listener at 127.0.0.1/12206] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null
2021-09-21 13:06:40,483 [Listener at 127.0.0.1/12206] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:40,483 [Listener at 127.0.0.1/12206] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:40,484 [Listener at 127.0.0.1/12206] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:40,484 [Listener at 127.0.0.1/12206] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:40,485 [Listener at 127.0.0.1/12206] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 12210
2021-09-21 13:06:40,488 [Listener at 127.0.0.1/12206] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:40,489 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@7d9602fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:40,490 [Listener at 127.0.0.1/12206] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12208
2021-09-21 13:06:40,490 [Listener at 127.0.0.1/12206] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:40,491 [Listener at 127.0.0.1/12206] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:40,493 [Listener at 127.0.0.1/12206] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:40,493 [Listener at 127.0.0.1/12206] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:40,494 [Listener at 127.0.0.1/12206] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:40,494 [Listener at 127.0.0.1/12206] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:40,494 [Listener at 127.0.0.1/12206] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:40,494 [Listener at 127.0.0.1/12206] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12208
2021-09-21 13:06:40,494 [Listener at 127.0.0.1/12206] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:40,495 [Listener at 127.0.0.1/12206] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:40,496 [Listener at 127.0.0.1/12206] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:40,496 [Listener at 127.0.0.1/12206] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:40,496 [Listener at 127.0.0.1/12206] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5f124768{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:40,496 [Listener at 127.0.0.1/12206] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@704f00db{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:40,499 [Listener at 127.0.0.1/12206] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3b995382{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:40,500 [Listener at 127.0.0.1/12206] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@75342a86{HTTP/1.1, (http/1.1)}{0.0.0.0:12208}
2021-09-21 13:06:40,500 [Listener at 127.0.0.1/12206] INFO  server.Server (Server.java:doStart(415)) - Started @28428ms
2021-09-21 13:06:40,500 [Listener at 127.0.0.1/12206] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:40,501 [Listener at 127.0.0.1/12206] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12208
2021-09-21 13:06:40,501 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:40,501 [IPC Server listener on 12206] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12206: starting
2021-09-21 13:06:40,511 [Listener at 127.0.0.1/12206] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:40,512 [Listener at 127.0.0.1/12206] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:12206
2021-09-21 13:06:40,512 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:40,513 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12212 and Ratis port: 12216
2021-09-21 13:06:40,513 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12214
2021-09-21 13:06:40,513 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12215
2021-09-21 13:06:40,513 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12212
2021-09-21 13:06:40,513 [Listener at 127.0.0.1/12206] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,514 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@20f349a8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/om;cid=5abcb1d6-d0c1-4a40-940f-08d3a01b844c;layoutVersion=0
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12212 and Ratis port: 12216
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12214
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12215
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12212
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,519 [Listener at 127.0.0.1/12206] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:40,558 [Listener at 127.0.0.1/12206] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:40,558 [Listener at 127.0.0.1/12206] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:40,559 [Listener at 127.0.0.1/12206] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,566 [Listener at 127.0.0.1/12206] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:40,567 [Listener at 127.0.0.1/12206] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:40,567 [Listener at 127.0.0.1/12206] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:40,682 [Listener at 127.0.0.1/12206] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:40,682 [Listener at 127.0.0.1/12206] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:40,682 [Listener at 127.0.0.1/12206] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:40,683 [Listener at 127.0.0.1/12206] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:40,684 [Listener at 127.0.0.1/12206] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:40,685 [Listener at 127.0.0.1/12206] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:40,685 [Listener at 127.0.0.1/12206] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:40,686 [Listener at 127.0.0.1/12206] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12216, localhost:12204, localhost:12210
2021-09-21 13:06:40,686 [Listener at 127.0.0.1/12206] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:40,686 [Listener at 127.0.0.1/12206] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:40,686 [Listener at 127.0.0.1/12206] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:40,686 [Listener at 127.0.0.1/12206] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:40,686 [Listener at 127.0.0.1/12206] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12216 (custom)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12216 (custom)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12216 (custom)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:40,687 [Listener at 127.0.0.1/12206] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:40,688 [Listener at 127.0.0.1/12206] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:40,688 [Listener at 127.0.0.1/12206] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:40,688 [Listener at 127.0.0.1/12206] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:40,689 [Listener at 127.0.0.1/12206] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis] (custom)
2021-09-21 13:06:40,690 [Listener at 127.0.0.1/12206] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@2a064a39[Not completed]
2021-09-21 13:06:40,690 [Listener at 127.0.0.1/12206] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12216
2021-09-21 13:06:40,691 [Listener at 127.0.0.1/12206] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:40,692 [Socket Reader #1 for port 12212] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12212
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:40,697 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis] (custom)
2021-09-21 13:06:40,698 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:40,698 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:40,698 [pool-486-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:40,703 [pool-486-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:40,705 [pool-486-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:40,705 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:40,705 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:40,705 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:40,705 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:40,706 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:40,711 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:40,711 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:40,711 [pool-486-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:40,712 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:40,713 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:40,713 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:40,714 [pool-486-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:40,715 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:40,716 [pool-486-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:40,717 [Listener at 127.0.0.1/12212] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:40,724 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:40,724 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:40,724 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:40,724 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:40,724 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:40,724 [pool-486-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:40,730 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12212
2021-09-21 13:06:40,731 [Listener at 127.0.0.1/12212] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 12216
2021-09-21 13:06:40,731 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null
2021-09-21 13:06:40,731 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:40,731 [Listener at 127.0.0.1/12212] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:40,734 [Listener at 127.0.0.1/12212] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:40,735 [Listener at 127.0.0.1/12212] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:40,736 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 12216
2021-09-21 13:06:40,736 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:40,737 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@15177759] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:40,738 [Listener at 127.0.0.1/12212] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12214
2021-09-21 13:06:40,739 [Listener at 127.0.0.1/12212] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:40,739 [Listener at 127.0.0.1/12212] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:40,744 [Listener at 127.0.0.1/12212] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:40,745 [Listener at 127.0.0.1/12212] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:40,745 [Listener at 127.0.0.1/12212] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:40,746 [Listener at 127.0.0.1/12212] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:40,746 [Listener at 127.0.0.1/12212] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:40,746 [Listener at 127.0.0.1/12212] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12214
2021-09-21 13:06:40,746 [Listener at 127.0.0.1/12212] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:40,748 [Listener at 127.0.0.1/12212] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:40,749 [Listener at 127.0.0.1/12212] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:40,749 [Listener at 127.0.0.1/12212] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:40,749 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@779dfcb5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:40,749 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@41f10252{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:40,752 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@2e11593d{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:40,754 [Listener at 127.0.0.1/12212] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2375db1d{HTTP/1.1, (http/1.1)}{0.0.0.0:12214}
2021-09-21 13:06:40,754 [Listener at 127.0.0.1/12212] INFO  server.Server (Server.java:doStart(415)) - Started @28683ms
2021-09-21 13:06:40,754 [Listener at 127.0.0.1/12212] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:40,755 [Listener at 127.0.0.1/12212] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12214
2021-09-21 13:06:40,755 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:40,755 [IPC Server listener on 12212] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12212: starting
2021-09-21 13:06:40,757 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:40,757 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:12212
2021-09-21 13:06:40,764 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1e51b34e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:40,758 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:40,764 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:40,764 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:40,779 [Listener at 127.0.0.1/12212] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:12206 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:40,782 [Listener at 127.0.0.1/12212] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:12212 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:41,438 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1188603680ns, electionTimeout:1188ms
2021-09-21 13:06:41,439 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:41,439 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:41,439 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:41,439 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection11
2021-09-21 13:06:41,442 [omNode-1@group-523986131536-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null
2021-09-21 13:06:41,452 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:41,452 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:41,452 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:41,452 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:41,452 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:41,452 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:41,454 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null
2021-09-21 13:06:41,466 [omNode-1@group-523986131536-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:41,466 [omNode-1@group-523986131536-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:OK-t1
2021-09-21 13:06:41,466 [omNode-1@group-523986131536-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection11 ELECTION round 0: result PASSED
2021-09-21 13:06:41,466 [omNode-1@group-523986131536-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection11
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1248ms
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:41,467 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:41,468 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:41,468 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:41,468 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:41,468 [omNode-1@group-523986131536-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:41,468 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:41,468 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:41,469 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:41,469 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:41,469 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:41,469 [omNode-1@group-523986131536-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:41,469 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:41,469 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:41,470 [omNode-1@group-523986131536-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:41,471 [omNode-1@group-523986131536-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:41,481 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:41,481 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:41,481 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:41,481 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:41,481 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:41,481 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:41,481 [omNode-1@group-523986131536-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12216|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12204|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12210|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:41,481 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 776ms
2021-09-21 13:06:41,481 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:41,485 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12216|priority:0, omNode-1|rpc:localhost:12204|priority:0, omNode-2|rpc:localhost:12210|priority:0], old=null
2021-09-21 13:06:41,493 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12216"
, id: "omNode-1"
address: "localhost:12204"
, id: "omNode-2"
address: "localhost:12210"
]
2021-09-21 13:06:41,493 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12216|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12204|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12210|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:41,493 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:41,500 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 1041ms
2021-09-21 13:06:41,501 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:41,508 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12216"
, id: "omNode-1"
address: "localhost:12204"
, id: "omNode-2"
address: "localhost:12210"
]
2021-09-21 13:06:41,511 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12216|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12204|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12210|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:41,511 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:41,518 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-5abcb1d6-d0c1-4a40-940f-08d3a01b844c/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:41,520 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12216"
, id: "omNode-1"
address: "localhost:12204"
, id: "omNode-2"
address: "localhost:12210"
]
2021-09-21 13:06:42,786 [Listener at 127.0.0.1/12212] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume43632, with runner as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:42,802 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume43632 for user:runner
2021-09-21 13:06:42,804 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume43632 for user:runner
2021-09-21 13:06:42,810 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume43632 for user:runner
2021-09-21 13:06:42,836 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:42,837 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:42,837 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:42,837 [Listener at 127.0.0.1/12212] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12212
2021-09-21 13:06:42,838 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:42,838 [IPC Server listener on 12212] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12212
2021-09-21 13:06:42,838 [Listener at 127.0.0.1/12212] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:42,838 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:42,838 [Listener at 127.0.0.1/12212] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:42,839 [Listener at 127.0.0.1/12212] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:42,839 [Listener at 127.0.0.1/12212] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 1
2021-09-21 13:06:42,839 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:42,839 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:1)
2021-09-21 13:06:42,839 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 1
2021-09-21 13:06:42,839 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2021-09-21 13:06:42,839 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:42,840 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 1
2021-09-21 13:06:42,840 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:42,841 [Listener at 127.0.0.1/12212] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:42,842 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 12216 now
2021-09-21 13:06:42,843 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:42,843 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:42,843 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 3 -> 2
2021-09-21 13:06:42,848 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 12216 successfully
2021-09-21 13:06:42,849 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@15177759] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:42,849 [Listener at 127.0.0.1/12212] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:42,849 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:42,849 [Listener at 127.0.0.1/12212] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:42,850 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@2e11593d{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:42,850 [Listener at 127.0.0.1/12212] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2375db1d{HTTP/1.1, (http/1.1)}{0.0.0.0:12214}
2021-09-21 13:06:42,850 [Listener at 127.0.0.1/12212] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:42,851 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@41f10252{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:42,851 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@779dfcb5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:42,853 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:42,853 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:42,853 [Listener at 127.0.0.1/12212] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12200
2021-09-21 13:06:42,855 [IPC Server listener on 12200] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12200
2021-09-21 13:06:42,855 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-09-21 13:06:42,856 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 3 -> 2
2021-09-21 13:06:42,857 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:42,857 [Listener at 127.0.0.1/12212] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:42,858 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:42,858 [Listener at 127.0.0.1/12212] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:42,858 [Listener at 127.0.0.1/12212] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:42,858 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:42,858 [omNode-1@group-523986131536->omNode-3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:42,859 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2021-09-21 13:06:42,858 [Listener at 127.0.0.1/12212] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:42,860 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:42,860 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 3 -> 2
2021-09-21 13:06:42,862 [Listener at 127.0.0.1/12212] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 2
2021-09-21 13:06:42,862 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:2)
2021-09-21 13:06:42,862 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 2
2021-09-21 13:06:42,862 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
2021-09-21 13:06:42,862 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:42,863 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 2
2021-09-21 13:06:42,863 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:42,864 [Listener at 127.0.0.1/12212] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:42,864 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 12204 now
2021-09-21 13:06:42,868 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 12204 successfully
2021-09-21 13:06:42,868 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@6fcef6f7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:42,868 [Listener at 127.0.0.1/12212] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:42,869 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:42,869 [Listener at 127.0.0.1/12212] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:42,870 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5591d70f{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:42,870 [Listener at 127.0.0.1/12212] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@117712ca{HTTP/1.1, (http/1.1)}{0.0.0.0:12202}
2021-09-21 13:06:42,870 [Listener at 127.0.0.1/12212] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:42,870 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@f4144df{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:42,870 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1e27aea5{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:42,873 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:42,873 [Listener at 127.0.0.1/12212] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:42,873 [Listener at 127.0.0.1/12212] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12206
2021-09-21 13:06:42,874 [IPC Server listener on 12206] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12206
2021-09-21 13:06:42,875 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:42,875 [Listener at 127.0.0.1/12212] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:42,876 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:42,876 [Listener at 127.0.0.1/12212] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:42,876 [Listener at 127.0.0.1/12212] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:42,876 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:42,876 [Listener at 127.0.0.1/12212] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 1
2021-09-21 13:06:42,877 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:1)
2021-09-21 13:06:42,877 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 1
2021-09-21 13:06:42,877 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 1
2021-09-21 13:06:42,877 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:42,877 [Listener at 127.0.0.1/12212] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 1
2021-09-21 13:06:42,877 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:42,878 [Listener at 127.0.0.1/12212] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:42,879 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 12210 now
2021-09-21 13:06:42,880 [Listener at 127.0.0.1/12212] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 12210 successfully
2021-09-21 13:06:42,880 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@7d9602fb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:42,881 [Listener at 127.0.0.1/12212] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:42,881 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:42,881 [Listener at 127.0.0.1/12212] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:42,882 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3b995382{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:42,882 [Listener at 127.0.0.1/12212] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@75342a86{HTTP/1.1, (http/1.1)}{0.0.0.0:12208}
2021-09-21 13:06:42,882 [Listener at 127.0.0.1/12212] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:42,883 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@704f00db{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:42,883 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5f124768{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager a4673625-8ace-464c-8a28-3856a1bccf01
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:42,884 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:42,885 [Listener at 127.0.0.1/12212] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:42,885 [Listener at 127.0.0.1/12212] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 38189
2021-09-21 13:06:42,885 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:42,885 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:42,918 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:42,918 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:42,919 [Listener at 127.0.0.1/12212] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:42,919 [Listener at 127.0.0.1/12212] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34423
2021-09-21 13:06:42,921 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:42,921 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:42,922 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:42,922 [Listener at 127.0.0.1/12212] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:42,922 [Listener at 127.0.0.1/12212] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44777
2021-09-21 13:06:42,923 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:42,924 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:42,924 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:42,924 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@25920a40{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:42,926 [Listener at 127.0.0.1/12212] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4bad39eb{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:42,926 [Listener at 127.0.0.1/12212] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:42,927 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@2ad688fa{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:42,927 [Listener at 127.0.0.1/12212] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@24451e39{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:42,927 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:42,927 [Listener at 127.0.0.1/12212] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:42,928 [Listener at 127.0.0.1/12212] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:42,928 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:42,928 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:42,928 [Listener at 127.0.0.1/12212] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:42,929 [Listener at 127.0.0.1/12212] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:42,929 [Listener at 127.0.0.1/12212] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:42,930 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:42,930 [Listener at 127.0.0.1/12212] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:42,930 [Listener at 127.0.0.1/12212] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:42,951 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:42,953 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:42,953 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:42,954 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:42,954 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:42,993 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 38 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:42,994 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:42,995 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,070 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:43,070 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:43,072 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:43,073 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:43,073 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:43,073 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:43,073 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:43,073 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:43,075 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:43,075 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:43,075 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:43,075 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:43,076 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:43,076 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:43,076 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:43,077 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:43,077 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:43,077 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:43,077 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:43,078 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:43,078 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:43,078 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:43,078 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:43,078 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-21 13:06:43,078 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:43,079 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:43,084 [Listener at 0.0.0.0/41449] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:43,084 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:43,089 [Listener at 0.0.0.0/45617] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:43,092 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:43,109 [Listener at 0.0.0.0/34441] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:43,109 [Listener at 0.0.0.0/34441] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:43,109 [Listener at 0.0.0.0/34441] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:43,109 [Listener at 0.0.0.0/34441] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:43,110 [Listener at 0.0.0.0/34441] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:34441
2021-09-21 13:06:43,111 [Listener at 0.0.0.0/34441] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:43,111 [Listener at 0.0.0.0/34441] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:43,111 [Listener at 0.0.0.0/34441] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:43,120 [Listener at 0.0.0.0/34441] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:43,120 [Listener at 0.0.0.0/34441] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:43,144 [Listener at 0.0.0.0/34441] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:34441
2021-09-21 13:06:43,148 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:43,149 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:43,157 [Listener at 0.0.0.0/34441] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:45617
2021-09-21 13:06:43,157 [Listener at 0.0.0.0/34441] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:45617
2021-09-21 13:06:43,157 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:43,157 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:43,161 [Listener at 0.0.0.0/34441] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:41449
2021-09-21 13:06:43,161 [Listener at 0.0.0.0/34441] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:41449
2021-09-21 13:06:43,163 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:43,163 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:43,171 [Listener at 0.0.0.0/34441] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:43,171 [Listener at 0.0.0.0/34441] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:43,172 [Listener at 0.0.0.0/34441] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:43,172 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@61620346] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:43,172 [Listener at 0.0.0.0/34441] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:43,173 [Listener at 0.0.0.0/34441] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:43,174 [Listener at 0.0.0.0/34441] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:43,174 [Listener at 0.0.0.0/34441] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:43,174 [Listener at 0.0.0.0/34441] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:43,174 [Listener at 0.0.0.0/34441] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 44299
2021-09-21 13:06:43,174 [Listener at 0.0.0.0/34441] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:43,176 [Listener at 0.0.0.0/34441] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:43,176 [Listener at 0.0.0.0/34441] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:43,177 [Listener at 0.0.0.0/34441] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:43,177 [Listener at 0.0.0.0/34441] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@67b9adda{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:43,177 [Listener at 0.0.0.0/34441] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5615e1ee{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:43,180 [Listener at 0.0.0.0/34441] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@1ec80f89{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:43,189 [Listener at 0.0.0.0/34441] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@290c391f{HTTP/1.1, (http/1.1)}{0.0.0.0:44299}
2021-09-21 13:06:43,189 [Listener at 0.0.0.0/34441] INFO  server.Server (Server.java:doStart(415)) - Started @31117ms
2021-09-21 13:06:43,189 [Listener at 0.0.0.0/34441] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:43,190 [Listener at 0.0.0.0/34441] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:44299
2021-09-21 13:06:43,191 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:43,191 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12732 and Ratis port: 12736
2021-09-21 13:06:43,191 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12734
2021-09-21 13:06:43,191 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12735
2021-09-21 13:06:43,191 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12732
2021-09-21 13:06:43,191 [Listener at 0.0.0.0/34441] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/om;cid=4cb0f81b-336f-45f6-997f-ff83e079a72e;layoutVersion=0
2021-09-21 13:06:43,195 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:43,196 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12732 and Ratis port: 12736
2021-09-21 13:06:43,196 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12734
2021-09-21 13:06:43,196 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12735
2021-09-21 13:06:43,196 [Listener at 0.0.0.0/34441] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12732
2021-09-21 13:06:43,196 [Listener at 0.0.0.0/34441] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,196 [Listener at 0.0.0.0/34441] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:43,237 [Listener at 0.0.0.0/34441] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 40 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:43,237 [Listener at 0.0.0.0/34441] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:43,237 [Listener at 0.0.0.0/34441] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,242 [Listener at 0.0.0.0/34441] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,242 [Listener at 0.0.0.0/34441] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:43,247 [Listener at 0.0.0.0/34441] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:43,359 [Listener at 0.0.0.0/34441] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:43,359 [Listener at 0.0.0.0/34441] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:43,359 [Listener at 0.0.0.0/34441] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:43,359 [Listener at 0.0.0.0/34441] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:43,361 [Listener at 0.0.0.0/34441] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:43,361 [Listener at 0.0.0.0/34441] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12736, localhost:12748, localhost:12742
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12736 (custom)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12736 (custom)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12736 (custom)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:43,362 [Listener at 0.0.0.0/34441] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:43,363 [Listener at 0.0.0.0/34441] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:43,363 [Listener at 0.0.0.0/34441] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:43,364 [Listener at 0.0.0.0/34441] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:43,364 [Listener at 0.0.0.0/34441] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:43,364 [Listener at 0.0.0.0/34441] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:43,364 [Listener at 0.0.0.0/34441] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis] (custom)
2021-09-21 13:06:43,364 [Listener at 0.0.0.0/34441] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@78fa6cb[Not completed]
2021-09-21 13:06:43,364 [Listener at 0.0.0.0/34441] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12736
2021-09-21 13:06:43,365 [Listener at 0.0.0.0/34441] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis] (custom)
2021-09-21 13:06:43,366 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:43,367 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:43,367 [pool-524-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:43,367 [Socket Reader #1 for port 12732] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12732
2021-09-21 13:06:43,377 [pool-524-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:43,378 [pool-524-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:43,378 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:43,378 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:43,378 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:43,378 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:43,379 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:43,379 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:43,379 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:43,379 [pool-524-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:43,379 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:43,379 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:43,380 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:43,380 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:43,380 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:43,380 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:43,380 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:43,380 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:43,381 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:43,382 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:43,382 [pool-524-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:43,392 [Listener at 127.0.0.1/12732] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:43,392 [Listener at 127.0.0.1/12732] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:43,405 [Listener at 127.0.0.1/12732] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12732
2021-09-21 13:06:43,405 [Listener at 127.0.0.1/12732] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 12736
2021-09-21 13:06:43,405 [Listener at 127.0.0.1/12732] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null
2021-09-21 13:06:43,405 [Listener at 127.0.0.1/12732] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:43,406 [Listener at 127.0.0.1/12732] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:43,406 [Listener at 127.0.0.1/12732] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:43,408 [Listener at 127.0.0.1/12732] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:43,409 [Listener at 127.0.0.1/12732] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 12736
2021-09-21 13:06:43,409 [Listener at 127.0.0.1/12732] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:43,409 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@2516ea2a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:43,410 [Listener at 127.0.0.1/12732] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12734
2021-09-21 13:06:43,411 [Listener at 127.0.0.1/12732] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:43,411 [Listener at 127.0.0.1/12732] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:43,412 [Listener at 127.0.0.1/12732] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:43,413 [Listener at 127.0.0.1/12732] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:43,413 [Listener at 127.0.0.1/12732] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:43,413 [Listener at 127.0.0.1/12732] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:43,413 [Listener at 127.0.0.1/12732] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:43,413 [Listener at 127.0.0.1/12732] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12734
2021-09-21 13:06:43,414 [Listener at 127.0.0.1/12732] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:43,415 [Listener at 127.0.0.1/12732] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:43,415 [Listener at 127.0.0.1/12732] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:43,415 [Listener at 127.0.0.1/12732] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:43,416 [Listener at 127.0.0.1/12732] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@1be35ef3{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:43,416 [Listener at 127.0.0.1/12732] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@26b84534{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:43,418 [Listener at 127.0.0.1/12732] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@4224af13{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:43,421 [Listener at 127.0.0.1/12732] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3db01c79{HTTP/1.1, (http/1.1)}{0.0.0.0:12734}
2021-09-21 13:06:43,421 [Listener at 127.0.0.1/12732] INFO  server.Server (Server.java:doStart(415)) - Started @31349ms
2021-09-21 13:06:43,421 [Listener at 127.0.0.1/12732] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:43,421 [Listener at 127.0.0.1/12732] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12734
2021-09-21 13:06:43,422 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:43,429 [IPC Server listener on 12732] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12732: starting
2021-09-21 13:06:43,430 [Listener at 127.0.0.1/12732] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:43,430 [Listener at 127.0.0.1/12732] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:12732
2021-09-21 13:06:43,431 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:43,431 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12738 and Ratis port: 12742
2021-09-21 13:06:43,431 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12740
2021-09-21 13:06:43,431 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12741
2021-09-21 13:06:43,431 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12738
2021-09-21 13:06:43,431 [Listener at 127.0.0.1/12732] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,433 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2983c017] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/om;cid=4cb0f81b-336f-45f6-997f-ff83e079a72e;layoutVersion=0
2021-09-21 13:06:43,436 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:43,436 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12738 and Ratis port: 12742
2021-09-21 13:06:43,436 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12740
2021-09-21 13:06:43,436 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12741
2021-09-21 13:06:43,436 [Listener at 127.0.0.1/12732] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12738
2021-09-21 13:06:43,436 [Listener at 127.0.0.1/12732] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,437 [Listener at 127.0.0.1/12732] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:43,482 [Listener at 127.0.0.1/12732] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 45 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:43,482 [Listener at 127.0.0.1/12732] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:43,482 [Listener at 127.0.0.1/12732] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,491 [Listener at 127.0.0.1/12732] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,492 [Listener at 127.0.0.1/12732] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:43,492 [Listener at 127.0.0.1/12732] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:43,605 [Listener at 127.0.0.1/12732] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:43,605 [Listener at 127.0.0.1/12732] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:43,605 [Listener at 127.0.0.1/12732] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:43,606 [Listener at 127.0.0.1/12732] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:43,607 [Listener at 127.0.0.1/12732] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:43,607 [Listener at 127.0.0.1/12732] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:43,607 [Listener at 127.0.0.1/12732] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:43,608 [Listener at 127.0.0.1/12732] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12742, localhost:12748, localhost:12736
2021-09-21 13:06:43,608 [Listener at 127.0.0.1/12732] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:43,609 [Listener at 127.0.0.1/12732] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12742 (custom)
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12742 (custom)
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12742 (custom)
2021-09-21 13:06:43,610 [Listener at 127.0.0.1/12732] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:43,611 [Listener at 127.0.0.1/12732] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:43,611 [Listener at 127.0.0.1/12732] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:43,611 [Listener at 127.0.0.1/12732] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:43,612 [Listener at 127.0.0.1/12732] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:43,612 [Listener at 127.0.0.1/12732] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:43,612 [Listener at 127.0.0.1/12732] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:43,612 [Listener at 127.0.0.1/12732] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis] (custom)
2021-09-21 13:06:43,612 [Listener at 127.0.0.1/12732] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@45b9794b[Not completed]
2021-09-21 13:06:43,613 [Listener at 127.0.0.1/12732] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12742
2021-09-21 13:06:43,613 [Listener at 127.0.0.1/12732] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:43,614 [pool-545-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:43,615 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis] (custom)
2021-09-21 13:06:43,615 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:43,615 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:43,615 [pool-545-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:43,615 [Socket Reader #1 for port 12738] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12738
2021-09-21 13:06:43,616 [pool-545-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:43,625 [pool-545-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:43,625 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:43,625 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:43,625 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:43,625 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:43,625 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:43,626 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:43,627 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:43,627 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:43,627 [pool-545-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:43,627 [pool-545-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:43,629 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:43,629 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:43,629 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:43,629 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:43,630 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:43,630 [pool-545-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:43,633 [Listener at 127.0.0.1/12738] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:43,633 [Listener at 127.0.0.1/12738] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:43,646 [Listener at 127.0.0.1/12738] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12738
2021-09-21 13:06:43,646 [Listener at 127.0.0.1/12738] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 12742
2021-09-21 13:06:43,646 [Listener at 127.0.0.1/12738] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null
2021-09-21 13:06:43,647 [Listener at 127.0.0.1/12738] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:43,647 [Listener at 127.0.0.1/12738] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:43,649 [Listener at 127.0.0.1/12738] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:43,650 [Listener at 127.0.0.1/12738] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:43,651 [Listener at 127.0.0.1/12738] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 12742
2021-09-21 13:06:43,651 [Listener at 127.0.0.1/12738] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:43,652 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@4887b205] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:43,653 [Listener at 127.0.0.1/12738] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12740
2021-09-21 13:06:43,653 [Listener at 127.0.0.1/12738] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:43,654 [Listener at 127.0.0.1/12738] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:43,654 [Listener at 127.0.0.1/12738] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:43,655 [Listener at 127.0.0.1/12738] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:43,655 [Listener at 127.0.0.1/12738] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:43,655 [Listener at 127.0.0.1/12738] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:43,655 [Listener at 127.0.0.1/12738] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:43,656 [Listener at 127.0.0.1/12738] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12740
2021-09-21 13:06:43,656 [Listener at 127.0.0.1/12738] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:43,657 [Listener at 127.0.0.1/12738] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:43,658 [Listener at 127.0.0.1/12738] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:43,658 [Listener at 127.0.0.1/12738] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:43,658 [Listener at 127.0.0.1/12738] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@6bc0a49f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:43,659 [Listener at 127.0.0.1/12738] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@a1004da{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:43,661 [Listener at 127.0.0.1/12738] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@5ce9c32c{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:43,661 [Listener at 127.0.0.1/12738] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@42512fb1{HTTP/1.1, (http/1.1)}{0.0.0.0:12740}
2021-09-21 13:06:43,662 [Listener at 127.0.0.1/12738] INFO  server.Server (Server.java:doStart(415)) - Started @31590ms
2021-09-21 13:06:43,662 [Listener at 127.0.0.1/12738] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:43,662 [Listener at 127.0.0.1/12738] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12740
2021-09-21 13:06:43,662 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:43,662 [IPC Server listener on 12738] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12738: starting
2021-09-21 13:06:43,669 [Listener at 127.0.0.1/12738] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:43,670 [Listener at 127.0.0.1/12738] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:12738
2021-09-21 13:06:43,670 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@5a633263] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:43,670 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:43,670 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12744 and Ratis port: 12748
2021-09-21 13:06:43,670 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12746
2021-09-21 13:06:43,670 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12747
2021-09-21 13:06:43,670 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12744
2021-09-21 13:06:43,671 [Listener at 127.0.0.1/12738] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/om;cid=4cb0f81b-336f-45f6-997f-ff83e079a72e;layoutVersion=0
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12744 and Ratis port: 12748
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12746
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12747
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12744
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,677 [Listener at 127.0.0.1/12738] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:43,710 [Listener at 127.0.0.1/12738] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 32 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:43,710 [Listener at 127.0.0.1/12738] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:43,710 [Listener at 127.0.0.1/12738] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,714 [Listener at 127.0.0.1/12738] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:43,714 [Listener at 127.0.0.1/12738] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:43,714 [Listener at 127.0.0.1/12738] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:43,827 [Listener at 127.0.0.1/12738] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:43,827 [Listener at 127.0.0.1/12738] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:43,827 [Listener at 127.0.0.1/12738] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:43,827 [Listener at 127.0.0.1/12738] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:43,830 [Listener at 127.0.0.1/12738] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:43,830 [Listener at 127.0.0.1/12738] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:43,831 [Listener at 127.0.0.1/12738] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:43,833 [Listener at 127.0.0.1/12738] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12748, localhost:12736, localhost:12742
2021-09-21 13:06:43,833 [Listener at 127.0.0.1/12738] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12748 (custom)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12748 (custom)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12748 (custom)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:43,834 [Listener at 127.0.0.1/12738] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:43,835 [Listener at 127.0.0.1/12738] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:43,835 [Listener at 127.0.0.1/12738] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:43,836 [Listener at 127.0.0.1/12738] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:43,836 [Listener at 127.0.0.1/12738] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis] (custom)
2021-09-21 13:06:43,836 [Listener at 127.0.0.1/12738] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@42db6f51[Not completed]
2021-09-21 13:06:43,836 [Listener at 127.0.0.1/12738] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12748
2021-09-21 13:06:43,837 [Listener at 127.0.0.1/12738] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis] (custom)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:43,838 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:43,839 [pool-566-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:43,839 [Socket Reader #1 for port 12744] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12744
2021-09-21 13:06:43,841 [pool-566-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:43,843 [pool-566-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:43,843 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:43,843 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:43,843 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:43,843 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:43,843 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:43,844 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:43,845 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:43,845 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:43,845 [pool-566-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:43,845 [pool-566-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:43,846 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:43,846 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:43,846 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:43,846 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:43,846 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:43,846 [pool-566-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:43,862 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:43,862 [Listener at 127.0.0.1/12744] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:43,876 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12744
2021-09-21 13:06:43,876 [Listener at 127.0.0.1/12744] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 12748
2021-09-21 13:06:43,877 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null
2021-09-21 13:06:43,877 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:43,877 [Listener at 127.0.0.1/12744] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:43,877 [Listener at 127.0.0.1/12744] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:43,878 [Listener at 127.0.0.1/12744] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:43,885 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 12748
2021-09-21 13:06:43,885 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:43,885 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@210ae6cd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:43,887 [Listener at 127.0.0.1/12744] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12746
2021-09-21 13:06:43,887 [Listener at 127.0.0.1/12744] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:43,887 [Listener at 127.0.0.1/12744] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:43,889 [Listener at 127.0.0.1/12744] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:43,890 [Listener at 127.0.0.1/12744] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:43,890 [Listener at 127.0.0.1/12744] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:43,890 [Listener at 127.0.0.1/12744] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:43,890 [Listener at 127.0.0.1/12744] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:43,891 [Listener at 127.0.0.1/12744] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12746
2021-09-21 13:06:43,891 [Listener at 127.0.0.1/12744] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:43,892 [Listener at 127.0.0.1/12744] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:43,893 [Listener at 127.0.0.1/12744] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:43,893 [Listener at 127.0.0.1/12744] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:43,893 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@59960bef{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:43,894 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@7ad086a3{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:43,896 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@415c1a1b{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:43,897 [Listener at 127.0.0.1/12744] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@40d13767{HTTP/1.1, (http/1.1)}{0.0.0.0:12746}
2021-09-21 13:06:43,897 [Listener at 127.0.0.1/12744] INFO  server.Server (Server.java:doStart(415)) - Started @31825ms
2021-09-21 13:06:43,897 [Listener at 127.0.0.1/12744] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:43,898 [Listener at 127.0.0.1/12744] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12746
2021-09-21 13:06:43,898 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:43,901 [IPC Server listener on 12744] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12744: starting
2021-09-21 13:06:43,910 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:43,910 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:12744
2021-09-21 13:06:43,910 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@13355ae4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:43,910 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:43,910 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:43,911 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:43,917 [Listener at 127.0.0.1/12744] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:12738 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:43,919 [Listener at 127.0.0.1/12744] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:12744 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:44,550 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1144239229ns, electionTimeout:1143ms
2021-09-21 13:06:44,552 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:44,552 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:44,552 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:44,552 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection12
2021-09-21 13:06:44,556 [omNode-1@group-523986131536-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null
2021-09-21 13:06:44,568 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:44,568 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:44,568 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:44,568 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:44,568 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:44,568 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:44,572 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null
2021-09-21 13:06:44,574 [omNode-1@group-523986131536-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:44,574 [omNode-1@group-523986131536-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-2#0:OK-t1
2021-09-21 13:06:44,574 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:44,575 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:44,575 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:44,575 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:44,575 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:44,575 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:44,574 [omNode-1@group-523986131536-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection12 ELECTION round 0: result PASSED
2021-09-21 13:06:44,584 [omNode-1@group-523986131536-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection12
2021-09-21 13:06:44,584 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:44,584 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1206ms
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:44,585 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12748|priority:0, omNode-1|rpc:localhost:12736|priority:0, omNode-2|rpc:localhost:12742|priority:0], old=null
2021-09-21 13:06:44,585 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:44,586 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:44,586 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:44,586 [omNode-1@group-523986131536-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:44,586 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:44,586 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:44,588 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:44,588 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:44,588 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:44,588 [omNode-1@group-523986131536-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:44,588 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:44,588 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:44,589 [omNode-1@group-523986131536-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:44,589 [omNode-1@group-523986131536-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:44,601 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:44,601 [omNode-1@group-523986131536-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12748|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12736|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12742|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:44,604 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12748"
, id: "omNode-1"
address: "localhost:12736"
, id: "omNode-2"
address: "localhost:12742"
]
2021-09-21 13:06:44,612 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 987ms
2021-09-21 13:06:44,612 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 769ms
2021-09-21 13:06:44,614 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12748|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12736|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12742|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:44,615 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:44,621 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12748|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12736|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12742|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:44,622 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:44,631 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:44,631 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-4cb0f81b-336f-45f6-997f-ff83e079a72e/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:44,633 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12748"
, id: "omNode-1"
address: "localhost:12736"
, id: "omNode-2"
address: "localhost:12742"
]
2021-09-21 13:06:44,634 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12748"
, id: "omNode-1"
address: "localhost:12736"
, id: "omNode-2"
address: "localhost:12742"
]
2021-09-21 13:06:45,936 [Listener at 127.0.0.1/12744] INFO  rpc.RpcClient (RpcClient.java:createVolume(342)) - Creating Volume: volume32539, with user14335 as owner and space quota set to -1 bytes, counts quota set to -1
2021-09-21 13:06:45,961 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume32539 for user:user14335
2021-09-21 13:06:45,962 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume32539 for user:user14335
2021-09-21 13:06:45,970 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:volume32539 for user:user14335
13:06:45.997 [OM StateMachine ApplyTransaction Thread - 0] ERROR OMAudit - user=runner | ip=127.0.0.1 | op=DELETE_VOLUME {volume=volume32539} | ret=FAILURE
org.apache.hadoop.ozone.om.exceptions.OMException: Volume volume32539 is not found
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2047) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2020) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.request.OMClientRequest.checkAcls(OMClientRequest.java:194) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.validateAndUpdateCache(OMVolumeDeleteRequest.java:93) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
2021-09-21 13:06:45,998 [OM StateMachine ApplyTransaction Thread - 0] ERROR volume.OMVolumeDeleteRequest (OMVolumeDeleteRequest.java:validateAndUpdateCache(160)) - Volume deletion failed for user:null volume:volume32539
VOLUME_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Volume volume32539 is not found
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2047)
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2020)
	at org.apache.hadoop.ozone.om.request.OMClientRequest.checkAcls(OMClientRequest.java:194)
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.validateAndUpdateCache(OMVolumeDeleteRequest.java:93)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:46,000 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:46,000 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:46,000 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:46,000 [Listener at 127.0.0.1/12744] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12744
2021-09-21 13:06:46,013 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:46,013 [Listener at 127.0.0.1/12744] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:46,013 [IPC Server listener on 12744] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12744
2021-09-21 13:06:46,013 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:46,013 [Listener at 127.0.0.1/12744] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:46,013 [Listener at 127.0.0.1/12744] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:46,013 [Listener at 127.0.0.1/12744] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 4
2021-09-21 13:06:46,013 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:46,014 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:4)
2021-09-21 13:06:46,014 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 4
2021-09-21 13:06:46,014 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 4
2021-09-21 13:06:46,014 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
13:06:46.014 [OM StateMachine ApplyTransaction Thread - 0] ERROR OMAudit - user=runner | ip=127.0.0.1 | op=DELETE_VOLUME {volume=volume32539} | ret=FAILURE
org.apache.hadoop.ozone.om.exceptions.OMException: Volume volume32539 is not found
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2047) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2020) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.request.OMClientRequest.checkAcls(OMClientRequest.java:194) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.validateAndUpdateCache(OMVolumeDeleteRequest.java:93) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312) ~[ozone-manager-1.2.0-SNAPSHOT.jar:?]
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
2021-09-21 13:06:46,015 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 4
2021-09-21 13:06:46,015 [OM StateMachine ApplyTransaction Thread - 0] ERROR volume.OMVolumeDeleteRequest (OMVolumeDeleteRequest.java:validateAndUpdateCache(160)) - Volume deletion failed for user:null volume:volume32539
VOLUME_NOT_FOUND org.apache.hadoop.ozone.om.exceptions.OMException: Volume volume32539 is not found
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2047)
	at org.apache.hadoop.ozone.om.OzoneManager.getVolumeOwner(OzoneManager.java:2020)
	at org.apache.hadoop.ozone.om.request.OMClientRequest.checkAcls(OMClientRequest.java:194)
	at org.apache.hadoop.ozone.om.request.volume.OMVolumeDeleteRequest.validateAndUpdateCache(OMVolumeDeleteRequest.java:93)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerRequestHandler.handleWriteRequest(OzoneManagerRequestHandler.java:246)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.runCommand(OzoneManagerStateMachine.java:502)
	at org.apache.hadoop.ozone.om.ratis.OzoneManagerStateMachine.lambda$2(OzoneManagerStateMachine.java:312)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-09-21 13:06:46,022 [Listener at 127.0.0.1/12744] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:46,024 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 12748 now
2021-09-21 13:06:46,027 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#23-t1,previous=(t:1, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:46,027 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 12748 successfully
2021-09-21 13:06:46,027 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@210ae6cd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:46,028 [Listener at 127.0.0.1/12744] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:46,028 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:46,028 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:46,028 [Listener at 127.0.0.1/12744] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:46,028 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-3: nextIndex: updateUnconditionally 7 -> 6
2021-09-21 13:06:46,029 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@415c1a1b{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:46,029 [Listener at 127.0.0.1/12744] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@40d13767{HTTP/1.1, (http/1.1)}{0.0.0.0:12746}
2021-09-21 13:06:46,029 [Listener at 127.0.0.1/12744] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:46,029 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@7ad086a3{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:46,029 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@59960bef{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:46,031 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:46,031 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:46,031 [Listener at 127.0.0.1/12744] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12732
2021-09-21 13:06:46,032 [IPC Server listener on 12732] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12732
2021-09-21 13:06:46,032 [Listener at 127.0.0.1/12744] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:46,033 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:46,033 [Listener at 127.0.0.1/12744] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:46,033 [Listener at 127.0.0.1/12744] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:46,033 [Listener at 127.0.0.1/12744] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:46,033 [omNode-1@group-523986131536->omNode-3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:46,033 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:46,032 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:46,035 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#17-t1,previous=(t:1, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2021-09-21 13:06:46,035 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:6)
2021-09-21 13:06:46,035 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 6
2021-09-21 13:06:46,035 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-09-21 13:06:46,035 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:46,036 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:46,036 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 7 -> 6
2021-09-21 13:06:46,036 [Listener at 127.0.0.1/12744] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 6
2021-09-21 13:06:46,036 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 6
2021-09-21 13:06:46,037 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:46,038 [Listener at 127.0.0.1/12744] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:46,040 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 12736 now
2021-09-21 13:06:46,041 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 12736 successfully
2021-09-21 13:06:46,042 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@2516ea2a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:46,042 [Listener at 127.0.0.1/12744] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:46,042 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:46,042 [Listener at 127.0.0.1/12744] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:46,043 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@4224af13{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:46,044 [Listener at 127.0.0.1/12744] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3db01c79{HTTP/1.1, (http/1.1)}{0.0.0.0:12734}
2021-09-21 13:06:46,044 [Listener at 127.0.0.1/12744] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:46,044 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@26b84534{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:46,044 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@1be35ef3{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:46,046 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:46,046 [Listener at 127.0.0.1/12744] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:46,046 [Listener at 127.0.0.1/12744] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12738
2021-09-21 13:06:46,046 [IPC Server listener on 12738] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12738
2021-09-21 13:06:46,048 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:46,048 [Listener at 127.0.0.1/12744] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:46,049 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:46,049 [Listener at 127.0.0.1/12744] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:46,049 [Listener at 127.0.0.1/12744] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:46,049 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:46,050 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:5)
2021-09-21 13:06:46,050 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 5
2021-09-21 13:06:46,050 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 5
2021-09-21 13:06:46,050 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:46,050 [Listener at 127.0.0.1/12744] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 5
2021-09-21 13:06:46,050 [Listener at 127.0.0.1/12744] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 5
2021-09-21 13:06:46,050 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:46,051 [Listener at 127.0.0.1/12744] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:46,052 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 12742 now
2021-09-21 13:06:46,053 [Listener at 127.0.0.1/12744] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 12742 successfully
2021-09-21 13:06:46,053 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@4887b205] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:46,053 [Listener at 127.0.0.1/12744] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:46,053 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:46,053 [Listener at 127.0.0.1/12744] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:46,054 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@5ce9c32c{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:46,055 [Listener at 127.0.0.1/12744] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@42512fb1{HTTP/1.1, (http/1.1)}{0.0.0.0:12740}
2021-09-21 13:06:46,055 [Listener at 127.0.0.1/12744] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:46,055 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@a1004da{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:46,055 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@6bc0a49f{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager b984c62b-0b9d-4483-8bb6-cb937607960f
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:46,057 [Listener at 127.0.0.1/12744] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 41449
2021-09-21 13:06:46,058 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:46,059 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:46,086 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:46,086 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:46,086 [Listener at 127.0.0.1/12744] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:46,087 [Listener at 127.0.0.1/12744] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 45617
2021-09-21 13:06:46,087 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:46,093 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:46,093 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:46,093 [Listener at 127.0.0.1/12744] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:46,093 [Listener at 127.0.0.1/12744] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 34441
2021-09-21 13:06:46,094 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:46,095 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@1ec80f89{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:46,094 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:46,095 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:46,096 [Listener at 127.0.0.1/12744] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@290c391f{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:46,096 [Listener at 127.0.0.1/12744] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:46,096 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5615e1ee{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:46,096 [Listener at 127.0.0.1/12744] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@67b9adda{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:46,097 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:46,097 [Listener at 127.0.0.1/12744] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:46,097 [Listener at 127.0.0.1/12744] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:46,097 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:46,098 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:46,098 [Listener at 127.0.0.1/12744] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:46,098 [Listener at 127.0.0.1/12744] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:46,099 [Listener at 127.0.0.1/12744] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:46,099 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:46,099 [Listener at 127.0.0.1/12744] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:46,100 [Listener at 127.0.0.1/12744] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
2021-09-21 13:06:46,121 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,123 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-09-21 13:06:46,123 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-09-21 13:06:46,123 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,124 [Time-limited test] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
2021-09-21 13:06:46,218 [Time-limited test] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 94 ms to scan 7 urls, producing 119 keys and 275 values 
2021-09-21 13:06:46,219 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,220 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,295 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-09-21 13:06:46,296 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-09-21 13:06:46,298 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-09-21 13:06:46,298 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-09-21 13:06:46,298 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-09-21 13:06:46,298 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-09-21 13:06:46,298 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:46,299 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-09-21 13:06:46,300 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(144)) - Entering startup safe mode.
2021-09-21 13:06:46,300 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:46,300 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-09-21 13:06:46,300 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-09-21 13:06:46,300 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-09-21 13:06:46,300 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-09-21 13:06:46,301 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-09-21 13:06:46,301 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-09-21 13:06:46,302 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-09-21 13:06:46,302 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(319)) - Starting Replication Monitor Thread.
2021-09-21 13:06:46,302 [Time-limited test] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(248)) - SCM exiting safe mode.
2021-09-21 13:06:46,302 [Time-limited test] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:46,302 [Time-limited test] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:46,302 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(264)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-09-21 13:06:46,302 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1743)) - Service ReplicationManager transitions to RUNNING.
2021-09-21 13:06:46,303 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:46,303 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:46,305 [Listener at 0.0.0.0/39641] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:46,313 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:processAll(371)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-09-21 13:06:46,313 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:46,313 [Listener at 0.0.0.0/42757] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:46,314 [Socket Reader #1 for port 0] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 0
2021-09-21 13:06:46,330 [Listener at 0.0.0.0/44173] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-09-21 13:06:46,331 [Listener at 0.0.0.0/44173] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(387)) - 
Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                                                Value
Threshold                                          0.1
Max Datanodes to Involve per Iteration(ratio)      0.5
Max Size to Move per Iteration                     10737418240B

2021-09-21 13:06:46,331 [Listener at 0.0.0.0/44173] WARN  events.EventQueue (EventQueue.java:fireEvent(194)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-09-21 13:06:46,331 [Listener at 0.0.0.0/44173] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(205)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-09-21 13:06:46,331 [Listener at 0.0.0.0/44173] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1279)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:44173
2021-09-21 13:06:46,332 [Listener at 0.0.0.0/44173] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-09-21 13:06:46,333 [Listener at 0.0.0.0/44173] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-09-21 13:06:46,333 [Listener at 0.0.0.0/44173] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-09-21 13:06:46,343 [Listener at 0.0.0.0/44173] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-09-21 13:06:46,343 [Listener at 0.0.0.0/44173] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-09-21 13:06:46,361 [Listener at 0.0.0.0/44173] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(164)) - RPC server for Client  is listening at /0.0.0.0:44173
2021-09-21 13:06:46,362 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:46,362 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:46,376 [Listener at 0.0.0.0/44173] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1294)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:42757
2021-09-21 13:06:46,377 [Listener at 0.0.0.0/44173] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(151)) - RPC server for Block Protocol is listening at /0.0.0.0:42757
2021-09-21 13:06:46,377 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:46,377 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:46,381 [Listener at 0.0.0.0/44173] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1300)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:39641
2021-09-21 13:06:46,381 [Listener at 0.0.0.0/44173] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(181)) - RPC server for DataNodes is listening at /0.0.0.0:39641
2021-09-21 13:06:46,381 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:46,381 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 0: starting
2021-09-21 13:06:46,385 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3efcd418] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:46,385 [Listener at 0.0.0.0/44173] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:0
2021-09-21 13:06:46,385 [Listener at 0.0.0.0/44173] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:46,386 [Listener at 0.0.0.0/44173] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:46,388 [Listener at 0.0.0.0/44173] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:46,389 [Listener at 0.0.0.0/44173] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:46,389 [Listener at 0.0.0.0/44173] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-09-21 13:06:46,389 [Listener at 0.0.0.0/44173] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:46,389 [Listener at 0.0.0.0/44173] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:46,390 [Listener at 0.0.0.0/44173] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 33109
2021-09-21 13:06:46,390 [Listener at 0.0.0.0/44173] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:46,392 [Listener at 0.0.0.0/44173] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:46,392 [Listener at 0.0.0.0/44173] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:46,392 [Listener at 0.0.0.0/44173] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:46,393 [Listener at 0.0.0.0/44173] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@786c355e{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:46,393 [Listener at 0.0.0.0/44173] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@5ace1a78{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:46,395 [Listener at 0.0.0.0/44173] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@71273809{scm,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:46,396 [Listener at 0.0.0.0/44173] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7332ed31{HTTP/1.1, (http/1.1)}{0.0.0.0:33109}
2021-09-21 13:06:46,396 [Listener at 0.0.0.0/44173] INFO  server.Server (Server.java:doStart(415)) - Started @34325ms
2021-09-21 13:06:46,396 [Listener at 0.0.0.0/44173] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:46,397 [Listener at 0.0.0.0/44173] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:33109
2021-09-21 13:06:46,397 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:46,398 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12592 and Ratis port: 12596
2021-09-21 13:06:46,398 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12594
2021-09-21 13:06:46,398 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12595
2021-09-21 13:06:46,399 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12592
2021-09-21 13:06:46,399 [Listener at 0.0.0.0/44173] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/om;cid=17ce996b-9a27-4b7c-9c3c-93106416f336;layoutVersion=0
2021-09-21 13:06:46,404 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:46,404 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12592 and Ratis port: 12596
2021-09-21 13:06:46,404 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12594
2021-09-21 13:06:46,404 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12595
2021-09-21 13:06:46,404 [Listener at 0.0.0.0/44173] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12592
2021-09-21 13:06:46,404 [Listener at 0.0.0.0/44173] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,405 [Listener at 0.0.0.0/44173] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:46,442 [Listener at 0.0.0.0/44173] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 37 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:46,442 [Listener at 0.0.0.0/44173] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:46,442 [Listener at 0.0.0.0/44173] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,449 [Listener at 0.0.0.0/44173] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,449 [Listener at 0.0.0.0/44173] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:46,450 [Listener at 0.0.0.0/44173] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:46,566 [Listener at 0.0.0.0/44173] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:46,566 [Listener at 0.0.0.0/44173] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:46,566 [Listener at 0.0.0.0/44173] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:46,566 [Listener at 0.0.0.0/44173] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:46,568 [Listener at 0.0.0.0/44173] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:46,568 [Listener at 0.0.0.0/44173] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12596, localhost:12608, localhost:12602
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12596 (custom)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12596 (custom)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12596 (custom)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:46,569 [Listener at 0.0.0.0/44173] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:46,570 [Listener at 0.0.0.0/44173] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:46,570 [Listener at 0.0.0.0/44173] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:46,571 [Listener at 0.0.0.0/44173] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:46,571 [Listener at 0.0.0.0/44173] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:46,571 [Listener at 0.0.0.0/44173] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:46,571 [Listener at 0.0.0.0/44173] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis] (custom)
2021-09-21 13:06:46,571 [Listener at 0.0.0.0/44173] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@31b1ceb4[Not completed]
2021-09-21 13:06:46,571 [Listener at 0.0.0.0/44173] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12596
2021-09-21 13:06:46,571 [pool-604-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:46,572 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis] (custom)
2021-09-21 13:06:46,572 [Listener at 0.0.0.0/44173] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:46,573 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:46,573 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:46,573 [pool-604-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:46,573 [Socket Reader #1 for port 12592] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12592
2021-09-21 13:06:46,574 [pool-604-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:46,581 [pool-604-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:46,581 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:46,582 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:46,582 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:46,582 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:46,582 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:46,583 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:46,584 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:46,585 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:46,585 [pool-604-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:46,585 [pool-604-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:46,590 [Listener at 127.0.0.1/12592] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:46,590 [Listener at 127.0.0.1/12592] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:46,591 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:46,591 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:46,591 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:46,591 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:46,591 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:46,592 [pool-604-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:46,604 [Listener at 127.0.0.1/12592] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12592
2021-09-21 13:06:46,604 [Listener at 127.0.0.1/12592] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-1 at port 12596
2021-09-21 13:06:46,604 [Listener at 127.0.0.1/12592] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null
2021-09-21 13:06:46,604 [Listener at 127.0.0.1/12592] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:46,604 [Listener at 127.0.0.1/12592] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:46,604 [Listener at 127.0.0.1/12592] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:46,605 [Listener at 127.0.0.1/12592] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-09-21 13:06:46,606 [Listener at 127.0.0.1/12592] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 12596
2021-09-21 13:06:46,607 [Listener at 127.0.0.1/12592] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:46,607 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@8568d28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-09-21 13:06:46,608 [Listener at 127.0.0.1/12592] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12594
2021-09-21 13:06:46,608 [Listener at 127.0.0.1/12592] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:46,609 [Listener at 127.0.0.1/12592] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:46,609 [Listener at 127.0.0.1/12592] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:46,610 [Listener at 127.0.0.1/12592] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:46,610 [Listener at 127.0.0.1/12592] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:46,610 [Listener at 127.0.0.1/12592] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:46,611 [Listener at 127.0.0.1/12592] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:46,611 [Listener at 127.0.0.1/12592] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12594
2021-09-21 13:06:46,611 [Listener at 127.0.0.1/12592] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:46,616 [Listener at 127.0.0.1/12592] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:46,617 [Listener at 127.0.0.1/12592] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:46,617 [Listener at 127.0.0.1/12592] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-09-21 13:06:46,618 [Listener at 127.0.0.1/12592] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@3af50734{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:46,618 [Listener at 127.0.0.1/12592] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@19498393{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:46,620 [Listener at 127.0.0.1/12592] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@607edba6{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:46,625 [Listener at 127.0.0.1/12592] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@31edc619{HTTP/1.1, (http/1.1)}{0.0.0.0:12594}
2021-09-21 13:06:46,625 [Listener at 127.0.0.1/12592] INFO  server.Server (Server.java:doStart(415)) - Started @34553ms
2021-09-21 13:06:46,625 [Listener at 127.0.0.1/12592] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:46,626 [Listener at 127.0.0.1/12592] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12594
2021-09-21 13:06:46,626 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:46,626 [IPC Server listener on 12592] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12592: starting
2021-09-21 13:06:46,627 [Listener at 127.0.0.1/12592] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:46,628 [Listener at 127.0.0.1/12592] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-1 RPC server at localhost/127.0.0.1:12592
2021-09-21 13:06:46,628 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@22b7c0dc] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:46,628 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:46,628 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12598 and Ratis port: 12602
2021-09-21 13:06:46,629 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12600
2021-09-21 13:06:46,629 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12601
2021-09-21 13:06:46,629 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12598
2021-09-21 13:06:46,629 [Listener at 127.0.0.1/12592] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/om;cid=17ce996b-9a27-4b7c-9c3c-93106416f336;layoutVersion=0
2021-09-21 13:06:46,632 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:46,632 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12598 and Ratis port: 12602
2021-09-21 13:06:46,632 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12600
2021-09-21 13:06:46,632 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12601
2021-09-21 13:06:46,632 [Listener at 127.0.0.1/12592] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12598
2021-09-21 13:06:46,633 [Listener at 127.0.0.1/12592] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,633 [Listener at 127.0.0.1/12592] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:46,673 [Listener at 127.0.0.1/12592] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 40 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:46,673 [Listener at 127.0.0.1/12592] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:46,674 [Listener at 127.0.0.1/12592] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,677 [Listener at 127.0.0.1/12592] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,677 [Listener at 127.0.0.1/12592] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:46,678 [Listener at 127.0.0.1/12592] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:46,788 [Listener at 127.0.0.1/12592] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:46,788 [Listener at 127.0.0.1/12592] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:46,788 [Listener at 127.0.0.1/12592] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:46,788 [Listener at 127.0.0.1/12592] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:46,789 [Listener at 127.0.0.1/12592] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:46,789 [Listener at 127.0.0.1/12592] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:46,789 [Listener at 127.0.0.1/12592] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:46,790 [Listener at 127.0.0.1/12592] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12602, localhost:12608, localhost:12596
2021-09-21 13:06:46,790 [Listener at 127.0.0.1/12592] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12602 (custom)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12602 (custom)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12602 (custom)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:46,791 [Listener at 127.0.0.1/12592] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:46,792 [Listener at 127.0.0.1/12592] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:46,793 [Listener at 127.0.0.1/12592] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:46,793 [Listener at 127.0.0.1/12592] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:46,793 [Listener at 127.0.0.1/12592] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis] (custom)
2021-09-21 13:06:46,793 [Listener at 127.0.0.1/12592] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@7f49e5ef[Not completed]
2021-09-21 13:06:46,793 [Listener at 127.0.0.1/12592] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12602
2021-09-21 13:06:46,793 [pool-625-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:46,793 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:46,793 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis] (custom)
2021-09-21 13:06:46,794 [Listener at 127.0.0.1/12592] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:46,794 [pool-625-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:46,795 [Socket Reader #1 for port 12598] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12598
2021-09-21 13:06:46,797 [pool-625-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:46,799 [pool-625-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:46,799 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:46,799 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:46,799 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:46,799 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:46,799 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:46,800 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:46,800 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:46,800 [pool-625-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:46,800 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:46,800 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:46,800 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:46,801 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:46,801 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:46,801 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:46,801 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:46,801 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:46,802 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:46,802 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:46,802 [pool-625-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:46,802 [pool-625-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:46,803 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:46,803 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:46,803 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:46,803 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:46,803 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:46,803 [pool-625-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:46,811 [Listener at 127.0.0.1/12598] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:46,811 [Listener at 127.0.0.1/12598] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:46,824 [Listener at 127.0.0.1/12598] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12598
2021-09-21 13:06:46,824 [Listener at 127.0.0.1/12598] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-2 at port 12602
2021-09-21 13:06:46,824 [Listener at 127.0.0.1/12598] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null
2021-09-21 13:06:46,824 [Listener at 127.0.0.1/12598] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:46,825 [Listener at 127.0.0.1/12598] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:46,825 [Listener at 127.0.0.1/12598] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:46,826 [Listener at 127.0.0.1/12598] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-09-21 13:06:46,828 [Listener at 127.0.0.1/12598] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 12602
2021-09-21 13:06:46,829 [Listener at 127.0.0.1/12598] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:46,829 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@9454aab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-09-21 13:06:46,830 [Listener at 127.0.0.1/12598] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12600
2021-09-21 13:06:46,830 [Listener at 127.0.0.1/12598] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:46,831 [Listener at 127.0.0.1/12598] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:46,831 [Listener at 127.0.0.1/12598] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:46,832 [Listener at 127.0.0.1/12598] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:46,832 [Listener at 127.0.0.1/12598] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:46,832 [Listener at 127.0.0.1/12598] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:46,832 [Listener at 127.0.0.1/12598] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:46,833 [Listener at 127.0.0.1/12598] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12600
2021-09-21 13:06:46,833 [Listener at 127.0.0.1/12598] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:46,836 [Listener at 127.0.0.1/12598] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:46,836 [Listener at 127.0.0.1/12598] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:46,837 [Listener at 127.0.0.1/12598] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:46,837 [Listener at 127.0.0.1/12598] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4ff8e112{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:46,837 [Listener at 127.0.0.1/12598] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@74e64b6d{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:46,839 [Listener at 127.0.0.1/12598] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@3101c8e0{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:46,845 [Listener at 127.0.0.1/12598] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2736911f{HTTP/1.1, (http/1.1)}{0.0.0.0:12600}
2021-09-21 13:06:46,845 [Listener at 127.0.0.1/12598] INFO  server.Server (Server.java:doStart(415)) - Started @34773ms
2021-09-21 13:06:46,845 [Listener at 127.0.0.1/12598] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:46,845 [Listener at 127.0.0.1/12598] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12600
2021-09-21 13:06:46,846 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:46,846 [IPC Server listener on 12598] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12598: starting
2021-09-21 13:06:46,848 [Listener at 127.0.0.1/12598] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-2 RPC server at localhost/127.0.0.1:12598
2021-09-21 13:06:46,849 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@79164620] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12604 and Ratis port: 12608
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12606
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12607
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12604
2021-09-21 13:06:46,849 [Listener at 127.0.0.1/12598] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM initialization succeeded.Current cluster id for sd=/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/om;cid=17ce996b-9a27-4b7c-9c3c-93106416f336;layoutVersion=0
2021-09-21 13:06:46,854 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(118)) - ServiceID for OzoneManager is om-service-test1
2021-09-21 13:06:46,855 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(194)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12604 and Ratis port: 12608
2021-09-21 13:06:46,855 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12606
2021-09-21 13:06:46,855 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12607
2021-09-21 13:06:46,855 [Listener at 127.0.0.1/12598] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(108)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12604
2021-09-21 13:06:46,855 [Listener at 127.0.0.1/12598] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,855 [Listener at 127.0.0.1/12598] INFO  upgrade.AbstractLayoutVersionManager (AbstractLayoutVersionManager.java:init(79)) - Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
2021-09-21 13:06:46,887 [Listener at 127.0.0.1/12598] INFO  reflections.Reflections (Reflections.java:scan(232)) - Reflections took 31 ms to scan 2 urls, producing 131 keys and 342 values [using 2 cores]
2021-09-21 13:06:46,887 [Listener at 127.0.0.1/12598] INFO  upgrade.OMLayoutVersionManager (OMLayoutVersionManager.java:lambda$0(115)) - Skipping Upgrade Action MockOmUpgradeAction since it has been finalized.
2021-09-21 13:06:46,887 [Listener at 127.0.0.1/12598] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,891 [Listener at 127.0.0.1/12598] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-09-21 13:06:46,891 [Listener at 127.0.0.1/12598] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(51)) - OmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:46,891 [Listener at 127.0.0.1/12598] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-09-21 13:06:47,000 [Listener at 127.0.0.1/12598] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(4127)) - Created Volume s3v With Owner runner required for S3Gateway operations.
2021-09-21 13:06:47,000 [Listener at 127.0.0.1/12598] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:47,000 [Listener at 127.0.0.1/12598] WARN  utils.OzoneManagerRatisUtils (OzoneManagerRatisUtils.java:getOMRatisSnapshotDirectory(391)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-09-21 13:06:47,000 [Listener at 127.0.0.1/12598] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(76)) - Initializing OM Snapshot Provider
2021-09-21 13:06:47,002 [Listener at 127.0.0.1/12598] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:47,002 [Listener at 127.0.0.1/12598] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:addReporterRegistration(111)) - New reporters are added after registries were created. Some metrics will be missing from the reporter. Please add reporter before adding any new registry.
2021-09-21 13:06:47,002 [Listener at 127.0.0.1/12598] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(158)) - Instantiating OM Ratis server with groupID: om-service-test1 and peers: localhost:12608, localhost:12596, localhost:12602
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(605)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12608 (custom)
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12608 (custom)
2021-09-21 13:06:47,003 [Listener at 127.0.0.1/12598] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12608 (custom)
2021-09-21 13:06:47,004 [Listener at 127.0.0.1/12598] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-09-21 13:06:47,004 [Listener at 127.0.0.1/12598] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:47,004 [Listener at 127.0.0.1/12598] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-09-21 13:06:47,004 [Listener at 127.0.0.1/12598] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:47,005 [Listener at 127.0.0.1/12598] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-09-21 13:06:47,005 [Listener at 127.0.0.1/12598] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:47,005 [Listener at 127.0.0.1/12598] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:47,005 [Listener at 127.0.0.1/12598] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis] (custom)
2021-09-21 13:06:47,005 [Listener at 127.0.0.1/12598] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@8ef74f6[Not completed]
2021-09-21 13:06:47,006 [Listener at 127.0.0.1/12598] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1585)) - OzoneManager Ratis server initialized at port 12608
2021-09-21 13:06:47,006 [Listener at 127.0.0.1/12598] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(90)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(181)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0] with OzoneManagerStateMachine:uninitialized
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:47,007 [pool-646-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null, confs=<EMPTY_MAP>
2021-09-21 13:06:47,008 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis] (custom)
2021-09-21 13:06:47,008 [Socket Reader #1 for port 12604] INFO  ipc.Server (Server.java:run(1265)) - Starting Socket Reader #1 for port 12604
2021-09-21 13:06:47,008 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-09-21 13:06:47,008 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2021-09-21 13:06:47,008 [pool-646-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(135)) - The storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-09-21 13:06:47,012 [pool-646-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(230)) - Lock on /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 938@fv-az151-918
2021-09-21 13:06:47,013 [pool-646-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(89)) - Storage directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-09-21 13:06:47,013 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-09-21 13:06:47,013 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-09-21 13:06:47,014 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 50 (custom)
2021-09-21 13:06:47,014 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:47,014 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-09-21 13:06:47,015 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-09-21 13:06:47,017 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-09-21 13:06:47,017 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-09-21 13:06:47,017 [pool-646-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:47,017 [pool-646-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-09-21 13:06:47,020 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-09-21 13:06:47,020 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 50 (custom)
2021-09-21 13:06:47,020 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-09-21 13:06:47,021 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-09-21 13:06:47,021 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 30000ms (custom)
2021-09-21 13:06:47,021 [pool-646-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-09-21 13:06:47,025 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:initFSOLayout(4333)) - Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
2021-09-21 13:06:47,025 [Listener at 127.0.0.1/12604] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-09-21 13:06:47,038 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:start(1281)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12604
2021-09-21 13:06:47,038 [Listener at 127.0.0.1/12604] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(516)) - Starting OzoneManagerRatisServer omNode-3 at port 12608
2021-09-21 13:06:47,038 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (RaftServerImpl.java:start(296)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null
2021-09-21 13:06:47,038 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-09-21 13:06:47,038 [Listener at 127.0.0.1/12604] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:47,039 [Listener at 127.0.0.1/12604] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:47,040 [Listener at 127.0.0.1/12604] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-09-21 13:06:47,040 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 12608
2021-09-21 13:06:47,040 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:start(1299)) - Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
2021-09-21 13:06:47,040 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@6994b54c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-09-21 13:06:47,041 [Listener at 127.0.0.1/12604] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12606
2021-09-21 13:06:47,042 [Listener at 127.0.0.1/12604] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-09-21 13:06:47,042 [Listener at 127.0.0.1/12604] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-09-21 13:06:47,043 [Listener at 127.0.0.1/12604] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-09-21 13:06:47,043 [Listener at 127.0.0.1/12604] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1030)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-09-21 13:06:47,044 [Listener at 127.0.0.1/12604] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1006)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-09-21 13:06:47,044 [Listener at 127.0.0.1/12604] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-09-21 13:06:47,044 [Listener at 127.0.0.1/12604] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1014)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-09-21 13:06:47,044 [Listener at 127.0.0.1/12604] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1249)) - Jetty bound to port 12606
2021-09-21 13:06:47,044 [Listener at 127.0.0.1/12604] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_292-b10
2021-09-21 13:06:47,046 [Listener at 127.0.0.1/12604] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-09-21 13:06:47,046 [Listener at 127.0.0.1/12604] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-09-21 13:06:47,047 [Listener at 127.0.0.1/12604] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-09-21 13:06:47,050 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@10dbc4f4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-09-21 13:06:47,051 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.s.ServletContextHandler@4be3240c{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-09-21 13:06:47,053 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStart(915)) - Started o.e.j.w.WebAppContext@360ffbc8{ozoneManager,/,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:47,054 [Listener at 127.0.0.1/12604] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@12d71a61{HTTP/1.1, (http/1.1)}{0.0.0.0:12606}
2021-09-21 13:06:47,054 [Listener at 127.0.0.1/12604] INFO  server.Server (Server.java:doStart(415)) - Started @34983ms
2021-09-21 13:06:47,054 [Listener at 127.0.0.1/12604] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-09-21 13:06:47,055 [Listener at 127.0.0.1/12604] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:12606
2021-09-21 13:06:47,056 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1507)) - IPC Server Responder: starting
2021-09-21 13:06:47,056 [IPC Server listener on 12604] INFO  ipc.Server (Server.java:run(1344)) - IPC Server listener on 12604: starting
2021-09-21 13:06:47,058 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1543)) - Trash Interval set to 0. Files deleted will not move to trash
2021-09-21 13:06:47,058 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - Started OzoneManager omNode-3 RPC server at localhost/127.0.0.1:12604
2021-09-21 13:06:47,058 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@d990190] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-09-21 13:06:47,058 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(235)) - Nodes are ready. Got 0 of 0 DN Heartbeats.
2021-09-21 13:06:47,058 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(238)) - Cluster exits safe mode
2021-09-21 13:06:47,058 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(240)) - SCM became leader
2021-09-21 13:06:47,066 [Listener at 127.0.0.1/12604] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-2,nodeAddress=127.0.0.1:12598 after 1 failover attempts. Trying to failover immediately.
2021-09-21 13:06:47,072 [Listener at 127.0.0.1/12604] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:omNode-3 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:186)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:173)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitReadRequestToOM(OzoneManagerProtocolServerSideTranslatorPB.java:166)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:133)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:123)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server.processCall(ProtobufRpcEngine.java:466)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:574)
	at org.apache.hadoop.ipc.ProtobufRpcEngine2$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine2.java:552)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1093)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1035)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:963)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2966)
, while invoking $Proxy46.submitRequest over nodeId=omNode-3,nodeAddress=127.0.0.1:12604 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-09-21 13:06:47,698 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1093802011ns, electionTimeout:1092ms
2021-09-21 13:06:47,699 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-09-21 13:06:47,699 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-09-21 13:06:47,699 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-09-21 13:06:47,700 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection13
2021-09-21 13:06:47,703 [omNode-1@group-523986131536-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null
2021-09-21 13:06:47,710 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:47,711 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:47,711 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:47,711 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:47,711 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:47,711 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:47,717 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null
2021-09-21 13:06:47,723 [omNode-1@group-523986131536-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection13: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-09-21 13:06:47,723 [omNode-1@group-523986131536-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:OK-t1
2021-09-21 13:06:47,723 [omNode-1@group-523986131536-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection13 ELECTION round 0: result PASSED
2021-09-21 13:06:47,723 [omNode-1@group-523986131536-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection13
2021-09-21 13:06:47,723 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-09-21 13:06:47,723 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1043)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-09-21 13:06:47,724 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1142ms
2021-09-21 13:06:47,724 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-09-21 13:06:47,724 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-09-21 13:06:47,724 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(285)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-09-21 13:06:47,724 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:47,724 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:47,724 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-09-21 13:06:47,724 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-09-21 13:06:47,724 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:47,725 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-09-21 13:06:47,725 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-09-21 13:06:47,725 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-09-21 13:06:47,725 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:47,727 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:47,727 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:47,727 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1075)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12608|priority:0, omNode-1|rpc:localhost:12596|priority:0, omNode-2|rpc:localhost:12602|priority:0], old=null
2021-09-21 13:06:47,727 [omNode-1@group-523986131536-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:47,727 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:47,727 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:47,728 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-09-21 13:06:47,728 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-09-21 13:06:47,728 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-09-21 13:06:47,728 [omNode-1@group-523986131536-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-09-21 13:06:47,728 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-09-21 13:06:47,728 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-09-21 13:06:47,730 [omNode-1@group-523986131536-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:47,730 [omNode-1@group-523986131536-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:47,737 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:47,738 [omNode-1@group-523986131536-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12608|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12596|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12602|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:47,749 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 735ms
2021-09-21 13:06:47,753 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12608"
, id: "omNode-1"
address: "localhost:12596"
, id: "omNode-2"
address: "localhost:12602"
]
2021-09-21 13:06:47,756 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12608|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12596|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12602|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:47,756 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(285)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 957ms
2021-09-21 13:06:47,758 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(387)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12608|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12596|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12602|admin:|client:|dataStream:|priority:0], old=null
2021-09-21 13:06:47,759 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:47,763 [grpc-default-executor-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-09-21 13:06:47,765 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:47,769 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12608"
, id: "omNode-1"
address: "localhost:12596"
, id: "omNode-2"
address: "localhost:12602"
]
2021-09-21 13:06:47,772 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-17ce996b-9a27-4b7c-9c3c-93106416f336/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-09-21 13:06:48,277 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:notifyConfigurationChanged(188)) - Received Configuration change notification from Ratis. New Peer list:
[id: "omNode-3"
address: "localhost:12608"
, id: "omNode-1"
address: "localhost:12596"
, id: "omNode-2"
address: "localhost:12602"
]
2021-09-21 13:06:49,082 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(453)) - Shutting down the Mini Ozone Cluster
2021-09-21 13:06:49,082 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-3
2021-09-21 13:06:49,082 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:49,083 [Listener at 127.0.0.1/12604] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12604
2021-09-21 13:06:49,084 [IPC Server listener on 12604] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12604
2021-09-21 13:06:49,085 [Listener at 127.0.0.1/12604] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-09-21 13:06:49,084 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:49,086 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-3@group-523986131536: shutdown
2021-09-21 13:06:49,086 [Listener at 127.0.0.1/12604] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-09-21 13:06:49,086 [Listener at 127.0.0.1/12604] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-09-21 13:06:49,086 [Listener at 127.0.0.1/12604] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:49,086 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:49,086 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:49,087 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:49,087 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:49,087 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:49,087 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-3@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:49,087 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:49,088 [Listener at 127.0.0.1/12604] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:49,090 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 12608 now
2021-09-21 13:06:49,092 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-09-21 13:06:49,092 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-09-21 13:06:49,092 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Leader has not got in touch with Follower omNode-1@group-523986131536->omNode-3(c0,m0,n1, attendVote=true, lastRpcSendTime=312, lastRpcResponseTime=309) yet, just keep nextIndex unchanged and retry.
2021-09-21 13:06:49,093 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 12608 successfully
2021-09-21 13:06:49,093 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@6994b54c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-09-21 13:06:49,093 [Listener at 127.0.0.1/12604] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:49,093 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:49,093 [Listener at 127.0.0.1/12604] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:49,095 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@360ffbc8{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:49,096 [Listener at 127.0.0.1/12604] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@12d71a61{HTTP/1.1, (http/1.1)}{0.0.0.0:12606}
2021-09-21 13:06:49,096 [Listener at 127.0.0.1/12604] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:49,096 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4be3240c{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:49,096 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@10dbc4f4{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:49,101 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-1
2021-09-21 13:06:49,101 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:49,102 [Listener at 127.0.0.1/12604] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12592
2021-09-21 13:06:49,104 [IPC Server listener on 12592] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12592
2021-09-21 13:06:49,104 [Listener at 127.0.0.1/12604] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-09-21 13:06:49,104 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:49,104 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-1@group-523986131536: shutdown
2021-09-21 13:06:49,104 [Listener at 127.0.0.1/12604] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-09-21 13:06:49,104 [Listener at 127.0.0.1/12604] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-09-21 13:06:49,105 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-09-21 13:06:49,105 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-09-21 13:06:49,106 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-09-21 13:06:49,106 [Listener at 127.0.0.1/12604] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-09-21 13:06:49,106 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2021-09-21 13:06:49,107 [Listener at 127.0.0.1/12604] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:49,107 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:49,107 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:49,107 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:49,107 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:49,108 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-1@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:49,108 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:49,110 [Listener at 127.0.0.1/12604] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:49,110 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 12596 now
2021-09-21 13:06:49,119 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 12596 successfully
2021-09-21 13:06:49,119 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@8568d28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-09-21 13:06:49,119 [Listener at 127.0.0.1/12604] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:49,119 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:49,119 [Listener at 127.0.0.1/12604] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:49,120 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@607edba6{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:49,120 [Listener at 127.0.0.1/12604] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@31edc619{HTTP/1.1, (http/1.1)}{0.0.0.0:12594}
2021-09-21 13:06:49,120 [Listener at 127.0.0.1/12604] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:49,120 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@19498393{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:49,121 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@3af50734{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:49,122 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(298)) - Stopping the OzoneManager omNode-2
2021-09-21 13:06:49,122 [Listener at 127.0.0.1/12604] INFO  om.OzoneManager (OzoneManager.java:stop(1644)) - Stopping Ozone Manager
2021-09-21 13:06:49,122 [Listener at 127.0.0.1/12604] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 12598
2021-09-21 13:06:49,123 [IPC Server listener on 12598] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 12598
2021-09-21 13:06:49,124 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:49,124 [Listener at 127.0.0.1/12604] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-09-21 13:06:49,125 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(407)) - omNode-2@group-523986131536: shutdown
2021-09-21 13:06:49,125 [Listener at 127.0.0.1/12604] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-09-21 13:06:49,125 [Listener at 127.0.0.1/12604] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-09-21 13:06:49,125 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-09-21 13:06:49,125 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(417)) - Current Snapshot Index (t:1, i:0)
2021-09-21 13:06:49,125 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-09-21 13:06:49,125 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-09-21 13:06:49,125 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:close(471)) - StateMachine has shutdown. Shutdown OzoneManager if not already shutdown.
2021-09-21 13:06:49,126 [Listener at 127.0.0.1/12604] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-09-21 13:06:49,126 [Listener at 127.0.0.1/12604] INFO  server.RaftServer$Division (ServerState.java:close(419)) - omNode-2@group-523986131536: closes. applyIndex: 0
2021-09-21 13:06:49,126 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-09-21 13:06:49,127 [Listener at 127.0.0.1/12604] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-09-21 13:06:49,127 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 12602 now
2021-09-21 13:06:49,128 [Listener at 127.0.0.1/12604] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 12602 successfully
2021-09-21 13:06:49,128 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$532/1272126514@9454aab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-09-21 13:06:49,128 [Listener at 127.0.0.1/12604] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(437)) - Stopping OMDoubleBuffer flush thread
2021-09-21 13:06:49,128 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(356)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-09-21 13:06:49,128 [Listener at 127.0.0.1/12604] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-09-21 13:06:49,129 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@3101c8e0{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-09-21 13:06:49,129 [Listener at 127.0.0.1/12604] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2736911f{HTTP/1.1, (http/1.1)}{0.0.0.0:12600}
2021-09-21 13:06:49,130 [Listener at 127.0.0.1/12604] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:49,130 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@74e64b6d{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:49,130 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@4ff8e112{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:49,131 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(306)) - Stopping the StorageContainerManager a5bd5338-87fd-4fe5-a47a-de0897b250c9
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1371)) - Stopping Container Balancer service.
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  balancer.ContainerBalancer (ContainerBalancer.java:stop(717)) - Container Balancer is not running.
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1378)) - Stopping Replication Manager Service.
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  container.ReplicationManager (ReplicationManager.java:stop(350)) - Stopping Replication Monitor Thread.
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1385)) - Stopping the Datanode Admin Monitor.
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1392)) - Stopping Lease Manager of the command watchers
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1399)) - Stopping datanode service RPC server
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(389)) - Stopping the RPC server for DataNodes
2021-09-21 13:06:49,132 [Listener at 127.0.0.1/12604] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 39641
2021-09-21 13:06:49,134 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:49,134 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:49,204 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(799)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-09-21 13:06:49,205 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1407)) - Stopping block service RPC server
2021-09-21 13:06:49,205 [Listener at 127.0.0.1/12604] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(160)) - Stopping the RPC server for Block Protocol
2021-09-21 13:06:49,205 [Listener at 127.0.0.1/12604] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 42757
2021-09-21 13:06:49,208 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:49,216 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1414)) - Stopping the StorageContainerLocationProtocol RPC server
2021-09-21 13:06:49,216 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:49,216 [Listener at 127.0.0.1/12604] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(173)) - Stopping the RPC server for Client Protocol
2021-09-21 13:06:49,216 [Listener at 127.0.0.1/12604] INFO  ipc.Server (Server.java:stop(3414)) - Stopping server on 44173
2021-09-21 13:06:49,218 [IPC Server listener on 0] INFO  ipc.Server (Server.java:run(1376)) - Stopping IPC Server listener on 0
2021-09-21 13:06:49,218 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1512)) - Stopping IPC Server Responder
2021-09-21 13:06:49,218 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1421)) - Stopping Storage Container Manager HTTP server.
2021-09-21 13:06:49,219 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.w.WebAppContext@71273809{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-09-21 13:06:49,222 [Listener at 127.0.0.1/12604] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7332ed31{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-09-21 13:06:49,223 [Listener at 127.0.0.1/12604] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-09-21 13:06:49,223 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@5ace1a78{static,/static,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-09-21 13:06:49,223 [Listener at 127.0.0.1/12604] INFO  handler.ContextHandler (ContextHandler.java:doStop(1153)) - Stopped o.e.j.s.ServletContextHandler@786c355e{logs,/logs,file:///home/runner/work/ozone/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-09-21 13:06:49,223 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1432)) - Stopping Block Manager Service.
2021-09-21 13:06:49,224 [Listener at 127.0.0.1/12604] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:49,224 [Listener at 127.0.0.1/12604] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-09-21 13:06:49,224 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1459)) - Stopping SCM Event Queue.
2021-09-21 13:06:49,224 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1470)) - Stopping SCM HA services.
2021-09-21 13:06:49,225 [Listener at 127.0.0.1/12604] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-09-21 13:06:49,225 [Listener at 127.0.0.1/12604] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1480)) - Stopping SCM MetadataStore.
2021-09-21 13:06:49,226 [Listener at 127.0.0.1/12604] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping OzoneManager metrics system...
2021-09-21 13:06:49,226 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-09-21 13:06:49,226 [Listener at 127.0.0.1/12604] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - OzoneManager metrics system stopped.
2021-09-21 13:06:49,226 [Listener at 127.0.0.1/12604] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(468)) - Stopping the Mini Ozone Cluster
