Attaching to ha_dn2_1, ha_om1_1, ha_s3g_1, ha_om2_1, ha_scm_1, ha_dn1_1, ha_om3_1, ha_dn3_1, ha_recon_1
dn1_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn1_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn1_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn1_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn1_1    | 2021-10-04 15:31:03,706 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
dn1_1    | /************************************************************
dn1_1    | STARTUP_MSG: Starting HddsDatanodeService
dn1_1    | STARTUP_MSG:   host = 8933f28417ff/10.9.0.15
dn1_1    | STARTUP_MSG:   args = []
dn1_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn1_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
dn1_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:46Z
dn1_1    | STARTUP_MSG:   java = 11.0.10
dn1_1    | ************************************************************/
dn1_1    | 2021-10-04 15:31:03,780 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
dn1_1    | 2021-10-04 15:31:05,820 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
dn1_1    | 2021-10-04 15:31:06,682 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn1_1    | 2021-10-04 15:31:07,985 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn1_1    | 2021-10-04 15:31:07,986 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
dn1_1    | 2021-10-04 15:31:09,777 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:8933f28417ff ip:10.9.0.15
dn1_1    | 2021-10-04 15:31:11,532 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
dn1_1    | 2021-10-04 15:31:12,558 [main] INFO reflections.Reflections: Reflections took 745 ms to scan 2 urls, producing 84 keys and 169 values 
dn1_1    | 2021-10-04 15:31:13,137 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
dn1_1    | 2021-10-04 15:31:13,146 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
dn1_1    | 2021-10-04 15:31:14,400 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-10-04T15:30:45.312Z
dn1_1    | 2021-10-04 15:31:14,421 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
dn1_1    | 2021-10-04 15:31:14,439 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
dn1_1    | 2021-10-04 15:31:14,452 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
dn1_1    | 2021-10-04 15:31:14,635 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
dn1_1    | 2021-10-04 15:31:14,708 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn1_1    | 2021-10-04 15:31:14,731 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/metadata/ratis/scmUsed: 114688 at 2021-10-04T15:28:43.358Z
dn1_1    | 2021-10-04 15:31:14,737 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
dn1_1    | 2021-10-04 15:31:14,740 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/metadata/ratis
dn1_1    | 2021-10-04 15:31:14,741 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/metadata/ratis
dn1_1    | 2021-10-04 15:31:14,848 [Thread-3] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
dn1_1    | 2021-10-04 15:31:15,656 [Thread-3] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
dn1_1    | 2021-10-04 15:31:15,657 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
dn1_1    | 2021-10-04 15:31:25,517 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn1_1    | 2021-10-04 15:31:25,833 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
dn1_1    | 2021-10-04 15:31:26,402 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
dn1_1    | 2021-10-04 15:31:26,403 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
dn1_1    | 2021-10-04 15:31:26,403 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
dn1_1    | 2021-10-04 15:31:26,418 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
dn1_1    | 2021-10-04 15:31:26,422 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:31:26,424 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
dn1_1    | 2021-10-04 15:31:26,424 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 2021-10-04 15:31:28,644 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn1_1    | 2021-10-04 15:31:28,690 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:28,693 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-10-04 15:31:28,764 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-10-04 15:31:28,786 [main] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: found a subdirectory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn1_1    | 2021-10-04 15:31:28,832 [main] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: addNew group-D9A1593738B3:[] returns group-D9A1593738B3:java.util.concurrent.CompletableFuture@60ed12e8[Not completed]
dn1_1    | 2021-10-04 15:31:28,841 [main] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: found a subdirectory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn1_1    | 2021-10-04 15:31:28,842 [main] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: addNew group-E2410CA4C9B0:[] returns group-E2410CA4C9B0:java.util.concurrent.CompletableFuture@24c8d8be[Not completed]
dn1_1    | 2021-10-04 15:31:28,842 [main] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: found a subdirectory /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c
dn1_1    | 2021-10-04 15:31:28,842 [main] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: addNew group-36CA4360DF3C:[] returns group-36CA4360DF3C:java.util.concurrent.CompletableFuture@3290b1a6[Not completed]
dn1_1    | 2021-10-04 15:31:29,161 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: new RaftServerImpl for group-D9A1593738B3:[] with ContainerStateMachine:uninitialized
dn1_1    | 2021-10-04 15:31:29,277 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-10-04 15:31:29,286 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-10-04 15:31:29,289 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:31:29,289 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:29,289 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-10-04 15:31:29,290 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:31:29,291 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-10-04 15:31:29,354 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-10-04 15:31:29,363 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-10-04 15:31:29,386 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-10-04 15:31:29,396 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-10-04 15:31:29,521 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/in_use.lock acquired by nodename 7@8933f28417ff
dn1_1    | 2021-10-04 15:31:29,623 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=8, votedFor=435cedd2-24c7-47d5-bcd3-a0497da1e3ca} from /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/raft-meta
dn1_1    | 2021-10-04 15:31:30,016 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Setting the last applied index to (t:5, i:5)
dn1_1    | 2021-10-04 15:31:30,143 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
dn1_1    | 2021-10-04 15:31:30,386 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn1_1    | 2021-10-04 15:31:30,633 [main] INFO util.log: Logging initialized @35509ms to org.eclipse.jetty.util.log.Slf4jLog
dn1_1    | 2021-10-04 15:31:31,389 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:31,394 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:31,395 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:31:31,510 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:31:31,510 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:31:31,671 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:31,730 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-10-04 15:31:31,742 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:31:31,766 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn1_1    | 2021-10-04 15:31:31,775 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn1_1    | 2021-10-04 15:31:31,810 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:31:31,811 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:31:31,812 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
dn1_1    | 2021-10-04 15:31:31,813 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:31,824 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:31:31,825 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:31:31,827 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:31:31,852 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-10-04 15:31:31,853 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-10-04 15:31:31,837 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn1_1    | 2021-10-04 15:31:31,887 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
dn1_1    | 2021-10-04 15:31:31,892 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn1_1    | 2021-10-04 15:31:31,892 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn1_1    | 2021-10-04 15:31:31,946 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:31,964 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-10-04 15:31:32,263 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:32,301 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 4 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_0-3
dn1_1    | 2021-10-04 15:31:32,340 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: set configuration 4: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:32,347 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_4-5
dn1_1    | 2021-10-04 15:31:32,361 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:32,363 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 6 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_6
dn1_1    | 2021-10-04 15:31:32,323 [main] INFO http.HttpServer2: Jetty bound to port 9882
dn1_1    | 2021-10-04 15:31:32,375 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn1_1    | 2021-10-04 15:31:32,481 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 11
dn1_1    | 2021-10-04 15:31:32,482 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 5
dn1_1    | 2021-10-04 15:31:32,833 [main] INFO server.session: DefaultSessionIdManager workerName=node0
dn1_1    | 2021-10-04 15:31:32,867 [main] INFO server.session: No SessionScavenger set, using defaults
dn1_1    | 2021-10-04 15:31:32,869 [main] INFO server.session: node0 Scavenging every 660000ms
dn1_1    | 2021-10-04 15:31:32,964 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5df7e31b{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn1_1    | 2021-10-04 15:31:32,970 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@4f3e9fbb{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn1_1    | 2021-10-04 15:31:33,370 [pool-33-thread-1] INFO raftlog.RaftLog: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLog: commitIndex: updateToMax old=5, new=9, updated? true
dn1_1    | 2021-10-04 15:31:33,391 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:31:33,400 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-10-04 15:31:33,415 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-10-04 15:31:33,417 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-10-04 15:31:33,430 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-10-04 15:31:33,454 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-10-04 15:31:33,703 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@646427f7{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7882190610106000802/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
dn1_1    | 2021-10-04 15:31:33,781 [main] INFO server.AbstractConnector: Started ServerConnector@1cb9ef52{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
dn1_1    | 2021-10-04 15:31:33,781 [main] INFO server.Server: Started @38657ms
dn1_1    | 2021-10-04 15:31:33,785 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: new RaftServerImpl for group-E2410CA4C9B0:[] with ContainerStateMachine:uninitialized
dn1_1    | 2021-10-04 15:31:33,789 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-10-04 15:31:33,790 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-10-04 15:31:33,791 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:31:33,791 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:33,792 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-10-04 15:31:33,792 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:31:33,795 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-10-04 15:31:33,803 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-10-04 15:31:33,803 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-10-04 15:31:33,804 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-10-04 15:31:33,811 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-10-04 15:31:33,811 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn1_1    | 2021-10-04 15:31:33,811 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
dn1_1    | 2021-10-04 15:31:33,813 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
dn1_1    | 2021-10-04 15:31:33,825 [Datanode State Machine Thread - 0] INFO statemachine.DatanodeStateMachine: Ozone container server started.
dn1_1    | 2021-10-04 15:31:33,829 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/in_use.lock acquired by nodename 7@8933f28417ff
dn1_1    | 2021-10-04 15:31:33,830 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=12, votedFor=7eae0302-d0e5-479a-98f0-34ad09d996ac} from /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/raft-meta
dn1_1    | 2021-10-04 15:31:33,831 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Setting the last applied index to (t:9, i:5)
dn1_1    | 2021-10-04 15:31:33,831 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:33,837 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:33,843 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:31:33,845 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:31:33,849 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:31:33,850 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:33,851 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-10-04 15:31:33,854 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:31:33,854 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn1_1    | 2021-10-04 15:31:33,855 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:31:33,855 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:31:33,855 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:33,855 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:31:33,855 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:31:33,855 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:31:33,856 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-10-04 15:31:33,871 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-10-04 15:31:33,875 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:33,887 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-10-04 15:31:33,895 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:33,897 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_0-0
dn1_1    | 2021-10-04 15:31:33,905 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: set configuration 1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:33,915 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 5 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_1-5
dn1_1    | 2021-10-04 15:31:33,931 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:33,946 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_6
dn1_1    | 2021-10-04 15:31:33,954 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
dn1_1    | 2021-10-04 15:31:33,964 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
dn1_1    | 2021-10-04 15:31:34,014 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2fde5504] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn1_1    | 2021-10-04 15:31:34,041 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 7
dn1_1    | 2021-10-04 15:31:34,046 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 5
dn1_1    | 2021-10-04 15:31:34,064 [pool-33-thread-1] INFO raftlog.RaftLog: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLog: commitIndex: updateToMax old=5, new=6, updated? true
dn1_1    | 2021-10-04 15:31:34,080 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:31:34,085 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-10-04 15:31:34,086 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-10-04 15:31:34,086 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-10-04 15:31:34,086 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-10-04 15:31:34,087 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-10-04 15:31:34,117 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: new RaftServerImpl for group-36CA4360DF3C:[] with ContainerStateMachine:uninitialized
dn1_1    | 2021-10-04 15:31:34,117 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-10-04 15:31:34,118 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-10-04 15:31:34,118 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:31:34,118 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:34,118 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn2_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn2_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn2_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn2_1    | 2021-10-04 15:31:04,231 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
dn2_1    | /************************************************************
dn2_1    | STARTUP_MSG: Starting HddsDatanodeService
dn2_1    | STARTUP_MSG:   host = 1790a64b8e24/10.9.0.16
dn2_1    | STARTUP_MSG:   args = []
dn2_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn1_1    | 2021-10-04 15:31:34,119 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:31:34,119 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-10-04 15:31:34,119 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-10-04 15:31:34,119 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-10-04 15:31:34,127 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-10-04 15:31:34,127 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-10-04 15:31:34,130 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/in_use.lock acquired by nodename 7@8933f28417ff
dn2_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
dn2_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:46Z
dn2_1    | STARTUP_MSG:   java = 11.0.10
dn2_1    | ************************************************************/
dn2_1    | 2021-10-04 15:31:04,336 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
dn2_1    | 2021-10-04 15:31:06,849 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
dn2_1    | 2021-10-04 15:31:07,615 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn2_1    | 2021-10-04 15:31:09,042 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn2_1    | 2021-10-04 15:31:09,042 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
dn2_1    | 2021-10-04 15:31:10,705 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:1790a64b8e24 ip:10.9.0.16
dn2_1    | 2021-10-04 15:31:12,265 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
dn2_1    | 2021-10-04 15:31:13,494 [main] INFO reflections.Reflections: Reflections took 950 ms to scan 2 urls, producing 84 keys and 169 values 
dn2_1    | 2021-10-04 15:31:13,839 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
dn2_1    | 2021-10-04 15:31:13,870 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
dn2_1    | 2021-10-04 15:31:15,038 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-10-04T15:30:45.367Z
dn2_1    | 2021-10-04 15:31:15,124 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
dn2_1    | 2021-10-04 15:31:15,146 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
dn2_1    | 2021-10-04 15:31:15,147 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
dn2_1    | 2021-10-04 15:31:15,380 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
dn2_1    | 2021-10-04 15:31:15,578 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn2_1    | 2021-10-04 15:31:15,613 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/metadata/ratis/scmUsed: 114688 at 2021-10-04T15:28:43.512Z
dn2_1    | 2021-10-04 15:31:15,614 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
dn2_1    | 2021-10-04 15:31:15,618 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/metadata/ratis
dn2_1    | 2021-10-04 15:31:15,623 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/metadata/ratis
dn2_1    | 2021-10-04 15:31:15,821 [Thread-3] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
dn2_1    | 2021-10-04 15:31:16,859 [Thread-3] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
dn2_1    | 2021-10-04 15:31:16,866 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 1s
dn2_1    | 2021-10-04 15:31:25,376 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn2_1    | 2021-10-04 15:31:25,616 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
dn2_1    | 2021-10-04 15:31:26,283 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
dn2_1    | 2021-10-04 15:31:26,292 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
dn2_1    | 2021-10-04 15:31:26,292 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
dn2_1    | 2021-10-04 15:31:26,293 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
dn2_1    | 2021-10-04 15:31:26,314 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:31:26,330 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
dn2_1    | 2021-10-04 15:31:26,330 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn2_1    | 2021-10-04 15:31:28,874 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn2_1    | 2021-10-04 15:31:28,905 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-10-04 15:31:28,906 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-10-04 15:31:29,098 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-10-04 15:31:29,119 [main] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: found a subdirectory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn2_1    | 2021-10-04 15:31:29,174 [main] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: addNew group-D9A1593738B3:[] returns group-D9A1593738B3:java.util.concurrent.CompletableFuture@16da476c[Not completed]
dn2_1    | 2021-10-04 15:31:29,182 [main] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: found a subdirectory /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3
dn2_1    | 2021-10-04 15:31:29,182 [main] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: addNew group-ED602BD476C3:[] returns group-ED602BD476C3:java.util.concurrent.CompletableFuture@2fd72332[Not completed]
dn2_1    | 2021-10-04 15:31:29,183 [main] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: found a subdirectory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn2_1    | 2021-10-04 15:31:29,183 [main] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: addNew group-E2410CA4C9B0:[] returns group-E2410CA4C9B0:java.util.concurrent.CompletableFuture@51f18e31[Not completed]
dn2_1    | 2021-10-04 15:31:29,704 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281: new RaftServerImpl for group-D9A1593738B3:[] with ContainerStateMachine:uninitialized
dn2_1    | 2021-10-04 15:31:29,746 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-10-04 15:31:29,789 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-10-04 15:31:29,789 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-10-04 15:31:29,789 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-10-04 15:31:29,789 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-10-04 15:31:29,789 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-10-04 15:31:29,791 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-10-04 15:31:29,821 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-10-04 15:31:29,893 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-10-04 15:31:29,896 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-10-04 15:31:29,931 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-10-04 15:31:30,136 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/in_use.lock acquired by nodename 7@1790a64b8e24
dn2_1    | 2021-10-04 15:31:30,256 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=8, votedFor=435cedd2-24c7-47d5-bcd3-a0497da1e3ca} from /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/raft-meta
dn2_1    | 2021-10-04 15:31:30,559 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Setting the last applied index to (t:5, i:5)
dn2_1    | 2021-10-04 15:31:30,783 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
dn2_1    | 2021-10-04 15:31:31,003 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn2_1    | 2021-10-04 15:31:31,442 [main] INFO util.log: Logging initialized @34999ms to org.eclipse.jetty.util.log.Slf4jLog
dn2_1    | 2021-10-04 15:31:32,032 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:32,038 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-10-04 15:31:32,043 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-10-04 15:31:32,131 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-10-04 15:31:32,131 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:31:32,280 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn3_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn3_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn3_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn3_1    | 2021-10-04 15:31:01,476 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
dn3_1    | /************************************************************
dn3_1    | STARTUP_MSG: Starting HddsDatanodeService
dn3_1    | STARTUP_MSG:   host = af8742e22a2d/10.9.0.17
dn3_1    | STARTUP_MSG:   args = []
dn3_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn1_1    | 2021-10-04 15:31:34,131 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=3, votedFor=435cedd2-24c7-47d5-bcd3-a0497da1e3ca} from /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/raft-meta
dn1_1    | 2021-10-04 15:31:34,159 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-36CA4360DF3C: Setting the last applied index to (t:2, i:2)
dn1_1    | 2021-10-04 15:31:34,160 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: set configuration 3: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:34,160 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:34,189 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:31:34,190 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:31:34,190 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:31:34,190 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:34,191 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-10-04 15:31:34,192 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:31:34,201 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c
dn1_1    | 2021-10-04 15:31:34,202 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:31:34,205 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:31:34,206 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:34,206 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:31:34,206 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:31:34,209 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:31:34,212 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-10-04 15:31:34,212 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-10-04 15:31:34,217 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:34,242 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-10-04 15:31:34,244 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:34,261 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/log_0-0
dn1_1    | 2021-10-04 15:31:34,263 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: set configuration 1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:34,271 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/log_1-2
dn1_1    | 2021-10-04 15:31:34,284 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: set configuration 3: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:34,285 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/log_inprogress_3
dn1_1    | 2021-10-04 15:31:34,363 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
dn1_1    | 2021-10-04 15:31:34,364 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 2
dn1_1    | 2021-10-04 15:31:34,372 [pool-33-thread-1] INFO raftlog.RaftLog: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLog: commitIndex: updateToMax old=2, new=3, updated? true
dn1_1    | 2021-10-04 15:31:34,372 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:31:34,377 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-10-04 15:31:34,378 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-10-04 15:31:34,378 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-10-04 15:31:34,379 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-10-04 15:31:34,380 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-10-04 15:31:34,586 [Datanode State Machine Task Thread - 1] WARN statemachine.SCMConnectionManager: Trying to add an existing SCM Machine to Machines group. Ignoring the request.
dn1_1    | 2021-10-04 15:31:37,480 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.9.0.14:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
dn1_1    | 2021-10-04 15:31:39,690 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
dn1_1    | 2021-10-04 15:31:39,711 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
dn1_1    | 2021-10-04 15:31:40,244 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:31:40,322 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: start as a follower, conf=3: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:40,350 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: changes role from      null to FOLLOWER at term 3 for startAsFollower
dn2_1    | 2021-10-04 15:31:32,374 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-10-04 15:31:32,384 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-10-04 15:31:32,411 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn2_1    | 2021-10-04 15:31:32,522 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-10-04 15:31:32,523 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:31:32,524 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-10-04 15:31:32,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-10-04 15:31:32,537 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-10-04 15:31:32,538 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-10-04 15:31:32,549 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-10-04 15:31:32,552 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-10-04 15:31:32,626 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn2_1    | 2021-10-04 15:31:32,659 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-10-04 15:31:32,662 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-10-04 15:31:32,668 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
dn2_1    | 2021-10-04 15:31:32,749 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn2_1    | 2021-10-04 15:31:32,785 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
dn2_1    | 2021-10-04 15:31:32,793 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn2_1    | 2021-10-04 15:31:32,793 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn2_1    | 2021-10-04 15:31:33,005 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:33,063 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 4 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_0-3
dn2_1    | 2021-10-04 15:31:33,066 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: set configuration 4: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:33,070 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_4-5
dn3_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
dn3_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:46Z
dn3_1    | STARTUP_MSG:   java = 11.0.10
dn3_1    | ************************************************************/
dn3_1    | 2021-10-04 15:31:01,542 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
dn3_1    | 2021-10-04 15:31:03,511 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
dn3_1    | 2021-10-04 15:31:04,295 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn3_1    | 2021-10-04 15:31:05,810 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn3_1    | 2021-10-04 15:31:05,810 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
dn3_1    | 2021-10-04 15:31:07,545 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:af8742e22a2d ip:10.9.0.17
dn3_1    | 2021-10-04 15:31:09,035 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
dn3_1    | 2021-10-04 15:31:10,147 [main] INFO reflections.Reflections: Reflections took 827 ms to scan 2 urls, producing 84 keys and 169 values 
dn3_1    | 2021-10-04 15:31:10,754 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
dn3_1    | 2021-10-04 15:31:10,758 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
dn3_1    | 2021-10-04 15:31:12,143 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-10-04T15:30:45.389Z
dn3_1    | 2021-10-04 15:31:12,181 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
dn3_1    | 2021-10-04 15:31:12,192 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
dn3_1    | 2021-10-04 15:31:12,202 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
dn3_1    | 2021-10-04 15:31:12,430 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
dn3_1    | 2021-10-04 15:31:12,692 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn3_1    | 2021-10-04 15:31:12,759 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/metadata/ratis/scmUsed: 114688 at 2021-10-04T15:28:43.511Z
dn3_1    | 2021-10-04 15:31:12,766 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
dn3_1    | 2021-10-04 15:31:12,769 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/metadata/ratis
dn3_1    | 2021-10-04 15:31:12,771 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/metadata/ratis
dn3_1    | 2021-10-04 15:31:13,008 [Thread-3] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
dn3_1    | 2021-10-04 15:31:14,028 [Thread-3] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
dn3_1    | 2021-10-04 15:31:14,046 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 1s
dn3_1    | 2021-10-04 15:31:23,977 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn3_1    | 2021-10-04 15:31:24,245 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
dn3_1    | 2021-10-04 15:31:24,693 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
dn3_1    | 2021-10-04 15:31:24,697 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
dn3_1    | 2021-10-04 15:31:24,697 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
dn3_1    | 2021-10-04 15:31:24,704 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
dn3_1    | 2021-10-04 15:31:24,715 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:31:24,730 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
dn3_1    | 2021-10-04 15:31:24,734 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-10-04 15:31:27,419 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn3_1    | 2021-10-04 15:31:27,435 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:27,444 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:31:27,570 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:31:27,630 [main] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: found a subdirectory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn3_1    | 2021-10-04 15:31:27,702 [main] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: addNew group-D9A1593738B3:[] returns group-D9A1593738B3:java.util.concurrent.CompletableFuture@712ac7e6[Not completed]
dn3_1    | 2021-10-04 15:31:27,703 [main] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: found a subdirectory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn3_1    | 2021-10-04 15:31:27,704 [main] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: addNew group-E2410CA4C9B0:[] returns group-E2410CA4C9B0:java.util.concurrent.CompletableFuture@86d6bf7[Not completed]
dn3_1    | 2021-10-04 15:31:27,705 [main] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: found a subdirectory /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec
dn3_1    | 2021-10-04 15:31:27,709 [main] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: addNew group-658F144E8AEC:[] returns group-658F144E8AEC:java.util.concurrent.CompletableFuture@2fbe26da[Not completed]
dn3_1    | 2021-10-04 15:31:28,053 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac: new RaftServerImpl for group-D9A1593738B3:[] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:31:28,096 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-10-04 15:31:28,144 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:31:28,144 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:31:28,145 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:31:40,353 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState
dn1_1    | 2021-10-04 15:31:40,385 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: start as a follower, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:40,388 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from      null to FOLLOWER at term 8 for startAsFollower
dn1_1    | 2021-10-04 15:31:40,398 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-36CA4360DF3C,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:31:40,412 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: start as a follower, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:40,413 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: changes role from      null to FOLLOWER at term 12 for startAsFollower
dn1_1    | 2021-10-04 15:31:40,428 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
dn1_1    | 2021-10-04 15:31:40,413 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:31:40,429 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E2410CA4C9B0,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:31:40,446 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9A1593738B3,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:31:40,516 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start RPC server
dn1_1    | 2021-10-04 15:31:40,531 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: GrpcService started, listening on 9856
dn1_1    | 2021-10-04 15:31:40,542 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: GrpcService started, listening on 9857
dn1_1    | 2021-10-04 15:31:40,543 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: GrpcService started, listening on 9858
dn1_1    | 2021-10-04 15:31:40,572 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 435cedd2-24c7-47d5-bcd3-a0497da1e3ca is started using port 9858 for RATIS
dn1_1    | 2021-10-04 15:31:40,572 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 435cedd2-24c7-47d5-bcd3-a0497da1e3ca is started using port 9857 for RATIS_ADMIN
dn1_1    | 2021-10-04 15:31:40,572 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 435cedd2-24c7-47d5-bcd3-a0497da1e3ca is started using port 9856 for RATIS_SERVER
dn1_1    | 2021-10-04 15:31:40,580 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$453/0x0000000840571840@3a030c5d] INFO util.JvmPauseMonitor: JvmPauseMonitor-435cedd2-24c7-47d5-bcd3-a0497da1e3ca: Started
dn1_1    | 2021-10-04 15:31:45,518 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5166711122ns, electionTimeout:5098ms
dn1_1    | 2021-10-04 15:31:45,518 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState
dn1_1    | 2021-10-04 15:31:45,519 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
dn1_1    | 2021-10-04 15:31:45,521 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-10-04 15:31:45,521 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1
dn1_1    | 2021-10-04 15:31:45,591 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5177762095ns, electionTimeout:5133ms
dn1_1    | 2021-10-04 15:31:45,591 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:31:45,592 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
dn1_1    | 2021-10-04 15:31:45,592 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-10-04 15:31:45,592 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2
dn1_1    | 2021-10-04 15:31:45,639 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5226528522ns, electionTimeout:5189ms
dn1_1    | 2021-10-04 15:31:45,640 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
dn1_1    | 2021-10-04 15:31:45,640 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
dn3_1    | 2021-10-04 15:31:28,145 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:31:28,145 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:31:28,146 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:31:28,314 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:31:28,329 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:31:28,389 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:31:28,412 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:31:28,566 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/in_use.lock acquired by nodename 7@af8742e22a2d
dn3_1    | 2021-10-04 15:31:28,694 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=8, votedFor=435cedd2-24c7-47d5-bcd3-a0497da1e3ca} from /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/raft-meta
dn3_1    | 2021-10-04 15:31:28,957 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Setting the last applied index to (t:5, i:5)
dn3_1    | 2021-10-04 15:31:29,023 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
dn3_1    | 2021-10-04 15:31:29,233 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn3_1    | 2021-10-04 15:31:29,502 [main] INFO util.log: Logging initialized @35737ms to org.eclipse.jetty.util.log.Slf4jLog
dn3_1    | 2021-10-04 15:31:30,354 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:30,372 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:30,381 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-10-04 15:31:30,467 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-10-04 15:31:30,476 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:31:30,563 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:30,635 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn3_1    | 2021-10-04 15:31:30,657 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:31:30,658 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:31:30,661 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
dn3_1    | 2021-10-04 15:31:30,678 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn3_1    | 2021-10-04 15:31:30,696 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn3_1    | 2021-10-04 15:31:30,698 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-10-04 15:31:30,707 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:31:30,714 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
dn3_1    | 2021-10-04 15:31:30,714 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn3_1    | 2021-10-04 15:31:30,716 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:30,721 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn3_1    | 2021-10-04 15:31:30,729 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:31:30,730 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-10-04 15:31:30,784 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-10-04 15:31:30,791 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-10-04 15:31:30,791 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:31:30,876 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:30,927 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-10-04 15:31:31,219 [main] INFO http.HttpServer2: Jetty bound to port 9882
dn3_1    | 2021-10-04 15:31:31,222 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn3_1    | 2021-10-04 15:31:31,229 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:31,294 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 4 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_0-3
dn3_1    | 2021-10-04 15:31:31,319 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: set configuration 4: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:31,341 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_4-5
dn3_1    | 2021-10-04 15:31:31,342 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:31,347 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 6 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_6
dn3_1    | 2021-10-04 15:31:31,371 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 11
dn3_1    | 2021-10-04 15:31:31,377 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 5
dn3_1    | 2021-10-04 15:31:31,550 [main] INFO server.session: DefaultSessionIdManager workerName=node0
dn3_1    | 2021-10-04 15:31:31,553 [main] INFO server.session: No SessionScavenger set, using defaults
dn3_1    | 2021-10-04 15:31:31,555 [main] INFO server.session: node0 Scavenging every 660000ms
dn3_1    | 2021-10-04 15:31:31,731 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@6af5b246{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn3_1    | 2021-10-04 15:31:31,733 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@8054fe2{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn3_1    | 2021-10-04 15:31:31,971 [pool-33-thread-1] INFO raftlog.RaftLog: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog: commitIndex: updateToMax old=5, new=9, updated? true
dn3_1    | 2021-10-04 15:31:31,994 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:31:32,014 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:31:32,021 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:31:32,024 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:31:32,055 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:31:32,061 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:31:32,473 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac: new RaftServerImpl for group-E2410CA4C9B0:[] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:31:32,481 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-10-04 15:31:32,483 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:31:32,486 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:31:32,497 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:32,506 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:31:32,507 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:31:32,507 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:31:32,507 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:31:32,508 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:31:32,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:31:32,510 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:31:32,524 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/in_use.lock acquired by nodename 7@af8742e22a2d
dn2_1    | 2021-10-04 15:31:33,074 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:33,104 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 6 entries from segment file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_6
dn1_1    | 2021-10-04 15:31:45,641 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-10-04 15:31:45,641 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3
dn3_1    | 2021-10-04 15:31:32,525 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=12, votedFor=7eae0302-d0e5-479a-98f0-34ad09d996ac} from /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/raft-meta
dn3_1    | 2021-10-04 15:31:32,527 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Setting the last applied index to (t:9, i:5)
dn3_1    | 2021-10-04 15:31:32,527 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:32,539 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:32,539 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-10-04 15:31:32,541 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-10-04 15:31:32,542 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:31:32,542 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:32,550 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:31:32,568 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:31:32,569 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn3_1    | 2021-10-04 15:31:32,569 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-10-04 15:31:32,569 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:31:32,569 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:32,585 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:31:32,586 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-10-04 15:31:32,586 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-10-04 15:31:32,587 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-10-04 15:31:32,587 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:31:32,588 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:32,594 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
om1_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om1_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn1_1    | 2021-10-04 15:31:45,815 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1 ELECTION round 0: submit vote requests at term 4 for 3: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:31:45,834 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1 ELECTION round 0: result PASSED (term=4)
dn1_1    | 2021-10-04 15:31:45,835 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1
dn2_1    | 2021-10-04 15:31:33,128 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 11
dn2_1    | 2021-10-04 15:31:33,139 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 5
dn2_1    | 2021-10-04 15:31:33,196 [main] INFO http.HttpServer2: Jetty bound to port 9882
dn1_1    | 2021-10-04 15:31:45,836 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
om2_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om1_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om1_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn2_1    | 2021-10-04 15:31:33,237 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn2_1    | 2021-10-04 15:31:33,484 [main] INFO server.session: DefaultSessionIdManager workerName=node0
dn2_1    | 2021-10-04 15:31:33,485 [main] INFO server.session: No SessionScavenger set, using defaults
dn2_1    | 2021-10-04 15:31:33,487 [main] INFO server.session: node0 Scavenging every 660000ms
dn1_1    | 2021-10-04 15:31:45,835 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2 ELECTION round 0: submit vote requests at term 9 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:45,838 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-36CA4360DF3C with new leaderId: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
om1_1    | 2021-10-04 15:31:03,929 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om1_1    | /************************************************************
om1_1    | STARTUP_MSG: Starting OzoneManager
om1_1    | STARTUP_MSG:   host = f3e36e1168a2/10.9.0.11
om1_1    | STARTUP_MSG:   args = [--upgrade]
om1_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om1_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.9.7.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.9.7.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
om1_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:47Z
om1_1    | STARTUP_MSG:   java = 11.0.10
om1_1    | ************************************************************/
om1_1    | 2021-10-04 15:31:04,004 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om1_1    | 2021-10-04 15:31:14,835 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om1_1    | 2021-10-04 15:31:15,234 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: omservice, OMNodeId: om1, RPC Address: om1:9862 and Ratis port: 9872
om1_1    | 2021-10-04 15:31:15,235 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.omservice.om1: om1
om1_1    | 2021-10-04 15:31:15,271 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
om3_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn2_1    | 2021-10-04 15:31:33,598 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3e900e1a{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn1_1    | 2021-10-04 15:31:45,848 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: change Leader from null to 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at term 4 for becomeLeader, leader elected after 11677ms
dn3_1    | 2021-10-04 15:31:32,597 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om1_1    | 2021-10-04 15:31:15,450 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
om2_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
s3g_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om3_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
scm_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn2_1    | 2021-10-04 15:31:33,615 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5934153e{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn3_1    | 2021-10-04 15:31:32,620 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_0-0
recon_1  | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
om1_1    | 2021-10-04 15:31:17,525 [main] INFO reflections.Reflections: Reflections took 1764 ms to scan 1 urls, producing 95 keys and 258 values [using 2 cores]
om2_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
s3g_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
om3_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
scm_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn1_1    | 2021-10-04 15:31:45,863 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3 ELECTION round 0: submit vote requests at term 13 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:31:33,873 [pool-33-thread-1] INFO raftlog.RaftLog: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLog: commitIndex: updateToMax old=5, new=9, updated? true
dn3_1    | 2021-10-04 15:31:32,622 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: set configuration 1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om1_1    | 2021-10-04 15:31:17,708 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | 2021-10-04 15:31:02,263 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
s3g_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om3_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
scm_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn1_1    | 2021-10-04 15:31:45,898 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn2_1    | 2021-10-04 15:31:33,912 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:31:32,628 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 5 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_1-5
recon_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om1_1    | 2021-10-04 15:31:23,528 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | /************************************************************
s3g_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om3_1    | 2021-10-04 15:30:59,659 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
scm_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn1_1    | 2021-10-04 15:31:46,019 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:31:33,915 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:31:32,630 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | 2021-10-04 15:31:00,033 [main] INFO recon.ReconServer: STARTUP_MSG: 
om1_1    | 2021-10-04 15:31:25,530 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | STARTUP_MSG: Starting OzoneManager
s3g_1    | 2021-10-04 15:31:03,773 [main] INFO http.BaseHttpServer: Starting Web-server for s3gateway at: http://0.0.0.0:9878
om3_1    | /************************************************************
scm_1    | 2021-10-04 15:31:06,840 [main] INFO server.StorageContainerManagerStarter: STARTUP_MSG: 
dn1_1    | 2021-10-04 15:31:46,028 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 2021-10-04 15:31:33,919 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:31:32,631 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_6
recon_1  | /************************************************************
om1_1    | 2021-10-04 15:31:27,532 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | STARTUP_MSG:   host = 9d4fe15571b3/10.9.0.12
s3g_1    | 2021-10-04 15:31:03,800 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om3_1    | STARTUP_MSG: Starting OzoneManager
scm_1    | /************************************************************
dn1_1    | 2021-10-04 15:31:46,128 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-10-04 15:31:33,920 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:31:32,648 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 7
recon_1  | STARTUP_MSG: Starting ReconServer
om1_1    | 2021-10-04 15:31:29,533 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | STARTUP_MSG:   args = [--upgrade]
s3g_1    | 2021-10-04 15:31:04,025 [main] INFO util.log: Logging initialized @9048ms to org.eclipse.jetty.util.log.Slf4jLog
om3_1    | STARTUP_MSG:   host = 6d4241356d4a/10.9.0.13
scm_1    | STARTUP_MSG: Starting StorageContainerManager
dn1_1    | 2021-10-04 15:31:46,161 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-10-04 15:31:33,926 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:31:32,648 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 5
recon_1  | STARTUP_MSG:   host = 170c382474e0/10.9.0.18
om1_1    | 2021-10-04 15:31:31,536 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
s3g_1    | 2021-10-04 15:31:05,323 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
s3g_1    | 2021-10-04 15:31:05,516 [main] INFO http.HttpRequestLog: Http request log for http.requests.s3gateway is not defined
scm_1    | STARTUP_MSG:   host = 4a5012c26ff6/10.9.0.14
dn1_1    | 2021-10-04 15:31:46,164 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-10-04 15:31:33,938 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:31:32,669 [pool-33-thread-1] INFO raftlog.RaftLog: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLog: commitIndex: updateToMax old=5, new=6, updated? true
recon_1  | STARTUP_MSG:   args = []
om1_1    | 2021-10-04 15:31:33,538 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 6 failover attempts. Trying to failover after sleeping for 2000ms.
s3g_1    | 2021-10-04 15:31:05,572 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om3_1    | STARTUP_MSG:   args = [--upgrade]
om2_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.9.7.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.9.7.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
scm_1    | STARTUP_MSG:   args = []
dn1_1    | 2021-10-04 15:31:46,232 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderStateImpl
dn2_1    | 2021-10-04 15:31:34,305 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281: new RaftServerImpl for group-ED602BD476C3:[] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:31:32,672 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
recon_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om1_1    | 2021-10-04 15:31:35,540 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From f3e36e1168a2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 7 failover attempts. Trying to failover after sleeping for 2000ms.
s3g_1    | 2021-10-04 15:31:05,610 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context s3gateway
om3_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om2_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:47Z
om2_1    | STARTUP_MSG:   java = 11.0.10
dn1_1    | 2021-10-04 15:31:46,301 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
dn2_1    | 2021-10-04 15:31:34,321 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-10-04 15:31:32,677 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
om1_1    | 2021-10-04 15:31:43,215 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
recon_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/hk2-utils-2.5.0.jar:/opt/hadoop/share/ozone/lib/jakarta.inject-2.6.1.jar:/opt/hadoop/share/ozone/lib/hk2-locator-2.6.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/aopalliance-1.0.jar:/opt/hadoop/share/ozone/lib/sqlite-jdbc-3.25.2.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/aopalliance-repackaged-2.5.0.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/spring-beans-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/guice-4.0.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/spring-jdbc-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/jakarta.ws.rs-api-2.1.6.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-2.33.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/spring-core-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-core-2.33.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guice-multibindings-4.0.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/bonecp-0.8.0.RELEASE.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.9.7.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/ozone-reconcodegen-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/hk2-api-2.5.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.inject-1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jakarta.validation-api-2.0.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.9.7.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jersey-client-2.33.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jersey-hk2-2.33.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/jersey-media-jaxb-2.33.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-tools-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jooq-3.11.10.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/jakarta.annotation-api-1.3.5.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/jersey-server-2.33.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/osgi-resource-locator-1.0.3.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/derby-10.14.2.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/jooq-codegen-3.11.10.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/jersey-entity-filtering-2.33.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/spring-tx-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/guice-assistedinject-4.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-media-json-jackson-2.33.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jackson-module-jaxb-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/guice-servlet-4.0.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guice-bridge-2.5.0.jar:/opt/hadoop/share/ozone/lib/jooq-meta-3.11.10.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/jakarta.xml.bind-api-2.3.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/spring-jcl-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/jersey-common-2.33.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-recon-1.2.0-SNAPSHOT.jar
s3g_1    | 2021-10-04 15:31:05,611 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
s3g_1    | 2021-10-04 15:31:05,611 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
s3g_1    | 2021-10-04 15:31:06,007 [main] INFO s3.Gateway: STARTUP_MSG: 
s3g_1    | /************************************************************
s3g_1    | STARTUP_MSG: Starting Gateway
dn2_1    | 2021-10-04 15:31:34,322 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:31:32,678 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
om1_1    | 2021-10-04 15:31:43,794 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
recon_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:47Z
dn1_1    | 2021-10-04 15:31:46,402 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/log_inprogress_3 to /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/log_3-4
om2_1    | ************************************************************/
scm_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om3_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.9.7.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.9.7.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
om3_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:47Z
dn2_1    | 2021-10-04 15:31:34,323 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:31:32,681 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
om1_1    | 2021-10-04 15:31:43,796 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
recon_1  | STARTUP_MSG:   java = 11.0.10
dn1_1    | 2021-10-04 15:31:46,435 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/current/log_inprogress_5
om2_1    | 2021-10-04 15:31:02,322 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om3_1    | STARTUP_MSG:   java = 11.0.10
s3g_1    | STARTUP_MSG:   host = 314b8d0bb902/10.9.0.19
scm_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar
dn2_1    | 2021-10-04 15:31:34,323 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:32,688 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
om1_1    | 2021-10-04 15:31:44,519 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
recon_1  | ************************************************************/
dn1_1    | 2021-10-04 15:31:46,480 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderElection1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: set configuration 5: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
om2_1    | 2021-10-04 15:31:13,170 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om3_1    | ************************************************************/
s3g_1    | STARTUP_MSG:   args = []
scm_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:46Z
dn2_1    | 2021-10-04 15:31:34,323 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:31:32,691 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om1_1    | 2021-10-04 15:31:44,523 [main] WARN utils.OzoneManagerRatisUtils: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
recon_1  | 2021-10-04 15:31:00,107 [main] INFO recon.ReconServer: registered UNIX signal handlers for [TERM, HUP, INT]
dn1_1    | 2021-10-04 15:31:48,607 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-D9A1593738B3, 9, (t:8, i:11))
om2_1    | 2021-10-04 15:31:13,735 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: omservice, OMNodeId: om2, RPC Address: om2:9862 and Ratis port: 9872
om3_1    | 2021-10-04 15:30:59,741 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
s3g_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
scm_1    | STARTUP_MSG:   java = 11.0.10
dn2_1    | 2021-10-04 15:31:34,324 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:31:32,696 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac: new RaftServerImpl for group-658F144E8AEC:[] with ContainerStateMachine:uninitialized
om1_1    | 2021-10-04 15:31:44,546 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
recon_1  | WARNING: An illegal reflective access operation has occurred
dn1_1    | 2021-10-04 15:31:48,629 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-CANDIDATE: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: already has voted for 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at current term 9
om2_1    | 2021-10-04 15:31:13,741 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.omservice.om2: om2
om3_1    | 2021-10-04 15:31:10,699 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
scm_1    | ************************************************************/
s3g_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/hk2-utils-2.5.0.jar:/opt/hadoop/share/ozone/lib/jakarta.inject-2.6.1.jar:/opt/hadoop/share/ozone/lib/hk2-locator-2.6.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/aopalliance-repackaged-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.interceptor-api-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/javax.el-api-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jakarta.ws.rs-api-2.1.6.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/jackson-dataformat-xml-2.12.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-core-2.33.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/cdi-api-1.2.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/hk2-api-2.5.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.inject-1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jakarta.validation-api-2.0.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jersey-client-2.33.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jersey-hk2-2.33.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jersey-media-jaxb-2.33.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/jakarta.annotation-api-1.3.5.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/jersey-server-2.33.jar:/opt/hadoop/share/ozone/lib/jersey-cdi1x-2.33.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/osgi-resource-locator-1.0.3.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jackson-module-jaxb-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/jakarta.xml.bind-api-2.3.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/jersey-common-2.33.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-s3gateway-1.2.0-SNAPSHOT.jar
dn2_1    | 2021-10-04 15:31:34,325 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:31:32,709 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
om1_1    | 2021-10-04 15:31:45,343 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om1_1    | 2021-10-04 15:31:45,466 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1    | 2021-10-04 15:31:45,845 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with groupID: omservice and peers: om1:9872, om3:9872, om2:9872
om2_1    | 2021-10-04 15:31:13,748 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om3_1    | 2021-10-04 15:31:11,248 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: omservice, OMNodeId: om3, RPC Address: om3:9862 and Ratis port: 9872
scm_1    | 2021-10-04 15:31:06,932 [main] INFO server.StorageContainerManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
s3g_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/7bdc1bbd5eff923313ff7f1a4c74a4fd66b8a80e ; compiled by 'runner' on 2021-10-04T14:47Z
dn2_1    | 2021-10-04 15:31:34,327 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:31:32,710 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-10-04 15:31:48,659 [grpc-default-executor-0] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-E2410CA4C9B0, 13, (t:12, i:7))
dn1_1    | 2021-10-04 15:31:48,661 [grpc-default-executor-0] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-CANDIDATE: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: already has voted for 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at current term 13
om1_1    | 2021-10-04 15:31:45,955 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:6, i:27)
om2_1    | 2021-10-04 15:31:14,022 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
om3_1    | 2021-10-04 15:31:11,253 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.omservice.om3: om3
scm_1    | 2021-10-04 15:31:08,106 [main] INFO ha.SCMHANodeDetails: ServiceID for StorageContainerManager is null
s3g_1    | STARTUP_MSG:   java = 11.0.10
dn2_1    | 2021-10-04 15:31:34,327 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:31:32,710 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:31:48,671 [grpc-default-executor-0] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t13. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0:t13, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$2 (file:/opt/hadoop/share/ozone/lib/guice-4.0.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
om1_1    | 2021-10-04 15:31:46,183 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
om2_1    | 2021-10-04 15:31:16,660 [main] INFO reflections.Reflections: Reflections took 2181 ms to scan 1 urls, producing 95 keys and 258 values [using 2 cores]
om2_1    | 2021-10-04 15:31:16,789 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
scm_1    | 2021-10-04 15:31:08,125 [main] INFO ha.SCMHANodeDetails: ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
s3g_1    | ************************************************************/
dn2_1    | 2021-10-04 15:31:34,330 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:31:32,710 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
recon_1  | WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$2
om1_1    | 2021-10-04 15:31:46,722 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
dn1_1    | 2021-10-04 15:31:48,695 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t9. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3:t9, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 2021-10-04 15:31:11,256 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | 2021-10-04 15:31:21,563 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:09,551 [main] WARN server.ServerUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
s3g_1    | 2021-10-04 15:31:06,047 [main] INFO s3.Gateway: registered UNIX signal handlers for [TERM, HUP, INT]
dn2_1    | 2021-10-04 15:31:34,331 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:31:32,719 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
recon_1  | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
om1_1    | 2021-10-04 15:31:46,723 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
dn1_1    | 2021-10-04 15:31:48,873 [grpc-default-executor-0] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-D9A1593738B3, 9, (t:8, i:11))
om3_1    | 2021-10-04 15:31:11,618 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
om2_1    | 2021-10-04 15:31:23,564 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:10,076 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
s3g_1    | 2021-10-04 15:31:06,438 [main] INFO s3.Gateway: Starting Ozone S3 gateway
dn2_1    | 2021-10-04 15:31:34,336 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/in_use.lock acquired by nodename 7@1790a64b8e24
dn3_1    | 2021-10-04 15:31:32,740 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
recon_1  | WARNING: All illegal access operations will be denied in a future release
om1_1    | 2021-10-04 15:31:46,730 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
om1_1    | 2021-10-04 15:31:46,731 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om3_1    | 2021-10-04 15:31:13,955 [main] INFO reflections.Reflections: Reflections took 1772 ms to scan 1 urls, producing 95 keys and 258 values [using 2 cores]
om2_1    | 2021-10-04 15:31:25,566 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:15,347 [main] INFO reflections.Reflections: Reflections took 2099 ms to scan 3 urls, producing 103 keys and 213 values 
s3g_1    | 2021-10-04 15:31:06,488 [main] INFO http.HttpServer2: Jetty bound to port 9878
dn2_1    | 2021-10-04 15:31:34,337 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=3, votedFor=13b5a4a4-50b2-495a-a313-b6d400921281} from /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/raft-meta
dn3_1    | 2021-10-04 15:31:32,740 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
recon_1  | 2021-10-04 15:31:06,033 [main] INFO reflections.Reflections: Reflections took 258 ms to scan 1 urls, producing 13 keys and 35 values 
om1_1    | 2021-10-04 15:31:46,733 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
dn1_1    | 2021-10-04 15:31:48,874 [grpc-default-executor-0] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-CANDIDATE: reject ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: already has voted for 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at current term 9
om3_1    | 2021-10-04 15:31:14,066 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | 2021-10-04 15:31:27,567 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:16,464 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
s3g_1    | 2021-10-04 15:31:06,523 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn2_1    | 2021-10-04 15:31:34,339 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-ED602BD476C3: Setting the last applied index to (t:2, i:2)
dn3_1    | 2021-10-04 15:31:32,743 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
recon_1  | 2021-10-04 15:31:09,693 [main] INFO recon.ReconServer: Initializing Recon server...
om1_1    | 2021-10-04 15:31:46,736 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
dn1_1    | 2021-10-04 15:31:48,874 [grpc-default-executor-0] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3 replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t9. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3:t9, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:48,881 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-E2410CA4C9B0, 13, (t:12, i:7))
om2_1    | 2021-10-04 15:31:29,569 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:16,514 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
s3g_1    | 2021-10-04 15:31:06,823 [main] INFO server.session: DefaultSessionIdManager workerName=node0
dn2_1    | 2021-10-04 15:31:34,345 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: set configuration 3: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:32,745 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
recon_1  | 2021-10-04 15:31:09,715 [main] INFO impl.ReconDBProvider: Last known Recon DB : /data/metadata/recon/recon-container-key.db_1633361441600
dn1_1    | 2021-10-04 15:31:48,889 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-CANDIDATE: reject ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: already has voted for 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at current term 13
om3_1    | 2021-10-04 15:31:19,279 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:46,786 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om2_1    | 2021-10-04 15:31:31,570 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 6 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:16,514 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
s3g_1    | 2021-10-04 15:31:06,823 [main] INFO server.session: No SessionScavenger set, using defaults
dn2_1    | 2021-10-04 15:31:34,346 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:32,746 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
recon_1  | 2021-10-04 15:31:11,367 [main] INFO persistence.DefaultDataSourceProvider: JDBC Url for Recon : jdbc:derby:/data/metadata/recon/ozone_recon_derby.db 
dn1_1    | 2021-10-04 15:31:48,890 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0 replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t13. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0:t13, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:31:21,281 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:46,786 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
om2_1    | 2021-10-04 15:31:33,573 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 7 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:16,521 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFinalizeUpgradeActionDatanode
s3g_1    | 2021-10-04 15:31:06,836 [main] INFO server.session: node0 Scavenging every 660000ms
dn2_1    | 2021-10-04 15:31:34,347 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-10-04 15:31:32,746 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
recon_1  | 2021-10-04 15:31:15,492 [main] INFO codegen.SqlDbUtils: Created derby database at jdbc:derby:/data/metadata/recon/ozone_recon_derby.db.
dn1_1    | 2021-10-04 15:31:49,116 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om3_1    | 2021-10-04 15:31:23,284 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:46,790 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om2_1    | 2021-10-04 15:31:35,574 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 9d4fe15571b3/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 8 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1    | 2021-10-04 15:31:24,452 [main] WARN utils.HAUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
s3g_1    | 2021-10-04 15:31:07,033 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@407a7f2a{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn2_1    | 2021-10-04 15:31:34,357 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-10-04 15:31:32,774 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/in_use.lock acquired by nodename 7@af8742e22a2d
recon_1  | 2021-10-04 15:31:19,111 [main] INFO persistence.DefaultDataSourceProvider: JDBC Url for Recon : jdbc:derby:/data/metadata/recon/ozone_recon_derby.db 
dn1_1    | 2021-10-04 15:31:49,117 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection:   Response 0: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t9
om3_1    | 2021-10-04 15:31:25,286 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:48,233 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
om2_1    | 2021-10-04 15:31:43,086 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
scm_1    | 2021-10-04 15:31:26,480 [main] WARN db.DBStoreBuilder: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
s3g_1    | 2021-10-04 15:31:07,034 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5f0fd5a0{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-s3gateway-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn2_1    | 2021-10-04 15:31:34,367 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:31:32,775 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=3, votedFor=7eae0302-d0e5-479a-98f0-34ad09d996ac} from /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/raft-meta
recon_1  | 2021-10-04 15:31:19,141 [main] INFO codegen.SqlDbUtils: Created derby database at jdbc:derby:/data/metadata/recon/ozone_recon_derby.db.
dn1_1    | 2021-10-04 15:31:49,117 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection:   Response 1: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t9
om3_1    | 2021-10-04 15:31:27,287 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:48,235 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om2_1    | 2021-10-04 15:31:43,601 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
scm_1    | 2021-10-04 15:31:28,191 [main] INFO net.NodeSchemaLoader: Loading schema from [file:/etc/hadoop/network-topology-default.xml, jar:file:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
s3g_1    | WARNING: An illegal reflective access operation has occurred
dn2_1    | 2021-10-04 15:31:34,367 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:32,778 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-658F144E8AEC: Setting the last applied index to (t:2, i:2)
recon_1  | 2021-10-04 15:31:19,143 [main] INFO recon.ReconServer: Creating Recon Schema.
dn1_1    | 2021-10-04 15:31:49,117 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2 ELECTION round 0: result REJECTED
om3_1    | 2021-10-04 15:31:29,289 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 6 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:48,235 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om2_1    | 2021-10-04 15:31:43,602 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
scm_1    | 2021-10-04 15:31:28,219 [main] INFO net.NodeSchemaLoader: Loading network topology layer schema file
s3g_1    | WARNING: Illegal reflective access by org.jboss.classfilewriter.ClassFile$1 (file:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)
dn2_1    | 2021-10-04 15:31:34,370 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:31:32,780 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: set configuration 3: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | 2021-10-04 15:31:22,152 [main] INFO codegen.SqlDbUtils: RECON_TASK_STATUS table already exists, skipping creation.
dn1_1    | 2021-10-04 15:31:49,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from CANDIDATE to FOLLOWER at term 9 for REJECTED
om3_1    | 2021-10-04 15:31:31,291 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 7 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:48,342 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om2_1    | 2021-10-04 15:31:43,971 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
scm_1    | 2021-10-04 15:31:29,211 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
s3g_1    | WARNING: Please consider reporting this to the maintainers of org.jboss.classfilewriter.ClassFile$1
dn2_1    | 2021-10-04 15:31:34,370 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:31:32,786 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
recon_1  | 2021-10-04 15:31:22,372 [main] INFO codegen.SqlDbUtils: UNHEALTHY_CONTAINERS table already exists, skipping creation.
dn1_1    | 2021-10-04 15:31:49,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2
om3_1    | 2021-10-04 15:31:33,293 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 8 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:48,344 [main] INFO server.RaftServer: om1: found a subdirectory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om2_1    | 2021-10-04 15:31:43,972 [main] WARN utils.OzoneManagerRatisUtils: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
scm_1    | 2021-10-04 15:31:29,439 [main] INFO ha.SequenceIdGenerator: Init the HA SequenceIdGenerator.
s3g_1    | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
dn2_1    | 2021-10-04 15:31:34,370 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3
dn3_1    | 2021-10-04 15:31:32,786 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
recon_1  | 2021-10-04 15:31:22,501 [main] INFO codegen.SqlDbUtils: GLOBAL_STATS table already exists, skipping creation.
dn1_1    | 2021-10-04 15:31:49,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection2] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
om3_1    | 2021-10-04 15:31:35,295 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 6d4241356d4a/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 9 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-10-04 15:31:48,398 [main] INFO server.RaftServer: om1: addNew group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] returns group-D66704EFC61C:java.util.concurrent.CompletableFuture@58fd1214[Not completed]
om2_1    | 2021-10-04 15:31:44,033 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
scm_1    | 2021-10-04 15:31:29,958 [main] INFO node.SCMNodeManager: Entering startup safe mode.
s3g_1    | WARNING: All illegal access operations will be denied in a future release
dn2_1    | 2021-10-04 15:31:34,370 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-10-04 15:31:32,793 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
recon_1  | 2021-10-04 15:31:24,791 [main] INFO codegen.SqlDbUtils: FILE_COUNT_BY_SIZE table already exists, skipping creation.
dn1_1    | 2021-10-04 15:31:49,219 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om3_1    | 2021-10-04 15:31:43,032 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1    | 2021-10-04 15:31:48,399 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
om2_1    | 2021-10-04 15:31:44,670 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
scm_1    | 2021-10-04 15:31:30,097 [main] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
scm_1    | 2021-10-04 15:31:30,940 [main] INFO algorithms.LeaderChoosePolicyFactory: Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
dn2_1    | 2021-10-04 15:31:34,370 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:31:32,794 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
recon_1  | 2021-10-04 15:31:24,902 [main] INFO codegen.SqlDbUtils: CLUSTER_GROWTH_DAILY table already exists, skipping creation.
dn1_1    | 2021-10-04 15:31:49,220 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection:   Response 0: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t13
om3_1    | 2021-10-04 15:31:43,503 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-10-04 15:31:48,526 [pool-23-thread-1] INFO server.RaftServer$Division: om1: new RaftServerImpl for group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] with OzoneManagerStateMachine:uninitialized
om2_1    | 2021-10-04 15:31:44,688 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
s3g_1    | Oct 04, 2021 3:31:30 PM org.glassfish.jersey.internal.Errors logErrors
scm_1    | 2021-10-04 15:31:31,033 [main] INFO ha.SCMServiceManager: Registering service BackgroundPipelineCreator.
dn2_1    | 2021-10-04 15:31:34,371 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:32,794 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
recon_1  | 2021-10-04 15:31:25,452 [main] INFO http.BaseHttpServer: Starting Web-server for recon at: http://0.0.0.0:9888
dn1_1    | 2021-10-04 15:31:49,220 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection:   Response 1: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t13
om3_1    | 2021-10-04 15:31:43,505 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-10-04 15:31:48,613 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
om2_1    | 2021-10-04 15:31:44,785 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with groupID: omservice and peers: om2:9872, om1:9872, om3:9872
s3g_1    | WARNING: The following warnings have been detected: WARNING: A HTTP GET method, public javax.ws.rs.core.Response org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.get(java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.io.InputStream) throws java.io.IOException,org.apache.hadoop.ozone.s3.exception.OS3Exception, should not consume any entity.
scm_1    | 2021-10-04 15:31:31,040 [main] INFO pipeline.BackgroundPipelineCreator: Starting RatisPipelineUtilsThread.
dn2_1    | 2021-10-04 15:31:34,373 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:31:32,795 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
recon_1  | 2021-10-04 15:31:25,592 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn1_1    | 2021-10-04 15:31:49,221 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3 ELECTION round 0: result REJECTED
om3_1    | 2021-10-04 15:31:43,975 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1    | 2021-10-04 15:31:48,640 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
om2_1    | 2021-10-04 15:31:44,816 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:6, i:27)
s3g_1    | 
scm_1    | 2021-10-04 15:31:31,438 [main] INFO algorithms.PipelineChoosePolicyFactory: Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
dn2_1    | 2021-10-04 15:31:34,374 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
recon_1  | 2021-10-04 15:31:25,680 [main] INFO util.log: Logging initialized @32395ms to org.eclipse.jetty.util.log.Slf4jLog
dn3_1    | 2021-10-04 15:31:32,797 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:31:49,221 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: changes role from CANDIDATE to FOLLOWER at term 13 for REJECTED
om3_1    | 2021-10-04 15:31:43,975 [main] WARN utils.OzoneManagerRatisUtils: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
om1_1    | 2021-10-04 15:31:48,641 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
om2_1    | 2021-10-04 15:31:44,974 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
s3g_1    | 2021-10-04 15:31:30,835 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@5eb87338{s3gateway,/,file:///tmp/jetty-0_0_0_0-9878-ozone-s3gateway-1_2_0-SNAPSHOT_jar-_-any-11271510965665331856/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-s3gateway-1.2.0-SNAPSHOT.jar!/webapps/s3gateway}
scm_1    | 2021-10-04 15:31:31,576 [main] INFO ha.SCMServiceManager: Registering service SCMBlockDeletingService.
dn2_1    | 2021-10-04 15:31:34,374 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
recon_1  | 2021-10-04 15:31:26,294 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn3_1    | 2021-10-04 15:31:32,802 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec
dn1_1    | 2021-10-04 15:31:49,221 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3
om3_1    | 2021-10-04 15:31:44,062 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
om1_1    | 2021-10-04 15:31:48,642 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om2_1    | 2021-10-04 15:31:45,612 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
s3g_1    | 2021-10-04 15:31:30,898 [main] INFO server.AbstractConnector: Started ServerConnector@2a225dd7{HTTP/1.1, (http/1.1)}{0.0.0.0:9878}
scm_1    | 2021-10-04 15:31:31,637 [main] INFO ha.SCMServiceManager: Registering service ReplicationManager.
dn2_1    | 2021-10-04 15:31:34,374 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
recon_1  | 2021-10-04 15:31:26,337 [main] WARN http.HttpRequestLog: Jetty request log can only be enabled using Log4j
dn3_1    | 2021-10-04 15:31:32,802 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:31:49,222 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection3] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
om3_1    | 2021-10-04 15:31:44,649 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om1_1    | 2021-10-04 15:31:48,643 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om2_1    | 2021-10-04 15:31:45,638 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
s3g_1    | 2021-10-04 15:31:30,903 [main] INFO server.Server: Started @35927ms
scm_1    | 2021-10-04 15:31:31,695 [main] INFO container.ReplicationManager: Starting Replication Monitor Thread.
dn2_1    | 2021-10-04 15:31:34,375 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
recon_1  | 2021-10-04 15:31:26,404 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn3_1    | 2021-10-04 15:31:32,804 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:31:53,974 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-D9A1593738B3, 10, (t:8, i:11))
om3_1    | 2021-10-04 15:31:44,680 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1    | 2021-10-04 15:31:48,644 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
om1_1    | 2021-10-04 15:31:48,654 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
s3g_1    | 2021-10-04 15:31:30,908 [main] INFO http.BaseHttpServer: HTTP server of s3gateway listening at http://0.0.0.0:9878
scm_1    | 2021-10-04 15:31:31,780 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 9 milliseconds for processing 3 containers.
dn2_1    | 2021-10-04 15:31:34,379 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
recon_1  | 2021-10-04 15:31:26,440 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context recon
dn3_1    | 2021-10-04 15:31:32,804 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:31:53,974 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FOLLOWER: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: our priority 1 > candidate's priority 0
om1_1    | 2021-10-04 15:31:48,693 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: ConfigurationManager, init=-1: [om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0], old=null, confs=<EMPTY_MAP>
om2_1    | 2021-10-04 15:31:45,652 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
om3_1    | 2021-10-04 15:31:44,769 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with groupID: omservice and peers: om3:9872, om1:9872, om2:9872
om3_1    | 2021-10-04 15:31:44,809 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:6, i:27)
scm_1    | 2021-10-04 15:31:31,911 [main] INFO safemode.ContainerSafeModeRule: containers with one replica threshold count 0
dn2_1    | 2021-10-04 15:31:34,391 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
recon_1  | 2021-10-04 15:31:26,451 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn3_1    | 2021-10-04 15:31:32,805 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:31:53,975 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:13b5a4a4-50b2-495a-a313-b6d400921281
om1_1    | 2021-10-04 15:31:48,695 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om3_1    | 2021-10-04 15:31:44,983 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
om2_1    | 2021-10-04 15:31:45,657 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om2_1    | 2021-10-04 15:31:45,665 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
dn2_1    | 2021-10-04 15:31:34,392 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: set configuration 0: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:31:34,393 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/log_0-0
scm_1    | 2021-10-04 15:31:31,964 [main] INFO safemode.HealthyPipelineSafeModeRule: Total pipeline count is 2, healthy pipeline threshold count is 1
om1_1    | 2021-10-04 15:31:48,715 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
dn1_1    | 2021-10-04 15:31:53,975 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:31:53,975 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
dn2_1    | 2021-10-04 15:31:34,395 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: set configuration 1: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:32,809 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om2_1    | 2021-10-04 15:31:45,667 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
recon_1  | 2021-10-04 15:31:26,451 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
scm_1    | 2021-10-04 15:31:32,011 [main] INFO safemode.OneReplicaPipelineSafeModeRule: Total pipeline count is 2, pipeline's with at least one datanode reported threshold count is 2
om1_1    | 2021-10-04 15:31:48,740 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-10-04 15:31:53,976 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState was interrupted: {}
om3_1    | 2021-10-04 15:31:45,608 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
dn2_1    | 2021-10-04 15:31:34,402 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/log_1-2
dn3_1    | 2021-10-04 15:31:32,813 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om2_1    | 2021-10-04 15:31:45,696 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
recon_1  | 2021-10-04 15:31:27,417 [main] INFO tasks.ReconTaskControllerImpl: Registered task ContainerKeyMapperTask with controller.
scm_1    | 2021-10-04 15:31:36,681 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om1_1    | 2021-10-04 15:31:48,745 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | java.lang.InterruptedException: sleep interrupted
om3_1    | 2021-10-04 15:31:45,619 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
dn2_1    | 2021-10-04 15:31:34,403 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: set configuration 3: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:32,815 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
recon_1  | 2021-10-04 15:31:27,748 [main] INFO tasks.ReconTaskControllerImpl: Registered task FileSizeCountTask with controller.
scm_1    | 2021-10-04 15:31:36,844 [Socket Reader #1 for port 9861] INFO ipc.Server: Starting Socket Reader #1 for port 9861
om1_1    | 2021-10-04 15:31:48,821 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
om3_1    | 2021-10-04 15:31:45,624 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
dn2_1    | 2021-10-04 15:31:34,406 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/log_inprogress_3
dn3_1    | 2021-10-04 15:31:32,819 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
recon_1  | 2021-10-04 15:31:27,789 [main] INFO tasks.ReconTaskControllerImpl: Registered task TableCountTask with controller.
scm_1    | 2021-10-04 15:31:36,957 [Listener at 0.0.0.0/9861] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om1_1    | 2021-10-04 15:31:48,927 [pool-23-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/in_use.lock acquired by nodename 9@f3e36e1168a2
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
om3_1    | 2021-10-04 15:31:45,624 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
dn2_1    | 2021-10-04 15:31:34,417 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
dn3_1    | 2021-10-04 15:31:32,824 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
om2_1    | 2021-10-04 15:31:45,704 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
scm_1    | 2021-10-04 15:31:36,961 [Socket Reader #1 for port 9863] INFO ipc.Server: Starting Socket Reader #1 for port 9863
om1_1    | 2021-10-04 15:31:48,984 [pool-23-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=6, votedFor=om2} from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/raft-meta
recon_1  | 2021-10-04 15:31:27,798 [main] INFO tasks.ReconTaskControllerImpl: Registered task NSSummaryTask with controller.
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
om3_1    | 2021-10-04 15:31:45,625 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
dn2_1    | 2021-10-04 15:31:34,419 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 2
dn3_1    | 2021-10-04 15:31:32,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
om2_1    | 2021-10-04 15:31:45,707 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
scm_1    | 2021-10-04 15:31:37,010 [Listener at 0.0.0.0/9863] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om1_1    | 2021-10-04 15:31:49,354 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
recon_1  | 2021-10-04 15:31:28,010 [main] INFO ozone.OmUtils: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
om3_1    | 2021-10-04 15:31:45,626 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
dn2_1    | 2021-10-04 15:31:34,422 [pool-33-thread-1] INFO raftlog.RaftLog: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLog: commitIndex: updateToMax old=2, new=3, updated? true
dn3_1    | 2021-10-04 15:31:32,847 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: set configuration 0: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om2_1    | 2021-10-04 15:31:48,146 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
scm_1    | 2021-10-04 15:31:37,021 [Socket Reader #1 for port 9860] INFO ipc.Server: Starting Socket Reader #1 for port 9860
om1_1    | 2021-10-04 15:31:49,361 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
recon_1  | 2021-10-04 15:31:28,014 [main] INFO ozone.OmUtils: Using OzoneManager ServiceID 'omservice'.
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
om3_1    | 2021-10-04 15:31:45,635 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:31:34,422 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:31:32,866 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/log_0-0
om2_1    | 2021-10-04 15:31:48,161 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
scm_1    | 2021-10-04 15:31:37,200 [Listener at 0.0.0.0/9860] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
om1_1    | 2021-10-04 15:31:49,356 [Listener at om1/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
recon_1  | 2021-10-04 15:31:30,673 [main] WARN recon.ReconUtils: ozone.recon.om.db.dir is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om3_1    | 2021-10-04 15:31:45,636 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
dn2_1    | 2021-10-04 15:31:34,427 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:31:32,855 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@44b940a2{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6378126299551574257/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
om2_1    | 2021-10-04 15:31:48,165 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1    | 2021-10-04 15:31:37,210 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: 
om1_1    | 2021-10-04 15:31:49,378 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
recon_1  | 2021-10-04 15:31:31,420 [main] WARN recon.ReconUtils: ozone.recon.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
dn1_1    | 2021-10-04 15:31:53,978 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t10. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3:t10, leader=null, voted=null, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 2021-10-04 15:31:45,639 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
dn2_1    | 2021-10-04 15:31:34,428 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:31:32,885 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: set configuration 1: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om2_1    | 2021-10-04 15:31:48,279 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1    | Container Balancer status:
om1_1    | 2021-10-04 15:31:49,410 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
recon_1  | 2021-10-04 15:31:31,553 [main] INFO net.NodeSchemaLoader: Loading schema from [file:/etc/hadoop/network-topology-default.xml, jar:file:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
dn1_1    | 2021-10-04 15:31:54,247 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-E2410CA4C9B0, 14, (t:12, i:7))
om3_1    | 2021-10-04 15:31:47,898 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn2_1    | 2021-10-04 15:31:34,429 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:31:32,885 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/log_1-2
om2_1    | 2021-10-04 15:31:48,287 [main] INFO server.RaftServer: om2: found a subdirectory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
scm_1    | Key                            Value
om1_1    | 2021-10-04 15:31:49,416 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
recon_1  | 2021-10-04 15:31:31,576 [main] INFO net.NodeSchemaLoader: Loading network topology layer schema file
dn1_1    | 2021-10-04 15:31:54,248 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FOLLOWER: accept ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: our priority 0 <= candidate's priority 1
om3_1    | 2021-10-04 15:31:47,908 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
dn2_1    | 2021-10-04 15:31:34,429 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:31:32,889 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: set configuration 3: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om2_1    | 2021-10-04 15:31:48,359 [main] INFO server.RaftServer: om2: addNew group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] returns group-D66704EFC61C:java.util.concurrent.CompletableFuture@7d8cf9ac[Not completed]
scm_1    | Running                        false
om1_1    | 2021-10-04 15:31:49,498 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
recon_1  | 2021-10-04 15:31:31,889 [main] WARN db.DBStoreBuilder: ozone.recon.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
dn1_1    | 2021-10-04 15:31:54,248 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: changes role from  FOLLOWER to FOLLOWER at term 14 for candidate:7eae0302-d0e5-479a-98f0-34ad09d996ac
om3_1    | 2021-10-04 15:31:47,911 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-10-04 15:31:34,429 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:31:32,897 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/log_inprogress_3
om2_1    | 2021-10-04 15:31:48,372 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
scm_1    | Container Balancer Configuration values:
om1_1    | 2021-10-04 15:31:49,536 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
recon_1  | 2021-10-04 15:31:32,026 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
dn1_1    | 2021-10-04 15:31:54,248 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
om3_1    | 2021-10-04 15:31:47,946 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-10-04 15:31:34,454 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281: new RaftServerImpl for group-E2410CA4C9B0:[] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:31:32,898 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
om2_1    | 2021-10-04 15:31:48,588 [pool-23-thread-1] INFO server.RaftServer$Division: om2: new RaftServerImpl for group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] with OzoneManagerStateMachine:uninitialized
scm_1    | Key                                                Value
om1_1    | 2021-10-04 15:31:49,542 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
recon_1  | 2021-10-04 15:31:32,622 [main] INFO reflections.Reflections: Reflections took 552 ms to scan 3 urls, producing 103 keys and 213 values 
dn1_1    | 2021-10-04 15:31:54,248 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
om3_1    | 2021-10-04 15:31:47,959 [main] INFO server.RaftServer: om3: found a subdirectory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
dn2_1    | 2021-10-04 15:31:34,457 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-10-04 15:31:32,905 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 2
om2_1    | 2021-10-04 15:31:48,641 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
scm_1    | Threshold                                          0.1
om1_1    | 2021-10-04 15:31:49,549 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: new om1@group-D66704EFC61C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
recon_1  | 2021-10-04 15:31:32,844 [main] INFO ha.SequenceIdGenerator: Init the HA SequenceIdGenerator.
dn1_1    | 2021-10-04 15:31:54,248 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState was interrupted: {}
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 2021-10-04 15:31:34,458 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:31:32,906 [pool-33-thread-1] INFO raftlog.RaftLog: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLog: commitIndex: updateToMax old=2, new=3, updated? true
om2_1    | 2021-10-04 15:31:48,641 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
scm_1    | Max Datanodes to Involve per Iteration(ratio)      0.2
om1_1    | 2021-10-04 15:31:49,583 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
recon_1  | 2021-10-04 15:31:32,929 [main] INFO node.SCMNodeManager: Entering startup safe mode.
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
om3_1    | 2021-10-04 15:31:48,019 [main] INFO server.RaftServer: om3: addNew group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] returns group-D66704EFC61C:java.util.concurrent.CompletableFuture@2921a36a[Not completed]
dn2_1    | 2021-10-04 15:31:34,458 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:31:32,907 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om2_1    | 2021-10-04 15:31:48,642 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
om1_1    | 2021-10-04 15:31:49,587 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
recon_1  | 2021-10-04 15:31:32,962 [main] INFO scm.ReconNodeManager: Loaded 0 nodes from node DB.
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
om3_1    | 2021-10-04 15:31:48,021 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
dn2_1    | 2021-10-04 15:31:34,458 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:32,907 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
om2_1    | 2021-10-04 15:31:48,642 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
recon_1  | 2021-10-04 15:31:32,987 [main] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
scm_1    | Max Size to Move per Iteration                     32212254720B
om3_1    | 2021-10-04 15:31:48,157 [pool-23-thread-1] INFO server.RaftServer$Division: om3: new RaftServerImpl for group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] with OzoneManagerStateMachine:uninitialized
dn2_1    | 2021-10-04 15:31:34,458 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:31:32,907 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
om2_1    | 2021-10-04 15:31:48,643 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om1_1    | 2021-10-04 15:31:49,598 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
recon_1  | 2021-10-04 15:31:33,148 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
scm_1    | 
om3_1    | 2021-10-04 15:31:48,246 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-10-04 15:31:34,458 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:31:32,907 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
om2_1    | 2021-10-04 15:31:48,643 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
om1_1    | 2021-10-04 15:31:49,606 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
recon_1  | 2021-10-04 15:31:33,318 [Socket Reader #1 for port 9891] INFO ipc.Server: Starting Socket Reader #1 for port 9891
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
scm_1    | 2021-10-04 15:31:37,210 [Listener at 0.0.0.0/9860] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
om3_1    | 2021-10-04 15:31:48,257 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-10-04 15:31:34,459 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:31:32,908 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
om2_1    | 2021-10-04 15:31:48,645 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om1_1    | 2021-10-04 15:31:49,610 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
recon_1  | 2021-10-04 15:31:33,743 [Listener at 0.0.0.0/9891] INFO recon.ReconServer: Recon server initialized successfully!
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
scm_1    | 2021-10-04 15:31:37,211 [Listener at 0.0.0.0/9860] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
scm_1    | 2021-10-04 15:31:37,241 [Listener at 0.0.0.0/9860] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
dn2_1    | 2021-10-04 15:31:34,459 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:31:32,911 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om2_1    | 2021-10-04 15:31:48,662 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1    | 2021-10-04 15:31:49,625 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
recon_1  | 2021-10-04 15:31:33,743 [Listener at 0.0.0.0/9891] INFO recon.ReconServer: Starting Recon server
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
scm_1    | 2021-10-04 15:31:37,250 [Listener at 0.0.0.0/9860] INFO upgrade.UpgradeFinalizer: Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
om3_1    | 2021-10-04 15:31:48,257 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-10-04 15:31:34,459 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:31:32,934 [main] INFO server.AbstractConnector: Started ServerConnector@d54d0f5{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
dn3_1    | 2021-10-04 15:31:32,936 [main] INFO server.Server: Started @39171ms
om1_1    | 2021-10-04 15:31:49,626 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
recon_1  | 2021-10-04 15:31:34,073 [Listener at 0.0.0.0/9891] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn1_1    | 2021-10-04 15:31:54,256 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0 replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t14. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0:t14, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
scm_1    | 2021-10-04 15:31:37,256 [Listener at 0.0.0.0/9860] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
om3_1    | 2021-10-04 15:31:48,273 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
dn2_1    | 2021-10-04 15:31:34,459 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:31:32,959 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
om2_1    | 2021-10-04 15:31:48,708 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: ConfigurationManager, init=-1: [om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0], old=null, confs=<EMPTY_MAP>
om1_1    | 2021-10-04 15:31:49,626 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
recon_1  | 2021-10-04 15:31:34,170 [Listener at 0.0.0.0/9891] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn1_1    | 2021-10-04 15:31:54,436 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E2410CA4C9B0 with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
scm_1    | 2021-10-04 15:31:37,257 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
om3_1    | 2021-10-04 15:31:48,277 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-10-04 15:31:34,460 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:31:32,960 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
om2_1    | 2021-10-04 15:31:48,713 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1    | 2021-10-04 15:31:49,684 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
recon_1  | 2021-10-04 15:31:34,170 [Listener at 0.0.0.0/9891] INFO impl.MetricsSystemImpl: Recon metrics system started
dn1_1    | 2021-10-04 15:31:54,437 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 14 for appendEntries, leader elected after 20599ms
scm_1    | 2021-10-04 15:31:37,643 [Listener at 0.0.0.0/9860] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
om3_1    | 2021-10-04 15:31:48,278 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-10-04 15:31:34,469 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/in_use.lock acquired by nodename 7@1790a64b8e24
dn3_1    | 2021-10-04 15:31:32,970 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
om2_1    | 2021-10-04 15:31:48,744 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om1_1    | 2021-10-04 15:31:49,685 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
recon_1  | 2021-10-04 15:31:34,981 [Listener at 0.0.0.0/9891] INFO http.HttpServer2: Jetty bound to port 9888
dn1_1    | 2021-10-04 15:31:54,462 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: set configuration 8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
scm_1    | 2021-10-04 15:31:37,681 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om3_1    | 2021-10-04 15:31:48,280 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-10-04 15:31:34,470 [pool-33-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=12, votedFor=7eae0302-d0e5-479a-98f0-34ad09d996ac} from /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/raft-meta
dn3_1    | 2021-10-04 15:31:33,000 [Datanode State Machine Thread - 0] INFO statemachine.DatanodeStateMachine: Ozone container server started.
om2_1    | 2021-10-04 15:31:48,761 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
om1_1    | 2021-10-04 15:31:49,867 [Listener at om1/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
recon_1  | 2021-10-04 15:31:34,988 [Listener at 0.0.0.0/9891] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn1_1    | 2021-10-04 15:31:54,465 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker: Rolling segment log-6_7 to index:7
scm_1    | 2021-10-04 15:31:37,682 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: StorageContainerManager metrics system started
om3_1    | 2021-10-04 15:31:48,331 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: ConfigurationManager, init=-1: [om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-10-04 15:31:34,471 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Setting the last applied index to (t:9, i:5)
dn2_1    | 2021-10-04 15:31:34,475 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:33,061 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
om1_1    | 2021-10-04 15:31:49,932 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
recon_1  | 2021-10-04 15:31:35,153 [Listener at 0.0.0.0/9891] INFO server.session: DefaultSessionIdManager workerName=node0
dn1_1    | 2021-10-04 15:31:54,470 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_6 to /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_6-7
scm_1    | 2021-10-04 15:31:38,372 [Listener at 0.0.0.0/9860] INFO server.SCMClientProtocolServer: RPC server for Client  is listening at /0.0.0.0:9860
om3_1    | 2021-10-04 15:31:48,365 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om2_1    | 2021-10-04 15:31:48,762 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
dn2_1    | 2021-10-04 15:31:34,477 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:31:33,087 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
om1_1    | 2021-10-04 15:31:49,944 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 9 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_0-8
recon_1  | 2021-10-04 15:31:35,153 [Listener at 0.0.0.0/9891] INFO server.session: No SessionScavenger set, using defaults
dn1_1    | 2021-10-04 15:31:54,475 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_8
scm_1    | 2021-10-04 15:31:38,384 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om3_1    | 2021-10-04 15:31:48,380 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om2_1    | 2021-10-04 15:31:48,901 [pool-23-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/in_use.lock acquired by nodename 7@9d4fe15571b3
dn2_1    | 2021-10-04 15:31:34,484 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-10-04 15:31:33,142 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1ce68348] INFO util.JvmPauseMonitor: Starting JVM pause monitor
recon_1  | 2021-10-04 15:31:35,179 [Listener at 0.0.0.0/9891] INFO server.session: node0 Scavenging every 660000ms
om1_1    | 2021-10-04 15:31:49,946 [Listener at om1/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn1_1    | 2021-10-04 15:31:59,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5142703329ns, electionTimeout:5141ms
scm_1    | 2021-10-04 15:31:38,388 [IPC Server listener on 9860] INFO ipc.Server: IPC Server listener on 9860: starting
om3_1    | 2021-10-04 15:31:48,432 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
om2_1    | 2021-10-04 15:31:48,959 [pool-23-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=6, votedFor=om2} from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/raft-meta
dn2_1    | 2021-10-04 15:31:34,485 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-10-04 15:31:36,489 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.9.0.14:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
recon_1  | 2021-10-04 15:31:35,276 [Listener at 0.0.0.0/9891] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@59498d94{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om1_1    | 2021-10-04 15:31:49,946 [Listener at om1/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
dn1_1    | 2021-10-04 15:31:59,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
scm_1    | 2021-10-04 15:31:38,678 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
om3_1    | 2021-10-04 15:31:48,439 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om2_1    | 2021-10-04 15:31:49,218 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:34,485 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:31:37,490 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.9.0.14:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
recon_1  | 2021-10-04 15:31:35,282 [Listener at 0.0.0.0/9891] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@2eda4eeb{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-recon-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om1_1    | 2021-10-04 15:31:49,961 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 9: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:59,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
scm_1    | 2021-10-04 15:31:38,679 [Listener at 0.0.0.0/9860] INFO server.SCMBlockProtocolServer: RPC server for Block Protocol is listening at /0.0.0.0:9863
om3_1    | 2021-10-04 15:31:48,639 [pool-23-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/in_use.lock acquired by nodename 8@6d4241356d4a
om2_1    | 2021-10-04 15:31:49,225 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
dn2_1    | 2021-10-04 15:31:34,485 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:39,643 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
recon_1  | 2021-10-04 15:31:39,102 [Listener at 0.0.0.0/9891] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@78f35e39{recon,/,file:///tmp/jetty-0_0_0_0-9888-ozone-recon-1_2_0-SNAPSHOT_jar-_-any-17751326272742364435/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-recon-1.2.0-SNAPSHOT.jar!/webapps/recon}
om1_1    | 2021-10-04 15:31:49,963 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 10 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_9-18
dn1_1    | 2021-10-04 15:31:59,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1    | 2021-10-04 15:31:38,681 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om3_1    | 2021-10-04 15:31:48,735 [pool-23-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=6, votedFor=om2} from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/raft-meta
om2_1    | 2021-10-04 15:31:49,224 [Listener at om2/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
dn2_1    | 2021-10-04 15:31:34,486 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:31:39,656 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
recon_1  | 2021-10-04 15:31:39,140 [Listener at 0.0.0.0/9891] INFO server.AbstractConnector: Started ServerConnector@7fbd3e75{HTTP/1.1, (http/1.1)}{0.0.0.0:9888}
om1_1    | 2021-10-04 15:31:49,963 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:59,118 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4
scm_1    | 2021-10-04 15:31:38,763 [IPC Server listener on 9863] INFO ipc.Server: IPC Server listener on 9863: starting
om3_1    | 2021-10-04 15:31:48,770 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
om2_1    | 2021-10-04 15:31:49,235 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-10-04 15:31:34,486 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:31:40,097 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 7eae0302-d0e5-479a-98f0-34ad09d996ac
recon_1  | 2021-10-04 15:31:39,141 [Listener at 0.0.0.0/9891] INFO server.Server: Started @45855ms
om1_1    | 2021-10-04 15:31:50,460 [Listener at om1/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om1/10.9.0.11:9862
scm_1    | 2021-10-04 15:31:38,871 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
dn1_1    | 2021-10-04 15:31:59,121 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4 ELECTION round 0: submit vote requests at term 11 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 2021-10-04 15:31:49,265 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:31:49,275 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-10-04 15:31:34,486 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn3_1    | 2021-10-04 15:31:40,203 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: start as a follower, conf=3: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | 2021-10-04 15:31:39,147 [Listener at 0.0.0.0/9891] INFO impl.MetricsSinkAdapter: Sink prometheus started
om1_1    | 2021-10-04 15:31:50,461 [Listener at om1/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om1 at port 9872
scm_1    | 2021-10-04 15:31:38,877 [Listener at 0.0.0.0/9860] INFO server.SCMDatanodeProtocolServer: RPC server for DataNodes is listening at /0.0.0.0:9861
dn1_1    | 2021-10-04 15:31:59,146 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-D9A1593738B3, 11, (t:8, i:11))
om3_1    | 2021-10-04 15:31:49,276 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
om2_1    | 2021-10-04 15:31:49,290 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:31:34,487 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
recon_1  | 2021-10-04 15:31:39,147 [Listener at 0.0.0.0/9891] INFO impl.MetricsSystemImpl: Registered sink prometheus
dn3_1    | 2021-10-04 15:31:40,239 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: changes role from      null to FOLLOWER at term 3 for startAsFollower
om1_1    | 2021-10-04 15:31:50,528 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 10 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_19
scm_1    | 2021-10-04 15:31:38,882 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
dn1_1    | 2021-10-04 15:31:59,146 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-CANDIDATE: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: already has voted for 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at current term 11
om3_1    | 2021-10-04 15:31:49,277 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om2_1    | 2021-10-04 15:31:49,372 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
dn2_1    | 2021-10-04 15:31:34,487 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
recon_1  | 2021-10-04 15:31:39,150 [Listener at 0.0.0.0/9891] INFO http.BaseHttpServer: HTTP server of recon listening at http://0.0.0.0:9888
dn3_1    | 2021-10-04 15:31:40,241 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState
om1_1    | 2021-10-04 15:31:50,587 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 28
scm_1    | 2021-10-04 15:31:38,901 [IPC Server listener on 9861] INFO ipc.Server: IPC Server listener on 9861: starting
dn1_1    | 2021-10-04 15:31:59,146 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t11. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3:t11, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 2021-10-04 15:31:49,430 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om2_1    | 2021-10-04 15:31:49,448 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
recon_1  | 2021-10-04 15:31:39,150 [Listener at 0.0.0.0/9891] INFO impl.OzoneManagerServiceProviderImpl: Starting Ozone Manager Service Provider.
dn2_1    | 2021-10-04 15:31:34,487 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:31:40,272 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-658F144E8AEC,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
om1_1    | 2021-10-04 15:31:50,587 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 18
scm_1    | 2021-10-04 15:31:39,266 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4fb56bea] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn1_1    | 2021-10-04 15:31:59,162 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
om3_1    | 2021-10-04 15:31:49,436 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om2_1    | 2021-10-04 15:31:49,448 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
recon_1  | 2021-10-04 15:31:39,179 [Listener at 0.0.0.0/9891] INFO recovery.ReconOmMetadataManagerImpl: Starting ReconOMMetadataManagerImpl
dn2_1    | 2021-10-04 15:31:34,487 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:31:40,275 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: start as a follower, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om1_1    | 2021-10-04 15:31:50,999 [pool-23-thread-1] INFO raftlog.RaftLog: om1@group-D66704EFC61C-SegmentedRaftLog: commitIndex: updateToMax old=27, new=27, updated? false
scm_1    | 2021-10-04 15:31:39,283 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Starting Web-server for scm at: http://0.0.0.0:9876
dn1_1    | 2021-10-04 15:31:59,162 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection:   Response 0: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:OK-t11
om3_1    | 2021-10-04 15:31:49,519 [Listener at om3/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
om2_1    | 2021-10-04 15:31:49,464 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: new om2@group-D66704EFC61C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
recon_1  | 2021-10-04 15:31:39,179 [Listener at 0.0.0.0/9891] WARN recon.ReconUtils: ozone.recon.om.db.dir is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
dn2_1    | 2021-10-04 15:31:34,487 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-10-04 15:31:40,300 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: changes role from      null to FOLLOWER at term 8 for startAsFollower
om1_1    | 2021-10-04 15:31:51,040 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
scm_1    | 2021-10-04 15:31:39,286 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn1_1    | 2021-10-04 15:31:59,165 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4 ELECTION round 0: result PASSED
om3_1    | 2021-10-04 15:31:49,615 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om2_1    | 2021-10-04 15:31:49,465 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
recon_1  | 2021-10-04 15:31:39,180 [Listener at 0.0.0.0/9891] INFO recovery.ReconOmMetadataManagerImpl: Last known snapshot for OM : /data/metadata/om.snapshot.db_1633361440947
dn2_1    | 2021-10-04 15:31:34,490 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-10-04 15:31:40,300 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
om1_1    | 2021-10-04 15:31:51,044 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
scm_1    | 2021-10-04 15:31:39,404 [Listener at 0.0.0.0/9860] INFO util.log: Logging initialized @45843ms to org.eclipse.jetty.util.log.Slf4jLog
dn1_1    | 2021-10-04 15:31:59,165 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4
om3_1    | 2021-10-04 15:31:49,671 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om2_1    | 2021-10-04 15:31:49,465 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
recon_1  | 2021-10-04 15:31:39,187 [Listener at 0.0.0.0/9891] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
dn2_1    | 2021-10-04 15:31:34,495 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-10-04 15:31:40,306 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9A1593738B3,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
om1_1    | 2021-10-04 15:31:51,054 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
scm_1    | 2021-10-04 15:31:40,284 [Listener at 0.0.0.0/9860] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn1_1    | 2021-10-04 15:31:59,167 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
om3_1    | 2021-10-04 15:31:49,674 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
om2_1    | 2021-10-04 15:31:49,498 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
recon_1  | 2021-10-04 15:31:39,192 [Listener at 0.0.0.0/9891] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
dn2_1    | 2021-10-04 15:31:34,495 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:31:40,335 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: start as a follower, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om1_1    | 2021-10-04 15:31:51,055 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
scm_1    | 2021-10-04 15:31:40,348 [Listener at 0.0.0.0/9860] INFO http.HttpRequestLog: Http request log for http.requests.scm is not defined
dn1_1    | 2021-10-04 15:31:59,167 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-D9A1593738B3 with new leaderId: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
om3_1    | 2021-10-04 15:31:49,704 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: new om3@group-D66704EFC61C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om2_1    | 2021-10-04 15:31:49,498 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
recon_1  | 2021-10-04 15:31:39,265 [Listener at 0.0.0.0/9891] INFO recovery.ReconOmMetadataManagerImpl: Created OM DB handle from snapshot at /data/metadata/om.snapshot.db_1633361440947.
dn2_1    | 2021-10-04 15:31:34,496 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-10-04 15:31:34,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
om1_1    | 2021-10-04 15:31:51,057 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
scm_1    | 2021-10-04 15:31:40,412 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn1_1    | 2021-10-04 15:31:59,207 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: change Leader from null to 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at term 11 for becomeLeader, leader elected after 27773ms
om3_1    | 2021-10-04 15:31:49,712 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
om2_1    | 2021-10-04 15:31:49,498 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
recon_1  | 2021-10-04 15:31:39,288 [Listener at 0.0.0.0/9891] INFO tasks.ReconTaskControllerImpl: Starting Recon Task Controller.
dn2_1    | 2021-10-04 15:31:34,512 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:40,337 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: changes role from      null to FOLLOWER at term 12 for startAsFollower
om1_1    | 2021-10-04 15:31:51,061 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
scm_1    | 2021-10-04 15:31:40,477 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
dn1_1    | 2021-10-04 15:31:59,222 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
om3_1    | 2021-10-04 15:31:49,718 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
om2_1    | 2021-10-04 15:31:49,519 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
recon_1  | 2021-10-04 15:31:39,294 [Listener at 0.0.0.0/9891] INFO scm.ReconStorageContainerManagerFacade: Recon ScmDatanodeProtocol RPC server is listening at /0.0.0.0:9891
dn2_1    | 2021-10-04 15:31:34,514 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_0-0
dn3_1    | 2021-10-04 15:31:40,338 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState
om1_1    | 2021-10-04 15:31:51,192 [Listener at om1/9862] INFO server.RaftServer$Division: om1@group-D66704EFC61C: start as a follower, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-10-04 15:31:51,200 [Listener at om1/9862] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from      null to FOLLOWER at term 6 for startAsFollower
dn1_1    | 2021-10-04 15:31:59,223 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
om2_1    | 2021-10-04 15:31:49,519 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
recon_1  | 2021-10-04 15:31:41,382 [Listener at 0.0.0.0/9891] INFO scm.ReconStorageContainerManagerFacade: Obtained 5 pipelines from SCM.
dn2_1    | 2021-10-04 15:31:34,516 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: set configuration 1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:40,339 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E2410CA4C9B0,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
scm_1    | 2021-10-04 15:31:40,479 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om1_1    | 2021-10-04 15:31:51,203 [Listener at om1/9862] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-FollowerState
om3_1    | 2021-10-04 15:31:49,719 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om3_1    | 2021-10-04 15:31:49,725 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
dn1_1    | 2021-10-04 15:31:59,223 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
recon_1  | 2021-10-04 15:31:41,393 [Listener at 0.0.0.0/9891] INFO scm.ReconPipelineManager: Recon has 5 pipelines in house.
dn2_1    | 2021-10-04 15:31:34,522 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 5 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_1-5
dn3_1    | 2021-10-04 15:31:40,426 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start RPC server
scm_1    | 2021-10-04 15:31:40,480 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om1_1    | 2021-10-04 15:31:51,228 [Listener at om1/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D66704EFC61C,id=om1
om2_1    | 2021-10-04 15:31:49,528 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om3_1    | 2021-10-04 15:31:49,736 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:31:59,224 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
recon_1  | 2021-10-04 15:31:41,659 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 262782.256us
dn2_1    | 2021-10-04 15:31:34,521 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@4052b19f{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5666463261261772992/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
dn3_1    | 2021-10-04 15:31:40,428 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 7eae0302-d0e5-479a-98f0-34ad09d996ac: GrpcService started, listening on 9856
scm_1    | 2021-10-04 15:31:41,194 [IPC Server handler 47 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/13b5a4a4-50b2-495a-a313-b6d400921281
om1_1    | 2021-10-04 15:31:51,254 [Listener at om1/9862] INFO server.RaftServer: om1: start RPC server
om2_1    | 2021-10-04 15:31:49,579 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
om3_1    | 2021-10-04 15:31:49,743 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:31:59,229 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
recon_1  | 2021-10-04 15:31:41,686 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 12949.086us
dn2_1    | 2021-10-04 15:31:34,526 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: set configuration 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:31:34,542 [pool-33-thread-1] INFO segmented.LogSegment: Successfully read 2 entries from segment file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_6
scm_1    | 2021-10-04 15:31:41,250 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Jetty bound to port 9876
om1_1    | 2021-10-04 15:31:51,506 [Listener at om1/9862] INFO server.GrpcService: om1: GrpcService started, listening on 9872
om1_1    | 2021-10-04 15:31:51,524 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$397/0x000000084052fc40@4966bab1] INFO util.JvmPauseMonitor: JvmPauseMonitor-om1: Started
om3_1    | 2021-10-04 15:31:49,746 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-10-04 15:31:59,229 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-10-04 15:31:34,546 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 7
dn3_1    | 2021-10-04 15:31:40,440 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 7eae0302-d0e5-479a-98f0-34ad09d996ac: GrpcService started, listening on 9857
recon_1  | 2021-10-04 15:31:41,688 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 503.803us
scm_1    | 2021-10-04 15:31:41,259 [Listener at 0.0.0.0/9860] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om1_1    | 2021-10-04 15:31:51,525 [Listener at om1/9862] INFO om.OzoneManager: Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
om2_1    | 2021-10-04 15:31:49,580 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
om3_1    | 2021-10-04 15:31:49,754 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-10-04 15:31:59,252 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn2_1    | 2021-10-04 15:31:34,546 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 5
dn3_1    | 2021-10-04 15:31:40,444 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 7eae0302-d0e5-479a-98f0-34ad09d996ac: GrpcService started, listening on 9858
recon_1  | 2021-10-04 15:31:41,691 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 402.002us
scm_1    | 2021-10-04 15:31:41,246 [IPC Server handler 47 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
om1_1    | 2021-10-04 15:31:51,694 [Listener at om1/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om2_1    | 2021-10-04 15:31:49,774 [Listener at om2/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn1_1    | 2021-10-04 15:31:59,254 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om3_1    | 2021-10-04 15:31:49,794 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
dn2_1    | 2021-10-04 15:31:34,548 [pool-33-thread-1] INFO raftlog.RaftLog: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLog: commitIndex: updateToMax old=5, new=6, updated? true
dn3_1    | 2021-10-04 15:31:40,492 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7eae0302-d0e5-479a-98f0-34ad09d996ac is started using port 9858 for RATIS
recon_1  | 2021-10-04 15:31:41,697 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 687.405us
scm_1    | 2021-10-04 15:31:41,440 [IPC Server handler 2 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/7eae0302-d0e5-479a-98f0-34ad09d996ac
om1_1    | 2021-10-04 15:31:51,694 [Listener at om1/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om2_1    | 2021-10-04 15:31:49,787 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:59,255 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
om3_1    | 2021-10-04 15:31:49,800 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
dn2_1    | 2021-10-04 15:31:34,553 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:31:40,493 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7eae0302-d0e5-479a-98f0-34ad09d996ac is started using port 9857 for RATIS_ADMIN
recon_1  | 2021-10-04 15:31:41,701 [Listener at 0.0.0.0/9891] INFO server.SCMDatanodeProtocolServer: RPC server for DataNodes is listening at /0.0.0.0:9891
scm_1    | 2021-10-04 15:31:41,508 [IPC Server handler 2 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
om1_1    | 2021-10-04 15:31:51,803 [Listener at om1/9862] INFO util.log: Logging initialized @56724ms to org.eclipse.jetty.util.log.Slf4jLog
om2_1    | 2021-10-04 15:31:49,810 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 9 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_0-8
dn1_1    | 2021-10-04 15:31:59,259 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
om3_1    | 2021-10-04 15:31:50,003 [Listener at om3/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn2_1    | 2021-10-04 15:31:34,554 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:31:40,494 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7eae0302-d0e5-479a-98f0-34ad09d996ac is started using port 9856 for RATIS_SERVER
recon_1  | 2021-10-04 15:31:41,704 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
scm_1    | 2021-10-04 15:31:41,518 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om1_1    | 2021-10-04 15:31:52,264 [Listener at om1/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om1_1    | 2021-10-04 15:31:52,287 [Listener at om1/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
dn1_1    | 2021-10-04 15:31:59,265 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
om3_1    | 2021-10-04 15:31:50,026 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:34,554 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:31:40,506 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$455/0x0000000840572040@1f04dc54] INFO util.JvmPauseMonitor: JvmPauseMonitor-7eae0302-d0e5-479a-98f0-34ad09d996ac: Started
recon_1  | 2021-10-04 15:31:41,710 [IPC Server listener on 9891] INFO ipc.Server: IPC Server listener on 9891: starting
scm_1    | 2021-10-04 15:31:41,546 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om1_1    | 2021-10-04 15:31:52,298 [Listener at om1/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om2_1    | 2021-10-04 15:31:49,812 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 9: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:59,265 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om3_1    | 2021-10-04 15:31:50,048 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 9 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_0-8
dn2_1    | 2021-10-04 15:31:34,555 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:31:45,381 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5043269198ns, electionTimeout:5016ms
recon_1  | 2021-10-04 15:31:42,172 [Listener at 0.0.0.0/9891] INFO scm.ReconScmTask: Starting PipelineSyncTask Thread.
scm_1    | 2021-10-04 15:31:41,609 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 1 DataNodes registered, 3 required.
om1_1    | 2021-10-04 15:31:52,311 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om2_1    | 2021-10-04 15:31:49,840 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 10 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_9-18
dn1_1    | 2021-10-04 15:31:59,273 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
om3_1    | 2021-10-04 15:31:50,078 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 9: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:34,556 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:31:45,382 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState
recon_1  | 2021-10-04 15:31:42,210 [Listener at 0.0.0.0/9891] INFO scm.ReconScmTask: Starting ContainerHealthTask Thread.
scm_1    | 2021-10-04 15:31:41,611 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ContainerSafeModeRule rule is successfully validated
om1_1    | 2021-10-04 15:31:52,314 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om2_1    | 2021-10-04 15:31:49,841 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:31:59,279 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om3_1    | 2021-10-04 15:31:50,089 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 10 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_9-18
dn2_1    | 2021-10-04 15:31:34,556 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:31:45,382 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
recon_1  | 2021-10-04 15:31:42,291 [PipelineSyncTask] INFO scm.ReconPipelineManager: Recon has 5 pipelines in house.
scm_1    | 2021-10-04 15:31:41,685 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 2 DataNodes registered, 3 required.
om1_1    | 2021-10-04 15:31:52,317 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om2_1    | 2021-10-04 15:31:49,907 [Listener at om2/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn1_1    | 2021-10-04 15:31:59,279 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
om3_1    | 2021-10-04 15:31:50,102 [Listener at om3/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn2_1    | 2021-10-04 15:31:34,587 [main] INFO server.AbstractConnector: Started ServerConnector@30aec673{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
dn3_1    | 2021-10-04 15:31:45,385 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
recon_1  | 2021-10-04 15:31:42,336 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 33254.722us
scm_1    | 2021-10-04 15:31:41,687 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Pipelines with at least one datanode reported count is 2, required at least one datanode reported per pipeline count is 2
om1_1    | 2021-10-04 15:31:52,537 [Listener at om1/9862] INFO http.HttpServer2: Jetty bound to port 9874
om2_1    | 2021-10-04 15:31:49,909 [Listener at om2/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
dn1_1    | 2021-10-04 15:31:59,279 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
om3_1    | 2021-10-04 15:31:50,103 [Listener at om3/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
dn2_1    | 2021-10-04 15:31:34,591 [main] INFO server.Server: Started @38148ms
dn3_1    | 2021-10-04 15:31:45,385 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1
recon_1  | 2021-10-04 15:31:42,366 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 656.905us
recon_1  | 2021-10-04 15:31:42,368 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 364.902us
om1_1    | 2021-10-04 15:31:52,556 [Listener at om1/9862] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om2_1    | 2021-10-04 15:31:50,361 [Listener at om2/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om2/10.9.0.12:9862
dn1_1    | 2021-10-04 15:31:59,280 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
om3_1    | 2021-10-04 15:31:50,114 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:34,593 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn3_1    | 2021-10-04 15:31:45,431 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5190566082ns, electionTimeout:5130ms
recon_1  | 2021-10-04 15:31:42,376 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 376.703us
scm_1    | 2021-10-04 15:31:41,744 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: AtleastOneDatanodeReportedRule rule is successfully validated
om1_1    | 2021-10-04 15:31:52,674 [Listener at om1/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om2_1    | 2021-10-04 15:31:50,370 [Listener at om2/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om2 at port 9872
dn1_1    | 2021-10-04 15:31:59,280 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om3_1    | 2021-10-04 15:31:50,508 [Listener at om3/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om3/10.9.0.13:9862
dn2_1    | 2021-10-04 15:31:34,593 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
dn3_1    | 2021-10-04 15:31:45,434 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState
recon_1  | 2021-10-04 15:31:42,381 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.PipelineStateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@3182143c, cost 566.003us
scm_1    | 2021-10-04 15:31:41,805 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-10-04 15:31:41,809 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
om2_1    | 2021-10-04 15:31:50,382 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 10 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_19
dn1_1    | 2021-10-04 15:31:59,288 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl
om3_1    | 2021-10-04 15:31:50,509 [Listener at om3/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om3 at port 9872
dn2_1    | 2021-10-04 15:31:34,595 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
dn3_1    | 2021-10-04 15:31:45,437 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
recon_1  | 2021-10-04 15:31:42,385 [PipelineSyncTask] INFO scm.PipelineSyncTask: Pipeline sync Thread took 176 milliseconds.
scm_1    | 2021-10-04 15:31:42,240 [Listener at 0.0.0.0/9860] INFO server.session: DefaultSessionIdManager workerName=node0
om1_1    | 2021-10-04 15:31:52,681 [Listener at om1/9862] INFO server.session: No SessionScavenger set, using defaults
om2_1    | 2021-10-04 15:31:50,387 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 28
dn1_1    | 2021-10-04 15:31:59,292 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker: Rolling segment log-6_11 to index:11
om3_1    | 2021-10-04 15:31:50,577 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 10 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_19
dn2_1    | 2021-10-04 15:31:34,607 [Datanode State Machine Thread - 0] INFO statemachine.DatanodeStateMachine: Ozone container server started.
dn3_1    | 2021-10-04 15:31:45,438 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
recon_1  | 2021-10-04 15:31:42,904 [ContainerHealthTask] INFO fsck.ContainerHealthTask: Container Health task thread took 653 milliseconds to process 0 existing database records.
scm_1    | 2021-10-04 15:31:42,240 [Listener at 0.0.0.0/9860] INFO server.session: No SessionScavenger set, using defaults
om1_1    | 2021-10-04 15:31:52,684 [Listener at om1/9862] INFO server.session: node0 Scavenging every 660000ms
om2_1    | 2021-10-04 15:31:50,389 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 18
om3_1    | 2021-10-04 15:31:50,603 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 28
dn1_1    | 2021-10-04 15:31:59,317 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderElection4] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: set configuration 12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:34,648 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
dn3_1    | 2021-10-04 15:31:45,440 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2
recon_1  | 2021-10-04 15:31:43,200 [ContainerHealthTask] INFO fsck.ContainerHealthTask: Container Health task thread took 282 milliseconds for processing 0 containers.
scm_1    | 2021-10-04 15:31:42,264 [Listener at 0.0.0.0/9860] INFO server.session: node0 Scavenging every 660000ms
om1_1    | 2021-10-04 15:31:52,736 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3079c26a{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om1_1    | 2021-10-04 15:31:52,754 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@1c6a0103{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om3_1    | 2021-10-04 15:31:50,603 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> 18
dn1_1    | 2021-10-04 15:31:59,317 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_6 to /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_6-11
dn2_1    | 2021-10-04 15:31:34,661 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
dn2_1    | 2021-10-04 15:31:34,724 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@41b75710] INFO util.JvmPauseMonitor: Starting JVM pause monitor
recon_1  | 2021-10-04 15:32:39,294 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Syncing data from Ozone Manager.
om1_1    | 2021-10-04 15:31:53,074 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@62e73ab6{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-6788849502905695560/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
om2_1    | 2021-10-04 15:31:50,651 [pool-23-thread-1] INFO raftlog.RaftLog: om2@group-D66704EFC61C-SegmentedRaftLog: commitIndex: updateToMax old=27, new=27, updated? false
scm_1    | 2021-10-04 15:31:42,285 [IPC Server handler 59 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/435cedd2-24c7-47d5-bcd3-a0497da1e3ca
om3_1    | 2021-10-04 15:31:50,939 [pool-23-thread-1] INFO raftlog.RaftLog: om3@group-D66704EFC61C-SegmentedRaftLog: commitIndex: updateToMax old=27, new=27, updated? false
dn1_1    | 2021-10-04 15:31:59,333 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_12
dn2_1    | 2021-10-04 15:31:39,668 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
dn3_1    | 2021-10-04 15:31:45,515 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2 ELECTION round 0: submit vote requests at term 4 for 3: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
recon_1  | 2021-10-04 15:32:39,297 [pool-16-thread-1] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-10-04 15:31:53,088 [Listener at om1/9862] INFO server.AbstractConnector: Started ServerConnector@7dbae40{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
om2_1    | 2021-10-04 15:31:50,677 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
scm_1    | 2021-10-04 15:31:42,287 [IPC Server handler 59 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}
om3_1    | 2021-10-04 15:31:50,958 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:32:25,399 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:31:39,685 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
dn3_1    | 2021-10-04 15:31:45,524 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5223601302ns, electionTimeout:5178ms
recon_1  | 2021-10-04 15:32:39,297 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-10-04 15:31:53,088 [Listener at om1/9862] INFO server.Server: Started @58009ms
om2_1    | 2021-10-04 15:31:50,686 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
scm_1    | 2021-10-04 15:31:42,287 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om3_1    | 2021-10-04 15:31:50,962 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
dn1_1    | 2021-10-04 15:32:25,463 [pool-40-thread-1] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 4.
dn2_1    | 2021-10-04 15:31:40,024 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 13b5a4a4-50b2-495a-a313-b6d400921281
recon_1  | 2021-10-04 15:32:39,297 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-10-04 15:31:53,095 [Listener at om1/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
recon_1  | 2021-10-04 15:32:39,297 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
scm_1    | 2021-10-04 15:31:42,289 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 3 DataNodes registered, 3 required.
om3_1    | 2021-10-04 15:31:50,963 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
dn1_1    | 2021-10-04 15:32:25,464 [pool-40-thread-1] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 4.
dn2_1    | 2021-10-04 15:31:40,085 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: start as a follower, conf=3: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:45,530 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
om2_1    | 2021-10-04 15:31:50,690 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
om2_1    | 2021-10-04 15:31:50,691 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
recon_1  | 2021-10-04 15:32:39,298 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
scm_1    | 2021-10-04 15:31:42,290 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
scm_1    | 2021-10-04 15:31:42,289 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: DataNodeSafeModeRule rule is successfully validated
dn1_1    | 2021-10-04 15:32:25,477 [pool-40-thread-1] INFO keyvalue.KeyValueContainer: Container 2 is closed with bcsId 4.
dn1_1    | 2021-10-04 15:32:25,480 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:31:40,088 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: changes role from      null to FOLLOWER at term 3 for startAsFollower
om2_1    | 2021-10-04 15:31:50,692 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
om2_1    | 2021-10-04 15:31:50,698 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om2_1    | 2021-10-04 15:31:50,829 [Listener at om2/9862] INFO server.RaftServer$Division: om2@group-D66704EFC61C: start as a follower, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:31:50,832 [Listener at om2/9862] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from      null to FOLLOWER at term 6 for startAsFollower
om2_1    | 2021-10-04 15:31:50,834 [Listener at om2/9862] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-10-04 15:31:50,849 [Listener at om2/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D66704EFC61C,id=om2
om2_1    | 2021-10-04 15:31:50,892 [Listener at om2/9862] INFO server.RaftServer: om2: start RPC server
om2_1    | 2021-10-04 15:31:51,027 [Listener at om2/9862] INFO server.GrpcService: om2: GrpcService started, listening on 9872
om2_1    | 2021-10-04 15:31:51,036 [Listener at om2/9862] INFO om.OzoneManager: Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
om2_1    | 2021-10-04 15:31:51,044 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$397/0x000000084052fc40@7f0f84d4] INFO util.JvmPauseMonitor: JvmPauseMonitor-om2: Started
om2_1    | 2021-10-04 15:31:51,262 [Listener at om2/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om2_1    | 2021-10-04 15:31:51,274 [Listener at om2/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om2_1    | 2021-10-04 15:31:51,397 [Listener at om2/9862] INFO util.log: Logging initialized @57727ms to org.eclipse.jetty.util.log.Slf4jLog
om2_1    | 2021-10-04 15:31:51,748 [Listener at om2/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om2_1    | 2021-10-04 15:31:51,776 [Listener at om2/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om2_1    | 2021-10-04 15:31:51,799 [Listener at om2/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om2_1    | 2021-10-04 15:31:51,815 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om2_1    | 2021-10-04 15:31:51,822 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om2_1    | 2021-10-04 15:31:51,822 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om2_1    | 2021-10-04 15:31:51,989 [Listener at om2/9862] INFO http.HttpServer2: Jetty bound to port 9874
om2_1    | 2021-10-04 15:31:51,990 [Listener at om2/9862] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om2_1    | 2021-10-04 15:31:52,096 [Listener at om2/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om2_1    | 2021-10-04 15:31:52,103 [Listener at om2/9862] INFO server.session: No SessionScavenger set, using defaults
om2_1    | 2021-10-04 15:31:52,105 [Listener at om2/9862] INFO server.session: node0 Scavenging every 660000ms
om2_1    | 2021-10-04 15:31:52,165 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@1e2445f6{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om2_1    | 2021-10-04 15:31:52,166 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@7841bd30{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om2_1    | 2021-10-04 15:31:52,648 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@5d7f8467{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-3972171142223453857/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
om2_1    | 2021-10-04 15:31:52,672 [Listener at om2/9862] INFO server.AbstractConnector: Started ServerConnector@34f7b44f{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
om2_1    | 2021-10-04 15:31:52,677 [Listener at om2/9862] INFO server.Server: Started @59007ms
om2_1    | 2021-10-04 15:31:52,696 [Listener at om2/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn2_1    | 2021-10-04 15:31:40,090 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState
dn2_1    | 2021-10-04 15:31:40,085 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: start as a follower, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:45,531 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
om2_1    | 2021-10-04 15:31:52,697 [Listener at om2/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om1_1    | 2021-10-04 15:31:53,095 [Listener at om1/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om1_1    | 2021-10-04 15:31:53,097 [Listener at om1/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
om1_1    | 2021-10-04 15:31:53,104 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om1_1    | 2021-10-04 15:31:53,211 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
om1_1    | 2021-10-04 15:31:53,294 [Listener at om1/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
om1_1    | 2021-10-04 15:31:53,319 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4e8598d9] INFO util.JvmPauseMonitor: Starting JVM pause monitor
om1_1    | 2021-10-04 15:31:56,319 [om1@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om1@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5117017664ns, electionTimeout:5073ms
dn3_1    | 2021-10-04 15:31:45,533 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1    | 2021-10-04 15:31:42,290 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: All SCM safe mode pre check rules have passed
om1_1    | 2021-10-04 15:31:56,323 [om1@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-FollowerState
recon_1  | 2021-10-04 15:32:39,298 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
dn1_1    | 2021-10-04 15:32:25,599 [grpc-default-executor-1] INFO server.GrpcServerProtocolService: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: Completed APPEND_ENTRIES, lastRequest: 7eae0302-d0e5-479a-98f0-34ad09d996ac->435cedd2-24c7-47d5-bcd3-a0497da1e3ca#264-t14,previous=(t:14, i:10),leaderCommit=10,initializing? true,entries: size=1, first=(t:14, i:11), METADATAENTRY(c:10)
dn2_1    | 2021-10-04 15:31:40,096 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from      null to FOLLOWER at term 8 for startAsFollower
om3_1    | 2021-10-04 15:31:50,963 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
om2_1    | 2021-10-04 15:31:52,698 [Listener at om2/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
dn3_1    | 2021-10-04 15:31:45,538 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3
dn3_1    | 2021-10-04 15:31:45,549 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2 ELECTION round 0: result PASSED (term=4)
om1_1    | 2021-10-04 15:31:56,324 [om1@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
recon_1  | 2021-10-04 15:32:39,298 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Obtaining delta updates from Ozone Manager
dn1_1    | 2021-10-04 15:32:30,177 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:31:40,097 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
om3_1    | 2021-10-04 15:31:50,966 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
om2_1    | 2021-10-04 15:31:52,705 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
dn3_1    | 2021-10-04 15:31:45,580 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2
scm_1    | 2021-10-04 15:31:42,293 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
om1_1    | 2021-10-04 15:31:56,330 [om1@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
recon_1  | 2021-10-04 15:32:39,440 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Number of updates received from OM : 0
dn1_1    | 2021-10-04 15:32:35,077 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:9695248572ns, electionTimeout:5070ms
dn2_1    | 2021-10-04 15:31:40,237 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED602BD476C3,id=13b5a4a4-50b2-495a-a313-b6d400921281
om3_1    | 2021-10-04 15:31:50,968 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om2_1    | 2021-10-04 15:31:52,708 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
dn3_1    | 2021-10-04 15:31:45,584 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1 ELECTION round 0: submit vote requests at term 13 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
scm_1    | 2021-10-04 15:31:42,390 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
om1_1    | 2021-10-04 15:31:56,331 [om1@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-LeaderElection1
recon_1  | 2021-10-04 15:33:39,450 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Syncing data from Ozone Manager.
dn1_1    | 2021-10-04 15:32:35,078 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
dn2_1    | 2021-10-04 15:31:40,237 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9A1593738B3,id=13b5a4a4-50b2-495a-a313-b6d400921281
om3_1    | 2021-10-04 15:31:51,064 [Listener at om3/9862] INFO server.RaftServer$Division: om3@group-D66704EFC61C: start as a follower, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:31:52,952 [Listener at om2/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
dn3_1    | 2021-10-04 15:31:45,601 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
scm_1    | 2021-10-04 15:31:42,420 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om1_1    | 2021-10-04 15:31:56,421 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection1 ELECTION round 0: submit vote requests at term 7 for 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
recon_1  | 2021-10-04 15:33:39,450 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Obtaining delta updates from Ozone Manager
dn1_1    | 2021-10-04 15:32:35,078 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: changes role from  FOLLOWER to CANDIDATE at term 14 for changeToCandidate
dn2_1    | 2021-10-04 15:31:40,274 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: start as a follower, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:31:51,071 [Listener at om3/9862] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from      null to FOLLOWER at term 6 for startAsFollower
om2_1    | 2021-10-04 15:31:53,024 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@267ff4df] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn3_1    | 2021-10-04 15:31:45,618 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3 ELECTION round 0: submit vote requests at term 9 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
scm_1    | 2021-10-04 15:31:42,421 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: HealthyPipelineSafeModeRule rule is successfully validated
om1_1    | 2021-10-04 15:31:57,604 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: receive requestVote(ELECTION, om2, group-D66704EFC61C, 7, (t:6, i:28))
recon_1  | 2021-10-04 15:33:39,462 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Number of updates received from OM : 1
dn1_1    | 2021-10-04 15:32:35,078 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:31:40,275 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: changes role from      null to FOLLOWER at term 12 for startAsFollower
om3_1    | 2021-10-04 15:31:51,074 [Listener at om3/9862] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-FollowerState
om2_1    | 2021-10-04 15:31:55,959 [om2@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om2@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5125755524ns, electionTimeout:5112ms
dn3_1    | 2021-10-04 15:31:45,601 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-658F144E8AEC with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
scm_1    | 2021-10-04 15:31:42,421 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
om1_1    | 2021-10-04 15:31:57,612 [grpc-default-executor-1] INFO impl.VoteContext: om1@group-D66704EFC61C-CANDIDATE: reject ELECTION from om2: already has voted for om1 at current term 7
recon_1  | 2021-10-04 15:33:39,474 [pool-33-thread-1] INFO tasks.NSSummaryTask: Completed a process run of NSSummaryTask
dn1_1    | 2021-10-04 15:32:35,078 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5
dn2_1    | 2021-10-04 15:31:40,294 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState
om3_1    | 2021-10-04 15:31:51,085 [Listener at om3/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D66704EFC61C,id=om3
om2_1    | 2021-10-04 15:31:55,960 [om2@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-FollowerState
dn3_1    | 2021-10-04 15:31:45,659 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 4 for becomeLeader, leader elected after 12815ms
scm_1    | 2021-10-04 15:31:42,421 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
om1_1    | 2021-10-04 15:31:57,626 [grpc-default-executor-0] INFO server.RaftServer$Division: om1@group-D66704EFC61C: receive requestVote(ELECTION, om3, group-D66704EFC61C, 7, (t:6, i:28))
recon_1  | 2021-10-04 15:33:39,930 [pool-33-thread-1] INFO tasks.TableCountTask: Completed a 'process' run of TableCountTask.
dn1_1    | 2021-10-04 15:32:35,081 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: change Leader from 7eae0302-d0e5-479a-98f0-34ad09d996ac to null at term 14 for ELECTION
dn2_1    | 2021-10-04 15:31:40,295 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E2410CA4C9B0,id=13b5a4a4-50b2-495a-a313-b6d400921281
om3_1    | 2021-10-04 15:31:51,125 [Listener at om3/9862] INFO server.RaftServer: om3: start RPC server
om2_1    | 2021-10-04 15:31:55,961 [om2@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
om2_1    | 2021-10-04 15:31:55,965 [om2@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1    | 2021-10-04 15:31:42,432 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
om1_1    | 2021-10-04 15:31:57,652 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C replies to ELECTION vote request: om2<-om1#0:FAIL-t7. Peer's state: om1@group-D66704EFC61C:t7, leader=null, voted=om1, raftlog=om1@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
recon_1  | 2021-10-04 15:33:39,930 [pool-33-thread-1] INFO tasks.ContainerKeyMapperTask: ContainerKeyMapperTask successfully processed 0 OM DB update event(s).
dn1_1    | 2021-10-04 15:32:35,083 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5 ELECTION round 0: submit vote requests at term 15 for 8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:31:40,328 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: start RPC server
om3_1    | 2021-10-04 15:31:51,322 [Listener at om3/9862] INFO server.GrpcService: om3: GrpcService started, listening on 9872
om2_1    | 2021-10-04 15:31:55,965 [om2@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-LeaderElection1
dn3_1    | 2021-10-04 15:31:45,659 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
scm_1    | 2021-10-04 15:31:42,432 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
om1_1    | 2021-10-04 15:31:57,653 [grpc-default-executor-0] INFO impl.VoteContext: om1@group-D66704EFC61C-CANDIDATE: reject ELECTION from om3: already has voted for om1 at current term 7
recon_1  | 2021-10-04 15:33:39,931 [pool-33-thread-1] INFO tasks.FileSizeCountTask: Completed a 'process' run of FileSizeCountTask.
dn1_1    | 2021-10-04 15:32:35,131 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: 13b5a4a4-50b2-495a-a313-b6d400921281: group-E2410CA4C9B0 not found.
dn2_1    | 2021-10-04 15:31:40,379 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 13b5a4a4-50b2-495a-a313-b6d400921281: GrpcService started, listening on 9856
om3_1    | 2021-10-04 15:31:51,326 [Listener at om3/9862] INFO om.OzoneManager: Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
om2_1    | 2021-10-04 15:31:55,994 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection1 ELECTION round 0: submit vote requests at term 7 for 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:45,741 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-10-04 15:31:46,212 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
om1_1    | 2021-10-04 15:31:57,662 [grpc-default-executor-0] INFO server.RaftServer$Division: om1@group-D66704EFC61C replies to ELECTION vote request: om3<-om1#0:FAIL-t7. Peer's state: om1@group-D66704EFC61C:t7, leader=null, voted=om1, raftlog=om1@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
recon_1  | 2021-10-04 15:34:39,943 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Syncing data from Ozone Manager.
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: 7eae0302-d0e5-479a-98f0-34ad09d996ac: group-E2410CA4C9B0 not found.
dn2_1    | 2021-10-04 15:31:40,394 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 13b5a4a4-50b2-495a-a313-b6d400921281: GrpcService started, listening on 9857
om3_1    | 2021-10-04 15:31:51,335 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$397/0x000000084052f440@590d6c76] INFO util.JvmPauseMonitor: JvmPauseMonitor-om3: Started
om2_1    | 2021-10-04 15:31:57,523 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: receive requestVote(ELECTION, om3, group-D66704EFC61C, 7, (t:6, i:28))
dn3_1    | 2021-10-04 15:31:46,259 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
scm_1    | 2021-10-04 15:31:42,432 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO pipeline.BackgroundPipelineCreator: Service BackgroundPipelineCreator transitions to RUNNING.
om1_1    | 2021-10-04 15:31:57,755 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
recon_1  | 2021-10-04 15:34:39,943 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Obtaining delta updates from Ozone Manager
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5: ELECTION REJECTED received 0 response(s) and 2 exception(s):
dn2_1    | 2021-10-04 15:31:40,462 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: 13b5a4a4-50b2-495a-a313-b6d400921281: GrpcService started, listening on 9858
om3_1    | 2021-10-04 15:31:51,463 [Listener at om3/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om2_1    | 2021-10-04 15:31:57,528 [grpc-default-executor-1] INFO impl.VoteContext: om2@group-D66704EFC61C-CANDIDATE: reject ELECTION from om3: already has voted for om2 at current term 7
dn3_1    | 2021-10-04 15:31:46,309 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
scm_1    | 2021-10-04 15:31:42,433 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO container.ReplicationManager: Service ReplicationManager transitions to RUNNING.
om1_1    | 2021-10-04 15:31:57,757 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 0: om1<-om3#0:FAIL-t7
recon_1  | 2021-10-04 15:34:39,995 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Number of updates received from OM : 4
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: 13b5a4a4-50b2-495a-a313-b6d400921281: group-E2410CA4C9B0 not found.
dn2_1    | 2021-10-04 15:31:40,510 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 13b5a4a4-50b2-495a-a313-b6d400921281 is started using port 9858 for RATIS
om3_1    | 2021-10-04 15:31:51,463 [Listener at om3/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om2_1    | 2021-10-04 15:31:57,543 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C replies to ELECTION vote request: om3<-om2#0:FAIL-t7. Peer's state: om2@group-D66704EFC61C:t7, leader=null, voted=om2, raftlog=om2@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:46,343 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1    | 2021-10-04 15:31:42,457 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
om1_1    | 2021-10-04 15:31:57,758 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 1: om1<-om2#0:FAIL-t7
recon_1  | 2021-10-04 15:34:40,029 [pool-33-thread-1] INFO tasks.NSSummaryTask: Completed a process run of NSSummaryTask
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: 7eae0302-d0e5-479a-98f0-34ad09d996ac: group-E2410CA4C9B0 not found.
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5 ELECTION round 0: result REJECTED
om3_1    | 2021-10-04 15:31:51,567 [Listener at om3/9862] INFO util.log: Logging initialized @59074ms to org.eclipse.jetty.util.log.Slf4jLog
om2_1    | 2021-10-04 15:31:57,718 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
dn3_1    | 2021-10-04 15:31:46,344 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1    | 2021-10-04 15:31:42,457 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
om1_1    | 2021-10-04 15:31:57,758 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection1 ELECTION round 0: result REJECTED
recon_1  | 2021-10-04 15:34:40,392 [pool-33-thread-1] INFO tasks.TableCountTask: Completed a 'process' run of TableCountTask.
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: changes role from CANDIDATE to FOLLOWER at term 15 for REJECTED
dn2_1    | 2021-10-04 15:31:40,510 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 13b5a4a4-50b2-495a-a313-b6d400921281 is started using port 9857 for RATIS_ADMIN
om3_1    | 2021-10-04 15:31:51,913 [Listener at om3/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om2_1    | 2021-10-04 15:31:57,718 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 0: om2<-om1#0:FAIL-t7
dn3_1    | 2021-10-04 15:31:46,442 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderStateImpl
scm_1    | 2021-10-04 15:31:42,457 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
om1_1    | 2021-10-04 15:31:57,772 [om1@group-D66704EFC61C-LeaderElection1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
recon_1  | 2021-10-04 15:34:40,425 [pool-33-thread-1] INFO tasks.ContainerKeyMapperTask: ContainerKeyMapperTask successfully processed 1 OM DB update event(s).
dn1_1    | 2021-10-04 15:32:35,143 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5
dn2_1    | 2021-10-04 15:31:40,510 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 13b5a4a4-50b2-495a-a313-b6d400921281 is started using port 9856 for RATIS_SERVER
om3_1    | 2021-10-04 15:31:51,936 [Listener at om3/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om2_1    | 2021-10-04 15:31:57,718 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 1: om2<-om3#0:FAIL-t7
dn3_1    | 2021-10-04 15:31:46,526 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
scm_1    | 2021-10-04 15:31:42,458 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
om1_1    | 2021-10-04 15:31:57,782 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-LeaderElection1
recon_1  | 2021-10-04 15:34:40,475 [pool-33-thread-1] INFO tasks.FileSizeCountTask: Completed a 'process' run of FileSizeCountTask.
dn1_1    | 2021-10-04 15:32:35,144 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-LeaderElection5] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
dn2_1    | 2021-10-04 15:31:40,540 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$457/0x0000000840572840@342cb67e] INFO util.JvmPauseMonitor: JvmPauseMonitor-13b5a4a4-50b2-495a-a313-b6d400921281: Started
dn2_1    | 2021-10-04 15:31:45,144 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5053460166ns, electionTimeout:5038ms
om2_1    | 2021-10-04 15:31:57,719 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection1 ELECTION round 0: result REJECTED
dn3_1    | 2021-10-04 15:31:46,573 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/log_inprogress_3 to /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/log_3-4
scm_1    | 2021-10-04 15:31:42,458 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
om1_1    | 2021-10-04 15:31:57,783 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-FollowerState
dn1_1    | 2021-10-04 15:32:35,424 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] WARN server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl: Lost leadership on term: 11. Election timeout: 5200ms. In charge for: 36257ms. Conf: 12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:45,144 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState
dn2_1    | 2021-10-04 15:31:45,144 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
om2_1    | 2021-10-04 15:31:57,719 [om2@group-D66704EFC61C-LeaderElection1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
dn3_1    | 2021-10-04 15:31:46,632 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/current/log_inprogress_5
scm_1    | 2021-10-04 15:31:42,458 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
om1_1    | 2021-10-04 15:32:02,855 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: receive requestVote(ELECTION, om2, group-D66704EFC61C, 8, (t:6, i:28))
dn2_1    | 2021-10-04 15:31:45,148 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om3_1    | 2021-10-04 15:31:51,943 [Listener at om3/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn1_1    | 2021-10-04 15:32:35,426 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] WARN server.RaftServer$Division: Follower 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->13b5a4a4-50b2-495a-a313-b6d400921281(c13,m13,n15, attendVote=true, lastRpcSendTime=204, lastRpcResponseTime=20972)
om2_1    | 2021-10-04 15:31:57,719 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-LeaderElection1
dn3_1    | 2021-10-04 15:31:46,670 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderElection2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: set configuration 5: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
scm_1    | 2021-10-04 15:31:42,458 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
om1_1    | 2021-10-04 15:32:02,856 [grpc-default-executor-1] INFO impl.VoteContext: om1@group-D66704EFC61C-FOLLOWER: accept ELECTION from om2: our priority 0 <= candidate's priority 0
dn2_1    | 2021-10-04 15:31:45,148 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1
om3_1    | 2021-10-04 15:31:51,950 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
dn1_1    | 2021-10-04 15:32:35,426 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] WARN server.RaftServer$Division: Follower 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->7eae0302-d0e5-479a-98f0-34ad09d996ac(c13,m13,n15, attendVote=true, lastRpcSendTime=209, lastRpcResponseTime=10897)
om2_1    | 2021-10-04 15:31:57,720 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-FollowerState
dn3_1    | 2021-10-04 15:31:49,015 [grpc-default-executor-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-E2410CA4C9B0, 13, (t:12, i:7))
scm_1    | 2021-10-04 15:31:42,458 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
om1_1    | 2021-10-04 15:32:02,856 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:om2
dn2_1    | 2021-10-04 15:31:45,235 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1 ELECTION round 0: submit vote requests at term 4 for 3: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:31:51,955 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn1_1    | 2021-10-04 15:32:35,426 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: changes role from    LEADER to FOLLOWER at term 11 for StepDownReason:LOST_MAJORITY_HEARTBEATS
om2_1    | 2021-10-04 15:31:57,744 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: receive requestVote(ELECTION, om1, group-D66704EFC61C, 7, (t:6, i:28))
dn3_1    | 2021-10-04 15:31:49,019 [grpc-default-executor-1] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-CANDIDATE: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: already has voted for 7eae0302-d0e5-479a-98f0-34ad09d996ac at current term 13
dn3_1    | 2021-10-04 15:31:49,020 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-D9A1593738B3, 9, (t:8, i:11))
dn3_1    | 2021-10-04 15:31:49,045 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-CANDIDATE: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: already has voted for 7eae0302-d0e5-479a-98f0-34ad09d996ac at current term 9
om1_1    | 2021-10-04 15:32:02,857 [grpc-default-executor-1] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-FollowerState
om3_1    | 2021-10-04 15:31:51,955 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn1_1    | 2021-10-04 15:32:35,426 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl
om2_1    | 2021-10-04 15:31:57,745 [grpc-default-executor-1] INFO impl.VoteContext: om2@group-D66704EFC61C-FOLLOWER: reject ELECTION from om1: already has voted for om2 at current term 7
scm_1    | 2021-10-04 15:31:42,635 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@679dd234{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn2_1    | 2021-10-04 15:31:45,242 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1 ELECTION round 0: result PASSED (term=4)
dn2_1    | 2021-10-04 15:31:45,244 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1
dn2_1    | 2021-10-04 15:31:45,246 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
dn2_1    | 2021-10-04 15:31:45,252 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-ED602BD476C3 with new leaderId: 13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:31:45,258 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:31:45,509 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: change Leader from null to 13b5a4a4-50b2-495a-a313-b6d400921281 at term 4 for becomeLeader, leader elected after 10905ms
dn2_1    | 2021-10-04 15:31:45,509 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5215794250ns, electionTimeout:5107ms
dn2_1    | 2021-10-04 15:31:45,510 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5413179069ns, electionTimeout:5169ms
dn2_1    | 2021-10-04 15:31:45,531 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
dn2_1    | 2021-10-04 15:31:45,538 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState
dn2_1    | 2021-10-04 15:31:45,541 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
dn2_1    | 2021-10-04 15:31:45,542 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:31:45,542 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2
dn2_1    | 2021-10-04 15:31:45,541 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
dn2_1    | 2021-10-04 15:31:45,543 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:31:45,544 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3
dn2_1    | 2021-10-04 15:31:45,614 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2 ELECTION round 0: submit vote requests at term 9 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:45,653 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3 ELECTION round 0: submit vote requests at term 13 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:31:45,726 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn2_1    | 2021-10-04 15:31:45,826 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:31:45,912 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
om1_1    | 2021-10-04 15:32:02,857 [om1@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om1@group-D66704EFC61C-FollowerState was interrupted: {}
om1_1    | java.lang.InterruptedException: sleep interrupted
om1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
om1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
om1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
om1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
om1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
om1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om1_1    | 2021-10-04 15:32:02,863 [grpc-default-executor-1] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-FollowerState
om1_1    | 2021-10-04 15:32:02,873 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C replies to ELECTION vote request: om2<-om1#0:OK-t8. Peer's state: om1@group-D66704EFC61C:t8, leader=null, voted=om2, raftlog=om1@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-10-04 15:32:03,042 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: change Leader from null to om2 at term 8 for appendEntries, leader elected after 13680ms
om1_1    | 2021-10-04 15:32:03,133 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 29: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-10-04 15:32:03,142 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: Rolling segment log-19_28 to index:28
om1_1    | 2021-10-04 15:32:03,156 [om1@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_19 to /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_19-28
om1_1    | 2021-10-04 15:32:03,199 [om1@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_29
om3_1    | 2021-10-04 15:31:52,072 [Listener at om3/9862] INFO http.HttpServer2: Jetty bound to port 9874
om3_1    | 2021-10-04 15:31:52,080 [Listener at om3/9862] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om3_1    | 2021-10-04 15:31:52,195 [Listener at om3/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om3_1    | 2021-10-04 15:31:52,201 [Listener at om3/9862] INFO server.session: No SessionScavenger set, using defaults
om3_1    | 2021-10-04 15:31:52,206 [Listener at om3/9862] INFO server.session: node0 Scavenging every 660000ms
om3_1    | 2021-10-04 15:31:52,275 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@6aea99e7{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om3_1    | 2021-10-04 15:31:52,279 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@42a0786f{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om2_1    | 2021-10-04 15:31:57,745 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C replies to ELECTION vote request: om1<-om2#0:FAIL-t7. Peer's state: om2@group-D66704EFC61C:t7, leader=null, voted=om2, raftlog=om2@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:32:02,833 [om2@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om2@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5113373524ns, electionTimeout:5080ms
om2_1    | 2021-10-04 15:32:02,834 [om2@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-10-04 15:32:02,834 [om2@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
om2_1    | 2021-10-04 15:32:02,834 [om2@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om2_1    | 2021-10-04 15:32:02,835 [om2@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-LeaderElection2
om2_1    | 2021-10-04 15:32:02,842 [om2@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection2 ELECTION round 0: submit vote requests at term 8 for 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:32:02,881 [om2@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
om2_1    | 2021-10-04 15:32:02,881 [om2@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection:   Response 0: om2<-om1#0:OK-t8
om2_1    | 2021-10-04 15:32:02,881 [om2@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection2 ELECTION round 0: result PASSED
om2_1    | 2021-10-04 15:32:02,882 [om2@group-D66704EFC61C-LeaderElection2] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-LeaderElection2
om2_1    | 2021-10-04 15:32:02,882 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
om2_1    | 2021-10-04 15:32:02,882 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServer$Division: om2@group-D66704EFC61C: change Leader from null to om2 at term 8 for becomeLeader, leader elected after 13657ms
dn2_1    | 2021-10-04 15:31:45,973 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-10-04 15:31:46,002 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-10-04 15:31:46,060 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-10-04 15:31:46,184 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderStateImpl
dn1_1    | 2021-10-04 15:32:35,428 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] INFO impl.PendingRequests: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-PendingRequests: sendNotLeaderResponses
scm_1    | 2021-10-04 15:31:42,638 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@1f9d4b0e{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn3_1    | 2021-10-04 15:31:49,069 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3 replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t9. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3:t9, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:46,287 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
om3_1    | 2021-10-04 15:31:52,769 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@7ddeb27f{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-7711931689440070671/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
om1_1    | 2021-10-04 15:32:03,549 [om1@group-D66704EFC61C-StateMachineUpdater] INFO ratis.OzoneManagerStateMachine: Received Configuration change notification from Ratis. New Peer list:
om2_1    | 2021-10-04 15:32:02,890 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn1_1    | 2021-10-04 15:32:35,428 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->7eae0302-d0e5-479a-98f0-34ad09d996ac-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->7eae0302-d0e5-479a-98f0-34ad09d996ac-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
scm_1    | 2021-10-04 15:31:43,460 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@739e8b96{scm,/,file:///tmp/jetty-0_0_0_0-9876-hdds-server-scm-1_2_0-SNAPSHOT_jar-_-any-7357090051513124869/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar!/webapps/scm}
dn3_1    | 2021-10-04 15:31:49,070 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn2_1    | 2021-10-04 15:31:46,305 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/log_inprogress_3 to /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/log_3-4
om3_1    | 2021-10-04 15:31:52,823 [Listener at om3/9862] INFO server.AbstractConnector: Started ServerConnector@25a5c8e{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
om1_1    | [id: "om1"
om2_1    | 2021-10-04 15:32:02,894 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 4096 (default)
dn1_1    | 2021-10-04 15:32:35,428 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->13b5a4a4-50b2-495a-a313-b6d400921281-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->13b5a4a4-50b2-495a-a313-b6d400921281-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
scm_1    | 2021-10-04 15:31:43,512 [Listener at 0.0.0.0/9860] INFO server.AbstractConnector: Started ServerConnector@78da899f{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
dn3_1    | 2021-10-04 15:31:49,074 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO impl.LeaderElection:   Response 0: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t9
dn2_1    | 2021-10-04 15:31:46,419 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/current/log_inprogress_5
om3_1    | 2021-10-04 15:31:52,826 [Listener at om3/9862] INFO server.Server: Started @60333ms
om1_1    | address: "om1:9872"
om2_1    | 2021-10-04 15:32:02,895 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 64MB (=67108864) (default)
dn1_1    | 2021-10-04 15:32:35,441 [grpc-default-executor-1] INFO server.GrpcLogAppender: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->13b5a4a4-50b2-495a-a313-b6d400921281-AppendLogResponseHandler: follower responses appendEntries COMPLETED
scm_1    | 2021-10-04 15:31:43,514 [Listener at 0.0.0.0/9860] INFO server.Server: Started @49960ms
dn3_1    | 2021-10-04 15:31:49,075 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3 ELECTION round 0: result REJECTED
dn2_1    | 2021-10-04 15:31:46,565 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderElection1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: set configuration 5: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:31:52,855 [Listener at om3/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
om1_1    | , id: "om3"
om2_1    | 2021-10-04 15:32:02,900 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 10s (default)
dn1_1    | 2021-10-04 15:32:35,443 [grpc-default-executor-0] INFO server.GrpcLogAppender: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->7eae0302-d0e5-479a-98f0-34ad09d996ac-AppendLogResponseHandler: follower responses appendEntries COMPLETED
scm_1    | 2021-10-04 15:31:43,527 [Listener at 0.0.0.0/9860] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn3_1    | 2021-10-04 15:31:49,076 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: changes role from CANDIDATE to FOLLOWER at term 9 for REJECTED
dn2_1    | 2021-10-04 15:31:48,692 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-D9A1593738B3, 9, (t:8, i:11))
om3_1    | 2021-10-04 15:31:52,860 [Listener at om3/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om1_1    | address: "om3:9872"
om2_1    | 2021-10-04 15:32:02,900 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn1_1    | 2021-10-04 15:32:35,444 [grpc-default-executor-0] INFO leader.FollowerInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->7eae0302-d0e5-479a-98f0-34ad09d996ac: nextIndex: updateUnconditionally 15 -> 14
dn1_1    | 2021-10-04 15:32:35,446 [grpc-default-executor-1] INFO leader.FollowerInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3->13b5a4a4-50b2-495a-a313-b6d400921281: nextIndex: updateUnconditionally 15 -> 14
dn3_1    | 2021-10-04 15:31:49,077 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3
dn2_1    | 2021-10-04 15:31:48,701 [grpc-default-executor-0] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-CANDIDATE: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: already has voted for 13b5a4a4-50b2-495a-a313-b6d400921281 at current term 9
om3_1    | 2021-10-04 15:31:52,862 [Listener at om3/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
om1_1    | , id: "om2"
dn1_1    | 2021-10-04 15:32:35,453 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-LeaderStateImpl] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
scm_1    | 2021-10-04 15:31:43,531 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Registered sink prometheus
om2_1    | 2021-10-04 15:32:02,901 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-10-04 15:31:49,081 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-LeaderElection3] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
dn2_1    | 2021-10-04 15:31:48,750 [grpc-default-executor-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-E2410CA4C9B0, 13, (t:12, i:7))
dn2_1    | 2021-10-04 15:31:48,752 [grpc-default-executor-1] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-CANDIDATE: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: already has voted for 13b5a4a4-50b2-495a-a313-b6d400921281 at current term 13
om3_1    | 2021-10-04 15:31:52,980 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
dn1_1    | 2021-10-04 15:32:35,459 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
scm_1    | 2021-10-04 15:31:43,533 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: HTTP server of scm listening at http://0.0.0.0:9876
om2_1    | 2021-10-04 15:32:02,913 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn3_1    | 2021-10-04 15:31:49,086 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-D9A1593738B3, 9, (t:8, i:11))
om1_1    | address: "om2:9872"
dn2_1    | 2021-10-04 15:31:48,759 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3 replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t9. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3:t9, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 2021-10-04 15:31:53,018 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
dn1_1    | 2021-10-04 15:32:35,468 [Command processor thread] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: remove  FOLLOWER 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3:t11, leader=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLog:OPENED:c13,f14,i14, conf=12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null RUNNING
scm_1    | 2021-10-04 15:32:08,909 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Finalization started.
om2_1    | 2021-10-04 15:32:02,913 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:31:49,098 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om1_1    | ]
dn2_1    | 2021-10-04 15:31:48,759 [grpc-default-executor-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0 replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t13. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0:t13, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:31:53,113 [Listener at om3/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
dn1_1    | 2021-10-04 15:32:35,470 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: shutdown
scm_1    | 2021-10-04 15:32:08,911 [IPC Server handler 0 on default port 9860] INFO pipeline.BackgroundPipelineCreator: Stopping RatisPipelineUtilsThread.
om2_1    | 2021-10-04 15:32:02,914 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:31:49,100 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.LeaderElection:   Response 0: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t13
om1_1    | 2021-10-04 15:33:27,874 [OMDoubleBufferFlushThread] INFO upgrade.OMFinalizeUpgradeResponse: Layout version to persist to DB : 0
dn2_1    | 2021-10-04 15:31:48,823 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2: ELECTION REJECTED received 1 response(s) and 0 exception(s):
om3_1    | 2021-10-04 15:31:53,151 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@57a667c8] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn1_1    | 2021-10-04 15:32:35,471 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9A1593738B3,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
scm_1    | 2021-10-04 15:32:08,923 [IPC Server handler 0 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 94c00b3b-62d6-4dbc-a4f2-ed602bd476c3, Nodes: 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:13b5a4a4-50b2-495a-a313-b6d400921281, CreationTimestamp2021-10-04T15:31:30.775144Z[UTC]] moved to CLOSED state
om2_1    | 2021-10-04 15:32:02,917 [om2@group-D66704EFC61C-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
om2_1    | 2021-10-04 15:32:02,918 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om1_1    | 2021-10-04 15:34:29,923 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new2-volume for user:hadoop
dn3_1    | 2021-10-04 15:31:49,101 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.LeaderElection:   Response 1: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t13
om3_1    | 2021-10-04 15:31:56,152 [om3@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om3@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5078091605ns, electionTimeout:5025ms
dn1_1    | 2021-10-04 15:32:35,471 [Command processor thread] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState
om2_1    | 2021-10-04 15:32:02,918 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-10-04 15:31:48,824 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection:   Response 0: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t9
dn3_1    | 2021-10-04 15:31:49,101 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1 ELECTION round 0: result REJECTED
dn3_1    | 2021-10-04 15:31:49,086 [grpc-default-executor-3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-E2410CA4C9B0, 13, (t:12, i:7))
om3_1    | 2021-10-04 15:31:56,154 [om3@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om3: shutdown om3@group-D66704EFC61C-FollowerState
dn1_1    | 2021-10-04 15:32:35,471 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-FollowerState was interrupted: {}
om2_1    | 2021-10-04 15:32:02,922 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn2_1    | 2021-10-04 15:31:48,824 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2 ELECTION round 0: result REJECTED
dn2_1    | 2021-10-04 15:31:48,825 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from CANDIDATE to FOLLOWER at term 9 for REJECTED
scm_1    | 2021-10-04 15:32:08,926 [IPC Server handler 0 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: f6e0142f-1a19-46ba-addd-d9a1593738b3, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:435cedd2-24c7-47d5-bcd3-a0497da1e3ca, CreationTimestamp2021-10-04T15:31:30.798519Z[UTC]] moved to CLOSED state
scm_1    | 2021-10-04 15:32:08,931 [IPC Server handler 0 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: b04f043e-ed3e-481f-8d45-658f144e8aec, Nodes: 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:7eae0302-d0e5-479a-98f0-34ad09d996ac, CreationTimestamp2021-10-04T15:31:30.789944Z[UTC]] moved to CLOSED state
scm_1    | 2021-10-04 15:32:08,931 [IPC Server handler 0 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: dc36d133-236b-461e-bfcf-36ca4360df3c, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:435cedd2-24c7-47d5-bcd3-a0497da1e3ca, CreationTimestamp2021-10-04T15:31:30.798067Z[UTC]] moved to CLOSED state
scm_1    | 2021-10-04 15:32:08,933 [IPC Server handler 0 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 0a165e29-937d-4218-a4c5-e2410ca4c9b0, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:7eae0302-d0e5-479a-98f0-34ad09d996ac, CreationTimestamp2021-10-04T15:31:30.755560Z[UTC]] moved to CLOSED state
scm_1    | 2021-10-04 15:32:08,933 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for all pipelines to close.
scm_1    | 2021-10-04 15:32:08,935 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO container.CloseContainerEventHandler: Close container Event triggered for container : #1
scm_1    | 2021-10-04 15:32:08,961 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO container.CloseContainerEventHandler: Close container Event triggered for container : #3
scm_1    | 2021-10-04 15:32:08,962 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO container.CloseContainerEventHandler: Close container Event triggered for container : #2
scm_1    | 2021-10-04 15:32:13,934 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer:   Existing pipelines and containers will be closed during Upgrade.
scm_1    |   New pipelines creation will remain frozen until Upgrade is finalized.
om3_1    | 2021-10-04 15:31:56,155 [om3@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
om2_1    | 2021-10-04 15:32:02,922 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1    | 2021-10-04 15:32:13,935 [IPC Server handler 0 on default port 9860] INFO upgrade.ScmOnFinalizeActionForDatanodeSchemaV2: Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 2021-10-04 15:31:49,086 [grpc-default-executor-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0 replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t13. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0:t13, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:31:48,825 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2
om3_1    | 2021-10-04 15:31:56,163 [om3@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om2_1    | 2021-10-04 15:32:02,923 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1024 (custom)
scm_1    | 2021-10-04 15:32:13,953 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: No onFinalize work defined for feature: SCM_HA.
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 2021-10-04 15:31:48,833 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
om3_1    | 2021-10-04 15:31:56,163 [om3@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-LeaderElection1
om2_1    | 2021-10-04 15:32:02,923 [om2@group-D66704EFC61C-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
scm_1    | 2021-10-04 15:32:13,956 [IPC Server handler 0 on default port 9860] INFO pipeline.BackgroundPipelineCreator: Starting RatisPipelineUtilsThread.
dn3_1    | 2021-10-04 15:31:49,122 [grpc-default-executor-3] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-CANDIDATE: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: already has voted for 7eae0302-d0e5-479a-98f0-34ad09d996ac at current term 13
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:31:48,905 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-D9A1593738B3, 9, (t:8, i:11))
om3_1    | 2021-10-04 15:31:56,209 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om3@group-D66704EFC61C-LeaderElection1 ELECTION round 0: submit vote requests at term 7 for 19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:32:02,923 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
scm_1    | 2021-10-04 15:32:13,956 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
dn3_1    | 2021-10-04 15:31:49,123 [grpc-default-executor-3] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t13. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0:t13, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 2021-10-04 15:31:48,908 [grpc-default-executor-0] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FOLLOWER: reject ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: already has voted for 13b5a4a4-50b2-495a-a313-b6d400921281 at current term 9
om3_1    | 2021-10-04 15:31:57,486 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: receive requestVote(ELECTION, om2, group-D66704EFC61C, 7, (t:6, i:28))
om2_1    | 2021-10-04 15:32:02,923 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1    | 2021-10-04 15:32:13,956 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn3_1    | 2021-10-04 15:31:49,129 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: changes role from CANDIDATE to FOLLOWER at term 13 for REJECTED
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 2021-10-04 15:31:48,906 [grpc-default-executor-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-E2410CA4C9B0, 13, (t:12, i:7))
om3_1    | 2021-10-04 15:31:57,497 [grpc-default-executor-1] INFO impl.VoteContext: om3@group-D66704EFC61C-CANDIDATE: reject ELECTION from om2: already has voted for om3 at current term 7
om3_1    | 2021-10-04 15:31:57,536 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C replies to ELECTION vote request: om2<-om3#0:FAIL-t7. Peer's state: om3@group-D66704EFC61C:t7, leader=null, voted=om3, raftlog=om3@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
scm_1    | 2021-10-04 15:32:13,957 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=94c00b3b-62d6-4dbc-a4f2-ed602bd476c3 since it stays at CLOSED stage.
dn3_1    | 2021-10-04 15:31:49,132 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 2021-10-04 15:31:48,908 [grpc-default-executor-1] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-CANDIDATE: reject ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: already has voted for 13b5a4a4-50b2-495a-a313-b6d400921281 at current term 13
om3_1    | 2021-10-04 15:31:57,682 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: receive requestVote(ELECTION, om1, group-D66704EFC61C, 7, (t:6, i:28))
om2_1    | 2021-10-04 15:32:02,926 [om2@group-D66704EFC61C-LeaderElection2] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-LeaderStateImpl
scm_1    | 2021-10-04 15:32:13,961 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Closing pipeline PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 which uses HEALTHY READONLY datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
dn3_1    | 2021-10-04 15:31:49,132 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection1] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:31:48,911 [grpc-default-executor-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0 replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t13. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0:t13, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:31:57,682 [grpc-default-executor-1] INFO impl.VoteContext: om3@group-D66704EFC61C-CANDIDATE: reject ELECTION from om1: already has voted for om3 at current term 7
om2_1    | 2021-10-04 15:32:02,937 [om2@group-D66704EFC61C-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: Rolling segment log-19_28 to index:28
scm_1    | 2021-10-04 15:32:13,963 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 close command to datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn3_1    | 2021-10-04 15:31:49,103 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FOLLOWER: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: already has voted for 7eae0302-d0e5-479a-98f0-34ad09d996ac at current term 9
dn1_1    | 2021-10-04 15:32:35,472 [Command processor thread] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater: set stopIndex = 13
dn2_1    | 2021-10-04 15:31:48,912 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3 replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t9. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3:t9, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 2021-10-04 15:31:57,682 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C replies to ELECTION vote request: om1<-om3#0:FAIL-t7. Peer's state: om3@group-D66704EFC61C:t7, leader=null, voted=om3, raftlog=om3@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-10-04 15:32:02,943 [om2@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_19 to /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_19-28
scm_1    | 2021-10-04 15:32:13,964 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 close command to datanode 13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:31:49,175 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t9. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3:t9, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:32:35,471 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Taking a snapshot at:(t:11, i:13) file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/sm/snapshot.11_13
dn2_1    | 2021-10-04 15:31:49,152 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om3_1    | 2021-10-04 15:31:57,702 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om3@group-D66704EFC61C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om2_1    | 2021-10-04 15:32:02,962 [om2@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_29
scm_1    | 2021-10-04 15:32:13,963 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=94c00b3b-62d6-4dbc-a4f2-ed602bd476c3 close command to datanode 13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:31:53,983 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-D9A1593738B3, 10, (t:8, i:11))
dn1_1    | 2021-10-04 15:32:35,483 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Finished taking a snapshot at:(t:11, i:13) file:/data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/sm/snapshot.11_13 took: 12 ms
dn2_1    | 2021-10-04 15:31:49,157 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection:   Response 0: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t13
om3_1    | 2021-10-04 15:31:57,702 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 0: om3<-om1#0:FAIL-t7
om2_1    | 2021-10-04 15:32:02,985 [om2@group-D66704EFC61C-LeaderElection2] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 29: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
scm_1    | 2021-10-04 15:32:13,964 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 close command to datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:31:53,984 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FOLLOWER: accept ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: our priority 0 <= candidate's priority 0
dn1_1    | 2021-10-04 15:32:35,484 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater: Took a snapshot at index 13
dn2_1    | 2021-10-04 15:31:49,157 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection:   Response 1: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t13
om3_1    | 2021-10-04 15:31:57,702 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 1: om3<-om2#0:FAIL-t7
om2_1    | 2021-10-04 15:32:03,462 [om2@group-D66704EFC61C-StateMachineUpdater] INFO ratis.OzoneManagerStateMachine: Received Configuration change notification from Ratis. New Peer list:
om2_1    | [id: "om1"
dn3_1    | 2021-10-04 15:31:53,984 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:32:35,484 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 13
dn2_1    | 2021-10-04 15:31:49,158 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3 ELECTION round 0: result REJECTED
om3_1    | 2021-10-04 15:31:57,702 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om3@group-D66704EFC61C-LeaderElection1 ELECTION round 0: result REJECTED
om2_1    | address: "om1:9872"
scm_1    | 2021-10-04 15:32:13,966 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Pipeline Pipeline[ Id: 94c00b3b-62d6-4dbc-a4f2-ed602bd476c3, Nodes: 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:13b5a4a4-50b2-495a-a313-b6d400921281, CreationTimestamp2021-10-04T15:31:30.775144Z[UTC]] removed.
dn3_1    | 2021-10-04 15:31:53,985 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:32:35,487 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: closes. applyIndex: 13
dn2_1    | 2021-10-04 15:31:49,158 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: changes role from CANDIDATE to FOLLOWER at term 13 for REJECTED
om3_1    | 2021-10-04 15:31:57,703 [om3@group-D66704EFC61C-LeaderElection1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
om2_1    | , id: "om3"
scm_1    | 2021-10-04 15:32:13,966 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=b04f043e-ed3e-481f-8d45-658f144e8aec since it stays at CLOSED stage.
dn1_1    | 2021-10-04 15:32:35,488 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-10-04 15:31:53,986 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState was interrupted: {}
dn2_1    | 2021-10-04 15:31:49,158 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3
om3_1    | 2021-10-04 15:31:57,703 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om3: shutdown om3@group-D66704EFC61C-LeaderElection1
om2_1    | address: "om3:9872"
scm_1    | 2021-10-04 15:32:13,966 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=b04f043e-ed3e-481f-8d45-658f144e8aec close command to datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn1_1    | 2021-10-04 15:32:35,488 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3-SegmentedRaftLogWorker close()
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 2021-10-04 15:31:49,158 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-LeaderElection3] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState
om3_1    | 2021-10-04 15:31:57,704 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-FollowerState
om2_1    | , id: "om2"
scm_1    | 2021-10-04 15:32:13,967 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Pipeline Pipeline[ Id: b04f043e-ed3e-481f-8d45-658f144e8aec, Nodes: 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:7eae0302-d0e5-479a-98f0-34ad09d996ac, CreationTimestamp2021-10-04T15:31:30.789944Z[UTC]] removed.
dn1_1    | 2021-10-04 15:32:35,515 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 2021-10-04 15:31:53,966 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5132185871ns, electionTimeout:5111ms
om3_1    | 2021-10-04 15:32:02,862 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: receive requestVote(ELECTION, om2, group-D66704EFC61C, 8, (t:6, i:28))
om2_1    | address: "om2:9872"
scm_1    | 2021-10-04 15:32:13,967 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=dc36d133-236b-461e-bfcf-36ca4360df3c since it stays at CLOSED stage.
dn1_1    | 2021-10-04 15:32:35,515 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:31:53,966 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
om3_1    | 2021-10-04 15:32:02,863 [grpc-default-executor-1] INFO impl.VoteContext: om3@group-D66704EFC61C-FOLLOWER: accept ELECTION from om2: our priority 0 <= candidate's priority 0
om2_1    | ]
scm_1    | 2021-10-04 15:32:13,967 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=dc36d133-236b-461e-bfcf-36ca4360df3c close command to datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:32:35,521 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 2021-10-04 15:31:53,967 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
om3_1    | 2021-10-04 15:32:02,863 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:om2
om2_1    | 2021-10-04 15:33:27,623 [OMDoubleBufferFlushThread] INFO upgrade.OMFinalizeUpgradeResponse: Layout version to persist to DB : 0
scm_1    | 2021-10-04 15:32:13,967 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Pipeline Pipeline[ Id: dc36d133-236b-461e-bfcf-36ca4360df3c, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:435cedd2-24c7-47d5-bcd3-a0497da1e3ca, CreationTimestamp2021-10-04T15:31:30.798067Z[UTC]] removed.
dn1_1    | 2021-10-04 15:32:35,523 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 3 is synced with bcsId 9.
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 2021-10-04 15:31:53,967 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om3_1    | 2021-10-04 15:32:02,863 [grpc-default-executor-1] INFO impl.RoleInfo: om3: shutdown om3@group-D66704EFC61C-FollowerState
om2_1    | 2021-10-04 15:34:29,906 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new2-volume for user:hadoop
scm_1    | 2021-10-04 15:32:13,967 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 since it stays at CLOSED stage.
dn1_1    | 2021-10-04 15:32:35,524 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 3 is synced with bcsId 9.
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 2021-10-04 15:31:53,967 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4
om3_1    | 2021-10-04 15:32:02,863 [grpc-default-executor-1] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-FollowerState
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om3_1    | 2021-10-04 15:32:02,864 [om3@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om3@group-D66704EFC61C-FollowerState was interrupted: {}
scm_1    | 2021-10-04 15:32:13,968 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 close command to datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:32:35,537 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-D9A1593738B3: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn2_1    | 2021-10-04 15:31:53,970 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4 ELECTION round 0: submit vote requests at term 10 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:53,987 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
om3_1    | java.lang.InterruptedException: sleep interrupted
om3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 2021-10-04 15:32:35,538 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 command on datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca.
dn2_1    | 2021-10-04 15:31:53,991 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn3_1    | 2021-10-04 15:31:53,996 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:OK-t10. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3:t10, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
om3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
scm_1    | 2021-10-04 15:32:13,968 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 close command to datanode 13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:32:35,538 [Command processor thread] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: remove    LEADER 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C:t4, leader=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null RUNNING
dn2_1    | 2021-10-04 15:31:53,991 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection:   Response 0: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t10
dn3_1    | 2021-10-04 15:31:54,239 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5106430298ns, electionTimeout:5056ms
om3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
scm_1    | 2021-10-04 15:32:13,968 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 close command to datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn1_1    | 2021-10-04 15:32:35,538 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: shutdown
dn2_1    | 2021-10-04 15:31:53,992 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4 ELECTION round 0: result REJECTED
dn3_1    | 2021-10-04 15:31:54,239 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState
om3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
scm_1    | 2021-10-04 15:32:13,968 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.PipelineStateManagerImpl: Pipeline Pipeline[ Id: f6e0142f-1a19-46ba-addd-d9a1593738b3, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:435cedd2-24c7-47d5-bcd3-a0497da1e3ca, CreationTimestamp2021-10-04T15:31:30.798519Z[UTC]] removed.
dn1_1    | 2021-10-04 15:32:35,539 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-36CA4360DF3C,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn2_1    | 2021-10-04 15:31:53,993 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from CANDIDATE to FOLLOWER at term 10 for REJECTED
dn3_1    | 2021-10-04 15:31:54,240 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
om3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
scm_1    | 2021-10-04 15:32:13,974 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Closing pipeline PipelineID=b04f043e-ed3e-481f-8d45-658f144e8aec which uses HEALTHY READONLY datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
dn1_1    | 2021-10-04 15:32:35,539 [Command processor thread] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-LeaderStateImpl
dn2_1    | 2021-10-04 15:31:53,993 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4
dn3_1    | 2021-10-04 15:31:54,240 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
scm_1    | 2021-10-04 15:32:13,974 [RatisPipelineUtilsThread - 0] WARN pipeline.PipelineStateManagerImpl: Pipeline f6e0142f-1a19-46ba-addd-d9a1593738b3 is not found in the pipeline Map. Pipeline may have been deleted already.
dn1_1    | 2021-10-04 15:32:35,539 [Command processor thread] INFO impl.PendingRequests: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-PendingRequests: sendNotLeaderResponses
dn2_1    | 2021-10-04 15:31:53,994 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection4] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
dn3_1    | 2021-10-04 15:31:54,240 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4
om3_1    | 2021-10-04 15:32:02,877 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C replies to ELECTION vote request: om2<-om3#0:OK-t8. Peer's state: om3@group-D66704EFC61C:t8, leader=null, voted=om2, raftlog=om3@group-D66704EFC61C-SegmentedRaftLog:OPENED:c27,f28,i28, conf=19: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
scm_1    | 2021-10-04 15:32:13,975 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 since it stays at CLOSED stage.
dn1_1    | 2021-10-04 15:32:35,541 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-36CA4360DF3C: Taking a snapshot at:(t:4, i:6) file /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/sm/snapshot.4_6
dn2_1    | 2021-10-04 15:31:54,268 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-E2410CA4C9B0, 14, (t:12, i:7))
dn3_1    | 2021-10-04 15:31:54,243 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4 ELECTION round 0: submit vote requests at term 14 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
om3_1    | 2021-10-04 15:32:03,066 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: change Leader from null to om2 at term 8 for appendEntries, leader elected after 13800ms
scm_1    | 2021-10-04 15:32:13,976 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 close command to datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:32:35,541 [Command processor thread] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater: set stopIndex = 6
dn2_1    | 2021-10-04 15:31:54,269 [grpc-default-executor-0] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FOLLOWER: accept ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: our priority 0 <= candidate's priority 1
dn3_1    | 2021-10-04 15:31:54,261 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
scm_1    | 2021-10-04 15:32:13,976 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 close command to datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn1_1    | 2021-10-04 15:32:35,542 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-36CA4360DF3C: Finished taking a snapshot at:(t:4, i:6) file:/data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c/sm/snapshot.4_6 took: 1 ms
om3_1    | 2021-10-04 15:32:03,146 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 29: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:31:54,269 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: changes role from  FOLLOWER to FOLLOWER at term 14 for candidate:7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:31:54,262 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO impl.LeaderElection:   Response 0: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t14
scm_1    | 2021-10-04 15:32:13,976 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 close command to datanode 13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:32:35,543 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater: Took a snapshot at index 6
om3_1    | 2021-10-04 15:32:03,152 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: Rolling segment log-19_28 to index:28
dn2_1    | 2021-10-04 15:31:54,270 [grpc-default-executor-0] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState
dn3_1    | 2021-10-04 15:31:54,263 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4 ELECTION round 0: result PASSED
scm_1    | 2021-10-04 15:32:13,976 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Pipeline Pipeline[ Id: 0a165e29-937d-4218-a4c5-e2410ca4c9b0, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:7eae0302-d0e5-479a-98f0-34ad09d996ac, CreationTimestamp2021-10-04T15:31:30.755560Z[UTC]] removed.
dn1_1    | 2021-10-04 15:32:35,543 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-StateMachineUpdater: snapshotIndex: updateIncreasingly 2 -> 6
om3_1    | 2021-10-04 15:32:03,162 [om3@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_19 to /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_19-28
dn2_1    | 2021-10-04 15:31:54,270 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState was interrupted: {}
dn3_1    | 2021-10-04 15:31:54,264 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4
scm_1    | 2021-10-04 15:32:13,982 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy: Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 1073741824 bytes for data in healthy node set. Required 3. Found 0.
dn1_1    | 2021-10-04 15:32:35,543 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: closes. applyIndex: 6
om3_1    | 2021-10-04 15:32:03,239 [om3@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_29
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 2021-10-04 15:31:54,265 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: changes role from CANDIDATE to LEADER at term 14 for changeToLeader
scm_1    | 2021-10-04 15:32:13,984 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler: Failed to close pipeline PipelineID=b04f043e-ed3e-481f-8d45-658f144e8aec which uses HEALTHY READONLY datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
dn1_1    | 2021-10-04 15:32:35,544 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
om3_1    | 2021-10-04 15:32:03,535 [om3@group-D66704EFC61C-StateMachineUpdater] INFO ratis.OzoneManagerStateMachine: Received Configuration change notification from Ratis. New Peer list:
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 2021-10-04 15:31:54,272 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E2410CA4C9B0 with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
scm_1    | org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=b04f043e-ed3e-481f-8d45-658f144e8aec not found
dn1_1    | 2021-10-04 15:32:35,544 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C-SegmentedRaftLogWorker close()
om3_1    | [id: "om1"
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 2021-10-04 15:31:54,302 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 14 for becomeLeader, leader elected after 21733ms
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:121)
dn1_1    | 2021-10-04 15:32:35,546 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-36CA4360DF3C: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/dc36d133-236b-461e-bfcf-36ca4360df3c
om3_1    | address: "om1:9872"
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 2021-10-04 15:31:54,303 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-10-04 15:31:54,303 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:31:54,303 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn1_1    | 2021-10-04 15:32:35,547 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=dc36d133-236b-461e-bfcf-36ca4360df3c command on datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca.
om3_1    | , id: "om3"
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 2021-10-04 15:31:54,304 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerImpl.getPipeline(PipelineStateManagerImpl.java:125)
dn1_1    | 2021-10-04 15:32:35,548 [Command processor thread] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: remove  FOLLOWER 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0:t15, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c10,f11,i11, conf=8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null RUNNING
om3_1    | address: "om3:9872"
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 2021-10-04 15:31:54,305 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1    | 	at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
dn1_1    | 2021-10-04 15:32:35,548 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: shutdown
om3_1    | , id: "om2"
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-10-04 15:31:54,305 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
dn1_1    | 2021-10-04 15:32:35,549 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E2410CA4C9B0,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
om3_1    | address: "om2:9872"
dn2_1    | 2021-10-04 15:31:54,272 [grpc-default-executor-0] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState
dn3_1    | 2021-10-04 15:31:54,304 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
scm_1    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
dn1_1    | 2021-10-04 15:32:35,549 [Command processor thread] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState
om3_1    | ]
dn2_1    | 2021-10-04 15:31:54,281 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0 replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-13b5a4a4-50b2-495a-a313-b6d400921281#0:OK-t14. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0:t14, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c6,f7,i7, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:54,312 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
dn1_1    | 2021-10-04 15:32:35,549 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-FollowerState was interrupted: {}
om3_1    | 2021-10-04 15:33:27,933 [OMDoubleBufferFlushThread] INFO upgrade.OMFinalizeUpgradeResponse: Layout version to persist to DB : 0
dn2_1    | 2021-10-04 15:31:54,383 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E2410CA4C9B0 with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:31:54,312 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
dn1_1    | java.lang.InterruptedException: sleep interrupted
om3_1    | 2021-10-04 15:34:29,895 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new2-volume for user:hadoop
dn2_1    | 2021-10-04 15:31:54,383 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 14 for appendEntries, leader elected after 19905ms
dn3_1    | 2021-10-04 15:31:54,312 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
scm_1    | 	at com.sun.proxy.$Proxy16.getPipeline(Unknown Source)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:31:54,465 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: set configuration 8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:31:54,316 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.getPipeline(PipelineManagerImpl.java:210)
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
dn2_1    | 2021-10-04 15:31:54,466 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker: Rolling segment log-6_7 to index:7
dn3_1    | 2021-10-04 15:31:54,317 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
dn2_1    | 2021-10-04 15:31:54,480 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_6 to /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_6-7
dn3_1    | 2021-10-04 15:31:54,317 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
scm_1    | 	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
dn2_1    | 2021-10-04 15:31:54,490 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_8
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-10-04 15:31:54,329 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
dn2_1    | 2021-10-04 15:31:59,123 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5129097638ns, electionTimeout:5115ms
dn1_1    | 2021-10-04 15:32:35,550 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Taking a snapshot at:(t:14, i:10) file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/sm/snapshot.14_10
dn3_1    | 2021-10-04 15:31:54,330 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
dn2_1    | 2021-10-04 15:31:59,123 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:32:35,550 [Command processor thread] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater: set stopIndex = 10
dn3_1    | 2021-10-04 15:31:54,331 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
scm_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn2_1    | 2021-10-04 15:31:59,123 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
dn1_1    | 2021-10-04 15:32:35,551 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Finished taking a snapshot at:(t:14, i:10) file:/data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/sm/snapshot.14_10 took: 1 ms
dn3_1    | 2021-10-04 15:31:54,331 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
scm_1    | 2021-10-04 15:32:13,989 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Closing pipeline PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 which uses HEALTHY READONLY datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
dn2_1    | 2021-10-04 15:31:59,123 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-10-04 15:32:35,552 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater: Took a snapshot at index 10
dn3_1    | 2021-10-04 15:31:54,331 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-10-04 15:31:54,331 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-10-04 15:31:59,123 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5
dn1_1    | 2021-10-04 15:32:35,552 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater] INFO impl.StateMachineUpdater: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 10
dn1_1    | 2021-10-04 15:32:35,552 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: closes. applyIndex: 10
scm_1    | 2021-10-04 15:32:13,989 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler: Failed to close pipeline PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 which uses HEALTHY READONLY datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
dn1_1    | 2021-10-04 15:32:35,553 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-10-04 15:31:54,334 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderStateImpl
dn3_1    | 2021-10-04 15:31:54,335 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker: Rolling segment log-6_7 to index:7
dn3_1    | 2021-10-04 15:31:54,338 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_6 to /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_6-7
scm_1    | org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 not found
dn2_1    | 2021-10-04 15:31:59,130 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-D9A1593738B3, 11, (t:8, i:11))
dn3_1    | 2021-10-04 15:31:54,341 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/current/log_inprogress_8
dn1_1    | 2021-10-04 15:32:35,553 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0-SegmentedRaftLogWorker close()
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:121)
dn2_1    | 2021-10-04 15:31:59,131 [grpc-default-executor-0] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-CANDIDATE: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: already has voted for 13b5a4a4-50b2-495a-a313-b6d400921281 at current term 11
dn3_1    | 2021-10-04 15:31:54,354 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderElection4] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: set configuration 8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:32:35,555 [Command processor thread] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E2410CA4C9B0: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerImpl.getPipeline(PipelineStateManagerImpl.java:125)
dn2_1    | 2021-10-04 15:31:59,131 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3 replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:FAIL-t11. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3:t11, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:59,140 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-D9A1593738B3, 11, (t:8, i:11))
dn1_1    | 2021-10-04 15:32:35,556 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 command on datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca.
scm_1    | 	at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
dn2_1    | 2021-10-04 15:31:59,135 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5 ELECTION round 0: submit vote requests at term 11 for 6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:31:59,141 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FOLLOWER: accept ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: our priority 0 <= candidate's priority 1
dn1_1    | 2021-10-04 15:32:35,556 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
dn2_1    | 2021-10-04 15:31:59,150 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn3_1    | 2021-10-04 15:31:59,141 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:32:35,557 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Finalize Upgrade called!
scm_1    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
dn2_1    | 2021-10-04 15:31:59,150 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO impl.LeaderElection:   Response 0: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:FAIL-t11
dn3_1    | 2021-10-04 15:31:59,141 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:32:35,558 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization started.
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
dn2_1    | 2021-10-04 15:31:59,150 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5 ELECTION round 0: result REJECTED
dn3_1    | 2021-10-04 15:31:59,141 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
dn1_1    | 2021-10-04 15:32:35,559 [Command processor thread] INFO upgrade.DatanodeSchemaV2FinalizeAction: Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
dn2_1    | 2021-10-04 15:31:59,151 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: changes role from CANDIDATE to FOLLOWER at term 11 for REJECTED
dn3_1    | 2021-10-04 15:31:59,142 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState was interrupted: {}
dn1_1    | 2021-10-04 15:32:35,562 [Command processor thread] INFO upgrade.ScmHAFinalizeUpgradeActionDatanode: Upgrading Datanode volume layout for SCM HA support.
scm_1    | 	at com.sun.proxy.$Proxy16.getPipeline(Unknown Source)
dn2_1    | 2021-10-04 15:31:59,151 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn1_1    | 2021-10-04 15:32:35,562 [Command processor thread] INFO upgrade.ScmHAFinalizeUpgradeActionDatanode: Creating symlink /data/hdds/hdds/CID-04a88067-f1ac-4b13-a3bd-45e8a2eb611c -> 9c55647f-f232-48a9-b3b4-688bc0841dd1 as part of SCM HA finalization for datanode.
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.getPipeline(PipelineManagerImpl.java:210)
dn2_1    | 2021-10-04 15:31:59,151 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-LeaderElection5] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization is done.
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
dn2_1    | 2021-10-04 15:31:59,346 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-D9A1593738B3 with new leaderId: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
dn2_1    | 2021-10-04 15:31:59,346 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: change Leader from null to 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at term 11 for appendEntries, leader elected after 27314ms
dn2_1    | 2021-10-04 15:31:59,380 [grpc-default-executor-0] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: set configuration 12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
dn2_1    | 2021-10-04 15:31:59,381 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker: Rolling segment log-6_11 to index:11
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
dn2_1    | 2021-10-04 15:31:59,382 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_6 to /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_6-11
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
dn2_1    | 2021-10-04 15:31:59,387 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_12
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn2_1    | 2021-10-04 15:32:16,336 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn1_1    | 2021-10-04 15:32:35,563 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:32:13,991 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Datanode 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
dn2_1    | 2021-10-04 15:32:16,341 [Command processor thread] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: remove  FOLLOWER 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3:t11, leader=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null RUNNING
dn3_1    | 2021-10-04 15:31:59,152 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3 replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:OK-t11. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3:t11, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-10-04 15:33:17,623 [grpc-default-executor-1] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: addNew group-A02B778FA12D:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1] returns group-A02B778FA12D:java.util.concurrent.CompletableFuture@5820717a[Not completed]
scm_1    | 2021-10-04 15:32:13,991 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
dn2_1    | 2021-10-04 15:32:16,343 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: shutdown
dn3_1    | 2021-10-04 15:31:59,153 [grpc-default-executor-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-D9A1593738B3, 11, (t:8, i:11))
dn1_1    | 2021-10-04 15:33:17,625 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: new RaftServerImpl for group-A02B778FA12D:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1] with ContainerStateMachine:uninitialized
scm_1    | 2021-10-04 15:32:15,266 [IPC Server handler 83 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,343 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9A1593738B3,id=13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:31:59,154 [grpc-default-executor-1] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FOLLOWER: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: already has voted for 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at current term 11
dn3_1    | 2021-10-04 15:31:59,154 [grpc-default-executor-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3 replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t11. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3:t11, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog:OPENED:c9,f11,i11, conf=6: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
scm_1    | 2021-10-04 15:32:16,278 [IPC Server handler 90 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,343 [Command processor thread] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState
dn3_1    | 2021-10-04 15:31:59,392 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-D9A1593738B3 with new leaderId: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:33:17,629 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
scm_1    | 2021-10-04 15:32:16,299 [IPC Server handler 98 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-10-04 15:32:16,324 [IPC Server handler 59 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:31:59,392 [grpc-default-executor-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: change Leader from null to 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at term 11 for appendEntries, leader elected after 29037ms
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-10-04 15:32:16,343 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-FollowerState was interrupted: {}
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
scm_1    | 2021-10-04 15:32:16,329 [IPC Server handler 3 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:31:59,430 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: set configuration 12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1    | 2021-10-04 15:32:16,338 [IPC Server handler 5 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:31:59,431 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker: Rolling segment log-6_11 to index:11
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
scm_1    | 2021-10-04 15:32:16,422 [IPC Server handler 8 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:31:59,438 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_6 to /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_6-11
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1    | 2021-10-04 15:32:16,423 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO container.IncrementalContainerReportHandler: Moving container #1 to QUASI_CLOSED state, datanode 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported QUASI_CLOSED replica.
dn3_1    | 2021-10-04 15:31:59,455 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/current/log_inprogress_12
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
scm_1    | 2021-10-04 15:32:16,430 [IPC Server handler 7 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:32:25,343 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn1_1    | 2021-10-04 15:33:17,630 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1    | 2021-10-04 15:32:16,441 [IPC Server handler 9 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:32:25,450 [pool-40-thread-1] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 4.
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn1_1    | 2021-10-04 15:33:17,632 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
scm_1    | 2021-10-04 15:32:16,443 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO container.IncrementalContainerReportHandler: Moving container #3 to QUASI_CLOSED state, datanode 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported QUASI_CLOSED replica.
dn3_1    | 2021-10-04 15:32:25,451 [pool-40-thread-1] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 4.
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn1_1    | 2021-10-04 15:33:17,632 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
scm_1    | 2021-10-04 15:32:16,506 [IPC Server handler 1 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn3_1    | 2021-10-04 15:32:25,467 [pool-40-thread-1] INFO keyvalue.KeyValueContainer: Container 2 is closed with bcsId 4.
dn3_1    | 2021-10-04 15:32:25,470 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-10-04 15:33:17,632 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d does not exist. Creating ...
dn3_1    | 2021-10-04 15:32:25,493 [Command processor thread] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: remove  FOLLOWER 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3:t11, leader=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLog:OPENED:c13,f13,i13, conf=12: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null RUNNING
dn2_1    | 2021-10-04 15:32:16,345 [Command processor thread] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater: set stopIndex = 13
scm_1    | 2021-10-04 15:32:16,509 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO container.IncrementalContainerReportHandler: Moving container #2 to QUASI_CLOSED state, datanode 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported QUASI_CLOSED replica.
scm_1    | 2021-10-04 15:32:18,957 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,634 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d/in_use.lock acquired by nodename 7@8933f28417ff
dn3_1    | 2021-10-04 15:32:25,494 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: shutdown
scm_1    | 2021-10-04 15:32:23,957 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn2_1    | 2021-10-04 15:32:16,345 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Taking a snapshot at:(t:11, i:13) file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/sm/snapshot.11_13
dn1_1    | 2021-10-04 15:33:17,636 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d has been successfully formatted.
dn3_1    | 2021-10-04 15:32:25,494 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D9A1593738B3,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
scm_1    | 2021-10-04 15:32:24,312 [IPC Server handler 59 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,351 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Finished taking a snapshot at:(t:11, i:13) file:/data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/sm/snapshot.11_13 took: 6 ms
dn1_1    | 2021-10-04 15:33:17,636 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-A02B778FA12D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-10-04 15:32:25,494 [Command processor thread] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState
scm_1    | 2021-10-04 15:32:25,320 [IPC Server handler 59 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,351 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater: Took a snapshot at index 13
dn1_1    | 2021-10-04 15:33:17,637 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:32:25,495 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-FollowerState was interrupted: {}
scm_1    | 2021-10-04 15:32:25,325 [IPC Server handler 3 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,352 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 13
dn1_1    | 2021-10-04 15:33:17,637 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | java.lang.InterruptedException: sleep interrupted
scm_1    | 2021-10-04 15:32:25,345 [IPC Server handler 8 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,356 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: closes. applyIndex: 13
dn1_1    | 2021-10-04 15:33:17,637 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
scm_1    | 2021-10-04 15:32:25,353 [IPC Server handler 7 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,356 [13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn1_1    | 2021-10-04 15:33:17,637 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
scm_1    | 2021-10-04 15:32:25,355 [IPC Server handler 9 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,357 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3-SegmentedRaftLogWorker close()
dn1_1    | 2021-10-04 15:33:17,637 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
scm_1    | 2021-10-04 15:32:25,409 [IPC Server handler 1 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,403 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn1_1    | 2021-10-04 15:33:17,638 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
scm_1    | 2021-10-04 15:32:25,474 [IPC Server handler 6 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,404 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn1_1    | 2021-10-04 15:33:17,638 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-10-04 15:32:25,495 [Command processor thread] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater: set stopIndex = 13
dn2_1    | 2021-10-04 15:32:16,421 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 3 is synced with bcsId 9.
dn3_1    | 2021-10-04 15:32:25,495 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Taking a snapshot at:(t:11, i:13) file /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/sm/snapshot.11_13
scm_1    | 2021-10-04 15:32:25,478 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO container.IncrementalContainerReportHandler: Moving container #2 to CLOSED state, datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
dn1_1    | 2021-10-04 15:33:17,638 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d
dn2_1    | 2021-10-04 15:32:16,421 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 3 is synced with bcsId 9.
dn3_1    | 2021-10-04 15:32:25,501 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-D9A1593738B3: Finished taking a snapshot at:(t:11, i:13) file:/data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3/sm/snapshot.11_13 took: 6 ms
scm_1    | 2021-10-04 15:32:25,483 [IPC Server handler 4 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-10-04 15:32:25,559 [IPC Server handler 17 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn2_1    | 2021-10-04 15:32:16,438 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-10-04 15:32:25,502 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater: Took a snapshot at index 13
scm_1    | 2021-10-04 15:32:25,565 [IPC Server handler 14 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-10-04 15:32:16,447 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-D9A1593738B3: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn3_1    | 2021-10-04 15:32:25,503 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 13
scm_1    | 2021-10-04 15:32:25,574 [IPC Server handler 10 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:32:16,447 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 command on datanode 13b5a4a4-50b2-495a-a313-b6d400921281.
dn3_1    | 2021-10-04 15:32:25,508 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: closes. applyIndex: 13
dn3_1    | 2021-10-04 15:32:25,509 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-10-04 15:32:16,448 [Command processor thread] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: remove    LEADER 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3:t4, leader=13b5a4a4-50b2-495a-a313-b6d400921281, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null RUNNING
dn3_1    | 2021-10-04 15:32:25,515 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3-SegmentedRaftLogWorker close()
scm_1    | 2021-10-04 15:32:28,957 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-10-04 15:32:16,448 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: shutdown
dn3_1    | 2021-10-04 15:32:25,547 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
scm_1    | 2021-10-04 15:32:30,180 [IPC Server handler 51 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-10-04 15:32:16,449 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ED602BD476C3,id=13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:32:25,548 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
scm_1    | 2021-10-04 15:32:33,958 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-10-04 15:32:16,449 [Command processor thread] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-LeaderStateImpl
dn3_1    | 2021-10-04 15:32:25,555 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 3 is synced with bcsId 9.
scm_1    | 2021-10-04 15:32:35,461 [IPC Server handler 6 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-10-04 15:32:16,451 [Command processor thread] INFO impl.PendingRequests: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-PendingRequests: sendNotLeaderResponses
dn2_1    | 2021-10-04 15:32:16,456 [Command processor thread] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater: set stopIndex = 6
scm_1    | 2021-10-04 15:32:35,523 [IPC Server handler 17 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,639 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:32:25,567 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 3 is synced with bcsId 9.
dn2_1    | 2021-10-04 15:32:16,459 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-ED602BD476C3: Taking a snapshot at:(t:4, i:6) file /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/sm/snapshot.4_6
scm_1    | 2021-10-04 15:32:35,533 [IPC Server handler 14 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,640 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-10-04 15:32:25,584 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-D9A1593738B3: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/f6e0142f-1a19-46ba-addd-d9a1593738b3
dn2_1    | 2021-10-04 15:32:16,460 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-ED602BD476C3: Finished taking a snapshot at:(t:4, i:6) file:/data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3/sm/snapshot.4_6 took: 1 ms
scm_1    | 2021-10-04 15:32:35,537 [IPC Server handler 10 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-10-04 15:33:17,641 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-10-04 15:32:25,585 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=f6e0142f-1a19-46ba-addd-d9a1593738b3 command on datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac.
dn2_1    | 2021-10-04 15:32:16,461 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater: Took a snapshot at index 6
scm_1    | 2021-10-04 15:32:38,958 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,641 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:32:25,585 [Command processor thread] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: remove    LEADER 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC:t4, leader=7eae0302-d0e5-479a-98f0-34ad09d996ac, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLog:OPENED:c6,f6,i6, conf=5: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null RUNNING
dn2_1    | 2021-10-04 15:32:16,461 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-StateMachineUpdater: snapshotIndex: updateIncreasingly 2 -> 6
scm_1    | 2021-10-04 15:32:43,958 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,641 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:32:25,586 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: shutdown
dn2_1    | 2021-10-04 15:32:16,462 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: closes. applyIndex: 6
scm_1    | 2021-10-04 15:32:43,984 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy: Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 1073741824 bytes for data in healthy node set. Required 3. Found 0.
dn1_1    | 2021-10-04 15:33:17,646 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:33:17,646 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-10-04 15:33:17,646 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:32:25,586 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-658F144E8AEC,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:32:25,586 [Command processor thread] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-LeaderStateImpl
dn3_1    | 2021-10-04 15:32:25,586 [Command processor thread] INFO impl.PendingRequests: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-PendingRequests: sendNotLeaderResponses
dn3_1    | 2021-10-04 15:32:25,588 [Command processor thread] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater: set stopIndex = 6
dn3_1    | 2021-10-04 15:32:25,588 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-658F144E8AEC: Taking a snapshot at:(t:4, i:6) file /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/sm/snapshot.4_6
dn3_1    | 2021-10-04 15:32:25,590 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-658F144E8AEC: Finished taking a snapshot at:(t:4, i:6) file:/data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec/sm/snapshot.4_6 took: 2 ms
dn2_1    | 2021-10-04 15:32:16,462 [13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-10-04 15:32:25,590 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater: Took a snapshot at index 6
dn1_1    | 2021-10-04 15:33:17,647 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
scm_1    | 2021-10-04 15:32:48,002 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO node.ReadOnlyHealthyToHealthyNodeHandler: Datanode 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
dn2_1    | 2021-10-04 15:32:16,463 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3-SegmentedRaftLogWorker close()
dn3_1    | 2021-10-04 15:32:25,591 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-StateMachineUpdater: snapshotIndex: updateIncreasingly 2 -> 6
dn1_1    | 2021-10-04 15:33:17,647 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
scm_1    | 2021-10-04 15:32:48,003 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
dn2_1    | 2021-10-04 15:32:16,465 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-ED602BD476C3: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/94c00b3b-62d6-4dbc-a4f2-ed602bd476c3
dn3_1    | 2021-10-04 15:32:25,592 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: closes. applyIndex: 6
scm_1    | 2021-10-04 15:32:48,005 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=2bac8ed3-6a67-4860-a92c-31877077d4a5 to datanode:13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:32:16,465 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=94c00b3b-62d6-4dbc-a4f2-ed602bd476c3 command on datanode 13b5a4a4-50b2-495a-a313-b6d400921281.
dn3_1    | 2021-10-04 15:32:25,592 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn1_1    | 2021-10-04 15:33:17,647 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
scm_1    | 2021-10-04 15:32:48,007 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Created pipeline Pipeline[ Id: 2bac8ed3-6a67-4860-a92c-31877077d4a5, Nodes: 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-04T15:32:48.005Z[UTC]].
dn2_1    | 2021-10-04 15:32:16,465 [Command processor thread] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: remove  FOLLOWER 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0:t14, leader=7eae0302-d0e5-479a-98f0-34ad09d996ac, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c9,f9,i9, conf=8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null RUNNING
dn2_1    | 2021-10-04 15:32:16,465 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: shutdown
dn1_1    | 2021-10-04 15:33:17,664 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:32:16,467 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E2410CA4C9B0,id=13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:32:25,593 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC-SegmentedRaftLogWorker close()
scm_1    | 2021-10-04 15:32:48,015 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy: Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 1073741824 bytes for data in healthy node set. Required 3. Found 1.
dn1_1    | 2021-10-04 15:33:17,664 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 2021-10-04 15:32:16,469 [Command processor thread] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState
dn3_1    | 2021-10-04 15:32:25,594 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-658F144E8AEC: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/b04f043e-ed3e-481f-8d45-658f144e8aec
scm_1    | 2021-10-04 15:32:48,959 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,664 [pool-33-thread-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:32:25,594 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=b04f043e-ed3e-481f-8d45-658f144e8aec command on datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac.
dn2_1    | 2021-10-04 15:32:16,469 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-FollowerState was interrupted: {}
scm_1    | 2021-10-04 15:32:53,960 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,665 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A02B778FA12D,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn3_1    | 2021-10-04 15:32:25,595 [Command processor thread] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: remove    LEADER 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0:t14, leader=7eae0302-d0e5-479a-98f0-34ad09d996ac, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLog:OPENED:c11,f11,i11, conf=8: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null RUNNING
dn2_1    | java.lang.InterruptedException: sleep interrupted
scm_1    | 2021-10-04 15:32:57,003 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO node.ReadOnlyHealthyToHealthyNodeHandler: Datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
dn1_1    | 2021-10-04 15:33:17,914 [grpc-default-executor-1] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: addNew group-E32FDFCF0FEA:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0] returns group-E32FDFCF0FEA:java.util.concurrent.CompletableFuture@41838953[Not completed]
dn3_1    | 2021-10-04 15:32:25,595 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: shutdown
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
scm_1    | 2021-10-04 15:32:57,004 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
dn1_1    | 2021-10-04 15:33:17,916 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: new RaftServerImpl for group-E32FDFCF0FEA:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:32:25,595 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E2410CA4C9B0,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
scm_1    | 2021-10-04 15:32:57,007 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9 to datanode:7eae0302-d0e5-479a-98f0-34ad09d996ac
scm_1    | 2021-10-04 15:32:57,008 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Created pipeline Pipeline[ Id: 9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9, Nodes: 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-04T15:32:57.007Z[UTC]].
dn3_1    | 2021-10-04 15:32:25,595 [Command processor thread] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-LeaderStateImpl
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
scm_1    | 2021-10-04 15:32:57,008 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy: Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 1073741824 bytes for data in healthy node set. Required 3. Found 2.
dn1_1    | 2021-10-04 15:33:17,916 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-10-04 15:32:25,595 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->13b5a4a4-50b2-495a-a313-b6d400921281-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->13b5a4a4-50b2-495a-a313-b6d400921281-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
scm_1    | 2021-10-04 15:32:58,960 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:32:25,595 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->435cedd2-24c7-47d5-bcd3-a0497da1e3ca-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->435cedd2-24c7-47d5-bcd3-a0497da1e3ca-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
scm_1    | 2021-10-04 15:33:03,961 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:32:25,605 [grpc-default-executor-2] INFO server.GrpcLogAppender: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->13b5a4a4-50b2-495a-a313-b6d400921281-AppendLogResponseHandler: follower responses appendEntries COMPLETED
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
scm_1    | 2021-10-04 15:33:06,004 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO node.ReadOnlyHealthyToHealthyNodeHandler: Datanode 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:32:25,605 [grpc-default-executor-1] INFO server.GrpcLogAppender: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->435cedd2-24c7-47d5-bcd3-a0497da1e3ca-AppendLogResponseHandler: follower responses appendEntries COMPLETED
dn2_1    | 2021-10-04 15:32:16,471 [Command processor thread] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater: set stopIndex = 9
scm_1    | 2021-10-04 15:33:06,006 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:32:25,614 [Command processor thread] INFO impl.PendingRequests: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-PendingRequests: sendNotLeaderResponses
dn2_1    | 2021-10-04 15:32:16,472 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Taking a snapshot at:(t:14, i:9) file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/sm/snapshot.14_9
scm_1    | 2021-10-04 15:33:06,007 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=d43f7a32-8012-4a3e-85fd-bfbfb0cb987c to datanode:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:32:25,616 [grpc-default-executor-1] INFO leader.FollowerInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->435cedd2-24c7-47d5-bcd3-a0497da1e3ca: nextIndex: updateUnconditionally 12 -> 11
dn2_1    | 2021-10-04 15:32:16,474 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Finished taking a snapshot at:(t:14, i:9) file:/data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/sm/snapshot.14_9 took: 2 ms
scm_1    | 2021-10-04 15:33:06,008 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Created pipeline Pipeline[ Id: d43f7a32-8012-4a3e-85fd-bfbfb0cb987c, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-04T15:33:06.007Z[UTC]].
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:32:25,616 [grpc-default-executor-2] INFO leader.FollowerInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0->13b5a4a4-50b2-495a-a313-b6d400921281: nextIndex: updateUnconditionally 12 -> 10
dn2_1    | 2021-10-04 15:32:16,474 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater: Took a snapshot at index 9
scm_1    | 2021-10-04 15:33:06,008 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=4e166499-84bd-4d57-a2d2-a02b778fa12d to datanode:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:32:25,618 [Command processor thread] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater: set stopIndex = 11
dn2_1    | 2021-10-04 15:32:16,474 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater] INFO impl.StateMachineUpdater: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 9
scm_1    | 2021-10-04 15:33:06,009 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=4e166499-84bd-4d57-a2d2-a02b778fa12d to datanode:7eae0302-d0e5-479a-98f0-34ad09d996ac
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:32:25,618 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Taking a snapshot at:(t:14, i:11) file /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/sm/snapshot.14_11
dn2_1    | 2021-10-04 15:32:16,474 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: closes. applyIndex: 9
scm_1    | 2021-10-04 15:33:06,009 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=4e166499-84bd-4d57-a2d2-a02b778fa12d to datanode:13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:32:25,620 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E2410CA4C9B0: Finished taking a snapshot at:(t:14, i:11) file:/data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0/sm/snapshot.14_11 took: 2 ms
dn2_1    | 2021-10-04 15:32:16,475 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
scm_1    | 2021-10-04 15:33:06,009 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Created pipeline Pipeline[ Id: 4e166499-84bd-4d57-a2d2-a02b778fa12d, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-04T15:33:06.008Z[UTC]].
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:32:25,621 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater: Took a snapshot at index 11
dn2_1    | 2021-10-04 15:32:16,478 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0-SegmentedRaftLogWorker close()
scm_1    | 2021-10-04 15:33:06,011 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=175959e7-c272-40d1-94a0-e32fdfcf0fea to datanode:7eae0302-d0e5-479a-98f0-34ad09d996ac
dn1_1    | 2021-10-04 15:33:17,917 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea does not exist. Creating ...
dn3_1    | 2021-10-04 15:32:25,621 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater] INFO impl.StateMachineUpdater: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-StateMachineUpdater: snapshotIndex: updateIncreasingly 5 -> 11
dn2_1    | 2021-10-04 15:32:16,500 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 4.
scm_1    | 2021-10-04 15:33:06,012 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=175959e7-c272-40d1-94a0-e32fdfcf0fea to datanode:13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:33:17,919 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea/in_use.lock acquired by nodename 7@8933f28417ff
dn3_1    | 2021-10-04 15:32:25,622 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: closes. applyIndex: 11
dn2_1    | 2021-10-04 15:32:16,501 [Command processor thread] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 4.
scm_1    | 2021-10-04 15:33:06,012 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=175959e7-c272-40d1-94a0-e32fdfcf0fea to datanode:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:33:17,922 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea has been successfully formatted.
dn3_1    | 2021-10-04 15:32:25,622 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn2_1    | 2021-10-04 15:32:16,504 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
scm_1    | 2021-10-04 15:33:06,012 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManagerImpl: Created pipeline Pipeline[ Id: 175959e7-c272-40d1-94a0-e32fdfcf0fea, Nodes: 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-10-04T15:33:06.011Z[UTC]].
dn1_1    | 2021-10-04 15:33:17,922 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-10-04 15:32:25,622 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0-SegmentedRaftLogWorker close()
dn2_1    | 2021-10-04 15:32:16,506 [Command processor thread] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E2410CA4C9B0: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
scm_1    | 2021-10-04 15:33:06,013 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Pipeline: PipelineID=175959e7-c272-40d1-94a0-e32fdfcf0fea contains same datanodes as previous pipelines: PipelineID=4e166499-84bd-4d57-a2d2-a02b778fa12d nodeIds: 7eae0302-d0e5-479a-98f0-34ad09d996ac, 13b5a4a4-50b2-495a-a313-b6d400921281, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn3_1    | 2021-10-04 15:32:25,624 [Command processor thread] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E2410CA4C9B0: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/0a165e29-937d-4218-a4c5-e2410ca4c9b0
dn1_1    | 2021-10-04 15:33:17,924 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-E32FDFCF0FEA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-10-04 15:33:17,924 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
scm_1    | 2021-10-04 15:33:08,962 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,924 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-10-04 15:32:16,506 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 command on datanode 13b5a4a4-50b2-495a-a313-b6d400921281.
dn3_1    | 2021-10-04 15:32:25,624 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=0a165e29-937d-4218-a4c5-e2410ca4c9b0 command on datanode 7eae0302-d0e5-479a-98f0-34ad09d996ac.
scm_1    | 2021-10-04 15:33:13,963 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,925 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-10-04 15:32:16,506 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-10-04 15:32:25,624 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:33:17,519 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 2bac8ed3-6a67-4860-a92c-31877077d4a5, Nodes: 13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:13b5a4a4-50b2-495a-a313-b6d400921281, CreationTimestamp2021-10-04T15:32:48.005Z[UTC]] moved to OPEN state
dn1_1    | 2021-10-04 15:33:17,925 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:32:16,515 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Finalize Upgrade called!
dn3_1    | 2021-10-04 15:32:25,626 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Finalize Upgrade called!
scm_1    | 2021-10-04 15:33:18,963 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
dn1_1    | 2021-10-04 15:33:17,925 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:17,927 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:32:25,626 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization started.
scm_1    | 2021-10-04 15:33:22,873 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 175959e7-c272-40d1-94a0-e32fdfcf0fea, Nodes: 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:13b5a4a4-50b2-495a-a313-b6d400921281, CreationTimestamp2021-10-04T15:33:06.011Z[UTC]] moved to OPEN state
dn2_1    | 2021-10-04 15:32:16,515 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization started.
dn1_1    | 2021-10-04 15:33:17,927 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:32:25,628 [Command processor thread] INFO upgrade.DatanodeSchemaV2FinalizeAction: Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
scm_1    | 2021-10-04 15:33:23,964 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Open pipeline found after SCM finalization
dn2_1    | 2021-10-04 15:32:16,517 [Command processor thread] INFO upgrade.DatanodeSchemaV2FinalizeAction: Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
dn3_1    | 2021-10-04 15:32:25,630 [Command processor thread] INFO upgrade.ScmHAFinalizeUpgradeActionDatanode: Upgrading Datanode volume layout for SCM HA support.
scm_1    | 2021-10-04 15:33:23,965 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn2_1    | 2021-10-04 15:32:16,519 [Command processor thread] INFO upgrade.ScmHAFinalizeUpgradeActionDatanode: Upgrading Datanode volume layout for SCM HA support.
dn1_1    | 2021-10-04 15:33:17,927 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea
dn3_1    | 2021-10-04 15:32:25,630 [Command processor thread] INFO upgrade.ScmHAFinalizeUpgradeActionDatanode: Creating symlink /data/hdds/hdds/CID-04a88067-f1ac-4b13-a3bd-45e8a2eb611c -> 9c55647f-f232-48a9-b3b4-688bc0841dd1 as part of SCM HA finalization for datanode.
scm_1    | 2021-10-04 15:33:23,965 [IPC Server handler 0 on default port 9860] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn2_1    | 2021-10-04 15:32:16,519 [Command processor thread] INFO upgrade.ScmHAFinalizeUpgradeActionDatanode: Creating symlink /data/hdds/hdds/CID-04a88067-f1ac-4b13-a3bd-45e8a2eb611c -> 9c55647f-f232-48a9-b3b4-688bc0841dd1 as part of SCM HA finalization for datanode.
dn1_1    | 2021-10-04 15:33:17,927 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization is done.
scm_1    | 2021-10-04 15:33:26,593 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9, Nodes: 7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:7eae0302-d0e5-479a-98f0-34ad09d996ac, CreationTimestamp2021-10-04T15:32:57.007Z[UTC]] moved to OPEN state
dn2_1    | 2021-10-04 15:32:16,520 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn1_1    | 2021-10-04 15:33:17,927 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:33:36,585 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: d43f7a32-8012-4a3e-85fd-bfbfb0cb987c, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:435cedd2-24c7-47d5-bcd3-a0497da1e3ca, CreationTimestamp2021-10-04T15:33:06.007Z[UTC]] moved to OPEN state
dn2_1    | 2021-10-04 15:32:16,521 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,927 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:33:37,936 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 4e166499-84bd-4d57-a2d2-a02b778fa12d, Nodes: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7eae0302-d0e5-479a-98f0-34ad09d996ac{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13b5a4a4-50b2-495a-a313-b6d400921281{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:7eae0302-d0e5-479a-98f0-34ad09d996ac, CreationTimestamp2021-10-04T15:33:06.008Z[UTC]] moved to OPEN state
dn2_1    | 2021-10-04 15:32:16,521 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,928 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:34:35,286 [IPC Server handler 0 on default port 9863] WARN ha.SequenceIdGenerator: Failed to allocate a batch for containerId, expected lastId is 0, actual lastId is 1001.
dn2_1    | 2021-10-04 15:32:16,521 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,928 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
scm_1    | 2021-10-04 15:34:35,287 [IPC Server handler 0 on default port 9863] INFO ha.SequenceIdGenerator: Allocate a batch for containerId, change lastId from 1001 to 2001.
dn2_1    | 2021-10-04 15:32:16,521 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,928 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:34:35,290 [IPC Server handler 0 on default port 9863] WARN ha.SequenceIdGenerator: Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427201000.
dn2_1    | 2021-10-04 15:32:16,521 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,929 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
scm_1    | 2021-10-04 15:34:35,291 [IPC Server handler 0 on default port 9863] INFO ha.SequenceIdGenerator: Allocate a batch for localId, change lastId from 107544261427201000 to 107544261427202000.
dn2_1    | 2021-10-04 15:32:16,521 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,929 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:32:25,633 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-10-04 15:32:16,522 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,929 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-10-04 15:32:16,522 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-10-04 15:32:25,634 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,930 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-10-04 15:32:25,600 [grpc-default-executor-0] INFO server.GrpcServerProtocolService: 13b5a4a4-50b2-495a-a313-b6d400921281: Completed APPEND_ENTRIES, lastRequest: 7eae0302-d0e5-479a-98f0-34ad09d996ac->13b5a4a4-50b2-495a-a313-b6d400921281#263-t14,previous=(t:14, i:10),leaderCommit=10,initializing? true,entries: size=1, first=(t:14, i:11), METADATAENTRY(c:10)
dn3_1    | 2021-10-04 15:32:25,634 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-10-04 15:33:17,931 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-10-04 15:32:35,091 [grpc-default-executor-0] WARN server.GrpcServerProtocolService: 13b5a4a4-50b2-495a-a313-b6d400921281: Failed requestVote 435cedd2-24c7-47d5-bcd3-a0497da1e3ca->13b5a4a4-50b2-495a-a313-b6d400921281#0
dn3_1    | 2021-10-04 15:32:35,096 [grpc-default-executor-2] WARN server.GrpcServerProtocolService: 7eae0302-d0e5-479a-98f0-34ad09d996ac: Failed requestVote 435cedd2-24c7-47d5-bcd3-a0497da1e3ca->7eae0302-d0e5-479a-98f0-34ad09d996ac#0
dn1_1    | 2021-10-04 15:33:17,931 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | org.apache.ratis.protocol.exceptions.GroupMismatchException: 13b5a4a4-50b2-495a-a313-b6d400921281: group-E2410CA4C9B0 not found.
dn3_1    | org.apache.ratis.protocol.exceptions.GroupMismatchException: 7eae0302-d0e5-479a-98f0-34ad09d996ac: group-E2410CA4C9B0 not found.
dn1_1    | 2021-10-04 15:33:17,932 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.get(RaftServerProxy.java:147)
dn3_1    | 	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.get(RaftServerProxy.java:147)
dn1_1    | 2021-10-04 15:33:17,932 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.getImplFuture(RaftServerProxy.java:339)
dn3_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.getImplFuture(RaftServerProxy.java:339)
dn1_1    | 2021-10-04 15:33:17,932 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:348)
dn3_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:348)
dn1_1    | 2021-10-04 15:33:17,932 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:343)
dn3_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.getImpl(RaftServerProxy.java:343)
dn1_1    | 2021-10-04 15:33:17,932 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.requestVote(RaftServerProxy.java:548)
dn3_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.requestVote(RaftServerProxy.java:548)
dn1_1    | 2021-10-04 15:33:17,932 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 	at org.apache.ratis.grpc.server.GrpcServerProtocolService.requestVote(GrpcServerProtocolService.java:172)
dn3_1    | 	at org.apache.ratis.grpc.server.GrpcServerProtocolService.requestVote(GrpcServerProtocolService.java:172)
dn1_1    | 2021-10-04 15:33:17,934 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$MethodHandlers.invoke(RaftServerProtocolServiceGrpc.java:394)
dn3_1    | 	at org.apache.ratis.proto.grpc.RaftServerProtocolServiceGrpc$MethodHandlers.invoke(RaftServerProtocolServiceGrpc.java:394)
dn1_1    | 2021-10-04 15:33:17,934 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)
dn1_1    | 2021-10-04 15:33:17,934 [pool-33-thread-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-FollowerState
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
dn1_1    | 2021-10-04 15:33:17,934 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E32FDFCF0FEA,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
dn1_1    | 2021-10-04 15:33:22,648 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-A02B778FA12D, 1, (t:0, i:0))
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
dn1_1    | 2021-10-04 15:33:22,651 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FOLLOWER: accept ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: our priority 0 <= candidate's priority 0
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:814)
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:814)
dn1_1    | 2021-10-04 15:33:22,652 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
dn1_1    | 2021-10-04 15:33:22,652 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn3_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
dn2_1    | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
dn1_1    | 2021-10-04 15:33:22,652 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn3_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
dn2_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
dn1_1    | 2021-10-04 15:33:22,652 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState was interrupted: {}
dn3_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
dn2_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn2_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 2021-10-04 15:32:35,439 [grpc-default-executor-2] INFO server.GrpcServerProtocolService: 7eae0302-d0e5-479a-98f0-34ad09d996ac: Completed APPEND_ENTRIES, lastRequest: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca->7eae0302-d0e5-479a-98f0-34ad09d996ac#20-t11,previous=(t:11, i:13),leaderCommit=13,initializing? true,entries: size=1, first=(t:11, i:14), STATEMACHINELOGENTRY, 0@client-6B6AAA919B34
dn2_1    | 2021-10-04 15:32:35,433 [grpc-default-executor-0] INFO server.GrpcServerProtocolService: 13b5a4a4-50b2-495a-a313-b6d400921281: Completed APPEND_ENTRIES, lastRequest: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca->13b5a4a4-50b2-495a-a313-b6d400921281#259-t11,previous=(t:11, i:13),leaderCommit=13,initializing? true,entries: size=1, first=(t:11, i:14), STATEMACHINELOGENTRY, 0@client-6B6AAA919B34
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 2021-10-04 15:32:56,570 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-10-04 15:32:47,504 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 2021-10-04 15:33:17,745 [grpc-default-executor-2] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: addNew group-A02B778FA12D:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1] returns group-A02B778FA12D:java.util.concurrent.CompletableFuture@5b6d60db[Not completed]
dn2_1    | 2021-10-04 15:33:17,505 [Command processor thread] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: addNew group-31877077D4A5:[13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1] returns group-31877077D4A5:java.util.concurrent.CompletableFuture@45e80df8[Not completed]
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 2021-10-04 15:33:17,749 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac: new RaftServerImpl for group-A02B778FA12D:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1] with ContainerStateMachine:uninitialized
dn2_1    | 2021-10-04 15:33:17,507 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281: new RaftServerImpl for group-31877077D4A5:[13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1] with ContainerStateMachine:uninitialized
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 2021-10-04 15:33:17,749 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-10-04 15:33:17,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-10-04 15:33:17,749 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:33:17,749 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:33:22,657 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t1. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D:t1, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:33:17,749 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:33:22,856 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-E32FDFCF0FEA, 1, (t:0, i:0))
dn2_1    | 2021-10-04 15:33:17,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:33:17,750 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-10-04 15:33:22,856 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-FOLLOWER: accept ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: our priority 0 <= candidate's priority 1
dn2_1    | 2021-10-04 15:33:17,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:33:17,750 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:33:22,856 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:33:17,509 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:33:17,750 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-10-04 15:33:22,856 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-FollowerState
dn2_1    | 2021-10-04 15:33:17,510 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:33:22,856 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-FollowerState was interrupted: {}
dn3_1    | 2021-10-04 15:33:17,750 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-10-04 15:33:17,510 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 2021-10-04 15:33:17,750 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-10-04 15:33:17,510 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: ConfigurationManager, init=-1: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 2021-10-04 15:33:17,751 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-10-04 15:33:17,510 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 2021-10-04 15:33:17,752 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-10-04 15:33:17,512 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 2021-10-04 15:33:17,752 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d does not exist. Creating ...
dn2_1    | 2021-10-04 15:33:17,512 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 2021-10-04 15:33:17,754 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d/in_use.lock acquired by nodename 7@af8742e22a2d
dn2_1    | 2021-10-04 15:33:17,512 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/2bac8ed3-6a67-4860-a92c-31877077d4a5 does not exist. Creating ...
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 2021-10-04 15:33:17,756 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d has been successfully formatted.
dn2_1    | 2021-10-04 15:33:17,514 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/2bac8ed3-6a67-4860-a92c-31877077d4a5/in_use.lock acquired by nodename 7@1790a64b8e24
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-10-04 15:33:17,756 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-A02B778FA12D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-10-04 15:33:17,516 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/2bac8ed3-6a67-4860-a92c-31877077d4a5 has been successfully formatted.
dn1_1    | 2021-10-04 15:33:22,857 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-FollowerState
dn3_1    | 2021-10-04 15:33:17,756 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-10-04 15:33:17,516 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-31877077D4A5: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-10-04 15:33:22,859 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t1. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA:t1, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:33:17,516 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:33:17,756 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:33:22,936 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E32FDFCF0FEA with new leaderId: 13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:33:17,517 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-10-04 15:33:17,756 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:33:22,936 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: change Leader from null to 13b5a4a4-50b2-495a-a313-b6d400921281 at term 1 for appendEntries, leader elected after 5011ms
dn3_1    | 2021-10-04 15:33:17,757 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:33:17,518 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:33:22,946 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:33:17,758 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-10-04 15:33:17,520 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:33:22,948 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-10-04 15:33:17,758 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-10-04 15:33:17,522 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:33:22,950 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-E32FDFCF0FEA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea/current/log_inprogress_0
dn3_1    | 2021-10-04 15:33:17,758 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-10-04 15:33:17,522 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:27,745 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5088279175ns, electionTimeout:5088ms
dn3_1    | 2021-10-04 15:33:17,758 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d
dn2_1    | 2021-10-04 15:33:17,523 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-10-04 15:33:27,746 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:17,758 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-10-04 15:33:17,523 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:33:27,746 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn3_1    | 2021-10-04 15:33:17,758 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:33:17,523 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/2bac8ed3-6a67-4860-a92c-31877077d4a5
dn1_1    | 2021-10-04 15:33:27,746 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-10-04 15:33:17,759 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-10-04 15:33:17,528 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:33:27,746 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6
dn3_1    | 2021-10-04 15:33:17,759 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-10-04 15:33:17,528 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:33:27,757 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6 ELECTION round 0: submit vote requests at term 2 for -1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:33:17,759 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-10-04 15:33:17,528 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:27,794 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn3_1    | 2021-10-04 15:33:17,759 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-10-04 15:33:17,528 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:33:27,794 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection:   Response 0: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t2
dn3_1    | 2021-10-04 15:33:17,759 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-10-04 15:33:17,528 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:33:27,794 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6 ELECTION round 0: result REJECTED
dn3_1    | 2021-10-04 15:33:17,759 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-10-04 15:33:17,529 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:33:27,794 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
dn3_1    | 2021-10-04 15:33:17,760 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-10-04 15:33:17,529 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-10-04 15:33:27,794 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6
dn3_1    | 2021-10-04 15:33:17,760 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-10-04 15:33:17,529 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-10-04 15:33:27,794 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection6] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:17,760 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-10-04 15:33:17,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:32,868 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5073573867ns, electionTimeout:5057ms
dn3_1    | 2021-10-04 15:33:17,760 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-10-04 15:33:17,531 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:17,768 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:33:32,868 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:17,531 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:17,768 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-10-04 15:33:32,869 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
dn2_1    | 2021-10-04 15:33:17,531 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:17,768 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-10-04 15:33:32,869 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:33:17,532 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:17,768 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:33:17,768 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-10-04 15:33:32,869 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7
dn1_1    | 2021-10-04 15:33:32,876 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7 ELECTION round 0: submit vote requests at term 3 for -1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:33:32,902 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn1_1    | 2021-10-04 15:33:32,902 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO impl.LeaderElection:   Response 0: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t3
dn1_1    | 2021-10-04 15:33:32,902 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7 ELECTION round 0: result REJECTED
dn1_1    | 2021-10-04 15:33:32,903 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
dn3_1    | 2021-10-04 15:33:17,769 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:33:17,770 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:33:17,770 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn1_1    | 2021-10-04 15:33:32,904 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7
dn3_1    | 2021-10-04 15:33:17,770 [pool-33-thread-1] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:17,533 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-10-04 15:33:32,904 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-LeaderElection7] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:17,774 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A02B778FA12D,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 2021-10-04 15:33:17,533 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-10-04 15:33:36,528 [Command processor thread] INFO server.RaftServer: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: addNew group-BFBFB0CB987C:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:1] returns group-BFBFB0CB987C:java.util.concurrent.CompletableFuture@1ca0704a[Not completed]
dn3_1    | 2021-10-04 15:33:17,854 [grpc-default-executor-2] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: addNew group-E32FDFCF0FEA:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0] returns group-E32FDFCF0FEA:java.util.concurrent.CompletableFuture@4567ff7f[Not completed]
dn2_1    | 2021-10-04 15:33:17,533 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: new RaftServerImpl for group-BFBFB0CB987C:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:1] with ContainerStateMachine:uninitialized
dn2_1    | 2021-10-04 15:33:17,534 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:33:17,856 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac: new RaftServerImpl for group-E32FDFCF0FEA:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-10-04 15:33:17,534 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-10-04 15:33:17,536 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: start as a follower, conf=-1: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1], old=null
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-10-04 15:33:17,536 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-10-04 15:33:17,538 [pool-33-thread-1] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:33:17,857 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:33:17,858 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:33:17,858 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:33:17,858 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:33:17,858 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea does not exist. Creating ...
dn3_1    | 2021-10-04 15:33:17,859 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea/in_use.lock acquired by nodename 7@af8742e22a2d
dn3_1    | 2021-10-04 15:33:17,861 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea has been successfully formatted.
dn3_1    | 2021-10-04 15:33:17,861 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-E32FDFCF0FEA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-10-04 15:33:17,861 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:33:17,861 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-10-04 15:33:17,862 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-10-04 15:33:17,865 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:33:17,865 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:33:17,866 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:33:17,867 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-10-04 15:33:17,867 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:33:36,530 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-10-04 15:33:36,558 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-10-04 15:33:36,558 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-10-04 15:33:36,559 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-10-04 15:33:36,559 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-10-04 15:33:36,559 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/d43f7a32-8012-4a3e-85fd-bfbfb0cb987c does not exist. Creating ...
dn1_1    | 2021-10-04 15:33:36,567 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/d43f7a32-8012-4a3e-85fd-bfbfb0cb987c/in_use.lock acquired by nodename 7@8933f28417ff
dn1_1    | 2021-10-04 15:33:36,570 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/d43f7a32-8012-4a3e-85fd-bfbfb0cb987c has been successfully formatted.
dn1_1    | 2021-10-04 15:33:36,570 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-BFBFB0CB987C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-10-04 15:33:36,571 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:33:36,571 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:33:36,573 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:33:36,573 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/d43f7a32-8012-4a3e-85fd-bfbfb0cb987c
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-10-04 15:33:36,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-10-04 15:33:36,575 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:36,576 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-10-04 15:33:36,576 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-10-04 15:33:36,576 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-10-04 15:33:36,588 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-10-04 15:33:36,588 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:33:17,867 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-10-04 15:33:17,868 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:33:17,872 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-10-04 15:33:17,872 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:17,872 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:17,873 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:17,883 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:17,883 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:33:17,883 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:33:17,884 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:33:17,884 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:33:17,884 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:33:17,885 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn3_1    | 2021-10-04 15:33:17,885 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-10-04 15:33:17,886 [pool-33-thread-1] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-FollowerState
dn3_1    | 2021-10-04 15:33:17,889 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E32FDFCF0FEA,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:33:22,639 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-A02B778FA12D, 1, (t:0, i:0))
dn1_1    | 2021-10-04 15:33:36,588 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-10-04 15:33:36,593 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-10-04 15:33:36,593 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-10-04 15:33:36,593 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-10-04 15:33:36,594 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:1], old=null
dn1_1    | 2021-10-04 15:33:36,594 [pool-33-thread-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn1_1    | 2021-10-04 15:33:36,594 [pool-33-thread-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState
dn1_1    | 2021-10-04 15:33:36,601 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFBFB0CB987C,id=435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn1_1    | 2021-10-04 15:33:36,604 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=d43f7a32-8012-4a3e-85fd-bfbfb0cb987c
dn1_1    | 2021-10-04 15:33:36,604 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=d43f7a32-8012-4a3e-85fd-bfbfb0cb987c.
dn1_1    | 2021-10-04 15:33:37,917 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-A02B778FA12D, 4, (t:0, i:0))
dn1_1    | 2021-10-04 15:33:37,917 [grpc-default-executor-1] INFO impl.VoteContext: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FOLLOWER: accept ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: our priority 0 <= candidate's priority 1
dn2_1    | 2021-10-04 15:33:17,540 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-31877077D4A5,id=13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:33:22,642 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FOLLOWER: reject ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: our priority 1 > candidate's priority 0
dn1_1    | 2021-10-04 15:33:37,917 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 2021-10-04 15:33:17,541 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=2bac8ed3-6a67-4860-a92c-31877077d4a5
dn3_1    | 2021-10-04 15:33:22,642 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:33:37,917 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:17,542 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=2bac8ed3-6a67-4860-a92c-31877077d4a5.
dn3_1    | 2021-10-04 15:33:22,642 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn1_1    | 2021-10-04 15:33:37,918 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState was interrupted: {}
dn2_1    | 2021-10-04 15:33:17,542 [Command processor thread] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: addNew group-A02B778FA12D:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1] returns group-A02B778FA12D:java.util.concurrent.CompletableFuture@132aba83[Not completed]
dn3_1    | 2021-10-04 15:33:22,642 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281: new RaftServerImpl for group-A02B778FA12D:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:33:22,643 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState was interrupted: {}
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn1_1    | 2021-10-04 15:33:37,918 [grpc-default-executor-1] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:17,544 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn1_1    | 2021-10-04 15:33:37,925 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t4. Peer's state: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D:t4, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,545 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:33:22,654 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t1. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D:t1, leader=null, voted=null, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-10-04 15:33:37,971 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-A02B778FA12D with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 2021-10-04 15:33:17,545 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:33:22,866 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: receive requestVote(ELECTION, 13b5a4a4-50b2-495a-a313-b6d400921281, group-E32FDFCF0FEA, 1, (t:0, i:0))
dn1_1    | 2021-10-04 15:33:37,972 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 4 for appendEntries, leader elected after 20334ms
dn2_1    | 2021-10-04 15:33:17,545 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:33:22,866 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-FOLLOWER: accept ELECTION from 13b5a4a4-50b2-495a-a313-b6d400921281: our priority 0 <= candidate's priority 1
dn1_1    | 2021-10-04 15:33:37,987 [grpc-default-executor-1] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,545 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:33:22,866 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:13b5a4a4-50b2-495a-a313-b6d400921281
dn1_1    | 2021-10-04 15:33:37,987 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:17,545 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d does not exist. Creating ...
dn3_1    | 2021-10-04 15:33:22,866 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-FollowerState
dn1_1    | 2021-10-04 15:33:37,990 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-A02B778FA12D-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d/current/log_inprogress_0
dn2_1    | 2021-10-04 15:33:17,547 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d/in_use.lock acquired by nodename 7@1790a64b8e24
dn3_1    | 2021-10-04 15:33:22,866 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-FollowerState
dn2_1    | 2021-10-04 15:33:17,549 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d has been successfully formatted.
dn1_1    | 2021-10-04 15:33:41,786 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState] INFO impl.FollowerState: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5191948635ns, electionTimeout:5183ms
dn3_1    | 2021-10-04 15:33:22,866 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-FollowerState was interrupted: {}
dn2_1    | 2021-10-04 15:33:17,550 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-10-04 15:33:41,787 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:33:17,550 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-A02B778FA12D: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-10-04 15:33:41,787 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 2021-10-04 15:33:17,550 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:33:41,787 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 2021-10-04 15:33:17,550 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-10-04 15:33:41,787 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-FollowerState] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 2021-10-04 15:33:17,550 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-10-04 15:33:41,790 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:1], old=null
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:33:17,550 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-10-04 15:33:41,791 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO impl.LeaderElection: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8 ELECTION round 0: result PASSED (term=1)
dn3_1    | 2021-10-04 15:33:22,869 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA replies to ELECTION vote request: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:OK-t1. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA:t1, leader=null, voted=13b5a4a4-50b2-495a-a313-b6d400921281, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:41,791 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: shutdown 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8
dn3_1    | 2021-10-04 15:33:22,917 [grpc-default-executor-2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E32FDFCF0FEA with new leaderId: 13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-10-04 15:33:41,791 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn3_1    | 2021-10-04 15:33:22,918 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: change Leader from null to 13b5a4a4-50b2-495a-a313-b6d400921281 at term 1 for appendEntries, leader elected after 5056ms
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-10-04 15:33:41,791 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-BFBFB0CB987C with new leaderId: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn3_1    | 2021-10-04 15:33:22,945 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d
dn1_1    | 2021-10-04 15:33:41,800 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: change Leader from null to 435cedd2-24c7-47d5-bcd3-a0497da1e3ca at term 1 for becomeLeader, leader elected after 5220ms
dn3_1    | 2021-10-04 15:33:22,945 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-10-04 15:33:41,800 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-10-04 15:33:22,948 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-E32FDFCF0FEA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea/current/log_inprogress_0
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-10-04 15:33:41,800 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:33:26,572 [Command processor thread] INFO server.RaftServer: 7eae0302-d0e5-479a-98f0-34ad09d996ac: addNew group-2E53257555A9:[7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1] returns group-2E53257555A9:java.util.concurrent.CompletableFuture@62142e40[Not completed]
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-10-04 15:33:41,801 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn3_1    | 2021-10-04 15:33:26,574 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac: new RaftServerImpl for group-2E53257555A9:[7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1] with ContainerStateMachine:uninitialized
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-10-04 15:33:41,801 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn3_1    | 2021-10-04 15:33:26,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-10-04 15:33:41,801 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn3_1    | 2021-10-04 15:33:26,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-10-04 15:33:41,801 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-10-04 15:33:26,574 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-10-04 15:33:41,807 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO impl.RoleInfo: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: start 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderStateImpl
dn2_1    | 2021-10-04 15:33:17,551 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-10-04 15:33:26,575 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-10-04 15:33:41,808 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:17,557 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-10-04 15:33:26,575 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-10-04 15:33:41,817 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/d43f7a32-8012-4a3e-85fd-bfbfb0cb987c/current/log_inprogress_0
dn2_1    | 2021-10-04 15:33:17,560 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-10-04 15:33:26,575 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-10-04 15:33:41,821 [435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C-LeaderElection8] INFO server.RaftServer$Division: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca@group-BFBFB0CB987C: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,561 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:26,575 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-10-04 15:34:37,582 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:33:17,562 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:26,575 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: ConfigurationManager, init=-1: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-10-04 15:33:17,562 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:26,576 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-10-04 15:33:17,565 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:26,576 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-10-04 15:33:17,566 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:33:26,576 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-10-04 15:33:17,566 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:33:26,576 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9 does not exist. Creating ...
dn2_1    | 2021-10-04 15:33:17,566 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:33:26,578 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9/in_use.lock acquired by nodename 7@af8742e22a2d
dn2_1    | 2021-10-04 15:33:17,566 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:33:26,586 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9 has been successfully formatted.
dn2_1    | 2021-10-04 15:33:17,568 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:33:26,588 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-2E53257555A9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-10-04 15:33:17,569 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn3_1    | 2021-10-04 15:33:26,588 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-10-04 15:33:17,570 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-10-04 15:33:26,597 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-10-04 15:33:17,570 [pool-33-thread-1] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:26,597 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-10-04 15:33:17,572 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A02B778FA12D,id=13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:33:17,573 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=4e166499-84bd-4d57-a2d2-a02b778fa12d
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-10-04 15:33:17,812 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=4e166499-84bd-4d57-a2d2-a02b778fa12d.
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-10-04 15:33:17,812 [Command processor thread] INFO server.RaftServer: 13b5a4a4-50b2-495a-a313-b6d400921281: addNew group-E32FDFCF0FEA:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:0] returns group-E32FDFCF0FEA:java.util.concurrent.CompletableFuture@2c224b06[Not completed]
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281: new RaftServerImpl for group-E32FDFCF0FEA:[435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:0] with ContainerStateMachine:uninitialized
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-10-04 15:33:26,598 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:33:26,599 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-10-04 15:33:26,599 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:33:26,599 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-10-04 15:33:26,599 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-10-04 15:33:17,814 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-10-04 15:33:26,599 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-10-04 15:33:17,815 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:33:26,600 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-10-04 15:33:17,815 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: ConfigurationManager, init=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:0], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-10-04 15:33:26,600 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-10-04 15:33:17,815 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-10-04 15:33:26,600 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-10-04 15:33:17,815 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-10-04 15:33:26,600 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-10-04 15:33:17,815 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-10-04 15:33:26,609 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:26,610 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-10-04 15:33:17,815 [pool-33-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea does not exist. Creating ...
dn3_1    | 2021-10-04 15:33:26,610 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-10-04 15:33:17,817 [pool-33-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea/in_use.lock acquired by nodename 7@1790a64b8e24
dn3_1    | 2021-10-04 15:33:26,610 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 2021-10-04 15:33:17,819 [pool-33-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea has been successfully formatted.
dn3_1    | 2021-10-04 15:33:26,610 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-10-04 15:33:17,820 [pool-33-thread-1] INFO ratis.ContainerStateMachine: group-E32FDFCF0FEA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-10-04 15:33:26,610 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 2021-10-04 15:33:17,820 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-10-04 15:33:26,611 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: start as a follower, conf=-1: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,821 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-10-04 15:33:26,611 [pool-33-thread-1] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 2021-10-04 15:33:17,822 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-10-04 15:33:26,611 [pool-33-thread-1] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState
dn2_1    | 2021-10-04 15:33:17,822 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:33:26,618 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2E53257555A9,id=7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 2021-10-04 15:33:17,829 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-10-04 15:33:26,625 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9
dn3_1    | 2021-10-04 15:33:26,626 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9.
dn3_1    | 2021-10-04 15:33:27,775 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-A02B778FA12D, 2, (t:0, i:0))
dn3_1    | 2021-10-04 15:33:27,775 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FOLLOWER: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: our priority 1 > candidate's priority 0
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-10-04 15:33:27,775 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-10-04 15:33:27,775 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: new 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea
dn3_1    | 2021-10-04 15:33:27,775 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-10-04 15:33:27,775 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState was interrupted: {}
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:33:17,830 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 2021-10-04 15:33:17,831 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 2021-10-04 15:33:17,831 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 2021-10-04 15:33:17,831 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-10-04 15:33:17,831 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:33:17,832 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:27,782 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t2. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D:t2, leader=null, voted=null, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,832 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:31,627 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5015894187ns, electionTimeout:5008ms
dn2_1    | 2021-10-04 15:33:17,833 [pool-33-thread-1] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-10-04 15:33:31,627 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState
dn2_1    | 2021-10-04 15:33:17,834 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-10-04 15:33:31,628 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn2_1    | 2021-10-04 15:33:17,834 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-10-04 15:33:31,628 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:33:17,834 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-10-04 15:33:31,628 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5
dn2_1    | 2021-10-04 15:33:17,834 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-10-04 15:33:31,636 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:17,834 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-10-04 15:33:31,636 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5 ELECTION round 0: result PASSED (term=1)
dn2_1    | 2021-10-04 15:33:17,834 [pool-33-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-10-04 15:33:31,637 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5
dn2_1    | 2021-10-04 15:33:17,835 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: start as a follower, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:0], old=null
dn3_1    | 2021-10-04 15:33:31,637 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn2_1    | 2021-10-04 15:33:17,835 [pool-33-thread-1] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-10-04 15:33:31,637 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-2E53257555A9 with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:33:31,637 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 1 for becomeLeader, leader elected after 5049ms
dn2_1    | 2021-10-04 15:33:17,835 [pool-33-thread-1] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState
dn3_1    | 2021-10-04 15:33:31,637 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-10-04 15:33:31,638 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:33:17,836 [pool-33-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E32FDFCF0FEA,id=13b5a4a4-50b2-495a-a313-b6d400921281
dn3_1    | 2021-10-04 15:33:31,638 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-10-04 15:33:31,646 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn3_1    | 2021-10-04 15:33:31,647 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn3_1    | 2021-10-04 15:33:31,647 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn3_1    | 2021-10-04 15:33:31,647 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-10-04 15:33:31,647 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderStateImpl
dn3_1    | 2021-10-04 15:33:31,648 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-10-04 15:33:31,650 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/9c84e5d0-cd0c-4ce6-8fcd-2e53257555a9/current/log_inprogress_0
dn3_1    | 2021-10-04 15:33:31,657 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9-LeaderElection5] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-2E53257555A9: set configuration 0: [7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:33:32,883 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-A02B778FA12D, 3, (t:0, i:0))
dn3_1    | 2021-10-04 15:33:32,884 [grpc-default-executor-2] INFO impl.VoteContext: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FOLLOWER: reject ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: our priority 1 > candidate's priority 0
dn3_1    | 2021-10-04 15:33:32,884 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn3_1    | 2021-10-04 15:33:32,884 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:32,884 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 2021-10-04 15:33:17,838 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=175959e7-c272-40d1-94a0-e32fdfcf0fea
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-10-04 15:33:32,885 [grpc-default-executor-2] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:32,894 [grpc-default-executor-2] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t3. Peer's state: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D:t3, leader=null, voted=null, raftlog=7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:33:37,899 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5014099863ns, electionTimeout:5002ms
dn3_1    | 2021-10-04 15:33:37,899 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:37,900 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
dn3_1    | 2021-10-04 15:33:37,900 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-10-04 15:33:37,900 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6
dn3_1    | 2021-10-04 15:33:37,910 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6 ELECTION round 0: submit vote requests at term 4 for -1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-10-04 15:33:37,928 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
dn3_1    | 2021-10-04 15:33:37,929 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection:   Response 0: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t4
dn3_1    | 2021-10-04 15:33:37,929 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6 ELECTION round 0: result PASSED
dn3_1    | 2021-10-04 15:33:37,929 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: shutdown 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6
dn3_1    | 2021-10-04 15:33:37,929 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
dn3_1    | 2021-10-04 15:33:37,930 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-A02B778FA12D with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn3_1    | 2021-10-04 15:33:37,931 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 4 for becomeLeader, leader elected after 20174ms
dn3_1    | 2021-10-04 15:33:37,931 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-10-04 15:33:37,940 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-10-04 15:33:37,940 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn3_1    | 2021-10-04 15:33:37,941 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn3_1    | 2021-10-04 15:33:37,941 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn3_1    | 2021-10-04 15:33:37,941 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-10-04 15:33:37,942 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn3_1    | 2021-10-04 15:33:37,942 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:33:37,942 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn3_1    | 2021-10-04 15:33:37,942 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn3_1    | 2021-10-04 15:33:37,942 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-10-04 15:33:37,943 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:33:37,945 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn3_1    | 2021-10-04 15:33:37,931 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-10-04 15:33:37,952 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-10-04 15:33:37,953 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn3_1    | 2021-10-04 15:33:37,953 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn3_1    | 2021-10-04 15:33:37,954 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-10-04 15:33:37,954 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-10-04 15:33:37,956 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO impl.RoleInfo: 7eae0302-d0e5-479a-98f0-34ad09d996ac: start 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderStateImpl
dn3_1    | 2021-10-04 15:33:37,956 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:17,941 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=175959e7-c272-40d1-94a0-e32fdfcf0fea.
dn2_1    | 2021-10-04 15:33:22,631 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5061320406ns, electionTimeout:5058ms
dn2_1    | 2021-10-04 15:33:22,632 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn3_1    | 2021-10-04 15:33:37,960 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d/current/log_inprogress_0
dn2_1    | 2021-10-04 15:33:22,632 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn3_1    | 2021-10-04 15:33:38,002 [7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D-LeaderElection6] INFO server.RaftServer$Division: 7eae0302-d0e5-479a-98f0-34ad09d996ac@group-A02B778FA12D: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:22,632 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-10-04 15:34:37,547 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:33:22,632 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6
dn2_1    | 2021-10-04 15:33:22,635 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:22,662 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn2_1    | 2021-10-04 15:33:22,662 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection:   Response 0: 13b5a4a4-50b2-495a-a313-b6d400921281<-7eae0302-d0e5-479a-98f0-34ad09d996ac#0:FAIL-t1
dn2_1    | 2021-10-04 15:33:22,662 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6 ELECTION round 0: result REJECTED
dn2_1    | 2021-10-04 15:33:22,662 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
dn2_1    | 2021-10-04 15:33:22,662 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6
dn2_1    | 2021-10-04 15:33:22,662 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-LeaderElection6] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:22,718 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5179916894ns, electionTimeout:5178ms
dn2_1    | 2021-10-04 15:33:22,719 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState
dn2_1    | 2021-10-04 15:33:22,719 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn2_1    | 2021-10-04 15:33:22,719 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:33:22,719 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7
dn2_1    | 2021-10-04 15:33:22,721 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:22,722 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7 ELECTION round 0: result PASSED (term=1)
dn2_1    | 2021-10-04 15:33:22,722 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7
dn2_1    | 2021-10-04 15:33:22,722 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn2_1    | 2021-10-04 15:33:22,722 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-31877077D4A5 with new leaderId: 13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:33:22,722 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: change Leader from null to 13b5a4a4-50b2-495a-a313-b6d400921281 at term 1 for becomeLeader, leader elected after 5205ms
dn2_1    | 2021-10-04 15:33:22,723 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn2_1    | 2021-10-04 15:33:22,732 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:33:22,732 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 2021-10-04 15:33:22,733 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-10-04 15:33:22,733 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-10-04 15:33:22,734 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-10-04 15:33:22,735 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderStateImpl
dn2_1    | 2021-10-04 15:33:22,736 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:22,738 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/2bac8ed3-6a67-4860-a92c-31877077d4a5/current/log_inprogress_0
dn2_1    | 2021-10-04 15:33:22,740 [13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5-LeaderElection7] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-31877077D4A5: set configuration 0: [13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:22,849 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5013410687ns, electionTimeout:5012ms
dn2_1    | 2021-10-04 15:33:22,849 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState
dn2_1    | 2021-10-04 15:33:22,849 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn2_1    | 2021-10-04 15:33:22,849 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-10-04 15:33:22,849 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-FollowerState] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8
dn2_1    | 2021-10-04 15:33:22,852 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:0], old=null
dn2_1    | 2021-10-04 15:33:22,862 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
dn2_1    | 2021-10-04 15:33:22,863 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO impl.LeaderElection:   Response 0: 13b5a4a4-50b2-495a-a313-b6d400921281<-435cedd2-24c7-47d5-bcd3-a0497da1e3ca#0:OK-t1
dn2_1    | 2021-10-04 15:33:22,863 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO impl.LeaderElection: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8 ELECTION round 0: result PASSED
dn2_1    | 2021-10-04 15:33:22,863 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8
dn2_1    | 2021-10-04 15:33:22,863 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn2_1    | 2021-10-04 15:33:22,863 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E32FDFCF0FEA with new leaderId: 13b5a4a4-50b2-495a-a313-b6d400921281
dn2_1    | 2021-10-04 15:33:22,863 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: change Leader from null to 13b5a4a4-50b2-495a-a313-b6d400921281 at term 1 for becomeLeader, leader elected after 5043ms
dn2_1    | 2021-10-04 15:33:22,864 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-10-04 15:33:22,877 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn2_1    | 2021-10-04 15:33:22,878 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-10-04 15:33:22,878 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 2021-10-04 15:33:22,878 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-10-04 15:33:22,879 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-10-04 15:33:22,879 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-10-04 15:33:22,890 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn2_1    | 2021-10-04 15:33:22,890 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:33:22,891 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn2_1    | 2021-10-04 15:33:22,893 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn2_1    | 2021-10-04 15:33:22,894 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn2_1    | 2021-10-04 15:33:22,894 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-10-04 15:33:22,897 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn2_1    | 2021-10-04 15:33:22,898 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-10-04 15:33:22,898 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn2_1    | 2021-10-04 15:33:22,898 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn2_1    | 2021-10-04 15:33:22,898 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn2_1    | 2021-10-04 15:33:22,898 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-10-04 15:33:22,899 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderStateImpl
dn2_1    | 2021-10-04 15:33:22,900 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:22,902 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/175959e7-c272-40d1-94a0-e32fdfcf0fea/current/log_inprogress_0
dn2_1    | 2021-10-04 15:33:22,910 [13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA-LeaderElection8] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-E32FDFCF0FEA: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:1, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-10-04 15:33:27,761 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-A02B778FA12D, 2, (t:0, i:0))
dn2_1    | 2021-10-04 15:33:27,761 [grpc-default-executor-2] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FOLLOWER: accept ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: our priority 0 <= candidate's priority 0
dn2_1    | 2021-10-04 15:33:27,761 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn2_1    | 2021-10-04 15:33:27,761 [grpc-default-executor-2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:27,761 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:33:27,762 [grpc-default-executor-2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:27,764 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:OK-t2. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D:t2, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:32,892 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: receive requestVote(ELECTION, 435cedd2-24c7-47d5-bcd3-a0497da1e3ca, group-A02B778FA12D, 3, (t:0, i:0))
dn2_1    | 2021-10-04 15:33:32,892 [grpc-default-executor-2] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FOLLOWER: accept ELECTION from 435cedd2-24c7-47d5-bcd3-a0497da1e3ca: our priority 0 <= candidate's priority 0
dn2_1    | 2021-10-04 15:33:32,896 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:435cedd2-24c7-47d5-bcd3-a0497da1e3ca
dn2_1    | 2021-10-04 15:33:32,897 [grpc-default-executor-2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:32,897 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:33:32,898 [grpc-default-executor-2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:32,903 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D replies to ELECTION vote request: 435cedd2-24c7-47d5-bcd3-a0497da1e3ca<-13b5a4a4-50b2-495a-a313-b6d400921281#0:OK-t3. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D:t3, leader=null, voted=435cedd2-24c7-47d5-bcd3-a0497da1e3ca, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:37,946 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: receive requestVote(ELECTION, 7eae0302-d0e5-479a-98f0-34ad09d996ac, group-A02B778FA12D, 4, (t:0, i:0))
dn2_1    | 2021-10-04 15:33:37,947 [grpc-default-executor-2] INFO impl.VoteContext: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FOLLOWER: accept ELECTION from 7eae0302-d0e5-479a-98f0-34ad09d996ac: our priority 0 <= candidate's priority 1
dn2_1    | 2021-10-04 15:33:37,947 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 2021-10-04 15:33:37,947 [grpc-default-executor-2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: shutdown 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:37,947 [grpc-default-executor-2] INFO impl.RoleInfo: 13b5a4a4-50b2-495a-a313-b6d400921281: start 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState
dn2_1    | 2021-10-04 15:33:37,948 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState] INFO impl.FollowerState: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-10-04 15:33:37,957 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D replies to ELECTION vote request: 7eae0302-d0e5-479a-98f0-34ad09d996ac<-13b5a4a4-50b2-495a-a313-b6d400921281#0:OK-t4. Peer's state: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D:t4, leader=null, voted=7eae0302-d0e5-479a-98f0-34ad09d996ac, raftlog=13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|priority:1], old=null
dn2_1    | 2021-10-04 15:33:37,999 [grpc-default-executor-2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-A02B778FA12D with new leaderId: 7eae0302-d0e5-479a-98f0-34ad09d996ac
dn2_1    | 2021-10-04 15:33:38,000 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: change Leader from null to 7eae0302-d0e5-479a-98f0-34ad09d996ac at term 4 for appendEntries, leader elected after 20449ms
dn2_1    | 2021-10-04 15:33:38,011 [grpc-default-executor-2] INFO server.RaftServer$Division: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D: set configuration 0: [435cedd2-24c7-47d5-bcd3-a0497da1e3ca|rpc:10.9.0.15:9856|admin:10.9.0.15:9857|client:10.9.0.15:9858|dataStream:|priority:0, 13b5a4a4-50b2-495a-a313-b6d400921281|rpc:10.9.0.16:9856|admin:10.9.0.16:9857|client:10.9.0.16:9858|dataStream:|priority:0, 7eae0302-d0e5-479a-98f0-34ad09d996ac|rpc:10.9.0.17:9856|admin:10.9.0.17:9857|client:10.9.0.17:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-10-04 15:33:38,012 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-10-04 15:33:38,013 [13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 13b5a4a4-50b2-495a-a313-b6d400921281@group-A02B778FA12D-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/4e166499-84bd-4d57-a2d2-a02b778fa12d/current/log_inprogress_0
dn2_1    | 2021-10-04 15:34:37,594 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
