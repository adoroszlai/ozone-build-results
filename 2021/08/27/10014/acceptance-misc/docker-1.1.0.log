Attaching to ha_om2_1, ha_om1_1, ha_s3g_1, ha_scm_1, ha_recon_1, ha_dn2_1, ha_dn1_1, ha_dn3_1, ha_om3_1
dn1_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn1_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn1_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn1_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn1_1    | 2021-08-27 18:53:29,702 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
dn1_1    | /************************************************************
dn1_1    | STARTUP_MSG: Starting HddsDatanodeService
dn1_1    | STARTUP_MSG:   host = cf3242dbbd7c/10.9.0.15
dn1_1    | STARTUP_MSG:   args = []
dn1_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn1_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
dn1_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
dn1_1    | STARTUP_MSG:   java = 11.0.10
dn1_1    | ************************************************************/
dn1_1    | 2021-08-27 18:53:29,772 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
dn1_1    | 2021-08-27 18:53:31,791 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
dn1_1    | 2021-08-27 18:53:32,406 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn1_1    | 2021-08-27 18:53:33,573 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn1_1    | 2021-08-27 18:53:33,573 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
dn1_1    | 2021-08-27 18:53:34,917 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:cf3242dbbd7c ip:10.9.0.15
dn1_1    | 2021-08-27 18:53:36,658 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
dn1_1    | 2021-08-27 18:53:37,717 [main] INFO reflections.Reflections: Reflections took 852 ms to scan 2 urls, producing 85 keys and 170 values 
dn1_1    | 2021-08-27 18:53:38,156 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
dn1_1    | 2021-08-27 18:53:38,157 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFirstUpgradeLayoutChangeAction
dn1_1    | 2021-08-27 18:53:39,468 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-08-27T18:53:18.258Z
dn1_1    | 2021-08-27 18:53:39,533 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
dn1_1    | 2021-08-27 18:53:39,536 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
dn1_1    | 2021-08-27 18:53:39,545 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
dn1_1    | 2021-08-27 18:53:39,747 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
dn1_1    | 2021-08-27 18:53:39,925 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn1_1    | 2021-08-27 18:53:39,945 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
dn1_1    | 2021-08-27 18:53:39,945 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
dn1_1    | 2021-08-27 18:53:39,949 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/metadata/ratis
dn1_1    | 2021-08-27 18:53:39,950 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/metadata/ratis
dn1_1    | 2021-08-27 18:53:40,091 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
dn1_1    | 2021-08-27 18:53:40,141 [Thread-4] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
dn1_1    | 2021-08-27 18:53:40,160 [Thread-4] INFO ozoneimpl.ContainerReader: Storage dir based on clusterId doesn't exist.Renaming storage location:/data/hdds/hdds/17725e10-b5a4-4e3a-aa4f-6a96e545172a to /data/hdds/hdds/CID-df875335-c3d4-431d-8339-4be7293ceb2f
dn1_1    | 2021-08-27 18:53:40,902 [Thread-4] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
dn1_1    | 2021-08-27 18:53:40,907 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
dn1_1    | 2021-08-27 18:53:49,789 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn1_1    | 2021-08-27 18:53:50,102 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
dn1_1    | 2021-08-27 18:53:50,650 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9858 (custom)
dn1_1    | 2021-08-27 18:53:50,652 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
dn1_1    | 2021-08-27 18:53:50,671 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9858 (custom)
dn1_1    | 2021-08-27 18:53:50,672 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
dn1_1    | 2021-08-27 18:53:50,673 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:53:50,675 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
dn1_1    | 2021-08-27 18:53:50,685 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 2021-08-27 18:53:52,347 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn1_1    | 2021-08-27 18:53:52,364 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:53:52,366 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-08-27 18:53:52,468 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:53:52,485 [main] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: found a subdirectory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn1_1    | 2021-08-27 18:53:52,515 [main] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: addNew group-75F5A4C05783:[] returns group-75F5A4C05783:java.util.concurrent.CompletableFuture@2fd72332[Not completed]
dn1_1    | 2021-08-27 18:53:52,517 [main] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: found a subdirectory /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa
dn1_1    | 2021-08-27 18:53:52,548 [main] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: addNew group-E600BA9678AA:[] returns group-E600BA9678AA:java.util.concurrent.CompletableFuture@51f18e31[Not completed]
dn1_1    | 2021-08-27 18:53:52,798 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84: new RaftServerImpl for group-75F5A4C05783:[] with ContainerStateMachine:uninitialized
dn1_1    | 2021-08-27 18:53:52,825 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-08-27 18:53:52,857 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-08-27 18:53:52,857 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-08-27 18:53:52,858 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:53:52,858 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om2_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om2_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
om2_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om2_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om2_1    | 2021-08-27 18:53:30,441 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om2_1    | /************************************************************
om2_1    | STARTUP_MSG: Starting OzoneManager
om2_1    | STARTUP_MSG:   host = 77bc42c45c6f/10.9.0.12
om2_1    | STARTUP_MSG:   args = [--upgrade]
om2_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om2_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.8.9.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.8.9.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
om2_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
om2_1    | STARTUP_MSG:   java = 11.0.10
om2_1    | ************************************************************/
om2_1    | 2021-08-27 18:53:30,491 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om2_1    | 2021-08-27 18:53:39,598 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om2_1    | 2021-08-27 18:53:39,960 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: omservice, OMNodeId: om2, RPC Address: om2:9862 and Ratis port: 9872
om2_1    | 2021-08-27 18:53:39,961 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.omservice.om2: om2
om2_1    | 2021-08-27 18:53:39,963 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | 2021-08-27 18:53:40,093 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
om2_1    | 2021-08-27 18:53:41,999 [main] INFO reflections.Reflections: Reflections took 1661 ms to scan 1 urls, producing 95 keys and 258 values [using 2 cores]
om2_1    | 2021-08-27 18:53:42,142 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | 2021-08-27 18:53:47,443 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:53:49,444 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:53:51,446 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:53:53,454 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:53:55,456 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:53:57,457 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 6 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:53:59,459 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 77bc42c45c6f/10.9.0.12 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 7 failover attempts. Trying to failover after sleeping for 2000ms.
om2_1    | 2021-08-27 18:54:05,147 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om2_1    | 2021-08-27 18:54:05,573 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om2_1    | 2021-08-27 18:54:05,574 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om2_1    | 2021-08-27 18:54:06,179 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om2_1    | 2021-08-27 18:54:06,179 [main] WARN utils.OzoneManagerRatisUtils: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
om2_1    | 2021-08-27 18:54:06,223 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
om2_1    | 2021-08-27 18:54:07,274 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om2_1    | 2021-08-27 18:54:07,406 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om2_1    | 2021-08-27 18:54:07,614 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with groupID: omservice and peers: om2:9872, om1:9872, om3:9872
om2_1    | 2021-08-27 18:54:07,686 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:6, i:7)
om2_1    | 2021-08-27 18:54:07,869 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
om2_1    | 2021-08-27 18:54:08,349 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
om2_1    | 2021-08-27 18:54:08,350 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om2_1    | 2021-08-27 18:54:08,350 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
om2_1    | 2021-08-27 18:54:08,350 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om2_1    | 2021-08-27 18:54:08,360 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om2_1    | 2021-08-27 18:54:08,361 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
om2_1    | 2021-08-27 18:54:08,362 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om2_1    | 2021-08-27 18:54:08,371 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
om2_1    | 2021-08-27 18:54:08,387 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om2_1    | 2021-08-27 18:54:09,886 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
om2_1    | 2021-08-27 18:54:09,902 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om2_1    | 2021-08-27 18:54:09,907 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om2_1    | 2021-08-27 18:54:09,961 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om2_1    | 2021-08-27 18:54:09,971 [main] INFO server.RaftServer: om2: found a subdirectory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om2_1    | 2021-08-27 18:54:09,979 [main] INFO server.RaftServer: om2: addNew group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] returns group-D66704EFC61C:java.util.concurrent.CompletableFuture@f171912[Not completed]
om2_1    | 2021-08-27 18:54:09,995 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
om2_1    | 2021-08-27 18:54:10,133 [pool-23-thread-1] INFO server.RaftServer$Division: om2: new RaftServerImpl for group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] with OzoneManagerStateMachine:uninitialized
om2_1    | 2021-08-27 18:54:10,207 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om2_1    | 2021-08-27 18:54:10,200 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
om2_1    | 2021-08-27 18:54:10,222 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
om2_1    | 2021-08-27 18:54:10,222 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
om2_1    | 2021-08-27 18:54:10,222 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om2_1    | 2021-08-27 18:54:10,222 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om2_1    | 2021-08-27 18:54:10,223 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
om2_1    | 2021-08-27 18:54:10,224 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om2_1    | 2021-08-27 18:54:10,262 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: ConfigurationManager, init=-1: [om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0], old=null, confs=<EMPTY_MAP>
om2_1    | 2021-08-27 18:54:10,285 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om2_1    | 2021-08-27 18:54:10,287 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om2_1    | 2021-08-27 18:54:10,309 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
om2_1    | 2021-08-27 18:54:10,337 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
om2_1    | 2021-08-27 18:54:10,396 [pool-23-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/in_use.lock acquired by nodename 7@77bc42c45c6f
om2_1    | 2021-08-27 18:54:10,470 [pool-23-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=6, votedFor=om2} from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/raft-meta
om2_1    | 2021-08-27 18:54:10,690 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:10,713 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
om2_1    | 2021-08-27 18:54:10,716 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om2_1    | 2021-08-27 18:54:10,744 [Listener at om2/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
om2_1    | 2021-08-27 18:54:10,796 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om2_1    | 2021-08-27 18:54:10,796 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om2_1    | 2021-08-27 18:54:10,930 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om2_1    | 2021-08-27 18:54:11,007 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om2_1    | 2021-08-27 18:54:11,012 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
om2_1    | 2021-08-27 18:54:11,056 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: new om2@group-D66704EFC61C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om2_1    | 2021-08-27 18:54:11,060 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
om2_1    | 2021-08-27 18:54:11,060 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
om2_1    | 2021-08-27 18:54:11,073 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om2_1    | 2021-08-27 18:54:11,076 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
om2_1    | 2021-08-27 18:54:11,076 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om2_1    | 2021-08-27 18:54:11,078 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om2_1    | 2021-08-27 18:54:11,079 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om2_1    | 2021-08-27 18:54:11,080 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om2_1    | 2021-08-27 18:54:11,125 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
om2_1    | 2021-08-27 18:54:11,133 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
om2_1    | 2021-08-27 18:54:11,232 [Listener at om2/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
om2_1    | 2021-08-27 18:54:11,288 [pool-23-thread-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:11,337 [Listener at om2/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om2_1    | 2021-08-27 18:54:11,337 [Listener at om2/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
om2_1    | 2021-08-27 18:54:11,801 [Listener at om2/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om2/10.9.0.12:9862
om1_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om1_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
om1_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om1_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om1_1    | 2021-08-27 18:53:32,928 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om1_1    | /************************************************************
om1_1    | STARTUP_MSG: Starting OzoneManager
om1_1    | STARTUP_MSG:   host = 970b7d3569b2/10.9.0.11
om1_1    | STARTUP_MSG:   args = [--upgrade]
om1_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om1_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.8.9.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.8.9.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
om1_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
om1_1    | STARTUP_MSG:   java = 11.0.10
om1_1    | ************************************************************/
om1_1    | 2021-08-27 18:53:33,021 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om1_1    | 2021-08-27 18:53:41,722 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om1_1    | 2021-08-27 18:53:42,263 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: omservice, OMNodeId: om1, RPC Address: om1:9862 and Ratis port: 9872
om1_1    | 2021-08-27 18:53:42,263 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.omservice.om1: om1
om1_1    | 2021-08-27 18:53:42,279 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1    | 2021-08-27 18:53:42,568 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
om1_1    | 2021-08-27 18:53:44,957 [main] INFO reflections.Reflections: Reflections took 1922 ms to scan 1 urls, producing 95 keys and 258 values [using 2 cores]
om1_1    | 2021-08-27 18:53:45,076 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1    | 2021-08-27 18:53:49,728 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 970b7d3569b2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-08-27 18:53:51,730 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 970b7d3569b2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-08-27 18:53:53,731 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 970b7d3569b2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-08-27 18:53:55,733 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 970b7d3569b2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-08-27 18:53:57,735 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 970b7d3569b2/10.9.0.11 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
om1_1    | 2021-08-27 18:54:05,066 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om1_1    | 2021-08-27 18:54:05,440 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-08-27 18:54:05,441 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om1_1    | 2021-08-27 18:54:05,874 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1    | 2021-08-27 18:54:05,877 [main] WARN utils.OzoneManagerRatisUtils: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
om1_1    | 2021-08-27 18:54:05,974 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
om1_1    | 2021-08-27 18:54:06,750 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om1_1    | 2021-08-27 18:54:06,907 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om1_1    | 2021-08-27 18:54:07,241 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with groupID: omservice and peers: om1:9872, om3:9872, om2:9872
om1_1    | 2021-08-27 18:54:07,327 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:6, i:7)
om1_1    | 2021-08-27 18:54:07,515 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
om1_1    | 2021-08-27 18:54:08,012 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
om1_1    | 2021-08-27 18:54:08,021 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om1_1    | 2021-08-27 18:54:08,032 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
om1_1    | 2021-08-27 18:54:08,033 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om1_1    | 2021-08-27 18:54:08,034 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om1_1    | 2021-08-27 18:54:08,035 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
om1_1    | 2021-08-27 18:54:08,044 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1    | 2021-08-27 18:54:08,071 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
om1_1    | 2021-08-27 18:54:08,085 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om1_1    | 2021-08-27 18:54:10,049 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
om1_1    | 2021-08-27 18:54:10,053 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om1_1    | 2021-08-27 18:54:10,059 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om1_1    | 2021-08-27 18:54:10,136 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1    | 2021-08-27 18:54:10,151 [main] INFO server.RaftServer: om1: found a subdirectory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om1_1    | 2021-08-27 18:54:10,184 [main] INFO server.RaftServer: om1: addNew group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] returns group-D66704EFC61C:java.util.concurrent.CompletableFuture@7f4596d0[Not completed]
om1_1    | 2021-08-27 18:54:10,184 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
om1_1    | 2021-08-27 18:54:10,262 [pool-23-thread-1] INFO server.RaftServer$Division: om1: new RaftServerImpl for group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] with OzoneManagerStateMachine:uninitialized
om1_1    | 2021-08-27 18:54:10,273 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
om1_1    | 2021-08-27 18:54:10,273 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
om1_1    | 2021-08-27 18:54:10,274 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
om1_1    | 2021-08-27 18:54:10,274 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om1_1    | 2021-08-27 18:54:10,277 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om1_1    | 2021-08-27 18:54:10,277 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
om1_1    | 2021-08-27 18:54:10,277 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1    | 2021-08-27 18:54:10,300 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: ConfigurationManager, init=-1: [om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0], old=null, confs=<EMPTY_MAP>
om1_1    | 2021-08-27 18:54:10,317 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om1_1    | 2021-08-27 18:54:10,323 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om1_1    | 2021-08-27 18:54:10,367 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om1_1    | 2021-08-27 18:54:10,368 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
om1_1    | 2021-08-27 18:54:10,422 [pool-23-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/in_use.lock acquired by nodename 7@970b7d3569b2
om1_1    | 2021-08-27 18:54:10,433 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
om1_1    | 2021-08-27 18:54:10,458 [pool-23-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=6, votedFor=om2} from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/raft-meta
om1_1    | 2021-08-27 18:54:10,741 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:10,749 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
om1_1    | 2021-08-27 18:54:10,750 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om1_1    | 2021-08-27 18:54:10,807 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om1_1    | 2021-08-27 18:54:10,808 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1    | 2021-08-27 18:54:10,793 [Listener at om1/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
om1_1    | 2021-08-27 18:54:10,900 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om1_1    | 2021-08-27 18:54:10,942 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om1_1    | 2021-08-27 18:54:10,959 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
om1_1    | 2021-08-27 18:54:10,979 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: new om1@group-D66704EFC61C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om1_1    | 2021-08-27 18:54:10,985 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
om1_1    | 2021-08-27 18:54:10,999 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
om1_1    | 2021-08-27 18:54:11,002 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om1_1    | 2021-08-27 18:54:11,005 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
om1_1    | 2021-08-27 18:54:11,005 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om1_1    | 2021-08-27 18:54:11,008 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om1_1    | 2021-08-27 18:54:11,012 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om1_1    | 2021-08-27 18:54:11,012 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om1_1    | 2021-08-27 18:54:11,048 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
om1_1    | 2021-08-27 18:54:11,069 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
om1_1    | 2021-08-27 18:54:11,176 [pool-23-thread-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:11,249 [Listener at om1/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
om1_1    | 2021-08-27 18:54:11,308 [Listener at om1/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om1_1    | 2021-08-27 18:54:11,308 [Listener at om1/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
om1_1    | 2021-08-27 18:54:11,386 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 9 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_0
om1_1    | 2021-08-27 18:54:11,405 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
om1_1    | 2021-08-27 18:54:11,405 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
om1_1    | 2021-08-27 18:54:11,602 [Listener at om1/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om1/10.9.0.11:9862
om1_1    | 2021-08-27 18:54:11,609 [Listener at om1/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om1 at port 9872
dn2_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn2_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn2_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn2_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn2_1    | 2021-08-27 18:53:32,567 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
dn2_1    | /************************************************************
dn2_1    | STARTUP_MSG: Starting HddsDatanodeService
dn2_1    | STARTUP_MSG:   host = 597ab2b886bc/10.9.0.16
dn2_1    | STARTUP_MSG:   args = []
dn2_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn2_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
dn2_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
dn2_1    | STARTUP_MSG:   java = 11.0.10
dn2_1    | ************************************************************/
dn2_1    | 2021-08-27 18:53:32,623 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
dn2_1    | 2021-08-27 18:53:34,563 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
dn2_1    | 2021-08-27 18:53:35,147 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn2_1    | 2021-08-27 18:53:36,157 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn2_1    | 2021-08-27 18:53:36,160 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
dn2_1    | 2021-08-27 18:53:37,619 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:597ab2b886bc ip:10.9.0.16
dn2_1    | 2021-08-27 18:53:39,054 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
dn2_1    | 2021-08-27 18:53:39,959 [main] INFO reflections.Reflections: Reflections took 742 ms to scan 2 urls, producing 85 keys and 170 values 
dn2_1    | 2021-08-27 18:53:40,556 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
dn2_1    | 2021-08-27 18:53:40,556 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFirstUpgradeLayoutChangeAction
dn2_1    | 2021-08-27 18:53:41,883 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-08-27T18:53:18.314Z
dn2_1    | 2021-08-27 18:53:41,945 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
dn2_1    | 2021-08-27 18:53:41,971 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
dn2_1    | 2021-08-27 18:53:41,982 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
dn2_1    | 2021-08-27 18:53:42,167 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
dn2_1    | 2021-08-27 18:53:42,341 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn2_1    | 2021-08-27 18:53:42,342 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
dn2_1    | 2021-08-27 18:53:42,409 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
dn2_1    | 2021-08-27 18:53:42,414 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/metadata/ratis
dn2_1    | 2021-08-27 18:53:42,417 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/metadata/ratis
dn2_1    | 2021-08-27 18:53:42,576 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
dn2_1    | 2021-08-27 18:53:42,626 [Thread-4] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
dn2_1    | 2021-08-27 18:53:42,637 [Thread-4] INFO ozoneimpl.ContainerReader: Storage dir based on clusterId doesn't exist.Renaming storage location:/data/hdds/hdds/17725e10-b5a4-4e3a-aa4f-6a96e545172a to /data/hdds/hdds/CID-df875335-c3d4-431d-8339-4be7293ceb2f
dn2_1    | 2021-08-27 18:53:43,297 [Thread-4] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
dn2_1    | 2021-08-27 18:53:43,298 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
dn2_1    | 2021-08-27 18:53:51,179 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn2_1    | 2021-08-27 18:53:51,431 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
dn2_1    | 2021-08-27 18:53:51,771 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9858 (custom)
dn2_1    | 2021-08-27 18:53:51,777 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
dn2_1    | 2021-08-27 18:53:51,791 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9858 (custom)
dn2_1    | 2021-08-27 18:53:51,793 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
dn2_1    | 2021-08-27 18:53:51,794 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:53:51,794 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
dn2_1    | 2021-08-27 18:53:51,806 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn2_1    | 2021-08-27 18:53:53,544 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn2_1    | 2021-08-27 18:53:53,597 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:53:53,598 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:53:53,662 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:53:53,672 [main] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: found a subdirectory /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6
dn2_1    | 2021-08-27 18:53:53,714 [main] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: addNew group-179E0EA45DA6:[] returns group-179E0EA45DA6:java.util.concurrent.CompletableFuture@3b98b809[Not completed]
dn2_1    | 2021-08-27 18:53:53,726 [main] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: found a subdirectory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn2_1    | 2021-08-27 18:53:53,726 [main] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: addNew group-75F5A4C05783:[] returns group-75F5A4C05783:java.util.concurrent.CompletableFuture@bf75b5c[Not completed]
dn2_1    | 2021-08-27 18:53:53,960 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: new RaftServerImpl for group-179E0EA45DA6:[] with ContainerStateMachine:uninitialized
dn2_1    | 2021-08-27 18:53:54,003 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-08-27 18:53:54,009 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-08-27 18:53:54,009 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-08-27 18:53:54,009 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:53:54,010 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:53:54,010 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-08-27 18:53:54,010 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:53:54,028 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-08-27 18:53:54,048 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:53:54,058 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-08-27 18:53:54,059 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-08-27 18:53:54,161 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/in_use.lock acquired by nodename 7@597ab2b886bc
dn2_1    | 2021-08-27 18:53:54,192 [pool-25-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2} from /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/current/raft-meta
dn2_1    | 2021-08-27 18:53:54,454 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-179E0EA45DA6: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-08-27 18:53:54,602 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
dn2_1    | 2021-08-27 18:53:54,618 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: set configuration 0: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:53:54,637 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:53:54,670 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-08-27 18:53:54,720 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-08-27 18:53:54,732 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:53:54,832 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn2_1    | 2021-08-27 18:53:54,884 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:53:54,960 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-08-27 18:53:54,981 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-08-27 18:53:55,010 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6
dn2_1    | 2021-08-27 18:53:55,023 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-08-27 18:53:55,024 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:53:55,025 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:53:55,031 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-08-27 18:53:55,043 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-08-27 18:53:55,046 [main] INFO util.log: Logging initialized @29770ms to org.eclipse.jetty.util.log.Slf4jLog
dn2_1    | 2021-08-27 18:53:55,052 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-08-27 18:53:55,053 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-08-27 18:53:55,053 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-08-27 18:53:55,134 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-08-27 18:53:55,141 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-08-27 18:53:55,631 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: set configuration 0: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:53:55,651 [pool-25-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/current/log_inprogress_0
dn2_1    | 2021-08-27 18:53:55,711 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
dn2_1    | 2021-08-27 18:53:55,719 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:53:55,889 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn2_1    | 2021-08-27 18:53:55,932 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
dn2_1    | 2021-08-27 18:53:55,969 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn2_1    | 2021-08-27 18:53:55,984 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
dn2_1    | 2021-08-27 18:53:55,991 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn2_1    | 2021-08-27 18:53:55,991 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn2_1    | 2021-08-27 18:53:56,262 [main] INFO http.HttpServer2: Jetty bound to port 9882
dn2_1    | 2021-08-27 18:53:56,269 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn2_1    | 2021-08-27 18:53:56,386 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 2021-08-27 18:53:56,399 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:53:56,405 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-08-27 18:53:56,415 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 2021-08-27 18:53:56,425 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-08-27 18:53:56,429 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 2021-08-27 18:53:56,531 [main] INFO server.session: DefaultSessionIdManager workerName=node0
om1_1    | 2021-08-27 18:54:11,817 [pool-23-thread-1] INFO raftlog.RaftLog: om1@group-D66704EFC61C-SegmentedRaftLog: commitIndex: updateToMax old=7, new=7, updated? false
om1_1    | 2021-08-27 18:54:11,830 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om1_1    | 2021-08-27 18:54:11,833 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
om1_1    | 2021-08-27 18:54:11,841 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
om1_1    | 2021-08-27 18:54:11,843 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
om1_1    | 2021-08-27 18:54:11,844 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
om1_1    | 2021-08-27 18:54:11,845 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om1_1    | 2021-08-27 18:54:11,979 [Listener at om1/9862] INFO server.RaftServer$Division: om1@group-D66704EFC61C: start as a follower, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:11,994 [Listener at om1/9862] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from      null to FOLLOWER at term 6 for startAsFollower
om1_1    | 2021-08-27 18:54:11,995 [Listener at om1/9862] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-FollowerState
om1_1    | 2021-08-27 18:54:11,996 [Listener at om1/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D66704EFC61C,id=om1
om1_1    | 2021-08-27 18:54:12,016 [Listener at om1/9862] INFO server.RaftServer: om1: start RPC server
om1_1    | 2021-08-27 18:54:12,157 [Listener at om1/9862] INFO server.GrpcService: om1: GrpcService started, listening on 9872
om1_1    | 2021-08-27 18:54:12,165 [Listener at om1/9862] INFO om.OzoneManager: Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
om1_1    | 2021-08-27 18:54:12,171 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$394/0x000000084052f040@44d7e24] INFO util.JvmPauseMonitor: JvmPauseMonitor-om1: Started
om1_1    | 2021-08-27 18:54:12,304 [Listener at om1/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om1_1    | 2021-08-27 18:54:12,304 [Listener at om1/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om1_1    | 2021-08-27 18:54:12,408 [Listener at om1/9862] INFO util.log: Logging initialized @46920ms to org.eclipse.jetty.util.log.Slf4jLog
om1_1    | 2021-08-27 18:54:12,794 [Listener at om1/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om1_1    | 2021-08-27 18:54:12,807 [Listener at om1/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om1_1    | 2021-08-27 18:54:12,818 [Listener at om1/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om1_1    | 2021-08-27 18:54:12,827 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om1_1    | 2021-08-27 18:54:12,827 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om1_1    | 2021-08-27 18:54:12,828 [Listener at om1/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om1_1    | 2021-08-27 18:54:12,952 [Listener at om1/9862] INFO http.HttpServer2: Jetty bound to port 9874
om1_1    | 2021-08-27 18:54:12,958 [Listener at om1/9862] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om1_1    | 2021-08-27 18:54:13,048 [Listener at om1/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om1_1    | 2021-08-27 18:54:13,052 [Listener at om1/9862] INFO server.session: No SessionScavenger set, using defaults
om1_1    | 2021-08-27 18:54:13,054 [Listener at om1/9862] INFO server.session: node0 Scavenging every 600000ms
om1_1    | 2021-08-27 18:54:13,157 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@34c76167{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om1_1    | 2021-08-27 18:54:13,162 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@71531dd7{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om1_1    | 2021-08-27 18:54:13,597 [Listener at om1/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@5c82031b{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-207693181730911475/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
om1_1    | 2021-08-27 18:54:13,634 [Listener at om1/9862] INFO server.AbstractConnector: Started ServerConnector@154b8cb6{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
om1_1    | 2021-08-27 18:54:13,635 [Listener at om1/9862] INFO server.Server: Started @48147ms
om1_1    | 2021-08-27 18:54:13,643 [Listener at om1/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
om1_1    | 2021-08-27 18:54:13,643 [Listener at om1/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om1_1    | 2021-08-27 18:54:13,661 [Listener at om1/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
om1_1    | 2021-08-27 18:54:13,681 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om1_1    | 2021-08-27 18:54:13,693 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
om1_1    | 2021-08-27 18:54:13,940 [Listener at om1/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
om1_1    | 2021-08-27 18:54:13,973 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2edb2f8b] INFO util.JvmPauseMonitor: Starting JVM pause monitor
om1_1    | 2021-08-27 18:54:17,128 [om1@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om1@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5133855949ns, electionTimeout:5114ms
om1_1    | 2021-08-27 18:54:17,130 [om1@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-FollowerState
om1_1    | 2021-08-27 18:54:17,130 [om1@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
om1_1    | 2021-08-27 18:54:17,132 [om1@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om1_1    | 2021-08-27 18:54:17,133 [om1@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-LeaderElection1
om1_1    | 2021-08-27 18:54:17,179 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection1 ELECTION round 0: submit vote requests at term 7 for 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:18,529 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: receive requestVote(ELECTION, om3, group-D66704EFC61C, 7, (t:6, i:8))
dn2_1    | 2021-08-27 18:53:56,541 [main] INFO server.session: No SessionScavenger set, using defaults
dn2_1    | 2021-08-27 18:53:56,543 [main] INFO server.session: node0 Scavenging every 660000ms
dn2_1    | 2021-08-27 18:53:56,717 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@515b9d4a{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn2_1    | 2021-08-27 18:53:56,718 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3e900e1a{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn2_1    | 2021-08-27 18:53:56,795 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: new RaftServerImpl for group-75F5A4C05783:[] with ContainerStateMachine:uninitialized
dn2_1    | 2021-08-27 18:53:56,797 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-08-27 18:53:56,797 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-08-27 18:53:56,797 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-08-27 18:53:56,797 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:53:56,798 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:53:56,804 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-08-27 18:53:56,804 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:53:56,804 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-08-27 18:53:56,804 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:53:56,805 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-08-27 18:53:56,805 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-08-27 18:53:56,810 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/in_use.lock acquired by nodename 7@597ab2b886bc
dn2_1    | 2021-08-27 18:53:56,815 [pool-25-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=eef38474-ab6c-4605-b4ff-f16dc7b7310f} from /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/raft-meta
dn2_1    | 2021-08-27 18:53:56,815 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-75F5A4C05783: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-08-27 18:53:56,817 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:53:56,821 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:53:56,821 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-08-27 18:53:56,821 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-08-27 18:53:56,822 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:53:56,822 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:53:56,824 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-08-27 18:53:56,824 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-08-27 18:53:56,824 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn2_1    | 2021-08-27 18:53:56,827 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-08-27 18:53:56,827 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:53:56,829 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:53:56,829 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-08-27 18:53:56,829 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-08-27 18:53:56,830 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-08-27 18:53:56,830 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-08-27 18:53:56,830 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-08-27 18:53:56,844 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-08-27 18:53:56,845 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-08-27 18:53:56,848 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:53:56,873 [pool-25-thread-1] INFO segmented.LogSegment: Successfully read 5 entries from segment file /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_0
dn2_1    | 2021-08-27 18:53:56,873 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
dn2_1    | 2021-08-27 18:53:56,874 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:53:56,895 [pool-25-thread-1] INFO raftlog.RaftLog: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=2, updated? true
dn2_1    | 2021-08-27 18:53:56,901 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 2021-08-27 18:53:56,905 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:53:56,905 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-08-27 18:53:52,858 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-08-27 18:53:52,858 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:53:53,009 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-08-27 18:53:53,022 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:53:53,065 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-08-27 18:53:53,070 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-08-27 18:53:53,181 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/in_use.lock acquired by nodename 7@cf3242dbbd7c
dn1_1    | 2021-08-27 18:53:53,264 [pool-25-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=eef38474-ab6c-4605-b4ff-f16dc7b7310f} from /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/raft-meta
dn1_1    | 2021-08-27 18:53:53,411 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-75F5A4C05783: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-08-27 18:53:53,556 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
dn1_1    | 2021-08-27 18:53:53,649 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn1_1    | 2021-08-27 18:53:53,713 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:53:53,713 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:53:53,742 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-08-27 18:53:53,800 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-08-27 18:53:53,804 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:53:53,910 [main] INFO util.log: Logging initialized @30037ms to org.eclipse.jetty.util.log.Slf4jLog
dn1_1    | 2021-08-27 18:53:53,911 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:53:54,046 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-08-27 18:53:54,053 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-08-27 18:53:54,147 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn1_1    | 2021-08-27 18:53:54,154 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-08-27 18:53:54,156 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:53:54,157 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:53:54,161 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-08-27 18:53:54,184 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-08-27 18:53:54,190 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-08-27 18:53:54,194 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-08-27 18:53:54,196 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-08-27 18:53:54,317 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-08-27 18:53:54,318 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-08-27 18:53:54,528 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:53:54,551 [pool-25-thread-1] INFO segmented.LogSegment: Successfully read 5 entries from segment file /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_0
dn1_1    | 2021-08-27 18:53:54,603 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
dn1_1    | 2021-08-27 18:53:54,612 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:53:54,741 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn1_1    | 2021-08-27 18:53:54,792 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
dn1_1    | 2021-08-27 18:53:54,797 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn1_1    | 2021-08-27 18:53:54,805 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
dn1_1    | 2021-08-27 18:53:54,813 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn1_1    | 2021-08-27 18:53:54,814 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn1_1    | 2021-08-27 18:53:55,154 [main] INFO http.HttpServer2: Jetty bound to port 9882
dn1_1    | 2021-08-27 18:53:55,160 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn1_1    | 2021-08-27 18:53:55,322 [pool-25-thread-1] INFO raftlog.RaftLog: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=2, updated? true
dn1_1    | 2021-08-27 18:53:55,339 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-08-27 18:53:55,352 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:53:56,908 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 2021-08-27 18:53:56,908 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-08-27 18:53:56,908 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 2021-08-27 18:53:57,148 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@e91af20{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-2763535118049952392/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
dn2_1    | 2021-08-27 18:53:57,194 [main] INFO server.AbstractConnector: Started ServerConnector@739e8b96{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
dn2_1    | 2021-08-27 18:53:57,195 [main] INFO server.Server: Started @31918ms
dn2_1    | 2021-08-27 18:53:57,197 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn2_1    | 2021-08-27 18:53:57,197 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
dn2_1    | 2021-08-27 18:53:57,198 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
dn2_1    | 2021-08-27 18:53:57,241 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
dn2_1    | 2021-08-27 18:53:57,242 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
dn2_1    | 2021-08-27 18:53:57,242 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Executing first upgrade start action ScmHAFirstUpgradeLayoutChangeAction
dn2_1    | 2021-08-27 18:53:57,242 [Datanode State Machine Thread - 0] INFO upgrade.ScmHAFirstUpgradeLayoutChangeAction: Upgrade Datanode container layout for SCM HA support.
dn2_1    | 2021-08-27 18:53:57,297 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3cb6b617] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn2_1    | 2021-08-27 18:54:02,159 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
dn2_1    | 2021-08-27 18:54:02,176 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
dn2_1    | 2021-08-27 18:54:02,611 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:54:02,667 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: start as a follower, conf=0: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:02,722 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: changes role from      null to FOLLOWER at term 1 for startAsFollower
dn2_1    | 2021-08-27 18:54:02,723 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState
dn2_1    | 2021-08-27 18:54:02,746 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-179E0EA45DA6,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:54:02,751 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: start as a follower, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:02,762 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: changes role from      null to FOLLOWER at term 1 for startAsFollower
dn2_1    | 2021-08-27 18:54:02,765 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState
dn2_1    | 2021-08-27 18:54:02,794 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-75F5A4C05783,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:54:02,839 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start RPC server
dn2_1    | 2021-08-27 18:54:02,874 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: GrpcService started, listening on 9858
dn2_1    | 2021-08-27 18:54:02,876 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$444/0x00000008404f9040@54ba8b18] INFO util.JvmPauseMonitor: JvmPauseMonitor-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Started
dn2_1    | 2021-08-27 18:54:02,895 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 is started using port 9858 for RATIS
dn2_1    | 2021-08-27 18:54:02,895 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 is started using port 9858 for RATIS_ADMIN
dn2_1    | 2021-08-27 18:54:02,895 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 is started using port 9858 for RATIS_SERVER
dn2_1    | 2021-08-27 18:54:06,358 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: new RaftServerImpl for group-12272AAD7695:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] with ContainerStateMachine:uninitialized
dn2_1    | 2021-08-27 18:54:06,360 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-08-27 18:54:06,360 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-08-27 18:54:06,360 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-08-27 18:54:06,361 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:54:06,361 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:54:06,361 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-08-27 18:54:06,361 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:54:06,361 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null, confs=<EMPTY_MAP>
om2_1    | 2021-08-27 18:54:11,802 [Listener at om2/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om2 at port 9872
om2_1    | 2021-08-27 18:54:11,861 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 9 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_0
om2_1    | 2021-08-27 18:54:11,930 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
om2_1    | 2021-08-27 18:54:11,936 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
om2_1    | 2021-08-27 18:54:12,184 [pool-23-thread-1] INFO raftlog.RaftLog: om2@group-D66704EFC61C-SegmentedRaftLog: commitIndex: updateToMax old=7, new=7, updated? false
om2_1    | 2021-08-27 18:54:12,192 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om2_1    | 2021-08-27 18:54:12,195 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
om2_1    | 2021-08-27 18:54:12,197 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
om2_1    | 2021-08-27 18:54:12,200 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
om2_1    | 2021-08-27 18:54:12,201 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
om2_1    | 2021-08-27 18:54:12,205 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om2_1    | 2021-08-27 18:54:12,325 [Listener at om2/9862] INFO server.RaftServer$Division: om2@group-D66704EFC61C: start as a follower, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:12,342 [Listener at om2/9862] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from      null to FOLLOWER at term 6 for startAsFollower
om2_1    | 2021-08-27 18:54:12,343 [Listener at om2/9862] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-08-27 18:54:12,351 [Listener at om2/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D66704EFC61C,id=om2
om2_1    | 2021-08-27 18:54:12,366 [Listener at om2/9862] INFO server.RaftServer: om2: start RPC server
om2_1    | 2021-08-27 18:54:12,596 [Listener at om2/9862] INFO server.GrpcService: om2: GrpcService started, listening on 9872
om2_1    | 2021-08-27 18:54:12,628 [Listener at om2/9862] INFO om.OzoneManager: Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
om2_1    | 2021-08-27 18:54:12,659 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$394/0x000000084052f040@1c98b4eb] INFO util.JvmPauseMonitor: JvmPauseMonitor-om2: Started
om2_1    | 2021-08-27 18:54:12,814 [Listener at om2/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om2_1    | 2021-08-27 18:54:12,819 [Listener at om2/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om2_1    | 2021-08-27 18:54:12,922 [Listener at om2/9862] INFO util.log: Logging initialized @49015ms to org.eclipse.jetty.util.log.Slf4jLog
om2_1    | 2021-08-27 18:54:13,298 [Listener at om2/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om2_1    | 2021-08-27 18:54:13,308 [Listener at om2/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om2_1    | 2021-08-27 18:54:13,321 [Listener at om2/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om2_1    | 2021-08-27 18:54:13,324 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om2_1    | 2021-08-27 18:54:13,324 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om2_1    | 2021-08-27 18:54:13,327 [Listener at om2/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om2_1    | 2021-08-27 18:54:13,483 [Listener at om2/9862] INFO http.HttpServer2: Jetty bound to port 9874
om2_1    | 2021-08-27 18:54:13,484 [Listener at om2/9862] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om2_1    | 2021-08-27 18:54:13,654 [Listener at om2/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om2_1    | 2021-08-27 18:54:13,654 [Listener at om2/9862] INFO server.session: No SessionScavenger set, using defaults
om2_1    | 2021-08-27 18:54:13,661 [Listener at om2/9862] INFO server.session: node0 Scavenging every 660000ms
om2_1    | 2021-08-27 18:54:13,720 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@404ced67{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om2_1    | 2021-08-27 18:54:13,735 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@27e199ce{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om2_1    | 2021-08-27 18:54:14,083 [Listener at om2/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@3ffd4b12{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-4453563891726635168/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
om2_1    | 2021-08-27 18:54:14,210 [Listener at om2/9862] INFO server.AbstractConnector: Started ServerConnector@2e0ad709{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
om2_1    | 2021-08-27 18:54:14,213 [Listener at om2/9862] INFO server.Server: Started @50307ms
om2_1    | 2021-08-27 18:54:14,218 [Listener at om2/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
om2_1    | 2021-08-27 18:54:14,218 [Listener at om2/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om2_1    | 2021-08-27 18:54:14,221 [Listener at om2/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
om2_1    | 2021-08-27 18:54:14,229 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om2_1    | 2021-08-27 18:54:14,236 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
om2_1    | 2021-08-27 18:54:14,455 [Listener at om2/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
om2_1    | 2021-08-27 18:54:14,477 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@b8a144e] INFO util.JvmPauseMonitor: Starting JVM pause monitor
om2_1    | 2021-08-27 18:54:17,453 [om2@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om2@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5110488016ns, electionTimeout:5090ms
om2_1    | 2021-08-27 18:54:17,455 [om2@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-08-27 18:54:17,455 [om2@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
om2_1    | 2021-08-27 18:54:17,458 [om2@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om2_1    | 2021-08-27 18:54:17,459 [om2@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-LeaderElection1
om2_1    | 2021-08-27 18:54:17,518 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection1 ELECTION round 0: submit vote requests at term 7 for 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:18,564 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: receive requestVote(ELECTION, om3, group-D66704EFC61C, 7, (t:6, i:8))
om2_1    | 2021-08-27 18:54:18,569 [grpc-default-executor-1] INFO impl.VoteContext: om2@group-D66704EFC61C-CANDIDATE: reject ELECTION from om3: already has voted for om2 at current term 7
om2_1    | 2021-08-27 18:54:18,610 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C replies to ELECTION vote request: om3<-om2#0:FAIL-t7. Peer's state: om2@group-D66704EFC61C:t7, leader=null, voted=om2, raftlog=om2@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:18,645 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: receive requestVote(ELECTION, om1, group-D66704EFC61C, 7, (t:6, i:8))
om2_1    | 2021-08-27 18:54:18,648 [grpc-default-executor-1] INFO impl.VoteContext: om2@group-D66704EFC61C-CANDIDATE: reject ELECTION from om1: already has voted for om2 at current term 7
om2_1    | 2021-08-27 18:54:18,649 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C replies to ELECTION vote request: om1<-om2#0:FAIL-t7. Peer's state: om2@group-D66704EFC61C:t7, leader=null, voted=om2, raftlog=om2@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:18,674 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om2_1    | 2021-08-27 18:54:18,674 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 0: om2<-om1#0:FAIL-t7
om2_1    | 2021-08-27 18:54:18,675 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 1: om2<-om3#0:FAIL-t7
om2_1    | 2021-08-27 18:54:18,675 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om2@group-D66704EFC61C-LeaderElection1 ELECTION round 0: result REJECTED
om2_1    | 2021-08-27 18:54:18,676 [om2@group-D66704EFC61C-LeaderElection1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
om2_1    | 2021-08-27 18:54:18,676 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-LeaderElection1
om2_1    | 2021-08-27 18:54:18,677 [om2@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-08-27 18:54:23,774 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: receive requestVote(ELECTION, om1, group-D66704EFC61C, 8, (t:6, i:8))
om2_1    | 2021-08-27 18:54:23,776 [grpc-default-executor-1] INFO impl.VoteContext: om2@group-D66704EFC61C-FOLLOWER: accept ELECTION from om1: our priority 0 <= candidate's priority 0
om2_1    | 2021-08-27 18:54:23,776 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:om1
om2_1    | 2021-08-27 18:54:23,776 [grpc-default-executor-1] INFO impl.RoleInfo: om2: shutdown om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-08-27 18:54:23,779 [grpc-default-executor-1] INFO impl.RoleInfo: om2: start om2@group-D66704EFC61C-FollowerState
om2_1    | 2021-08-27 18:54:23,779 [om2@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om2@group-D66704EFC61C-FollowerState was interrupted: {}
om2_1    | java.lang.InterruptedException: sleep interrupted
om2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
om2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
om2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
om2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
om2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
om2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om2_1    | 2021-08-27 18:54:23,784 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C replies to ELECTION vote request: om1<-om2#0:OK-t8. Peer's state: om2@group-D66704EFC61C:t8, leader=null, voted=om1, raftlog=om2@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:23,928 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: change Leader from null to om1 at term 8 for appendEntries, leader elected after 13237ms
om2_1    | 2021-08-27 18:54:23,980 [grpc-default-executor-1] INFO server.RaftServer$Division: om2@group-D66704EFC61C: set configuration 9: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om2_1    | 2021-08-27 18:54:23,984 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: Rolling segment log-0_8 to index:8
om2_1    | 2021-08-27 18:54:23,988 [om2@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_0 to /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_0-8
om2_1    | 2021-08-27 18:54:24,060 [om2@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om2@group-D66704EFC61C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_9
om2_1    | 2021-08-27 18:54:24,291 [om2@group-D66704EFC61C-StateMachineUpdater] INFO ratis.OzoneManagerStateMachine: Received Configuration change notification from Ratis. New Peer list:
om2_1    | [id: "om1"
om2_1    | address: "om1:9872"
om2_1    | , id: "om3"
om2_1    | address: "om3:9872"
om2_1    | , id: "om2"
om2_1    | address: "om2:9872"
om2_1    | ]
om2_1    | 2021-08-27 18:54:59,726 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new1-volume for user:hadoop
om2_1    | 2021-08-27 18:56:48,954 [OMDoubleBufferFlushThread] INFO upgrade.OMFinalizeUpgradeResponse: Layout version to persist to DB : 0
om2_1    | 2021-08-27 18:57:31,332 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new2-volume for user:hadoop
om1_1    | 2021-08-27 18:54:18,532 [grpc-default-executor-1] INFO impl.VoteContext: om1@group-D66704EFC61C-CANDIDATE: reject ELECTION from om3: already has voted for om1 at current term 7
om1_1    | 2021-08-27 18:54:18,545 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C replies to ELECTION vote request: om3<-om1#0:FAIL-t7. Peer's state: om1@group-D66704EFC61C:t7, leader=null, voted=om1, raftlog=om1@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:18,594 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: receive requestVote(ELECTION, om2, group-D66704EFC61C, 7, (t:6, i:8))
om1_1    | 2021-08-27 18:54:18,595 [grpc-default-executor-1] INFO impl.VoteContext: om1@group-D66704EFC61C-CANDIDATE: reject ELECTION from om2: already has voted for om1 at current term 7
om1_1    | 2021-08-27 18:54:18,597 [grpc-default-executor-1] INFO server.RaftServer$Division: om1@group-D66704EFC61C replies to ELECTION vote request: om2<-om1#0:FAIL-t7. Peer's state: om1@group-D66704EFC61C:t7, leader=null, voted=om1, raftlog=om1@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:18,670 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om1_1    | 2021-08-27 18:54:18,671 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 0: om1<-om3#0:FAIL-t7
om1_1    | 2021-08-27 18:54:18,671 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 1: om1<-om2#0:FAIL-t7
om1_1    | 2021-08-27 18:54:18,671 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection1 ELECTION round 0: result REJECTED
om1_1    | 2021-08-27 18:54:18,685 [om1@group-D66704EFC61C-LeaderElection1] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
om1_1    | 2021-08-27 18:54:18,685 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-LeaderElection1
om1_1    | 2021-08-27 18:54:18,686 [om1@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-FollowerState
om1_1    | 2021-08-27 18:54:23,757 [om1@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om1@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5070989860ns, electionTimeout:5070ms
om1_1    | 2021-08-27 18:54:23,758 [om1@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-FollowerState
om1_1    | 2021-08-27 18:54:23,758 [om1@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
om1_1    | 2021-08-27 18:54:23,758 [om1@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om1_1    | 2021-08-27 18:54:23,758 [om1@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-LeaderElection2
om1_1    | 2021-08-27 18:54:23,763 [om1@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection2 ELECTION round 0: submit vote requests at term 8 for 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:23,794 [om1@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
om1_1    | 2021-08-27 18:54:23,795 [om1@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection:   Response 0: om1<-om2#0:OK-t8
om1_1    | 2021-08-27 18:54:23,795 [om1@group-D66704EFC61C-LeaderElection2] INFO impl.LeaderElection: om1@group-D66704EFC61C-LeaderElection2 ELECTION round 0: result PASSED
om1_1    | 2021-08-27 18:54:23,795 [om1@group-D66704EFC61C-LeaderElection2] INFO impl.RoleInfo: om1: shutdown om1@group-D66704EFC61C-LeaderElection2
om1_1    | 2021-08-27 18:54:23,795 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServer$Division: om1@group-D66704EFC61C: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
om1_1    | 2021-08-27 18:54:23,795 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServer$Division: om1@group-D66704EFC61C: change Leader from null to om1 at term 8 for becomeLeader, leader elected after 13053ms
om1_1    | 2021-08-27 18:54:23,808 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
om1_1    | 2021-08-27 18:54:23,812 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 4096 (default)
om1_1    | 2021-08-27 18:54:23,813 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 64MB (=67108864) (default)
om1_1    | 2021-08-27 18:54:23,818 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 10s (default)
om1_1    | 2021-08-27 18:54:23,818 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
om1_1    | 2021-08-27 18:54:23,818 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
om1_1    | 2021-08-27 18:54:23,827 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
om1_1    | 2021-08-27 18:54:23,828 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1    | 2021-08-27 18:54:23,828 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1024 (custom)
om1_1    | 2021-08-27 18:54:23,831 [om1@group-D66704EFC61C-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
om1_1    | 2021-08-27 18:54:23,831 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om1_1    | 2021-08-27 18:54:23,831 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1    | 2021-08-27 18:54:23,837 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
om1_1    | 2021-08-27 18:54:23,837 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om1_1    | 2021-08-27 18:54:23,837 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1024 (custom)
om1_1    | 2021-08-27 18:54:23,838 [om1@group-D66704EFC61C-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
om1_1    | 2021-08-27 18:54:23,838 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om1_1    | 2021-08-27 18:54:23,838 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om1_1    | 2021-08-27 18:54:23,842 [om1@group-D66704EFC61C-LeaderElection2] INFO impl.RoleInfo: om1: start om1@group-D66704EFC61C-LeaderStateImpl
om1_1    | 2021-08-27 18:54:23,850 [om1@group-D66704EFC61C-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: Rolling segment log-0_8 to index:8
om1_1    | 2021-08-27 18:54:23,852 [om1@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_0 to /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_0-8
om1_1    | 2021-08-27 18:54:23,862 [om1@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om1@group-D66704EFC61C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_9
om1_1    | 2021-08-27 18:54:23,866 [om1@group-D66704EFC61C-LeaderElection2] INFO server.RaftServer$Division: om1@group-D66704EFC61C: set configuration 9: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om1_1    | 2021-08-27 18:54:24,311 [om1@group-D66704EFC61C-StateMachineUpdater] INFO ratis.OzoneManagerStateMachine: Received Configuration change notification from Ratis. New Peer list:
om1_1    | [id: "om1"
om1_1    | address: "om1:9872"
om1_1    | , id: "om3"
om1_1    | address: "om3:9872"
om1_1    | , id: "om2"
om1_1    | address: "om2:9872"
om1_1    | ]
om1_1    | 2021-08-27 18:54:59,480 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new1-volume for user:hadoop
om1_1    | 2021-08-27 18:55:02,363 [qtp79791382-47] INFO utils.DBCheckpointServlet: Received request to obtain DB checkpoint snapshot
om1_1    | 2021-08-27 18:55:02,380 [qtp79791382-47] INFO db.RDBCheckpointManager: Created checkpoint at /data/metadata/db.checkpoints/om.db_checkpoint_1630090502364 in 15 milliseconds
om1_1    | 2021-08-27 18:55:02,441 [qtp79791382-47] INFO utils.DBCheckpointServlet: Time taken to write the checkpoint to response output stream: 59 milliseconds
om1_1    | 2021-08-27 18:55:02,441 [qtp79791382-47] INFO db.RocksDBCheckpoint: Cleaning up RocksDB checkpoint at /data/metadata/db.checkpoints/om.db_checkpoint_1630090502364
om1_1    | 2021-08-27 18:56:48,943 [OMDoubleBufferFlushThread] INFO upgrade.OMFinalizeUpgradeResponse: Layout version to persist to DB : 0
om1_1    | 2021-08-27 18:57:31,323 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new2-volume for user:hadoop
om3_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
om3_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
om3_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om3_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om3_1    | 2021-08-27 18:53:32,591 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om3_1    | /************************************************************
om3_1    | STARTUP_MSG: Starting OzoneManager
om3_1    | STARTUP_MSG:   host = 0516ccc76a36/10.9.0.13
om3_1    | STARTUP_MSG:   args = [--upgrade]
om3_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn1_1    | 2021-08-27 18:53:55,371 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-08-27 18:53:55,375 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-08-27 18:53:55,391 [main] INFO server.session: DefaultSessionIdManager workerName=node0
dn1_1    | 2021-08-27 18:53:55,401 [main] INFO server.session: No SessionScavenger set, using defaults
dn1_1    | 2021-08-27 18:53:55,401 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-08-27 18:53:55,401 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-08-27 18:53:55,402 [main] INFO server.session: node0 Scavenging every 660000ms
dn1_1    | 2021-08-27 18:53:55,507 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@2e71240b{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn1_1    | 2021-08-27 18:53:55,507 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5df7e31b{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn1_1    | 2021-08-27 18:53:55,683 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84: new RaftServerImpl for group-E600BA9678AA:[] with ContainerStateMachine:uninitialized
dn1_1    | 2021-08-27 18:53:55,688 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-08-27 18:53:55,690 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-08-27 18:53:55,693 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-08-27 18:53:55,693 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:53:55,693 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-08-27 18:53:55,693 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-08-27 18:53:55,693 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:53:55,694 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-08-27 18:53:55,698 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:53:55,699 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-08-27 18:53:55,701 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-08-27 18:53:55,709 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/in_use.lock acquired by nodename 7@cf3242dbbd7c
dn1_1    | 2021-08-27 18:53:55,709 [pool-25-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=d8450bd1-e2fe-47a4-9a69-610877095f84} from /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/current/raft-meta
dn1_1    | 2021-08-27 18:53:55,711 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-E600BA9678AA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-08-27 18:53:55,717 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: set configuration 0: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:53:55,718 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:53:55,719 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-08-27 18:53:55,725 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-08-27 18:53:55,725 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:53:55,725 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:53:55,729 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-08-27 18:53:55,731 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-08-27 18:53:55,731 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa
dn1_1    | 2021-08-27 18:53:55,731 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-08-27 18:53:55,737 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:53:55,741 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:53:55,741 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-08-27 18:53:55,741 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-08-27 18:53:55,741 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-08-27 18:53:55,741 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-08-27 18:53:55,743 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-08-27 18:53:55,743 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-08-27 18:53:55,753 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-08-27 18:53:55,758 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: set configuration 0: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:53:55,765 [pool-25-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/current/log_inprogress_0
dn1_1    | 2021-08-27 18:53:55,779 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
dn1_1    | 2021-08-27 18:53:55,779 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:53:55,783 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-08-27 18:53:55,783 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-08-27 18:53:55,783 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
recon_1  | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
recon_1  | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
recon_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
recon_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
recon_1  | 2021-08-27 18:53:32,115 [main] INFO recon.ReconServer: STARTUP_MSG: 
recon_1  | /************************************************************
recon_1  | STARTUP_MSG: Starting ReconServer
recon_1  | STARTUP_MSG:   host = 191f1f53f109/10.9.0.18
recon_1  | STARTUP_MSG:   args = []
recon_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
recon_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/hk2-utils-2.5.0.jar:/opt/hadoop/share/ozone/lib/jakarta.inject-2.6.1.jar:/opt/hadoop/share/ozone/lib/hk2-locator-2.6.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/aopalliance-1.0.jar:/opt/hadoop/share/ozone/lib/sqlite-jdbc-3.25.2.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/aopalliance-repackaged-2.5.0.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/spring-beans-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/guice-4.0.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/spring-jdbc-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/jakarta.ws.rs-api-2.1.6.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-2.33.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/spring-core-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-core-2.33.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.8.9.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guice-multibindings-4.0.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/bonecp-0.8.0.RELEASE.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/ozone-reconcodegen-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/hk2-api-2.5.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.inject-1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jakarta.validation-api-2.0.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jersey-client-2.33.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jersey-hk2-2.33.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.8.9.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/jersey-media-jaxb-2.33.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-tools-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jooq-3.11.10.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/jakarta.annotation-api-1.3.5.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/jersey-server-2.33.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/osgi-resource-locator-1.0.3.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/derby-10.14.2.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/jooq-codegen-3.11.10.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/jersey-entity-filtering-2.33.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/spring-tx-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/guice-assistedinject-4.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-media-json-jackson-2.33.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jackson-module-jaxb-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/guice-servlet-4.0.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guice-bridge-2.5.0.jar:/opt/hadoop/share/ozone/lib/jooq-meta-3.11.10.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/jakarta.xml.bind-api-2.3.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/spring-jcl-5.2.11.RELEASE.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/jersey-common-2.33.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-recon-1.2.0-SNAPSHOT.jar
recon_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
recon_1  | STARTUP_MSG:   java = 11.0.10
recon_1  | ************************************************************/
recon_1  | 2021-08-27 18:53:32,182 [main] INFO recon.ReconServer: registered UNIX signal handlers for [TERM, HUP, INT]
recon_1  | WARNING: An illegal reflective access operation has occurred
recon_1  | WARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$2 (file:/opt/hadoop/share/ozone/lib/guice-4.0.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)
recon_1  | WARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$2
recon_1  | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
recon_1  | WARNING: All illegal access operations will be denied in a future release
recon_1  | 2021-08-27 18:53:36,165 [main] INFO recon.ReconRestServletModule: rest([/api/v1/*]).packages(org.apache.hadoop.ozone.recon.api)
recon_1  | 2021-08-27 18:53:38,266 [main] INFO recon.ReconServer: Initializing Recon server...
recon_1  | 2021-08-27 18:53:38,818 [main] INFO impl.ReconDBProvider: Last known Recon DB : /data/metadata/recon/recon-container-key.db_1630090334722
recon_1  | 2021-08-27 18:53:40,185 [main] INFO persistence.DefaultDataSourceProvider: JDBC Url for Recon : jdbc:derby:/data/metadata/recon/ozone_recon_derby.db 
recon_1  | 2021-08-27 18:53:44,573 [main] INFO codegen.SqlDbUtils: Created derby database at jdbc:derby:/data/metadata/recon/ozone_recon_derby.db.
recon_1  | 2021-08-27 18:53:47,557 [main] INFO persistence.DefaultDataSourceProvider: JDBC Url for Recon : jdbc:derby:/data/metadata/recon/ozone_recon_derby.db 
recon_1  | 2021-08-27 18:53:47,582 [main] INFO codegen.SqlDbUtils: Created derby database at jdbc:derby:/data/metadata/recon/ozone_recon_derby.db.
recon_1  | 2021-08-27 18:53:47,586 [main] INFO recon.ReconServer: Creating Recon Schema.
recon_1  | 2021-08-27 18:53:50,439 [main] INFO codegen.SqlDbUtils: GLOBAL_STATS table already exists, skipping creation.
recon_1  | 2021-08-27 18:53:50,474 [main] INFO codegen.SqlDbUtils: RECON_TASK_STATUS table already exists, skipping creation.
recon_1  | 2021-08-27 18:53:52,090 [main] INFO codegen.SqlDbUtils: FILE_COUNT_BY_SIZE table already exists, skipping creation.
recon_1  | 2021-08-27 18:53:52,104 [main] INFO codegen.SqlDbUtils: CLUSTER_GROWTH_DAILY table already exists, skipping creation.
recon_1  | 2021-08-27 18:53:52,124 [main] INFO codegen.SqlDbUtils: UNHEALTHY_CONTAINERS table already exists, skipping creation.
recon_1  | 2021-08-27 18:53:52,474 [main] INFO http.BaseHttpServer: Starting Web-server for recon at: http://0.0.0.0:9888
recon_1  | 2021-08-27 18:53:52,596 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
recon_1  | 2021-08-27 18:53:52,661 [main] INFO util.log: Logging initialized @25666ms to org.eclipse.jetty.util.log.Slf4jLog
recon_1  | 2021-08-27 18:53:53,089 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
recon_1  | 2021-08-27 18:53:53,109 [main] WARN http.HttpRequestLog: Jetty request log can only be enabled using Log4j
recon_1  | 2021-08-27 18:53:53,126 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
recon_1  | 2021-08-27 18:53:53,128 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context recon
recon_1  | 2021-08-27 18:53:53,131 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
recon_1  | 2021-08-27 18:53:53,131 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
recon_1  | 2021-08-27 18:53:53,623 [main] INFO tasks.ReconTaskControllerImpl: Registered task ContainerKeyMapperTask with controller.
recon_1  | 2021-08-27 18:53:53,798 [main] INFO tasks.ReconTaskControllerImpl: Registered task FileSizeCountTask with controller.
recon_1  | 2021-08-27 18:53:53,804 [main] INFO tasks.ReconTaskControllerImpl: Registered task TableCountTask with controller.
recon_1  | 2021-08-27 18:53:54,085 [main] INFO tasks.ReconTaskControllerImpl: Registered task NSSummaryTask with controller.
recon_1  | 2021-08-27 18:53:54,179 [main] INFO ozone.OmUtils: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
recon_1  | 2021-08-27 18:53:54,194 [main] INFO ozone.OmUtils: Using OzoneManager ServiceID 'omservice'.
recon_1  | 2021-08-27 18:53:55,710 [main] WARN recon.ReconUtils: ozone.recon.om.db.dir is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
recon_1  | 2021-08-27 18:53:56,225 [main] WARN recon.ReconUtils: ozone.recon.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
recon_1  | 2021-08-27 18:53:56,272 [main] INFO net.NodeSchemaLoader: Loading schema from [file:/etc/hadoop/network-topology-default.xml, jar:file:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
recon_1  | 2021-08-27 18:53:56,274 [main] INFO net.NodeSchemaLoader: Loading network topology layer schema file
recon_1  | 2021-08-27 18:53:56,576 [main] WARN db.DBStoreBuilder: ozone.recon.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
recon_1  | 2021-08-27 18:53:56,914 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = SCM_HA (version = 2), software layout = SCM_HA (version = 2)
recon_1  | 2021-08-27 18:53:57,409 [main] INFO reflections.Reflections: Reflections took 429 ms to scan 3 urls, producing 104 keys and 214 values 
recon_1  | 2021-08-27 18:53:57,596 [main] INFO ha.SequenceIdGenerator: Init the HA SequenceIdGenerator.
recon_1  | 2021-08-27 18:53:57,646 [main] INFO node.SCMNodeManager: Entering startup safe mode.
recon_1  | 2021-08-27 18:53:57,675 [main] INFO scm.ReconNodeManager: Loaded 0 nodes from node DB.
recon_1  | 2021-08-27 18:53:57,682 [main] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
recon_1  | 2021-08-27 18:53:57,765 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
recon_1  | 2021-08-27 18:53:57,855 [Socket Reader #1 for port 9891] INFO ipc.Server: Starting Socket Reader #1 for port 9891
recon_1  | 2021-08-27 18:53:58,018 [Listener at 0.0.0.0/9891] INFO recon.ReconServer: Recon server initialized successfully!
recon_1  | 2021-08-27 18:53:58,018 [Listener at 0.0.0.0/9891] INFO recon.ReconServer: Starting Recon server
recon_1  | 2021-08-27 18:53:58,191 [Listener at 0.0.0.0/9891] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
recon_1  | 2021-08-27 18:53:58,210 [Listener at 0.0.0.0/9891] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
recon_1  | 2021-08-27 18:53:58,211 [Listener at 0.0.0.0/9891] INFO impl.MetricsSystemImpl: Recon metrics system started
recon_1  | 2021-08-27 18:53:58,781 [Listener at 0.0.0.0/9891] INFO http.HttpServer2: Jetty bound to port 9888
recon_1  | 2021-08-27 18:53:58,783 [Listener at 0.0.0.0/9891] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
recon_1  | 2021-08-27 18:53:58,908 [Listener at 0.0.0.0/9891] INFO server.session: DefaultSessionIdManager workerName=node0
recon_1  | 2021-08-27 18:53:58,908 [Listener at 0.0.0.0/9891] INFO server.session: No SessionScavenger set, using defaults
recon_1  | 2021-08-27 18:53:58,918 [Listener at 0.0.0.0/9891] INFO server.session: node0 Scavenging every 600000ms
recon_1  | 2021-08-27 18:53:58,955 [Listener at 0.0.0.0/9891] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5a515e5d{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
recon_1  | 2021-08-27 18:53:58,955 [Listener at 0.0.0.0/9891] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@f557c37{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-recon-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
recon_1  | 2021-08-27 18:54:02,001 [Listener at 0.0.0.0/9891] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@44df834c{recon,/,file:///tmp/jetty-0_0_0_0-9888-ozone-recon-1_2_0-SNAPSHOT_jar-_-any-16369653804147897557/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-recon-1.2.0-SNAPSHOT.jar!/webapps/recon}
recon_1  | 2021-08-27 18:54:02,075 [Listener at 0.0.0.0/9891] INFO server.AbstractConnector: Started ServerConnector@285583d4{HTTP/1.1, (http/1.1)}{0.0.0.0:9888}
recon_1  | 2021-08-27 18:54:02,075 [Listener at 0.0.0.0/9891] INFO server.Server: Started @35101ms
recon_1  | 2021-08-27 18:54:02,113 [Listener at 0.0.0.0/9891] INFO impl.MetricsSinkAdapter: Sink prometheus started
recon_1  | 2021-08-27 18:54:02,114 [Listener at 0.0.0.0/9891] INFO impl.MetricsSystemImpl: Registered sink prometheus
recon_1  | 2021-08-27 18:54:02,115 [Listener at 0.0.0.0/9891] INFO http.BaseHttpServer: HTTP server of recon listening at http://0.0.0.0:9888
recon_1  | 2021-08-27 18:54:02,116 [Listener at 0.0.0.0/9891] INFO impl.OzoneManagerServiceProviderImpl: Starting Ozone Manager Service Provider.
recon_1  | 2021-08-27 18:54:02,121 [Listener at 0.0.0.0/9891] INFO recovery.ReconOmMetadataManagerImpl: Starting ReconOMMetadataManagerImpl
recon_1  | 2021-08-27 18:54:02,153 [Listener at 0.0.0.0/9891] WARN recon.ReconUtils: ozone.recon.om.db.dir is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
recon_1  | 2021-08-27 18:54:02,153 [Listener at 0.0.0.0/9891] INFO tasks.ReconTaskControllerImpl: Starting Recon Task Controller.
recon_1  | 2021-08-27 18:54:02,155 [Listener at 0.0.0.0/9891] INFO scm.ReconStorageContainerManagerFacade: Recon ScmDatanodeProtocol RPC server is listening at /0.0.0.0:9891
recon_1  | 2021-08-27 18:54:03,432 [Listener at 0.0.0.0/9891] INFO scm.ReconStorageContainerManagerFacade: Obtained 4 pipelines from SCM.
recon_1  | 2021-08-27 18:54:03,446 [Listener at 0.0.0.0/9891] INFO scm.ReconPipelineManager: Recon has 1 pipelines in house.
recon_1  | 2021-08-27 18:54:03,450 [Listener at 0.0.0.0/9891] INFO scm.ReconPipelineManager: Adding new pipeline PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa from SCM.
recon_1  | 2021-08-27 18:54:03,528 [Listener at 0.0.0.0/9891] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: e896bedf-6c82-4af8-b07a-e600ba9678aa, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:53:56.351Z[UTC]].
recon_1  | 2021-08-27 18:54:03,579 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 98554.673us
recon_1  | 2021-08-27 18:54:03,593 [Listener at 0.0.0.0/9891] INFO scm.ReconPipelineManager: Adding new pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 from SCM.
dn1_1    | 2021-08-27 18:53:55,783 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-08-27 18:53:55,789 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-08-27 18:53:55,793 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-08-27 18:53:56,112 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@2cfe272f{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-9332150415453260268/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
dn1_1    | 2021-08-27 18:53:56,169 [main] INFO server.AbstractConnector: Started ServerConnector@49c099b{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
dn1_1    | 2021-08-27 18:53:56,170 [main] INFO server.Server: Started @32332ms
dn1_1    | 2021-08-27 18:53:56,185 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn1_1    | 2021-08-27 18:53:56,186 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
dn1_1    | 2021-08-27 18:53:56,188 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
dn1_1    | 2021-08-27 18:53:56,269 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
dn1_1    | 2021-08-27 18:53:56,274 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
dn1_1    | 2021-08-27 18:53:56,274 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Executing first upgrade start action ScmHAFirstUpgradeLayoutChangeAction
dn1_1    | 2021-08-27 18:53:56,274 [Datanode State Machine Thread - 0] INFO upgrade.ScmHAFirstUpgradeLayoutChangeAction: Upgrade Datanode container layout for SCM HA support.
dn1_1    | 2021-08-27 18:53:56,326 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3b5555a3] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn1_1    | 2021-08-27 18:53:59,517 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.9.0.14:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
dn1_1    | 2021-08-27 18:54:02,204 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
dn1_1    | 2021-08-27 18:54:02,220 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
dn1_1    | 2021-08-27 18:54:02,775 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:02,806 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: start as a follower, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:02,808 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: changes role from      null to FOLLOWER at term 1 for startAsFollower
dn1_1    | 2021-08-27 18:54:02,809 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState
dn1_1    | 2021-08-27 18:54:02,809 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: start as a follower, conf=0: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:02,811 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: changes role from      null to FOLLOWER at term 1 for startAsFollower
dn1_1    | 2021-08-27 18:54:02,813 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState
dn1_1    | 2021-08-27 18:54:02,918 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E600BA9678AA,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:02,920 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-75F5A4C05783,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:02,932 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: start RPC server
dn1_1    | 2021-08-27 18:54:02,942 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: d8450bd1-e2fe-47a4-9a69-610877095f84: GrpcService started, listening on 9858
dn1_1    | 2021-08-27 18:54:02,982 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$446/0x00000008404f8840@6a35c488] INFO util.JvmPauseMonitor: JvmPauseMonitor-d8450bd1-e2fe-47a4-9a69-610877095f84: Started
dn1_1    | 2021-08-27 18:54:02,993 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis d8450bd1-e2fe-47a4-9a69-610877095f84 is started using port 9858 for RATIS
dn1_1    | 2021-08-27 18:54:02,993 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis d8450bd1-e2fe-47a4-9a69-610877095f84 is started using port 9858 for RATIS_ADMIN
dn1_1    | 2021-08-27 18:54:02,993 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis d8450bd1-e2fe-47a4-9a69-610877095f84 is started using port 9858 for RATIS_SERVER
dn1_1    | 2021-08-27 18:54:07,374 [Command processor thread] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: addNew group-12272AAD7695:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] returns group-12272AAD7695:java.util.concurrent.CompletableFuture@3ef1db3f[Not completed]
dn1_1    | 2021-08-27 18:54:07,376 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84: new RaftServerImpl for group-12272AAD7695:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] with ContainerStateMachine:uninitialized
dn1_1    | 2021-08-27 18:54:07,376 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-08-27 18:54:07,376 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-08-27 18:54:07,376 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-08-27 18:54:07,376 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:54:07,376 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
dn3_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
dn3_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
dn3_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
dn3_1    | 2021-08-27 18:53:32,154 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
dn3_1    | /************************************************************
dn3_1    | STARTUP_MSG: Starting HddsDatanodeService
dn3_1    | STARTUP_MSG:   host = b287440b3c5a/10.9.0.17
dn3_1    | STARTUP_MSG:   args = []
dn3_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
recon_1  | 2021-08-27 18:54:03,606 [Listener at 0.0.0.0/9891] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: a398198e-adb7-4662-b093-75f5a4c05783, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:53:56.350Z[UTC]].
recon_1  | 2021-08-27 18:54:03,609 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 3983.204us
recon_1  | 2021-08-27 18:54:03,613 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 449.111us
recon_1  | 2021-08-27 18:54:03,616 [Listener at 0.0.0.0/9891] INFO scm.ReconPipelineManager: Adding new pipeline PipelineID=aad3795e-c1bc-4b32-9226-179e0ea45da6 from SCM.
recon_1  | 2021-08-27 18:54:03,621 [Listener at 0.0.0.0/9891] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: aad3795e-c1bc-4b32-9226-179e0ea45da6, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:53:56.351Z[UTC]].
recon_1  | 2021-08-27 18:54:03,637 [Listener at 0.0.0.0/9891] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 15976.917us
recon_1  | 2021-08-27 18:54:03,639 [Listener at 0.0.0.0/9891] INFO server.SCMDatanodeProtocolServer: RPC server for DataNodes is listening at /0.0.0.0:9891
recon_1  | 2021-08-27 18:54:03,665 [IPC Server listener on 9891] INFO ipc.Server: IPC Server listener on 9891: starting
recon_1  | 2021-08-27 18:54:03,652 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
recon_1  | 2021-08-27 18:54:04,216 [Listener at 0.0.0.0/9891] INFO scm.ReconScmTask: Starting ContainerHealthTask Thread.
recon_1  | 2021-08-27 18:54:04,398 [Listener at 0.0.0.0/9891] INFO scm.ReconScmTask: Starting PipelineSyncTask Thread.
recon_1  | 2021-08-27 18:54:04,492 [PipelineSyncTask] INFO scm.ReconPipelineManager: Recon has 4 pipelines in house.
recon_1  | 2021-08-27 18:54:04,586 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 33280.468us
recon_1  | 2021-08-27 18:54:04,588 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 403.011us
recon_1  | 2021-08-27 18:54:04,593 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 968.925us
recon_1  | 2021-08-27 18:54:04,594 [PipelineSyncTask] INFO ha.SCMHAInvocationHandler: Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.MockSCMHAManager$MockRatisServer@13bf5fd, cost 291.608us
recon_1  | 2021-08-27 18:54:04,597 [PipelineSyncTask] INFO scm.PipelineSyncTask: Pipeline sync Thread took 150 milliseconds.
recon_1  | 2021-08-27 18:54:04,812 [ContainerHealthTask] INFO fsck.ContainerHealthTask: Container Health task thread took 426 milliseconds to process 0 existing database records.
recon_1  | 2021-08-27 18:54:04,897 [ContainerHealthTask] INFO fsck.ContainerHealthTask: Container Health task thread took 80 milliseconds for processing 0 containers.
recon_1  | 2021-08-27 18:55:02,155 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Syncing data from Ozone Manager.
recon_1  | 2021-08-27 18:55:02,155 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Obtaining full snapshot from Ozone Manager
recon_1  | 2021-08-27 18:55:02,483 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Got new checkpoint from OM : /data/metadata/om.snapshot.db_1630090502155
recon_1  | 2021-08-27 18:55:02,486 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:55:02,488 [pool-16-thread-1] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:55:02,529 [pool-16-thread-1] INFO recovery.ReconOmMetadataManagerImpl: Created OM DB handle from snapshot at /data/metadata/om.snapshot.db_1630090502155.
recon_1  | 2021-08-27 18:55:02,568 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Calling reprocess on Recon tasks.
recon_1  | 2021-08-27 18:55:02,572 [pool-17-thread-1] INFO tasks.NSSummaryTask: Completed a reprocess run of NSSummaryTask
recon_1  | 2021-08-27 18:55:02,773 [pool-17-thread-1] INFO tasks.TableCountTask: Completed a 'reprocess' run of TableCountTask.
recon_1  | 2021-08-27 18:55:02,773 [pool-17-thread-1] INFO tasks.ContainerKeyMapperTask: Starting a 'reprocess' run of ContainerKeyMapperTask.
recon_1  | 2021-08-27 18:55:02,919 [pool-17-thread-1] INFO tasks.ContainerKeyMapperTask: Completed 'reprocess' of ContainerKeyMapperTask.
recon_1  | 2021-08-27 18:55:02,920 [pool-17-thread-1] INFO tasks.ContainerKeyMapperTask: It took me 0.146 seconds to process 1 keys.
recon_1  | 2021-08-27 18:55:02,956 [pool-17-thread-1] INFO tasks.FileSizeCountTask: Deleted 0 records from "FILE_COUNT_BY_SIZE"
recon_1  | 2021-08-27 18:55:02,973 [pool-17-thread-1] INFO tasks.FileSizeCountTask: Completed a 'reprocess' run of FileSizeCountTask.
recon_1  | 2021-08-27 18:56:02,993 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Syncing data from Ozone Manager.
recon_1  | 2021-08-27 18:56:02,995 [pool-16-thread-1] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:56:02,995 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:56:02,995 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:56:02,995 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:56:02,995 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
dn2_1    | 2021-08-27 18:54:06,362 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:54:06,366 [Command processor thread] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: addNew group-12272AAD7695:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] returns group-12272AAD7695:java.util.concurrent.CompletableFuture@591fd29f[Not completed]
dn2_1    | 2021-08-27 18:54:06,366 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-08-27 18:54:06,379 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-08-27 18:54:06,379 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695 does not exist. Creating ...
dn2_1    | 2021-08-27 18:54:06,389 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/in_use.lock acquired by nodename 7@597ab2b886bc
dn2_1    | 2021-08-27 18:54:06,405 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695 has been successfully formatted.
dn2_1    | 2021-08-27 18:54:06,406 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-12272AAD7695: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-08-27 18:54:06,407 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:54:06,443 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:54:06,446 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-08-27 18:54:06,459 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-08-27 18:54:06,460 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:54:06,460 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:54:06,482 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-08-27 18:54:06,490 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-08-27 18:54:06,497 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695
dn2_1    | 2021-08-27 18:54:06,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-08-27 18:54:06,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:54:06,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:54:06,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-08-27 18:54:06,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-08-27 18:54:06,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-08-27 18:54:06,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-08-27 18:54:06,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-08-27 18:54:06,504 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-08-27 18:54:06,504 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-08-27 18:54:06,505 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:54:06,509 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:54:06,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 2021-08-27 18:54:06,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:54:06,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-08-27 18:54:06,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 2021-08-27 18:54:06,511 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-08-27 18:54:06,511 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 2021-08-27 18:54:06,512 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn2_1    | 2021-08-27 18:54:06,512 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 2021-08-27 18:54:06,512 [pool-25-thread-1] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState
dn2_1    | 2021-08-27 18:54:06,513 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12272AAD7695,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:54:06,514 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695
dn2_1    | 2021-08-27 18:54:07,855 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5131819801ns, electionTimeout:5060ms
dn2_1    | 2021-08-27 18:54:07,863 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState
dn2_1    | 2021-08-27 18:54:07,863 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn2_1    | 2021-08-27 18:54:07,881 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
dn3_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
dn3_1    | STARTUP_MSG:   java = 11.0.10
dn3_1    | ************************************************************/
dn3_1    | 2021-08-27 18:53:32,195 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
dn3_1    | 2021-08-27 18:53:34,253 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
dn3_1    | 2021-08-27 18:53:34,847 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
dn3_1    | 2021-08-27 18:53:35,889 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
dn3_1    | 2021-08-27 18:53:35,890 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
dn3_1    | 2021-08-27 18:53:37,132 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:b287440b3c5a ip:10.9.0.17
dn3_1    | 2021-08-27 18:53:38,583 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
dn3_1    | 2021-08-27 18:53:39,827 [main] INFO reflections.Reflections: Reflections took 982 ms to scan 2 urls, producing 85 keys and 170 values 
dn3_1    | 2021-08-27 18:53:40,165 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFirstUpgradeLayoutChangeAction
dn3_1    | 2021-08-27 18:53:40,188 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
dn3_1    | 2021-08-27 18:53:41,492 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-08-27T18:53:18.316Z
dn3_1    | 2021-08-27 18:53:41,578 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
dn3_1    | 2021-08-27 18:53:41,604 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
dn3_1    | 2021-08-27 18:53:41,605 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
dn3_1    | 2021-08-27 18:53:41,804 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
dn3_1    | 2021-08-27 18:53:41,995 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn3_1    | 2021-08-27 18:53:42,015 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
dn3_1    | 2021-08-27 18:53:42,037 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
dn3_1    | 2021-08-27 18:53:42,038 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/metadata/ratis
dn3_1    | 2021-08-27 18:53:42,041 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/metadata/ratis
dn3_1    | 2021-08-27 18:53:42,211 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
dn3_1    | 2021-08-27 18:53:42,243 [Thread-4] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
dn3_1    | 2021-08-27 18:53:42,245 [Thread-4] INFO ozoneimpl.ContainerReader: Storage dir based on clusterId doesn't exist.Renaming storage location:/data/hdds/hdds/17725e10-b5a4-4e3a-aa4f-6a96e545172a to /data/hdds/hdds/CID-df875335-c3d4-431d-8339-4be7293ceb2f
dn3_1    | 2021-08-27 18:53:42,940 [Thread-4] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
dn3_1    | 2021-08-27 18:53:42,941 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
dn3_1    | 2021-08-27 18:53:50,913 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
dn3_1    | 2021-08-27 18:53:51,161 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
dn3_1    | 2021-08-27 18:53:51,810 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9858 (custom)
dn3_1    | 2021-08-27 18:53:51,825 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
dn3_1    | 2021-08-27 18:53:51,832 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9858 (custom)
dn3_1    | 2021-08-27 18:53:51,846 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
dn3_1    | 2021-08-27 18:53:51,847 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:53:51,856 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
dn3_1    | 2021-08-27 18:53:51,860 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-08-27 18:53:53,375 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
dn3_1    | 2021-08-27 18:53:53,384 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:53:53,384 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:53:53,406 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:53:53,417 [main] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: found a subdirectory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn3_1    | 2021-08-27 18:53:53,436 [main] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: addNew group-75F5A4C05783:[] returns group-75F5A4C05783:java.util.concurrent.CompletableFuture@2fd72332[Not completed]
dn3_1    | 2021-08-27 18:53:53,445 [main] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: found a subdirectory /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e
dn3_1    | 2021-08-27 18:53:53,445 [main] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: addNew group-E914F9C2A23E:[] returns group-E914F9C2A23E:java.util.concurrent.CompletableFuture@51f18e31[Not completed]
dn3_1    | 2021-08-27 18:53:53,652 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f: new RaftServerImpl for group-75F5A4C05783:[] with ContainerStateMachine:uninitialized
dn3_1    | 2021-08-27 18:53:53,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-08-27 18:53:53,702 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-08-27 18:53:53,705 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-08-27 18:53:53,708 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:54:07,377 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-08-27 18:54:07,377 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:54:07,377 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-08-27 18:54:07,377 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:54:07,378 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-08-27 18:54:07,395 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-08-27 18:54:07,396 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695 does not exist. Creating ...
dn1_1    | 2021-08-27 18:54:07,426 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/in_use.lock acquired by nodename 7@cf3242dbbd7c
dn1_1    | 2021-08-27 18:54:07,454 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695 has been successfully formatted.
dn1_1    | 2021-08-27 18:54:07,454 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-12272AAD7695: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-08-27 18:54:07,455 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:54:07,456 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-08-27 18:54:07,456 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-08-27 18:54:07,457 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:54:07,461 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:54:07,461 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-08-27 18:54:07,464 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-08-27 18:54:07,464 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695
dn1_1    | 2021-08-27 18:54:07,467 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-08-27 18:54:07,467 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:54:07,467 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:54:07,467 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-08-27 18:54:07,467 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-08-27 18:54:07,467 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-08-27 18:54:07,473 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-08-27 18:54:07,473 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-08-27 18:54:07,474 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-08-27 18:54:07,488 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-08-27 18:54:07,490 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:54:07,490 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:54:07,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-08-27 18:54:07,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-08-27 18:54:07,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-08-27 18:54:07,502 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-08-27 18:54:07,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-08-27 18:54:07,503 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-08-27 18:54:07,505 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:54:07,508 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn1_1    | 2021-08-27 18:54:07,508 [pool-25-thread-1] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState
dn1_1    | 2021-08-27 18:54:07,533 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12272AAD7695,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:07,542 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695
dn1_1    | 2021-08-27 18:54:07,866 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5057498658ns, electionTimeout:5016ms
dn1_1    | 2021-08-27 18:54:07,871 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState
dn1_1    | 2021-08-27 18:54:07,873 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn1_1    | 2021-08-27 18:54:07,876 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
recon_1  | 2021-08-27 18:56:02,995 [pool-16-thread-1] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
recon_1  | 2021-08-27 18:56:02,996 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Obtaining delta updates from Ozone Manager
recon_1  | 2021-08-27 18:56:03,006 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Number of updates received from OM : 2
recon_1  | 2021-08-27 18:56:03,018 [pool-17-thread-1] INFO tasks.NSSummaryTask: Completed a process run of NSSummaryTask
recon_1  | 2021-08-27 18:56:03,098 [pool-17-thread-1] INFO tasks.TableCountTask: Completed a 'process' run of TableCountTask.
recon_1  | 2021-08-27 18:56:03,104 [pool-17-thread-1] INFO tasks.ContainerKeyMapperTask: ContainerKeyMapperTask successfully processed 1 OM DB update event(s).
recon_1  | 2021-08-27 18:56:03,115 [pool-17-thread-1] INFO tasks.FileSizeCountTask: Completed a 'process' run of FileSizeCountTask.
recon_1  | 2021-08-27 18:57:03,121 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Syncing data from Ozone Manager.
recon_1  | 2021-08-27 18:57:03,122 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Obtaining delta updates from Ozone Manager
recon_1  | 2021-08-27 18:57:03,132 [pool-16-thread-1] INFO impl.OzoneManagerServiceProviderImpl: Number of updates received from OM : 1
recon_1  | 2021-08-27 18:57:03,135 [pool-17-thread-1] INFO tasks.NSSummaryTask: Completed a process run of NSSummaryTask
recon_1  | 2021-08-27 18:57:03,308 [pool-17-thread-1] INFO tasks.TableCountTask: Completed a 'process' run of TableCountTask.
recon_1  | 2021-08-27 18:57:03,309 [pool-17-thread-1] INFO tasks.ContainerKeyMapperTask: ContainerKeyMapperTask successfully processed 0 OM DB update event(s).
recon_1  | 2021-08-27 18:57:03,309 [pool-17-thread-1] INFO tasks.FileSizeCountTask: Completed a 'process' run of FileSizeCountTask.
dn2_1    | 2021-08-27 18:54:07,882 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1
dn2_1    | 2021-08-27 18:54:07,905 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5140113413ns, electionTimeout:5011ms
dn2_1    | 2021-08-27 18:54:07,955 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState
dn2_1    | 2021-08-27 18:54:07,955 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn2_1    | 2021-08-27 18:54:07,956 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-08-27 18:54:07,956 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2
dn2_1    | 2021-08-27 18:54:07,986 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for 0: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:07,986 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2 ELECTION round 0: submit vote requests at term 2 for 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:08,010 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1 ELECTION round 0: result PASSED (term=2)
dn2_1    | 2021-08-27 18:54:08,015 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1
dn2_1    | 2021-08-27 18:54:08,051 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
dn2_1    | 2021-08-27 18:54:08,059 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-179E0EA45DA6 with new leaderId: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:54:08,148 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: change Leader from null to b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at term 2 for becomeLeader, leader elected after 13421ms
dn2_1    | 2021-08-27 18:54:08,251 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn2_1    | 2021-08-27 18:54:08,324 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:54:08,335 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 2021-08-27 18:54:08,368 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-08-27 18:54:08,371 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-08-27 18:54:08,391 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-08-27 18:54:08,510 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderStateImpl
dn2_1    | 2021-08-27 18:54:08,641 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
dn2_1    | 2021-08-27 18:54:08,690 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/current/log_inprogress_0 to /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/current/log_0-0
dn2_1    | 2021-08-27 18:54:08,793 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderElection1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: set configuration 1: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:08,829 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/current/log_inprogress_1
dn2_1    | 2021-08-27 18:54:09,584 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: receive requestVote(ELECTION, eef38474-ab6c-4605-b4ff-f16dc7b7310f, group-75F5A4C05783, 2, (t:1, i:4))
dn2_1    | 2021-08-27 18:54:09,585 [grpc-default-executor-2] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-CANDIDATE: reject ELECTION from eef38474-ab6c-4605-b4ff-f16dc7b7310f: already has voted for b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at current term 2
dn2_1    | 2021-08-27 18:54:09,639 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783 replies to ELECTION vote request: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t2. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783:t2, leader=null, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:10,084 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-75F5A4C05783, 2, (t:1, i:4))
dn1_1    | 2021-08-27 18:54:07,886 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1
dn1_1    | 2021-08-27 18:54:07,952 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:07,953 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5139991206ns, electionTimeout:5065ms
dn1_1    | 2021-08-27 18:54:07,962 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState
dn1_1    | 2021-08-27 18:54:07,964 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn1_1    | 2021-08-27 18:54:07,964 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-08-27 18:54:07,965 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2
dn1_1    | 2021-08-27 18:54:08,009 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2 ELECTION round 0: submit vote requests at term 2 for 0: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:08,011 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2 ELECTION round 0: result PASSED (term=2)
dn1_1    | 2021-08-27 18:54:08,025 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2
dn1_1    | 2021-08-27 18:54:08,029 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
dn1_1    | 2021-08-27 18:54:08,032 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E600BA9678AA with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:08,035 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 2 for becomeLeader, leader elected after 12313ms
dn1_1    | 2021-08-27 18:54:08,035 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:54:08,111 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn1_1    | 2021-08-27 18:54:08,135 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:54:08,302 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn1_1    | 2021-08-27 18:54:08,368 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn1_1    | 2021-08-27 18:54:08,385 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn1_1    | 2021-08-27 18:54:08,386 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn1_1    | 2021-08-27 18:54:08,416 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderStateImpl
dn1_1    | 2021-08-27 18:54:08,461 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
dn1_1    | 2021-08-27 18:54:08,547 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderElection2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: set configuration 1: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:08,566 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/current/log_inprogress_0 to /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/current/log_0-0
dn1_1    | 2021-08-27 18:54:08,648 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/current/log_inprogress_1
dn1_1    | 2021-08-27 18:54:09,888 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-75F5A4C05783, 2, (t:1, i:4))
dn1_1    | 2021-08-27 18:54:09,889 [grpc-default-executor-2] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-CANDIDATE: reject ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: already has voted for d8450bd1-e2fe-47a4-9a69-610877095f84 at current term 2
dn1_1    | 2021-08-27 18:54:09,907 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783 replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t2. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783:t2, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
om3_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/aspectjweaver-1.8.9.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/aspectjrt-1.8.9.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
om3_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
om3_1    | STARTUP_MSG:   java = 11.0.10
om3_1    | ************************************************************/
om3_1    | 2021-08-27 18:53:32,667 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
om3_1    | 2021-08-27 18:53:42,819 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
om3_1    | 2021-08-27 18:53:43,189 [main] INFO ha.OMHANodeDetails: Found matching OM address with OMServiceId: omservice, OMNodeId: om3, RPC Address: om3:9862 and Ratis port: 9872
om3_1    | 2021-08-27 18:53:43,189 [main] INFO ha.OMHANodeDetails: Setting configuration key ozone.om.address with value of key ozone.om.address.omservice.om3: om3
om3_1    | 2021-08-27 18:53:43,195 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om3_1    | 2021-08-27 18:53:43,345 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = INITIAL_VERSION (version = 0)
om3_1    | 2021-08-27 18:53:44,993 [main] INFO reflections.Reflections: Reflections took 1389 ms to scan 1 urls, producing 95 keys and 258 values [using 2 cores]
om3_1    | 2021-08-27 18:53:45,140 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om3_1    | 2021-08-27 18:53:49,825 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 0516ccc76a36/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
om3_1    | 2021-08-27 18:53:51,827 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 0516ccc76a36/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
om3_1    | 2021-08-27 18:53:53,830 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 0516ccc76a36/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
om3_1    | 2021-08-27 18:53:55,832 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 0516ccc76a36/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
om3_1    | 2021-08-27 18:53:57,834 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From 0516ccc76a36/10.9.0.13 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.9.0.14:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
om3_1    | 2021-08-27 18:54:04,934 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
om3_1    | 2021-08-27 18:54:05,492 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
om3_1    | 2021-08-27 18:54:05,492 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
om3_1    | 2021-08-27 18:54:06,062 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om3_1    | 2021-08-27 18:54:06,063 [main] WARN utils.OzoneManagerRatisUtils: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
om3_1    | 2021-08-27 18:54:06,116 [main] INFO snapshot.OzoneManagerSnapshotProvider: Initializing OM Snapshot Provider
om3_1    | 2021-08-27 18:54:07,130 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om3_1    | 2021-08-27 18:54:07,221 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om3_1    | 2021-08-27 18:54:07,534 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with groupID: omservice and peers: om3:9872, om1:9872, om2:9872
om3_1    | 2021-08-27 18:54:07,611 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:6, i:7)
om3_1    | 2021-08-27 18:54:07,791 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
om3_1    | 2021-08-27 18:54:08,173 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
om3_1    | 2021-08-27 18:54:08,183 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om3_1    | 2021-08-27 18:54:08,185 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
om3_1    | 2021-08-27 18:54:08,189 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om3_1    | 2021-08-27 18:54:08,189 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
om3_1    | 2021-08-27 18:54:08,189 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
om3_1    | 2021-08-27 18:54:08,198 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om3_1    | 2021-08-27 18:54:08,210 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
om3_1    | 2021-08-27 18:54:08,218 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
om3_1    | 2021-08-27 18:54:09,647 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
om3_1    | 2021-08-27 18:54:09,671 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om3_1    | 2021-08-27 18:54:09,674 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om3_1    | 2021-08-27 18:54:09,756 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om3_1    | 2021-08-27 18:54:09,788 [main] INFO server.RaftServer: om3: found a subdirectory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om3_1    | 2021-08-27 18:54:09,827 [main] INFO server.RaftServer: om3: addNew group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] returns group-D66704EFC61C:java.util.concurrent.CompletableFuture@7f4596d0[Not completed]
om3_1    | 2021-08-27 18:54:09,835 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
om3_1    | 2021-08-27 18:54:09,990 [pool-23-thread-1] INFO server.RaftServer$Division: om3: new RaftServerImpl for group-D66704EFC61C:[om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0] with OzoneManagerStateMachine:uninitialized
om3_1    | 2021-08-27 18:54:10,017 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
om3_1    | 2021-08-27 18:54:10,012 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
om3_1    | 2021-08-27 18:54:10,021 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
om3_1    | 2021-08-27 18:54:10,021 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
om3_1    | 2021-08-27 18:54:10,022 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
om3_1    | 2021-08-27 18:54:10,022 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
om3_1    | 2021-08-27 18:54:10,022 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
om3_1    | 2021-08-27 18:54:10,023 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
om3_1    | 2021-08-27 18:54:10,058 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: ConfigurationManager, init=-1: [om1|rpc:om1:9872|priority:0, om3|rpc:om3:9872|priority:0, om2|rpc:om2:9872|priority:0], old=null, confs=<EMPTY_MAP>
om3_1    | 2021-08-27 18:54:10,061 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om3_1    | 2021-08-27 18:54:10,063 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om3_1    | 2021-08-27 18:54:10,090 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
om3_1    | 2021-08-27 18:54:10,133 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
om3_1    | 2021-08-27 18:54:10,146 [pool-23-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/in_use.lock acquired by nodename 7@0516ccc76a36
om3_1    | 2021-08-27 18:54:10,238 [pool-23-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=6, votedFor=om2} from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/raft-meta
om3_1    | 2021-08-27 18:54:10,479 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:10,509 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
om3_1    | 2021-08-27 18:54:10,512 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om3_1    | 2021-08-27 18:54:10,533 [Listener at om3/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
om3_1    | 2021-08-27 18:54:10,608 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om3_1    | 2021-08-27 18:54:10,629 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om3_1    | 2021-08-27 18:54:10,751 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om3_1    | 2021-08-27 18:54:10,815 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
om3_1    | 2021-08-27 18:54:10,816 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
om3_1    | 2021-08-27 18:54:10,850 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: new om3@group-D66704EFC61C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c
om3_1    | 2021-08-27 18:54:10,877 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
om3_1    | 2021-08-27 18:54:10,877 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
om3_1    | 2021-08-27 18:54:10,879 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
om3_1    | 2021-08-27 18:54:10,888 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
om3_1    | 2021-08-27 18:54:10,909 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om3_1    | 2021-08-27 18:54:10,910 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om3_1    | 2021-08-27 18:54:10,918 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om3_1    | 2021-08-27 18:54:10,919 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om3_1    | 2021-08-27 18:54:10,956 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
om3_1    | 2021-08-27 18:54:10,993 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
om3_1    | 2021-08-27 18:54:11,179 [Listener at om3/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
om3_1    | 2021-08-27 18:54:11,185 [pool-23-thread-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:11,242 [Listener at om3/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om3_1    | 2021-08-27 18:54:11,242 [Listener at om3/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
om3_1    | 2021-08-27 18:54:11,679 [Listener at om3/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om3/10.9.0.13:9862
om3_1    | 2021-08-27 18:54:11,680 [Listener at om3/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om3 at port 9872
om3_1    | 2021-08-27 18:54:11,733 [pool-23-thread-1] INFO segmented.LogSegment: Successfully read 9 entries from segment file /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_0
om3_1    | 2021-08-27 18:54:11,790 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 8
om3_1    | 2021-08-27 18:54:11,795 [pool-23-thread-1] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:54:10,100 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: receive requestVote(ELECTION, eef38474-ab6c-4605-b4ff-f16dc7b7310f, group-75F5A4C05783, 2, (t:1, i:4))
dn1_1    | 2021-08-27 18:54:10,116 [grpc-default-executor-2] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-CANDIDATE: reject ELECTION from eef38474-ab6c-4605-b4ff-f16dc7b7310f: already has voted for d8450bd1-e2fe-47a4-9a69-610877095f84 at current term 2
dn1_1    | 2021-08-27 18:54:10,121 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783 replies to ELECTION vote request: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t2. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783:t2, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:10,206 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
dn1_1    | 2021-08-27 18:54:10,221 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.LeaderElection:   Response 0: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2
dn1_1    | 2021-08-27 18:54:10,222 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.LeaderElection:   Response 1: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t2
dn1_1    | 2021-08-27 18:54:10,222 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1 ELECTION round 0: result REJECTED
dn1_1    | 2021-08-27 18:54:10,223 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
dn1_1    | 2021-08-27 18:54:10,223 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1
dn1_1    | 2021-08-27 18:54:10,223 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection1] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState
dn1_1    | 2021-08-27 18:54:10,680 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695.
dn1_1    | 2021-08-27 18:54:11,512 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: receive requestVote(ELECTION, eef38474-ab6c-4605-b4ff-f16dc7b7310f, group-12272AAD7695, 1, (t:0, i:0))
dn1_1    | 2021-08-27 18:54:11,512 [grpc-default-executor-2] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FOLLOWER: reject ELECTION from eef38474-ab6c-4605-b4ff-f16dc7b7310f: our priority 1 > candidate's priority 0
dn1_1    | 2021-08-27 18:54:11,512 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn1_1    | 2021-08-27 18:54:11,512 [grpc-default-executor-2] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState
dn1_1    | 2021-08-27 18:54:11,512 [grpc-default-executor-2] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState
dn1_1    | 2021-08-27 18:54:11,514 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState was interrupted: {}
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn1_1    | 2021-08-27 18:54:11,516 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695 replies to ELECTION vote request: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t1. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695:t1, leader=null, voted=null, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:54:15,243 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5019556242ns, electionTimeout:5013ms
dn1_1    | 2021-08-27 18:54:15,243 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState
dn1_1    | 2021-08-27 18:54:15,243 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
dn1_1    | 2021-08-27 18:54:15,244 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-08-27 18:54:15,244 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3
dn1_1    | 2021-08-27 18:54:15,246 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3 ELECTION round 0: submit vote requests at term 3 for 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:15,248 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-75F5A4C05783, 3, (t:1, i:4))
dn1_1    | 2021-08-27 18:54:15,248 [grpc-default-executor-2] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-CANDIDATE: reject ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: already has voted for d8450bd1-e2fe-47a4-9a69-610877095f84 at current term 3
dn3_1    | 2021-08-27 18:53:53,715 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:53:53,716 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-08-27 18:53:53,732 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:53:53,887 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-08-27 18:53:53,893 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:53:53,924 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-08-27 18:53:53,926 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-08-27 18:53:54,050 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/in_use.lock acquired by nodename 7@b287440b3c5a
dn3_1    | 2021-08-27 18:53:54,094 [pool-25-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=eef38474-ab6c-4605-b4ff-f16dc7b7310f} from /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/raft-meta
dn3_1    | 2021-08-27 18:53:54,249 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-75F5A4C05783: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-08-27 18:53:54,355 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
dn3_1    | 2021-08-27 18:53:54,511 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
dn3_1    | 2021-08-27 18:53:54,549 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:53:54,553 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:53:54,595 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-08-27 18:53:54,638 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-08-27 18:53:54,639 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:53:54,761 [main] INFO util.log: Logging initialized @29783ms to org.eclipse.jetty.util.log.Slf4jLog
dn3_1    | 2021-08-27 18:53:54,784 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:53:54,944 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-08-27 18:53:54,952 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-08-27 18:53:54,974 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn3_1    | 2021-08-27 18:53:54,989 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-08-27 18:53:54,992 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:53:54,996 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:53:55,009 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-08-27 18:53:55,010 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-08-27 18:53:55,013 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-08-27 18:53:55,021 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-08-27 18:53:55,033 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:53:55,112 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-08-27 18:53:55,115 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-08-27 18:53:55,346 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:53:55,374 [pool-25-thread-1] INFO segmented.LogSegment: Successfully read 5 entries from segment file /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_0
dn3_1    | 2021-08-27 18:53:55,440 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 4
dn3_1    | 2021-08-27 18:53:55,446 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:53:55,577 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
dn3_1    | 2021-08-27 18:53:55,652 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
dn3_1    | 2021-08-27 18:53:55,665 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
dn3_1    | 2021-08-27 18:53:55,671 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
dn3_1    | 2021-08-27 18:53:55,683 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
dn3_1    | 2021-08-27 18:53:55,683 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
dn3_1    | 2021-08-27 18:53:55,937 [main] INFO http.HttpServer2: Jetty bound to port 9882
dn3_1    | 2021-08-27 18:53:55,941 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
dn3_1    | 2021-08-27 18:53:56,048 [pool-25-thread-1] INFO raftlog.RaftLog: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=2, updated? true
dn3_1    | 2021-08-27 18:53:56,163 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om3_1    | 2021-08-27 18:54:12,170 [pool-23-thread-1] INFO raftlog.RaftLog: om3@group-D66704EFC61C-SegmentedRaftLog: commitIndex: updateToMax old=7, new=7, updated? false
om3_1    | 2021-08-27 18:54:12,187 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om3_1    | 2021-08-27 18:54:12,189 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
om3_1    | 2021-08-27 18:54:12,190 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
om3_1    | 2021-08-27 18:54:12,199 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
om3_1    | 2021-08-27 18:54:12,220 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
om3_1    | 2021-08-27 18:54:12,221 [pool-23-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om3_1    | 2021-08-27 18:54:12,405 [Listener at om3/9862] INFO server.RaftServer$Division: om3@group-D66704EFC61C: start as a follower, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:12,412 [Listener at om3/9862] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from      null to FOLLOWER at term 6 for startAsFollower
om3_1    | 2021-08-27 18:54:12,413 [Listener at om3/9862] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-FollowerState
om3_1    | 2021-08-27 18:54:12,423 [Listener at om3/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D66704EFC61C,id=om3
om3_1    | 2021-08-27 18:54:12,447 [Listener at om3/9862] INFO server.RaftServer: om3: start RPC server
om3_1    | 2021-08-27 18:54:12,628 [Listener at om3/9862] INFO server.GrpcService: om3: GrpcService started, listening on 9872
om3_1    | 2021-08-27 18:54:12,645 [Listener at om3/9862] INFO om.OzoneManager: Version File has different layout version (0) than OM DB (null). That is expected if this OM has never been finalized to a newer layout version.
om3_1    | 2021-08-27 18:54:12,656 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$394/0x000000084052f040@44d7e24] INFO util.JvmPauseMonitor: JvmPauseMonitor-om3: Started
om3_1    | 2021-08-27 18:54:12,796 [Listener at om3/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
om3_1    | 2021-08-27 18:54:12,797 [Listener at om3/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om3_1    | 2021-08-27 18:54:12,915 [Listener at om3/9862] INFO util.log: Logging initialized @47759ms to org.eclipse.jetty.util.log.Slf4jLog
om3_1    | 2021-08-27 18:54:13,396 [Listener at om3/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
om3_1    | 2021-08-27 18:54:13,407 [Listener at om3/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
om3_1    | 2021-08-27 18:54:13,416 [Listener at om3/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om3_1    | 2021-08-27 18:54:13,425 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
om3_1    | 2021-08-27 18:54:13,428 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om3_1    | 2021-08-27 18:54:13,428 [Listener at om3/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om3_1    | 2021-08-27 18:54:13,530 [Listener at om3/9862] INFO http.HttpServer2: Jetty bound to port 9874
om3_1    | 2021-08-27 18:54:13,534 [Listener at om3/9862] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
om3_1    | 2021-08-27 18:54:13,703 [Listener at om3/9862] INFO server.session: DefaultSessionIdManager workerName=node0
om3_1    | 2021-08-27 18:54:13,703 [Listener at om3/9862] INFO server.session: No SessionScavenger set, using defaults
om3_1    | 2021-08-27 18:54:13,713 [Listener at om3/9862] INFO server.session: node0 Scavenging every 600000ms
om3_1    | 2021-08-27 18:54:13,754 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@34c76167{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
om3_1    | 2021-08-27 18:54:13,759 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@71531dd7{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
om3_1    | 2021-08-27 18:54:14,072 [Listener at om3/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@5c82031b{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-17845889731584449300/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
om3_1    | 2021-08-27 18:54:14,176 [Listener at om3/9862] INFO server.AbstractConnector: Started ServerConnector@154b8cb6{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
om3_1    | 2021-08-27 18:54:14,177 [Listener at om3/9862] INFO server.Server: Started @49021ms
om3_1    | 2021-08-27 18:54:14,194 [Listener at om3/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
om3_1    | 2021-08-27 18:54:14,194 [Listener at om3/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
om3_1    | 2021-08-27 18:54:14,207 [Listener at om3/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
om3_1    | 2021-08-27 18:54:14,208 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om3_1    | 2021-08-27 18:54:14,209 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
om3_1    | 2021-08-27 18:54:14,308 [Listener at om3/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
om3_1    | 2021-08-27 18:54:14,327 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@2edb2f8b] INFO util.JvmPauseMonitor: Starting JVM pause monitor
om3_1    | 2021-08-27 18:54:17,483 [om3@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om3@group-D66704EFC61C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5069904560ns, electionTimeout:5056ms
om3_1    | 2021-08-27 18:54:17,484 [om3@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om3: shutdown om3@group-D66704EFC61C-FollowerState
om3_1    | 2021-08-27 18:54:17,484 [om3@group-D66704EFC61C-FollowerState] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
om3_1    | 2021-08-27 18:54:17,487 [om3@group-D66704EFC61C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om3_1    | 2021-08-27 18:54:17,487 [om3@group-D66704EFC61C-FollowerState] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-LeaderElection1
om3_1    | 2021-08-27 18:54:17,523 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om3@group-D66704EFC61C-LeaderElection1 ELECTION round 0: submit vote requests at term 7 for 0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:18,537 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C: receive requestVote(ELECTION, om1, group-D66704EFC61C, 7, (t:6, i:8))
dn1_1    | 2021-08-27 18:54:15,248 [grpc-default-executor-2] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783 replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t3. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783:t3, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:15,287 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3: ELECTION PASSED received 1 response(s) and 0 exception(s):
dn1_1    | 2021-08-27 18:54:15,288 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection:   Response 0: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:OK-t3
dn1_1    | 2021-08-27 18:54:15,295 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3 ELECTION round 0: result PASSED
dn1_1    | 2021-08-27 18:54:15,298 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3
dn1_1    | 2021-08-27 18:54:15,298 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
dn1_1    | 2021-08-27 18:54:15,298 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-75F5A4C05783 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:15,300 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:54:15,306 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 3 for becomeLeader, leader elected after 21585ms
dn1_1    | 2021-08-27 18:54:15,306 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn1_1    | 2021-08-27 18:54:15,313 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:54:15,314 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn1_1    | 2021-08-27 18:54:15,316 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn1_1    | 2021-08-27 18:54:15,318 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn1_1    | 2021-08-27 18:54:15,318 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn1_1    | 2021-08-27 18:54:15,330 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn1_1    | 2021-08-27 18:54:15,331 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:54:15,331 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn1_1    | 2021-08-27 18:54:15,333 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn1_1    | 2021-08-27 18:54:15,334 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 2021-08-27 18:54:15,334 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:54:15,338 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn1_1    | 2021-08-27 18:54:15,346 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:54:15,346 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn1_1    | 2021-08-27 18:54:15,346 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn1_1    | 2021-08-27 18:54:15,347 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 2021-08-27 18:54:15,347 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:54:15,350 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderStateImpl
dn1_1    | 2021-08-27 18:54:15,353 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
dn1_1    | 2021-08-27 18:54:15,355 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_0 to /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_0-4
dn1_1    | 2021-08-27 18:54:15,358 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_5
dn3_1    | 2021-08-27 18:53:56,169 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-08-27 18:53:56,171 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-08-27 18:53:56,179 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-08-27 18:53:56,182 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-08-27 18:53:56,185 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:53:56,298 [main] INFO server.session: DefaultSessionIdManager workerName=node0
dn3_1    | 2021-08-27 18:53:56,313 [main] INFO server.session: No SessionScavenger set, using defaults
dn3_1    | 2021-08-27 18:53:56,314 [main] INFO server.session: node0 Scavenging every 660000ms
dn3_1    | 2021-08-27 18:53:56,423 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@2e71240b{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
dn3_1    | 2021-08-27 18:53:56,445 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@5df7e31b{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
dn3_1    | 2021-08-27 18:53:56,496 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f: new RaftServerImpl for group-E914F9C2A23E:[] with ContainerStateMachine:uninitialized
dn3_1    | 2021-08-27 18:53:56,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-08-27 18:53:56,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-08-27 18:53:56,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-08-27 18:53:56,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:53:56,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:53:56,550 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-08-27 18:53:56,552 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:53:56,552 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-08-27 18:53:56,552 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:53:56,552 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-08-27 18:53:56,552 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-08-27 18:53:56,563 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/in_use.lock acquired by nodename 7@b287440b3c5a
dn3_1    | 2021-08-27 18:53:56,568 [pool-25-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=eef38474-ab6c-4605-b4ff-f16dc7b7310f} from /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/current/raft-meta
dn3_1    | 2021-08-27 18:53:56,578 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-E914F9C2A23E: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-08-27 18:53:56,578 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:53:56,578 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:53:56,579 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-08-27 18:53:56,579 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-08-27 18:53:56,579 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:53:56,579 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:53:56,581 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-08-27 18:53:56,582 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-08-27 18:53:56,582 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e
dn3_1    | 2021-08-27 18:53:56,584 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-08-27 18:53:56,584 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:53:56,585 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:53:56,586 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-08-27 18:53:56,588 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-08-27 18:53:56,588 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-08-27 18:53:56,588 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-08-27 18:53:56,588 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:53:56,598 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-08-27 18:53:56,601 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-08-27 18:53:56,603 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:53:56,619 [pool-25-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/current/log_inprogress_0
dn3_1    | 2021-08-27 18:53:56,622 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
dn3_1    | 2021-08-27 18:53:56,634 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:53:56,637 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-08-27 18:53:56,637 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
om3_1    | 2021-08-27 18:54:18,541 [grpc-default-executor-0] INFO impl.VoteContext: om3@group-D66704EFC61C-CANDIDATE: reject ELECTION from om1: already has voted for om3 at current term 7
om3_1    | 2021-08-27 18:54:18,579 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C replies to ELECTION vote request: om1<-om3#0:FAIL-t7. Peer's state: om3@group-D66704EFC61C:t7, leader=null, voted=om3, raftlog=om3@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:18,620 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: receive requestVote(ELECTION, om2, group-D66704EFC61C, 7, (t:6, i:8))
om3_1    | 2021-08-27 18:54:18,622 [grpc-default-executor-1] INFO impl.VoteContext: om3@group-D66704EFC61C-CANDIDATE: reject ELECTION from om2: already has voted for om3 at current term 7
om3_1    | 2021-08-27 18:54:18,629 [grpc-default-executor-1] INFO server.RaftServer$Division: om3@group-D66704EFC61C replies to ELECTION vote request: om2<-om3#0:FAIL-t7. Peer's state: om3@group-D66704EFC61C:t7, leader=null, voted=om3, raftlog=om3@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:18,655 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om3@group-D66704EFC61C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
om3_1    | 2021-08-27 18:54:18,656 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 0: om3<-om1#0:FAIL-t7
om3_1    | 2021-08-27 18:54:18,656 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection:   Response 1: om3<-om2#0:FAIL-t7
om3_1    | 2021-08-27 18:54:18,656 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.LeaderElection: om3@group-D66704EFC61C-LeaderElection1 ELECTION round 0: result REJECTED
om3_1    | 2021-08-27 18:54:18,657 [om3@group-D66704EFC61C-LeaderElection1] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
om3_1    | 2021-08-27 18:54:18,657 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om3: shutdown om3@group-D66704EFC61C-LeaderElection1
om3_1    | 2021-08-27 18:54:18,658 [om3@group-D66704EFC61C-LeaderElection1] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-FollowerState
om3_1    | 2021-08-27 18:54:23,774 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C: receive requestVote(ELECTION, om1, group-D66704EFC61C, 8, (t:6, i:8))
om3_1    | 2021-08-27 18:54:23,776 [grpc-default-executor-0] INFO impl.VoteContext: om3@group-D66704EFC61C-FOLLOWER: accept ELECTION from om1: our priority 0 <= candidate's priority 0
om3_1    | 2021-08-27 18:54:23,776 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:om1
om3_1    | 2021-08-27 18:54:23,777 [grpc-default-executor-0] INFO impl.RoleInfo: om3: shutdown om3@group-D66704EFC61C-FollowerState
om3_1    | 2021-08-27 18:54:23,777 [grpc-default-executor-0] INFO impl.RoleInfo: om3: start om3@group-D66704EFC61C-FollowerState
om3_1    | 2021-08-27 18:54:23,777 [om3@group-D66704EFC61C-FollowerState] INFO impl.FollowerState: om3@group-D66704EFC61C-FollowerState was interrupted: {}
om3_1    | java.lang.InterruptedException: sleep interrupted
om3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
om3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
om3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
om3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
om3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
om3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om3_1    | 2021-08-27 18:54:23,782 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C replies to ELECTION vote request: om1<-om3#0:OK-t8. Peer's state: om3@group-D66704EFC61C:t8, leader=null, voted=om1, raftlog=om3@group-D66704EFC61C-SegmentedRaftLog:OPENED:c7,f8,i8, conf=0: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:23,950 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C: change Leader from null to om1 at term 8 for appendEntries, leader elected after 13441ms
om3_1    | 2021-08-27 18:54:24,056 [grpc-default-executor-0] INFO server.RaftServer$Division: om3@group-D66704EFC61C: set configuration 9: [om1|rpc:om1:9872|admin:|client:|dataStream:|priority:0, om3|rpc:om3:9872|admin:|client:|dataStream:|priority:0, om2|rpc:om2:9872|admin:|client:|dataStream:|priority:0], old=null
om3_1    | 2021-08-27 18:54:24,065 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: Rolling segment log-0_8 to index:8
om3_1    | 2021-08-27 18:54:24,070 [om3@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_0 to /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_0-8
om3_1    | 2021-08-27 18:54:24,193 [om3@group-D66704EFC61C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om3@group-D66704EFC61C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/5cb24680-b9e7-3c90-a862-d66704efc61c/current/log_inprogress_9
om3_1    | 2021-08-27 18:54:24,357 [om3@group-D66704EFC61C-StateMachineUpdater] INFO ratis.OzoneManagerStateMachine: Received Configuration change notification from Ratis. New Peer list:
om3_1    | [id: "om1"
om3_1    | address: "om1:9872"
om3_1    | , id: "om3"
om3_1    | address: "om3:9872"
om3_1    | , id: "om2"
om3_1    | address: "om2:9872"
om3_1    | ]
om3_1    | 2021-08-27 18:54:59,703 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new1-volume for user:hadoop
om3_1    | 2021-08-27 18:56:48,961 [OMDoubleBufferFlushThread] INFO upgrade.OMFinalizeUpgradeResponse: Layout version to persist to DB : 0
om3_1    | 2021-08-27 18:57:31,328 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:new2-volume for user:hadoop
dn2_1    | 2021-08-27 18:54:10,089 [grpc-default-executor-2] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-CANDIDATE: reject ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: already has voted for b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at current term 2
dn2_1    | 2021-08-27 18:54:10,093 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783 replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t2. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783:t2, leader=null, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:10,140 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
dn2_1    | 2021-08-27 18:54:10,141 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection:   Response 0: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2
dn2_1    | 2021-08-27 18:54:10,141 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection:   Response 1: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t2
dn2_1    | 2021-08-27 18:54:10,141 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2 ELECTION round 0: result REJECTED
dn2_1    | 2021-08-27 18:54:10,142 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
dn2_1    | 2021-08-27 18:54:10,142 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2
dn2_1    | 2021-08-27 18:54:10,142 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection2] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState
dn2_1    | 2021-08-27 18:54:10,646 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695.
dn2_1    | 2021-08-27 18:54:11,568 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: receive requestVote(ELECTION, eef38474-ab6c-4605-b4ff-f16dc7b7310f, group-12272AAD7695, 1, (t:0, i:0))
dn2_1    | 2021-08-27 18:54:11,569 [grpc-default-executor-2] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FOLLOWER: accept ELECTION from eef38474-ab6c-4605-b4ff-f16dc7b7310f: our priority 0 <= candidate's priority 0
dn2_1    | 2021-08-27 18:54:11,569 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn2_1    | 2021-08-27 18:54:11,569 [grpc-default-executor-2] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState
dn2_1    | 2021-08-27 18:54:11,570 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-08-27 18:54:11,571 [grpc-default-executor-2] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState
dn2_1    | 2021-08-27 18:54:11,576 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695 replies to ELECTION vote request: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:OK-t1. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695:t1, leader=null, voted=eef38474-ab6c-4605-b4ff-f16dc7b7310f, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn2_1    | 2021-08-27 18:54:15,233 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5090812494ns, electionTimeout:5056ms
dn2_1    | 2021-08-27 18:54:15,233 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState
dn2_1    | 2021-08-27 18:54:15,233 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
dn2_1    | 2021-08-27 18:54:15,234 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-08-27 18:54:15,234 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3
dn2_1    | 2021-08-27 18:54:15,241 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3 ELECTION round 0: submit vote requests at term 3 for 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:15,290 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-75F5A4C05783, 3, (t:1, i:4))
dn2_1    | 2021-08-27 18:54:15,291 [grpc-default-executor-2] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-CANDIDATE: reject ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: already has voted for b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at current term 3
dn2_1    | 2021-08-27 18:54:15,291 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783 replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t3. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783:t3, leader=null, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:15,321 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
dn2_1    | 2021-08-27 18:54:15,322 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection:   Response 0: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t3
dn2_1    | 2021-08-27 18:54:15,322 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection:   Response 1: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t3
dn2_1    | 2021-08-27 18:54:15,322 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3 ELECTION round 0: result REJECTED
dn2_1    | 2021-08-27 18:54:15,323 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
dn2_1    | 2021-08-27 18:54:15,323 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3
dn2_1    | 2021-08-27 18:54:15,323 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-LeaderElection3] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState
dn2_1    | 2021-08-27 18:54:15,390 [grpc-default-executor-2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-75F5A4C05783 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn2_1    | 2021-08-27 18:54:15,396 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 3 for appendEntries, leader elected after 18569ms
dn2_1    | 2021-08-27 18:54:15,445 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: set configuration 5: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:15,447 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
dn2_1    | 2021-08-27 18:54:15,448 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_0 to /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_0-4
dn2_1    | 2021-08-27 18:54:15,459 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_5
dn2_1    | 2021-08-27 18:54:16,636 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-12272AAD7695, 2, (t:0, i:0))
dn2_1    | 2021-08-27 18:54:16,636 [grpc-default-executor-2] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FOLLOWER: accept ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: our priority 0 <= candidate's priority 1
dn2_1    | 2021-08-27 18:54:16,636 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d8450bd1-e2fe-47a4-9a69-610877095f84
dn2_1    | 2021-08-27 18:54:16,636 [grpc-default-executor-2] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState
dn2_1    | 2021-08-27 18:54:16,636 [grpc-default-executor-2] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState
dn2_1    | 2021-08-27 18:54:16,637 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-08-27 18:54:16,639 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695 replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:OK-t2. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695:t2, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn2_1    | 2021-08-27 18:54:16,695 [grpc-default-executor-2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-12272AAD7695 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn2_1    | 2021-08-27 18:54:16,696 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 2 for appendEntries, leader elected after 10252ms
dn2_1    | 2021-08-27 18:54:16,717 [grpc-default-executor-2] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:54:16,717 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-08-27 18:54:16,718 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/current/log_inprogress_0
dn2_1    | 2021-08-27 18:55:06,210 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:55:37,249 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 2.
dn2_1    | 2021-08-27 18:55:37,250 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 2.
dn2_1    | 2021-08-27 18:55:37,286 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:55:37,295 [Command processor thread] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: remove  FOLLOWER b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695:t2, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLog:OPENED:c4,f5,i5, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null RUNNING
dn2_1    | 2021-08-27 18:55:37,296 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is closed with bcsId 2.
dn2_1    | 2021-08-27 18:55:37,297 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:55:37,324 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: shutdown
dn2_1    | 2021-08-27 18:55:37,325 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12272AAD7695,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:55:37,326 [Command processor thread] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState
dn2_1    | 2021-08-27 18:55:37,326 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-08-27 18:55:37,327 [Command processor thread] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater: set stopIndex = 4
dn2_1    | 2021-08-27 18:55:37,326 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-12272AAD7695: Taking a snapshot at:(t:2, i:4) file /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/sm/snapshot.2_4
dn2_1    | 2021-08-27 18:55:37,397 [pool-32-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn2_1    | 2021-08-27 18:55:37,402 [pool-32-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn2_1    | 2021-08-27 18:55:37,419 [grpc-default-executor-2] INFO server.GrpcServerProtocolService: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Completed APPEND_ENTRIES, lastRequest: d8450bd1-e2fe-47a4-9a69-610877095f84->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#284-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
dn2_1    | 2021-08-27 18:55:37,429 [pool-32-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is closed with bcsId 2.
dn2_1    | 2021-08-27 18:55:37,430 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:55:37,551 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-12272AAD7695: Finished taking a snapshot at:(t:2, i:4) file:/data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/sm/snapshot.2_4 took: 224 ms
dn2_1    | 2021-08-27 18:55:37,552 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater: Took a snapshot at index 4
dn2_1    | 2021-08-27 18:55:37,553 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 4
dn2_1    | 2021-08-27 18:55:37,557 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: closes. applyIndex: 4
dn2_1    | 2021-08-27 18:55:37,557 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn2_1    | 2021-08-27 18:55:37,558 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695-SegmentedRaftLogWorker close()
dn2_1    | 2021-08-27 18:55:37,563 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-12272AAD7695: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695
dn2_1    | 2021-08-27 18:55:37,563 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 command on datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2.
dn2_1    | 2021-08-27 18:55:37,563 [Command processor thread] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: remove    LEADER b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6:t2, leader=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null RUNNING
dn2_1    | 2021-08-27 18:55:37,564 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: shutdown
dn2_1    | 2021-08-27 18:55:37,564 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-179E0EA45DA6,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:55:37,564 [Command processor thread] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-LeaderStateImpl
dn2_1    | 2021-08-27 18:55:37,565 [Command processor thread] INFO impl.PendingRequests: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-PendingRequests: sendNotLeaderResponses
dn2_1    | 2021-08-27 18:55:37,567 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-179E0EA45DA6: Taking a snapshot at:(t:2, i:2) file /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/sm/snapshot.2_2
dn2_1    | 2021-08-27 18:55:37,567 [Command processor thread] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater: set stopIndex = 2
dn1_1    | 2021-08-27 18:54:15,369 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderElection3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: set configuration 5: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:54:16,609 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5096625729ns, electionTimeout:5095ms
dn1_1    | 2021-08-27 18:54:16,609 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState
dn1_1    | 2021-08-27 18:54:16,610 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn1_1    | 2021-08-27 18:54:16,610 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-08-27 18:54:16,610 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4
dn1_1    | 2021-08-27 18:54:16,616 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:54:16,643 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
dn1_1    | 2021-08-27 18:54:16,643 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO impl.LeaderElection:   Response 0: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:OK-t2
dn1_1    | 2021-08-27 18:54:16,643 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4 ELECTION round 0: result PASSED
dn1_1    | 2021-08-27 18:54:16,643 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4
dn1_1    | 2021-08-27 18:54:16,644 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
dn1_1    | 2021-08-27 18:54:16,644 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-12272AAD7695 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:54:16,644 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:54:16,645 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 2 for becomeLeader, leader elected after 9188ms
dn1_1    | 2021-08-27 18:54:16,645 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn1_1    | 2021-08-27 18:54:16,645 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:54:16,645 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 2021-08-27 18:54:16,646 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:54:16,661 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn1_1    | 2021-08-27 18:54:16,661 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:54:16,661 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn1_1    | 2021-08-27 18:54:16,661 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn1_1    | 2021-08-27 18:54:16,661 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn1_1    | 2021-08-27 18:54:16,661 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:54:16,662 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderStateImpl
dn1_1    | 2021-08-27 18:54:16,662 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-08-27 18:53:56,637 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-08-27 18:53:56,637 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-08-27 18:53:56,637 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-08-27 18:53:56,638 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:53:57,053 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@2cfe272f{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-13382887746755397149/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
dn3_1    | 2021-08-27 18:53:57,081 [main] INFO server.AbstractConnector: Started ServerConnector@49c099b{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
dn3_1    | 2021-08-27 18:53:57,084 [main] INFO server.Server: Started @32106ms
dn3_1    | 2021-08-27 18:53:57,093 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
dn3_1    | 2021-08-27 18:53:57,093 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
dn3_1    | 2021-08-27 18:53:57,095 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
dn3_1    | 2021-08-27 18:53:57,129 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
dn3_1    | 2021-08-27 18:53:57,131 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
dn3_1    | 2021-08-27 18:53:57,131 [Datanode State Machine Thread - 0] INFO upgrade.UpgradeFinalizer: Executing first upgrade start action ScmHAFirstUpgradeLayoutChangeAction
dn3_1    | 2021-08-27 18:53:57,131 [Datanode State Machine Thread - 0] INFO upgrade.ScmHAFirstUpgradeLayoutChangeAction: Upgrade Datanode container layout for SCM HA support.
dn3_1    | 2021-08-27 18:53:57,202 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4ab203bd] INFO util.JvmPauseMonitor: Starting JVM pause monitor
dn3_1    | 2021-08-27 18:54:02,131 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
dn3_1    | 2021-08-27 18:54:02,156 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
dn3_1    | 2021-08-27 18:54:02,655 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:54:02,729 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: start as a follower, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:02,747 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: changes role from      null to FOLLOWER at term 1 for startAsFollower
dn3_1    | 2021-08-27 18:54:02,748 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState
dn3_1    | 2021-08-27 18:54:02,729 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: start as a follower, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:02,751 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: changes role from      null to FOLLOWER at term 1 for startAsFollower
dn3_1    | 2021-08-27 18:54:02,752 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState
dn3_1    | 2021-08-27 18:54:02,786 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E914F9C2A23E,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:54:02,787 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-75F5A4C05783,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:54:02,835 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start RPC server
dn3_1    | 2021-08-27 18:54:02,863 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO server.GrpcService: eef38474-ab6c-4605-b4ff-f16dc7b7310f: GrpcService started, listening on 9858
dn3_1    | 2021-08-27 18:54:02,898 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis eef38474-ab6c-4605-b4ff-f16dc7b7310f is started using port 9858 for RATIS
dn3_1    | 2021-08-27 18:54:02,898 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis eef38474-ab6c-4605-b4ff-f16dc7b7310f is started using port 9858 for RATIS_ADMIN
dn3_1    | 2021-08-27 18:54:02,898 [EndpointStateMachine task thread for scm/10.9.0.14:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis eef38474-ab6c-4605-b4ff-f16dc7b7310f is started using port 9858 for RATIS_SERVER
dn3_1    | 2021-08-27 18:54:02,936 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$443/0x00000008404f9040@66676ca3] INFO util.JvmPauseMonitor: JvmPauseMonitor-eef38474-ab6c-4605-b4ff-f16dc7b7310f: Started
dn3_1    | 2021-08-27 18:54:06,251 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f: new RaftServerImpl for group-12272AAD7695:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] with ContainerStateMachine:uninitialized
dn3_1    | 2021-08-27 18:54:06,262 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-08-27 18:54:06,264 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-08-27 18:54:06,264 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-08-27 18:54:06,272 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:54:06,272 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:54:06,273 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-08-27 18:54:06,273 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:54:16,664 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/current/log_inprogress_0
dn1_1    | 2021-08-27 18:54:16,686 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderElection4] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:55:06,179 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:55:37,188 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:55:37,227 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 2.
dn1_1    | 2021-08-27 18:55:37,227 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 2.
dn1_1    | 2021-08-27 18:55:37,240 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is closed with bcsId 2.
dn1_1    | 2021-08-27 18:55:37,241 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:55:37,290 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:55:37,363 [pool-26-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn1_1    | 2021-08-27 18:55:37,363 [pool-26-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn1_1    | 2021-08-27 18:55:37,379 [pool-26-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is closed with bcsId 2.
dn1_1    | 2021-08-27 18:55:37,410 [Command processor thread] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: remove    LEADER d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695:t2, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLog:OPENED:c5,f5,i5, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null RUNNING
dn1_1    | 2021-08-27 18:55:37,412 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: shutdown
dn1_1    | 2021-08-27 18:55:37,413 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12272AAD7695,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:55:37,413 [Command processor thread] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-LeaderStateImpl
dn1_1    | 2021-08-27 18:55:37,414 [Command processor thread] INFO impl.PendingRequests: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-PendingRequests: sendNotLeaderResponses
dn1_1    | 2021-08-27 18:55:37,415 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->eef38474-ab6c-4605-b4ff-f16dc7b7310f-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->eef38474-ab6c-4605-b4ff-f16dc7b7310f-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
dn1_1    | 2021-08-27 18:55:37,415 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
dn1_1    | 2021-08-27 18:55:37,421 [grpc-default-executor-1] INFO server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
dn1_1    | 2021-08-27 18:55:37,425 [grpc-default-executor-2] INFO server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->eef38474-ab6c-4605-b4ff-f16dc7b7310f-AppendLogResponseHandler: follower responses appendEntries COMPLETED
dn1_1    | 2021-08-27 18:55:37,426 [grpc-default-executor-2] INFO leader.FollowerInfo: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->eef38474-ab6c-4605-b4ff-f16dc7b7310f: nextIndex: updateUnconditionally 6 -> 5
dn1_1    | 2021-08-27 18:55:37,427 [grpc-default-executor-1] INFO leader.FollowerInfo: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: nextIndex: updateUnconditionally 6 -> 5
dn1_1    | 2021-08-27 18:55:37,429 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-12272AAD7695: Taking a snapshot at:(t:2, i:5) file /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/sm/snapshot.2_5
dn1_1    | 2021-08-27 18:55:37,441 [Command processor thread] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater: set stopIndex = 5
dn1_1    | 2021-08-27 18:55:37,592 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-12272AAD7695: Finished taking a snapshot at:(t:2, i:5) file:/data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/sm/snapshot.2_5 took: 163 ms
dn1_1    | 2021-08-27 18:55:37,593 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater: Took a snapshot at index 5
dn1_1    | 2021-08-27 18:55:37,593 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 5
dn1_1    | 2021-08-27 18:55:37,598 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: closes. applyIndex: 5
dn1_1    | 2021-08-27 18:55:37,599 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn1_1    | 2021-08-27 18:55:37,600 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695-SegmentedRaftLogWorker close()
dn1_1    | 2021-08-27 18:55:37,603 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-12272AAD7695: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695
dn1_1    | 2021-08-27 18:55:37,604 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 command on datanode d8450bd1-e2fe-47a4-9a69-610877095f84.
dn1_1    | 2021-08-27 18:55:37,604 [Command processor thread] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: remove    LEADER d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA:t2, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0], old=null RUNNING
dn2_1    | 2021-08-27 18:55:37,568 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-179E0EA45DA6: Finished taking a snapshot at:(t:2, i:2) file:/data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6/sm/snapshot.2_2 took: 1 ms
dn2_1    | 2021-08-27 18:55:37,568 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater: Took a snapshot at index 2
dn2_1    | 2021-08-27 18:55:37,568 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
dn2_1    | 2021-08-27 18:55:37,570 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: closes. applyIndex: 2
dn2_1    | 2021-08-27 18:55:37,570 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn2_1    | 2021-08-27 18:55:37,571 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6-SegmentedRaftLogWorker close()
dn2_1    | 2021-08-27 18:55:37,572 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-179E0EA45DA6: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/aad3795e-c1bc-4b32-9226-179e0ea45da6
dn2_1    | 2021-08-27 18:55:37,573 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=aad3795e-c1bc-4b32-9226-179e0ea45da6 command on datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2.
dn2_1    | 2021-08-27 18:55:37,574 [Command processor thread] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: remove  FOLLOWER b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783:t3, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLog:OPENED:c7,f8,i8, conf=5: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null RUNNING
dn2_1    | 2021-08-27 18:55:37,574 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: shutdown
dn2_1    | 2021-08-27 18:55:37,574 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-75F5A4C05783,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:55:37,574 [Command processor thread] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState
dn2_1    | 2021-08-27 18:55:37,574 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-08-27 18:55:37,575 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-75F5A4C05783: Taking a snapshot at:(t:3, i:7) file /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/sm/snapshot.3_7
dn2_1    | 2021-08-27 18:55:37,577 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-75F5A4C05783: Finished taking a snapshot at:(t:3, i:7) file:/data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/sm/snapshot.3_7 took: 2 ms
dn2_1    | 2021-08-27 18:55:37,577 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater: Took a snapshot at index 7
dn2_1    | 2021-08-27 18:55:37,577 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 7
dn2_1    | 2021-08-27 18:55:37,579 [Command processor thread] INFO impl.StateMachineUpdater: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-StateMachineUpdater: set stopIndex = 7
dn2_1    | 2021-08-27 18:55:37,579 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: closes. applyIndex: 7
dn2_1    | 2021-08-27 18:55:37,580 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn2_1    | 2021-08-27 18:55:37,580 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783-SegmentedRaftLogWorker close()
dn2_1    | 2021-08-27 18:55:37,584 [Command processor thread] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-75F5A4C05783: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn2_1    | 2021-08-27 18:55:37,584 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 command on datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2.
dn2_1    | 2021-08-27 18:55:37,584 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-08-27 18:55:37,585 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Finalize Upgrade called!
dn2_1    | 2021-08-27 18:55:37,586 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization started.
dn2_1    | 2021-08-27 18:55:37,589 [Command processor thread] INFO upgrade.DatanodeSchemaV2FinalizeAction: Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
dn2_1    | 2021-08-27 18:55:37,590 [Command processor thread] INFO upgrade.UpgradeFinalizer: No onFinalize work defined for feature: SCM_HA.
dn2_1    | 2021-08-27 18:55:37,592 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn2_1    | 2021-08-27 18:55:37,592 [Command processor thread] WARN server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: does not contain group: group-12272AAD7695
dn2_1    | 2021-08-27 18:55:37,593 [Command processor thread] ERROR commandhandler.ClosePipelineCommandHandler: Can't close pipeline PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695
dn2_1    | java.io.IOException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Group group-12272AAD7695 not found.
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.removeGroup(XceiverServerRatis.java:781)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.ClosePipelineCommandHandler.handle(ClosePipelineCommandHandler.java:74)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:99)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$2(DatanodeStateMachine.java:556)
dn2_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn2_1    | Caused by: org.apache.ratis.protocol.exceptions.GroupMismatchException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Group group-12272AAD7695 not found.
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupRemoveAsync(RaftServerProxy.java:504)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagementAsync(RaftServerProxy.java:460)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagement(RaftServerProxy.java:440)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.removeGroup(XceiverServerRatis.java:779)
dn2_1    | 	... 4 more
dn2_1    | 2021-08-27 18:55:37,593 [Command processor thread] WARN server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: does not contain group: group-75F5A4C05783
dn2_1    | 2021-08-27 18:55:37,593 [Command processor thread] ERROR commandhandler.ClosePipelineCommandHandler: Can't close pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783
dn2_1    | java.io.IOException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Group group-75F5A4C05783 not found.
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.removeGroup(XceiverServerRatis.java:781)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.ClosePipelineCommandHandler.handle(ClosePipelineCommandHandler.java:74)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:99)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$2(DatanodeStateMachine.java:556)
dn2_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn2_1    | Caused by: org.apache.ratis.protocol.exceptions.GroupMismatchException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Group group-75F5A4C05783 not found.
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupRemoveAsync(RaftServerProxy.java:504)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagementAsync(RaftServerProxy.java:460)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagement(RaftServerProxy.java:440)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.removeGroup(XceiverServerRatis.java:779)
dn2_1    | 	... 4 more
dn2_1    | 2021-08-27 18:55:37,594 [Command processor thread] WARN server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: does not contain group: group-179E0EA45DA6
dn2_1    | 2021-08-27 18:55:37,594 [Command processor thread] ERROR commandhandler.ClosePipelineCommandHandler: Can't close pipeline PipelineID=aad3795e-c1bc-4b32-9226-179e0ea45da6
dn2_1    | java.io.IOException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Group group-179E0EA45DA6 not found.
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.removeGroup(XceiverServerRatis.java:781)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.ClosePipelineCommandHandler.handle(ClosePipelineCommandHandler.java:74)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:99)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$2(DatanodeStateMachine.java:556)
dn2_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
dn2_1    | Caused by: org.apache.ratis.protocol.exceptions.GroupMismatchException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Group group-179E0EA45DA6 not found.
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupRemoveAsync(RaftServerProxy.java:504)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagementAsync(RaftServerProxy.java:460)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagement(RaftServerProxy.java:440)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.removeGroup(XceiverServerRatis.java:779)
dn2_1    | 	... 4 more
dn2_1    | 2021-08-27 18:55:37,594 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-08-27 18:55:37,595 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-08-27 18:55:37,595 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-08-27 18:55:37,595 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn2_1    | 2021-08-27 18:55:37,617 [grpc-default-executor-2] INFO server.GrpcServerProtocolService: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Completed APPEND_ENTRIES, lastRequest: d8450bd1-e2fe-47a4-9a69-610877095f84->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#286-t3,previous=(t:3, i:7),leaderCommit=7,initializing? true,entries: size=1, first=(t:3, i:8), METADATAENTRY(c:7)
dn2_1    | 2021-08-27 18:56:08,430 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:54:06,273 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-08-27 18:54:06,274 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:54:06,275 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-08-27 18:54:06,277 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-08-27 18:54:06,277 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695 does not exist. Creating ...
dn3_1    | 2021-08-27 18:54:06,278 [Command processor thread] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: addNew group-12272AAD7695:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] returns group-12272AAD7695:java.util.concurrent.CompletableFuture@66e6cd0[Not completed]
dn3_1    | 2021-08-27 18:54:06,283 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/in_use.lock acquired by nodename 7@b287440b3c5a
dn3_1    | 2021-08-27 18:54:06,291 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695 has been successfully formatted.
dn3_1    | 2021-08-27 18:54:06,292 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-12272AAD7695: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-08-27 18:54:06,292 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:54:06,292 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:54:06,292 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-08-27 18:54:06,293 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-08-27 18:54:06,293 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:54:06,294 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:54:06,295 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-08-27 18:54:06,300 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-08-27 18:54:06,300 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695
dn3_1    | 2021-08-27 18:54:06,300 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-08-27 18:54:06,300 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:54:06,300 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:54:06,300 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-08-27 18:54:06,301 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-08-27 18:54:06,303 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-08-27 18:54:06,304 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-08-27 18:54:06,304 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:54:06,305 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-08-27 18:54:06,305 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-08-27 18:54:06,309 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:54:06,309 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:54:06,310 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-08-27 18:54:06,311 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-08-27 18:54:06,311 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-08-27 18:54:06,311 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-08-27 18:54:06,311 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-08-27 18:54:06,312 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:54:06,315 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:54:06,317 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-08-27 18:54:06,321 [pool-25-thread-1] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState
dn3_1    | 2021-08-27 18:54:06,321 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-12272AAD7695,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:54:06,323 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695
dn3_1    | 2021-08-27 18:54:07,821 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5073573582ns, electionTimeout:5062ms
dn3_1    | 2021-08-27 18:54:07,822 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState
dn3_1    | 2021-08-27 18:54:07,825 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn3_1    | 2021-08-27 18:54:07,838 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
s3g_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
s3g_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
s3g_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
s3g_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
s3g_1    | 2021-08-27 18:53:29,432 [main] INFO http.BaseHttpServer: Starting Web-server for s3gateway at: http://0.0.0.0:9878
s3g_1    | 2021-08-27 18:53:29,452 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
s3g_1    | 2021-08-27 18:53:29,654 [main] INFO util.log: Logging initialized @6025ms to org.eclipse.jetty.util.log.Slf4jLog
s3g_1    | 2021-08-27 18:53:30,863 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
s3g_1    | 2021-08-27 18:53:31,090 [main] INFO http.HttpRequestLog: Http request log for http.requests.s3gateway is not defined
s3g_1    | 2021-08-27 18:53:31,172 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
s3g_1    | 2021-08-27 18:53:31,174 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context s3gateway
s3g_1    | 2021-08-27 18:53:31,174 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
s3g_1    | 2021-08-27 18:53:31,189 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
s3g_1    | 2021-08-27 18:53:31,532 [main] INFO s3.Gateway: STARTUP_MSG: 
s3g_1    | /************************************************************
s3g_1    | STARTUP_MSG: Starting Gateway
s3g_1    | STARTUP_MSG:   host = ee133b4b87d7/10.9.0.19
s3g_1    | STARTUP_MSG:   args = []
s3g_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn1_1    | 2021-08-27 18:55:37,604 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: shutdown
dn1_1    | 2021-08-27 18:55:37,607 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E600BA9678AA,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:55:37,607 [Command processor thread] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-LeaderStateImpl
dn1_1    | 2021-08-27 18:55:37,607 [Command processor thread] INFO impl.PendingRequests: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-PendingRequests: sendNotLeaderResponses
dn1_1    | 2021-08-27 18:55:37,608 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E600BA9678AA: Taking a snapshot at:(t:2, i:2) file /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/sm/snapshot.2_2
dn1_1    | 2021-08-27 18:55:37,608 [Command processor thread] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater: set stopIndex = 2
dn1_1    | 2021-08-27 18:55:37,610 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E600BA9678AA: Finished taking a snapshot at:(t:2, i:2) file:/data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa/sm/snapshot.2_2 took: 2 ms
dn1_1    | 2021-08-27 18:55:37,610 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater: Took a snapshot at index 2
dn1_1    | 2021-08-27 18:55:37,610 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
dn1_1    | 2021-08-27 18:55:37,610 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: closes. applyIndex: 2
dn1_1    | 2021-08-27 18:55:37,611 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn1_1    | 2021-08-27 18:55:37,611 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA-SegmentedRaftLogWorker close()
dn1_1    | 2021-08-27 18:55:37,612 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E600BA9678AA: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/e896bedf-6c82-4af8-b07a-e600ba9678aa
dn1_1    | 2021-08-27 18:55:37,612 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa command on datanode d8450bd1-e2fe-47a4-9a69-610877095f84.
dn1_1    | 2021-08-27 18:55:37,612 [Command processor thread] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: remove    LEADER d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783:t3, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLog:OPENED:c8,f8,i8, conf=5: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null RUNNING
dn1_1    | 2021-08-27 18:55:37,612 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: shutdown
dn1_1    | 2021-08-27 18:55:37,613 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-75F5A4C05783,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:55:37,613 [Command processor thread] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-LeaderStateImpl
dn1_1    | 2021-08-27 18:55:37,613 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->eef38474-ab6c-4605-b4ff-f16dc7b7310f-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->eef38474-ab6c-4605-b4ff-f16dc7b7310f-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
dn1_1    | 2021-08-27 18:55:37,616 [grpc-default-executor-1] INFO server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->eef38474-ab6c-4605-b4ff-f16dc7b7310f-AppendLogResponseHandler: follower responses appendEntries COMPLETED
dn1_1    | 2021-08-27 18:55:37,616 [grpc-default-executor-1] INFO leader.FollowerInfo: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->eef38474-ab6c-4605-b4ff-f16dc7b7310f: nextIndex: updateUnconditionally 9 -> 8
dn1_1    | 2021-08-27 18:55:37,616 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
dn1_1    | 2021-08-27 18:55:37,616 [Command processor thread] INFO impl.PendingRequests: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-PendingRequests: sendNotLeaderResponses
dn1_1    | 2021-08-27 18:55:37,619 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-75F5A4C05783: Taking a snapshot at:(t:3, i:8) file /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/sm/snapshot.3_8
dn1_1    | 2021-08-27 18:55:37,619 [grpc-default-executor-1] INFO server.GrpcLogAppender: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
dn1_1    | 2021-08-27 18:55:37,619 [grpc-default-executor-1] INFO leader.FollowerInfo: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783->b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: nextIndex: updateUnconditionally 9 -> 8
dn1_1    | 2021-08-27 18:55:37,620 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-75F5A4C05783: Finished taking a snapshot at:(t:3, i:8) file:/data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/sm/snapshot.3_8 took: 1 ms
dn1_1    | 2021-08-27 18:55:37,620 [Command processor thread] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater: set stopIndex = 8
dn1_1    | 2021-08-27 18:55:37,620 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater: Took a snapshot at index 8
dn1_1    | 2021-08-27 18:55:37,620 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater] INFO impl.StateMachineUpdater: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
dn1_1    | 2021-08-27 18:55:37,623 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: closes. applyIndex: 8
dn1_1    | 2021-08-27 18:55:37,623 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-08-27 18:54:07,866 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1
dn3_1    | 2021-08-27 18:54:08,017 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:08,008 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5255045207ns, electionTimeout:5153ms
dn3_1    | 2021-08-27 18:54:08,025 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState
dn3_1    | 2021-08-27 18:54:08,025 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn3_1    | 2021-08-27 18:54:08,029 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-08-27 18:54:08,029 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2
dn3_1    | 2021-08-27 18:54:08,030 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1 ELECTION round 0: result PASSED (term=2)
dn3_1    | 2021-08-27 18:54:08,033 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1
dn3_1    | 2021-08-27 18:54:08,034 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
dn3_1    | 2021-08-27 18:54:08,034 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E914F9C2A23E with new leaderId: eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:54:08,073 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: change Leader from null to eef38474-ab6c-4605-b4ff-f16dc7b7310f at term 2 for becomeLeader, leader elected after 11455ms
dn3_1    | 2021-08-27 18:54:08,073 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:54:08,116 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2 ELECTION round 0: submit vote requests at term 2 for 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:08,136 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-08-27 18:54:08,140 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:54:08,150 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn3_1    | 2021-08-27 18:54:08,277 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn3_1    | 2021-08-27 18:54:08,297 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn3_1    | 2021-08-27 18:54:08,302 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-08-27 18:54:08,466 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderStateImpl
dn3_1    | 2021-08-27 18:54:08,520 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
dn3_1    | 2021-08-27 18:54:08,522 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/current/log_inprogress_0 to /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/current/log_0-0
dn3_1    | 2021-08-27 18:54:08,636 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/current/log_inprogress_1
dn3_1    | 2021-08-27 18:54:08,728 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderElection1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: set configuration 1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:09,649 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$443/0x00000008404f9040@66676ca3] WARN util.JvmPauseMonitor: JvmPauseMonitor-eef38474-ab6c-4605-b4ff-f16dc7b7310f: Detected pause in JVM or host machine (eg GC): pause of approximately 111596102ns.
dn3_1    | GC pool 'ParNew' had collection(s): count=1 time=139ms
dn3_1    | 2021-08-27 18:54:09,856 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-75F5A4C05783, 2, (t:1, i:4))
dn3_1    | 2021-08-27 18:54:09,866 [grpc-default-executor-0] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-CANDIDATE: reject ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: already has voted for eef38474-ab6c-4605-b4ff-f16dc7b7310f at current term 2
dn2_1    | 2021-08-27 18:56:38,428 [grpc-default-executor-3] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: addNew group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0] returns group-6DD9CFDC01EB:java.util.concurrent.CompletableFuture@374ccd83[Not completed]
dn2_1    | 2021-08-27 18:56:38,430 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: new RaftServerImpl for group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
dn2_1    | 2021-08-27 18:56:38,430 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-08-27 18:56:38,430 [Command processor thread] ERROR commandhandler.CreatePipelineCommandHandler: Can't create pipeline RATIS THREE PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb
dn2_1    | java.io.IOException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Failed to add group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] since the group already exists in the map.
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.addGroup(XceiverServerRatis.java:760)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CreatePipelineCommandHandler.handle(CreatePipelineCommandHandler.java:92)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.commandhandler.CommandDispatcher.handle(CommandDispatcher.java:99)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$initCommandHandlerThread$2(DatanodeStateMachine.java:556)
dn2_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
s3g_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/hk2-utils-2.5.0.jar:/opt/hadoop/share/ozone/lib/jakarta.inject-2.6.1.jar:/opt/hadoop/share/ozone/lib/hk2-locator-2.6.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/aopalliance-repackaged-2.5.0.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.interceptor-api-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/javax.el-api-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jakarta.ws.rs-api-2.1.6.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/jackson-dataformat-xml-2.12.1.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jersey-container-servlet-core-2.33.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/cdi-api-1.2.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/hk2-api-2.5.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.inject-1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jakarta.validation-api-2.0.2.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/jersey-client-2.33.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/jersey-hk2-2.33.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jersey-media-jaxb-2.33.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/jakarta.annotation-api-1.3.5.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/jersey-server-2.33.jar:/opt/hadoop/share/ozone/lib/jersey-cdi1x-2.33.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/osgi-resource-locator-1.0.3.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jackson-module-jaxb-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/jakarta.xml.bind-api-2.3.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/jersey-common-2.33.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-s3gateway-1.2.0-SNAPSHOT.jar
s3g_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
s3g_1    | STARTUP_MSG:   java = 11.0.10
s3g_1    | ************************************************************/
s3g_1    | 2021-08-27 18:53:31,570 [main] INFO s3.Gateway: registered UNIX signal handlers for [TERM, HUP, INT]
s3g_1    | 2021-08-27 18:53:31,878 [main] INFO s3.Gateway: Starting Ozone S3 gateway
s3g_1    | 2021-08-27 18:53:31,950 [main] INFO http.HttpServer2: Jetty bound to port 9878
s3g_1    | 2021-08-27 18:53:31,958 [main] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
s3g_1    | 2021-08-27 18:53:32,240 [main] INFO server.session: DefaultSessionIdManager workerName=node0
s3g_1    | 2021-08-27 18:53:32,245 [main] INFO server.session: No SessionScavenger set, using defaults
s3g_1    | 2021-08-27 18:53:32,266 [main] INFO server.session: node0 Scavenging every 660000ms
s3g_1    | 2021-08-27 18:53:32,409 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@7f284218{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
s3g_1    | 2021-08-27 18:53:32,414 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@723e88f9{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-s3gateway-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
s3g_1    | WARNING: An illegal reflective access operation has occurred
s3g_1    | WARNING: Illegal reflective access by org.jboss.classfilewriter.ClassFile$1 (file:/opt/hadoop/share/ozone/lib/weld-servlet-2.4.7.Final.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int)
s3g_1    | WARNING: Please consider reporting this to the maintainers of org.jboss.classfilewriter.ClassFile$1
s3g_1    | WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
s3g_1    | WARNING: All illegal access operations will be denied in a future release
s3g_1    | Aug 27, 2021 6:53:52 PM org.glassfish.jersey.internal.Errors logErrors
s3g_1    | WARNING: The following warnings have been detected: WARNING: A HTTP GET method, public javax.ws.rs.core.Response org.apache.hadoop.ozone.s3.endpoint.ObjectEndpoint.get(java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,java.io.InputStream) throws java.io.IOException,org.apache.hadoop.ozone.s3.exception.OS3Exception, should not consume any entity.
s3g_1    | 
s3g_1    | 2021-08-27 18:53:52,356 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@b022551{s3gateway,/,file:///tmp/jetty-0_0_0_0-9878-ozone-s3gateway-1_2_0-SNAPSHOT_jar-_-any-11015932298832192417/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-s3gateway-1.2.0-SNAPSHOT.jar!/webapps/s3gateway}
s3g_1    | 2021-08-27 18:53:52,444 [main] INFO server.AbstractConnector: Started ServerConnector@5495333e{HTTP/1.1, (http/1.1)}{0.0.0.0:9878}
s3g_1    | 2021-08-27 18:53:52,445 [main] INFO server.Server: Started @28817ms
s3g_1    | 2021-08-27 18:53:52,446 [main] INFO http.BaseHttpServer: HTTP server of s3gateway listening at http://0.0.0.0:9878
dn1_1    | 2021-08-27 18:55:37,624 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783-SegmentedRaftLogWorker close()
dn1_1    | 2021-08-27 18:55:37,625 [Command processor thread] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-75F5A4C05783: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn1_1    | 2021-08-27 18:55:37,627 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 command on datanode d8450bd1-e2fe-47a4-9a69-610877095f84.
dn1_1    | 2021-08-27 18:55:37,627 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-08-27 18:55:37,628 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Finalize Upgrade called!
dn1_1    | 2021-08-27 18:55:37,631 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization started.
dn1_1    | 2021-08-27 18:55:37,635 [Command processor thread] INFO upgrade.DatanodeSchemaV2FinalizeAction: Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
dn1_1    | 2021-08-27 18:55:37,640 [Command processor thread] INFO upgrade.UpgradeFinalizer: No onFinalize work defined for feature: SCM_HA.
dn1_1    | 2021-08-27 18:55:37,641 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn1_1    | 2021-08-27 18:55:37,641 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-08-27 18:55:37,641 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-08-27 18:55:37,641 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-08-27 18:55:37,642 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-08-27 18:56:08,380 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn1_1    | 2021-08-27 18:56:38,381 [Command processor thread] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: addNew group-E3B87C767530:[d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1] returns group-E3B87C767530:java.util.concurrent.CompletableFuture@48703efe[Not completed]
dn1_1    | 2021-08-27 18:56:38,384 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84: new RaftServerImpl for group-E3B87C767530:[d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1] with ContainerStateMachine:uninitialized
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:56:38,385 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: ConfigurationManager, init=-1: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-08-27 18:56:38,386 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:56:38,386 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-08-27 18:56:38,386 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-08-27 18:56:38,386 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/08328f7e-12bb-4a26-9c74-e3b87c767530 does not exist. Creating ...
dn1_1    | 2021-08-27 18:56:38,388 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/08328f7e-12bb-4a26-9c74-e3b87c767530/in_use.lock acquired by nodename 7@cf3242dbbd7c
dn1_1    | 2021-08-27 18:56:38,389 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/08328f7e-12bb-4a26-9c74-e3b87c767530 has been successfully formatted.
dn1_1    | 2021-08-27 18:56:38,389 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-E3B87C767530: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-08-27 18:56:38,389 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:56:38,390 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-08-27 18:56:38,390 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-08-27 18:56:38,390 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:56:38,390 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,391 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-08-27 18:56:38,391 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-08-27 18:56:38,394 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/08328f7e-12bb-4a26-9c74-e3b87c767530
dn1_1    | 2021-08-27 18:56:38,394 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-08-27 18:56:38,394 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:56:38,394 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,394 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-08-27 18:56:38,395 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-08-27 18:56:38,395 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-08-27 18:56:38,395 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-08-27 18:56:38,395 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:54:09,890 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783 replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783:t2, leader=null, voted=eef38474-ab6c-4605-b4ff-f16dc7b7310f, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:10,121 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-75F5A4C05783, 2, (t:1, i:4))
dn3_1    | 2021-08-27 18:54:10,123 [grpc-default-executor-0] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-CANDIDATE: reject ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: already has voted for eef38474-ab6c-4605-b4ff-f16dc7b7310f at current term 2
dn3_1    | 2021-08-27 18:54:10,123 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783 replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783:t2, leader=null, voted=eef38474-ab6c-4605-b4ff-f16dc7b7310f, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:10,283 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
dn3_1    | 2021-08-27 18:54:10,283 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection:   Response 0: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t2
dn3_1    | 2021-08-27 18:54:10,283 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection:   Response 1: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t2
dn3_1    | 2021-08-27 18:54:10,284 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2 ELECTION round 0: result REJECTED
dn3_1    | 2021-08-27 18:54:10,285 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
dn3_1    | 2021-08-27 18:54:10,288 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2
dn3_1    | 2021-08-27 18:54:10,288 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-LeaderElection2] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState
dn3_1    | 2021-08-27 18:54:10,595 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695.
dn3_1    | 2021-08-27 18:54:11,488 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5167364110ns, electionTimeout:5166ms
dn3_1    | 2021-08-27 18:54:11,489 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState
dn3_1    | 2021-08-27 18:54:11,489 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn3_1    | 2021-08-27 18:54:11,489 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-08-27 18:54:11,489 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3
dn3_1    | 2021-08-27 18:54:11,504 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:54:11,546 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn3_1    | 2021-08-27 18:54:11,546 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO impl.LeaderElection:   Response 0: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t1
dn3_1    | 2021-08-27 18:54:11,546 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3 ELECTION round 0: result REJECTED
dn3_1    | 2021-08-27 18:54:11,546 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
dn3_1    | 2021-08-27 18:54:11,547 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3
dn3_1    | 2021-08-27 18:54:11,547 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-LeaderElection3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState
dn3_1    | 2021-08-27 18:54:15,266 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-75F5A4C05783, 3, (t:1, i:4))
dn3_1    | 2021-08-27 18:54:15,266 [grpc-default-executor-0] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FOLLOWER: accept ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: our priority 0 <= candidate's priority 0
dn3_1    | 2021-08-27 18:54:15,266 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:d8450bd1-e2fe-47a4-9a69-610877095f84
dn3_1    | 2021-08-27 18:54:15,267 [grpc-default-executor-0] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState
dn3_1    | 2021-08-27 18:54:15,268 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 2021-08-27 18:56:38,397 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,397 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-08-27 18:56:38,397 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:56:38,397 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:56:38,398 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-08-27 18:56:38,398 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-08-27 18:56:38,398 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-08-27 18:56:38,398 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-08-27 18:56:38,398 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-08-27 18:56:38,398 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-08-27 18:56:38,399 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: start as a follower, conf=-1: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1], old=null
dn1_1    | 2021-08-27 18:56:38,399 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn1_1    | 2021-08-27 18:56:38,399 [pool-25-thread-1] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState
dn1_1    | 2021-08-27 18:56:38,400 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E3B87C767530,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:56:38,400 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=08328f7e-12bb-4a26-9c74-e3b87c767530
dn1_1    | 2021-08-27 18:56:38,400 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=08328f7e-12bb-4a26-9c74-e3b87c767530.
dn1_1    | 2021-08-27 18:56:38,401 [Command processor thread] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: addNew group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] returns group-6DD9CFDC01EB:java.util.concurrent.CompletableFuture@350103f1[Not completed]
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84: new RaftServerImpl for group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] with ContainerStateMachine:uninitialized
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-08-27 18:56:38,402 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:56:38,403 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-08-27 18:56:38,403 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:56:38,403 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-08-27 18:56:38,403 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-08-27 18:56:38,403 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb does not exist. Creating ...
dn1_1    | 2021-08-27 18:56:38,404 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb/in_use.lock acquired by nodename 7@cf3242dbbd7c
dn1_1    | 2021-08-27 18:56:38,405 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb has been successfully formatted.
dn1_1    | 2021-08-27 18:56:38,405 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-6DD9CFDC01EB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-08-27 18:56:38,405 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:56:38,405 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-08-27 18:56:38,405 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-08-27 18:56:38,406 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:56:38,406 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,407 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-08-27 18:56:38,407 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:54:15,269 [grpc-default-executor-0] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState
dn3_1    | 2021-08-27 18:54:15,279 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783 replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:OK-t3. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783:t3, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:15,310 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-75F5A4C05783, 3, (t:1, i:4))
dn3_1    | 2021-08-27 18:54:15,311 [grpc-default-executor-0] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FOLLOWER: reject ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: already has voted for d8450bd1-e2fe-47a4-9a69-610877095f84 at current term 3
dn3_1    | 2021-08-27 18:54:15,311 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783 replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t3. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783:t3, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLog:OPENED:c2,f4,i4, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:15,391 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-75F5A4C05783 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn3_1    | 2021-08-27 18:54:15,391 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 3 for appendEntries, leader elected after 20837ms
dn3_1    | 2021-08-27 18:54:15,452 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: set configuration 5: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null
dn3_1    | 2021-08-27 18:54:15,452 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
dn3_1    | 2021-08-27 18:54:15,459 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_0 to /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_0-4
dn3_1    | 2021-08-27 18:54:15,466 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/current/log_inprogress_5
dn3_1    | 2021-08-27 18:54:16,620 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-12272AAD7695, 2, (t:0, i:0))
dn3_1    | 2021-08-27 18:54:16,620 [grpc-default-executor-0] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FOLLOWER: accept ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: our priority 0 <= candidate's priority 1
dn3_1    | 2021-08-27 18:54:16,620 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d8450bd1-e2fe-47a4-9a69-610877095f84
dn3_1    | 2021-08-27 18:54:16,620 [grpc-default-executor-0] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState
dn3_1    | 2021-08-27 18:54:16,620 [grpc-default-executor-0] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState
dn3_1    | 2021-08-27 18:54:16,620 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:54:16,622 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695 replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:OK-t2. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695:t2, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:54:16,695 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-12272AAD7695 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn3_1    | 2021-08-27 18:54:16,695 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 2 for appendEntries, leader elected after 10403ms
dn3_1    | 2021-08-27 18:54:16,707 [grpc-default-executor-0] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | Caused by: org.apache.ratis.protocol.exceptions.AlreadyExistsException: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: Failed to add group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] since the group already exists in the map.
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.addNew(RaftServerProxy.java:89)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupAddAsync(RaftServerProxy.java:472)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagementAsync(RaftServerProxy.java:456)
dn2_1    | 	at org.apache.ratis.server.impl.RaftServerProxy.groupManagement(RaftServerProxy.java:440)
dn2_1    | 	at org.apache.hadoop.ozone.container.common.transport.server.ratis.XceiverServerRatis.addGroup(XceiverServerRatis.java:758)
dn2_1    | 	... 4 more
dn2_1    | 2021-08-27 18:56:38,431 [Command processor thread] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: addNew group-DFD047CAF5EA:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1] returns group-DFD047CAF5EA:java.util.concurrent.CompletableFuture@cf0798b[Not completed]
dn2_1    | 2021-08-27 18:56:38,431 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-08-27 18:56:38,431 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-08-27 18:56:38,431 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:56:38,431 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:56:38,431 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-08-27 18:56:38,432 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:56:38,432 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-08-27 18:56:38,432 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:56:38,432 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-08-27 18:56:38,432 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-08-27 18:56:38,432 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb does not exist. Creating ...
dn2_1    | 2021-08-27 18:56:38,434 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb/in_use.lock acquired by nodename 7@597ab2b886bc
dn2_1    | 2021-08-27 18:56:38,435 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb has been successfully formatted.
dn2_1    | 2021-08-27 18:56:38,435 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-6DD9CFDC01EB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-08-27 18:56:38,436 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:56:38,436 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-08-27 18:56:38,441 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-08-27 18:56:38,443 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:56:38,443 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,443 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-08-27 18:56:38,443 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-08-27 18:56:38,443 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb
dn2_1    | 2021-08-27 18:56:38,443 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-08-27 18:56:38,444 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-08-27 18:56:38,445 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:54:16,707 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-08-27 18:54:16,710 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/current/log_inprogress_0
dn3_1    | 2021-08-27 18:55:06,212 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:55:37,226 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:55:37,244 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 2.
dn3_1    | 2021-08-27 18:55:37,244 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is synced with bcsId 2.
dn3_1    | 2021-08-27 18:55:37,310 [pool-41-thread-3] INFO keyvalue.KeyValueContainer: Container 2 is closed with bcsId 2.
dn3_1    | 2021-08-27 18:55:37,311 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:55:37,330 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:55:37,335 [Command processor thread] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: remove  FOLLOWER eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695:t2, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLog:OPENED:c4,f5,i5, conf=0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null RUNNING
dn3_1    | 2021-08-27 18:55:37,349 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: shutdown
dn3_1    | 2021-08-27 18:55:37,350 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-12272AAD7695,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:55:37,364 [Command processor thread] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState
dn3_1    | 2021-08-27 18:55:37,364 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:55:37,383 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-12272AAD7695: Taking a snapshot at:(t:2, i:4) file /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/sm/snapshot.2_4
dn3_1    | 2021-08-27 18:55:37,405 [Command processor thread] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater: set stopIndex = 4
dn3_1    | 2021-08-27 18:55:37,420 [grpc-default-executor-0] INFO server.GrpcServerProtocolService: eef38474-ab6c-4605-b4ff-f16dc7b7310f: Completed APPEND_ENTRIES, lastRequest: d8450bd1-e2fe-47a4-9a69-610877095f84->eef38474-ab6c-4605-b4ff-f16dc7b7310f#293-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
dn3_1    | 2021-08-27 18:55:37,433 [pool-26-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn3_1    | 2021-08-27 18:55:37,441 [pool-26-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is synced with bcsId 2.
dn3_1    | 2021-08-27 18:55:37,447 [pool-26-thread-3] INFO keyvalue.KeyValueContainer: Container 1 is closed with bcsId 2.
dn3_1    | 2021-08-27 18:55:37,614 [grpc-default-executor-0] INFO server.GrpcServerProtocolService: eef38474-ab6c-4605-b4ff-f16dc7b7310f: Completed APPEND_ENTRIES, lastRequest: d8450bd1-e2fe-47a4-9a69-610877095f84->eef38474-ab6c-4605-b4ff-f16dc7b7310f#284-t3,previous=(t:3, i:7),leaderCommit=7,initializing? true,entries: size=1, first=(t:3, i:8), METADATAENTRY(c:7)
dn3_1    | 2021-08-27 18:55:37,628 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-12272AAD7695: Finished taking a snapshot at:(t:2, i:4) file:/data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695/sm/snapshot.2_4 took: 245 ms
dn3_1    | 2021-08-27 18:55:37,630 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater: Took a snapshot at index 4
dn3_1    | 2021-08-27 18:55:37,630 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 4
dn3_1    | 2021-08-27 18:55:37,639 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: closes. applyIndex: 4
dn3_1    | 2021-08-27 18:55:37,640 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-08-27 18:55:37,641 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695-SegmentedRaftLogWorker close()
dn3_1    | 2021-08-27 18:55:37,645 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-12272AAD7695: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/92937e50-4ec1-4062-9d5d-12272aad7695
dn3_1    | 2021-08-27 18:55:37,645 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 command on datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f.
dn3_1    | 2021-08-27 18:55:37,646 [Command processor thread] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: remove    LEADER eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E:t2, leader=eef38474-ab6c-4605-b4ff-f16dc7b7310f, voted=eef38474-ab6c-4605-b4ff-f16dc7b7310f, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLog:OPENED:c2,f2,i2, conf=1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0], old=null RUNNING
dn3_1    | 2021-08-27 18:55:37,646 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: shutdown
dn3_1    | 2021-08-27 18:55:37,646 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E914F9C2A23E,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:55:37,646 [Command processor thread] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-LeaderStateImpl
dn3_1    | 2021-08-27 18:55:37,647 [Command processor thread] INFO impl.PendingRequests: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-PendingRequests: sendNotLeaderResponses
dn3_1    | 2021-08-27 18:55:37,648 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E914F9C2A23E: Taking a snapshot at:(t:2, i:2) file /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/sm/snapshot.2_2
dn3_1    | 2021-08-27 18:55:37,649 [Command processor thread] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater: set stopIndex = 2
dn3_1    | 2021-08-27 18:55:37,649 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-E914F9C2A23E: Finished taking a snapshot at:(t:2, i:2) file:/data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e/sm/snapshot.2_2 took: 1 ms
dn3_1    | 2021-08-27 18:55:37,650 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater: Took a snapshot at index 2
dn3_1    | 2021-08-27 18:55:37,650 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
dn3_1    | 2021-08-27 18:55:37,651 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: closes. applyIndex: 2
dn3_1    | 2021-08-27 18:55:37,651 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-08-27 18:55:37,651 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E-SegmentedRaftLogWorker close()
dn3_1    | 2021-08-27 18:55:37,652 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-E914F9C2A23E: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/9d71a6ed-ed55-4b16-961e-e914f9c2a23e
dn3_1    | 2021-08-27 18:55:37,653 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=9d71a6ed-ed55-4b16-961e-e914f9c2a23e command on datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f.
dn3_1    | 2021-08-27 18:55:37,653 [Command processor thread] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: remove  FOLLOWER eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783:t3, leader=d8450bd1-e2fe-47a4-9a69-610877095f84, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLog:OPENED:c7,f8,i8, conf=5: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|admin:|client:|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|admin:|client:|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|admin:|client:|dataStream:|priority:0], old=null RUNNING
dn3_1    | 2021-08-27 18:55:37,653 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: shutdown
dn3_1    | 2021-08-27 18:55:37,653 [Command processor thread] INFO util.JmxRegister: Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-75F5A4C05783,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:55:37,653 [Command processor thread] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState
dn3_1    | 2021-08-27 18:55:37,654 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:55:37,654 [Command processor thread] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater: set stopIndex = 7
dn3_1    | 2021-08-27 18:55:37,654 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-75F5A4C05783: Taking a snapshot at:(t:3, i:7) file /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/sm/snapshot.3_7
dn3_1    | 2021-08-27 18:55:37,655 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater] INFO ratis.ContainerStateMachine: group-75F5A4C05783: Finished taking a snapshot at:(t:3, i:7) file:/data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783/sm/snapshot.3_7 took: 1 ms
dn3_1    | 2021-08-27 18:55:37,655 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater: Took a snapshot at index 7
dn3_1    | 2021-08-27 18:55:37,655 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater] INFO impl.StateMachineUpdater: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 7
dn3_1    | 2021-08-27 18:55:37,657 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: closes. applyIndex: 7
dn3_1    | 2021-08-27 18:55:37,658 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
dn3_1    | 2021-08-27 18:55:37,658 [Command processor thread] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783-SegmentedRaftLogWorker close()
dn3_1    | 2021-08-27 18:55:37,659 [Command processor thread] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-75F5A4C05783: Succeed to remove RaftStorageDirectory Storage Directory /data/metadata/ratis/a398198e-adb7-4662-b093-75f5a4c05783
dn3_1    | 2021-08-27 18:55:37,659 [Command processor thread] INFO commandhandler.ClosePipelineCommandHandler: Close Pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 command on datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f.
dn3_1    | 2021-08-27 18:55:37,659 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:55:37,660 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Finalize Upgrade called!
dn3_1    | 2021-08-27 18:55:37,661 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization started.
dn3_1    | 2021-08-27 18:55:37,662 [Command processor thread] INFO upgrade.DatanodeSchemaV2FinalizeAction: Executing datanode 'onFinalize' action for the first version with upgrade support. New containers will be created with Schema Version 2 henceforth.
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO upgrade.UpgradeFinalizer: No onFinalize work defined for feature: SCM_HA.
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: new RaftServerImpl for group-DFD047CAF5EA:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1] with ContainerStateMachine:uninitialized
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-08-27 18:56:38,447 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-08-27 18:56:38,448 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea does not exist. Creating ...
dn2_1    | 2021-08-27 18:56:38,449 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea/in_use.lock acquired by nodename 7@597ab2b886bc
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea has been successfully formatted.
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-DFD047CAF5EA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:56:38,450 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,451 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-08-27 18:56:38,451 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-08-27 18:56:38,451 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea
dn2_1    | 2021-08-27 18:56:38,451 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-08-27 18:56:38,451 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:56:38,453 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,453 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-08-27 18:56:38,454 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-08-27 18:56:38,454 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-08-27 18:56:38,454 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-08-27 18:56:38,454 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-08-27 18:56:38,454 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-08-27 18:56:38,455 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn2_1    | 2021-08-27 18:56:38,456 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-08-27 18:56:38,456 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 2021-08-27 18:56:38,456 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:56:38,456 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 2021-08-27 18:56:38,457 [pool-25-thread-1] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:38,461 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DD9CFDC01EB,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | WARNING: HADOOP_CONF_DIR has been deprecated by OZONE_CONF_DIR.
scm_1    | WARNING: HADOOP_LOG_DIR has been deprecated by OZONE_LOG_DIR.
scm_1    | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
scm_1    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
scm_1    | 2021-08-27 18:53:39,150 [main] INFO server.StorageContainerManagerStarter: STARTUP_MSG: 
scm_1    | /************************************************************
scm_1    | STARTUP_MSG: Starting StorageContainerManager
scm_1    | STARTUP_MSG:   host = 43bb7ae58fc2/10.9.0.14
scm_1    | STARTUP_MSG:   args = []
scm_1    | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:55:37,663 [Command processor thread] INFO commandhandler.FinalizeNewLayoutVersionCommandHandler: Processing FinalizeNewLayoutVersionCommandHandler command.
dn3_1    | 2021-08-27 18:56:38,494 [Command processor thread] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: addNew group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] returns group-6DD9CFDC01EB:java.util.concurrent.CompletableFuture@3062889a[Not completed]
dn3_1    | 2021-08-27 18:56:38,496 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f: new RaftServerImpl for group-6DD9CFDC01EB:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0] with ContainerStateMachine:uninitialized
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:56:38,510 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-08-27 18:56:38,511 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:56:38,511 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-08-27 18:56:38,511 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-08-27 18:56:38,511 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb does not exist. Creating ...
dn3_1    | 2021-08-27 18:56:38,513 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb/in_use.lock acquired by nodename 7@b287440b3c5a
dn3_1    | 2021-08-27 18:56:38,515 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb has been successfully formatted.
dn3_1    | 2021-08-27 18:56:38,516 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-6DD9CFDC01EB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-08-27 18:56:38,516 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:56:38,516 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-08-27 18:56:38,516 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-08-27 18:56:38,516 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:56:38,516 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,517 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-08-27 18:56:38,518 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-08-27 18:56:38,518 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-08-27 18:56:38,518 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-08-27 18:56:38,519 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:56:38,519 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,520 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-08-27 18:56:38,520 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:56:38,522 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:56:38,537 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-08-27 18:56:38,470 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1], old=null
dn2_1    | 2021-08-27 18:56:38,471 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 2021-08-27 18:56:38,471 [pool-25-thread-1] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState
dn2_1    | 2021-08-27 18:56:38,515 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD047CAF5EA,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:56:38,518 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=58789e5b-e79f-45d0-b7db-dfd047caf5ea
dn2_1    | 2021-08-27 18:56:38,660 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=58789e5b-e79f-45d0-b7db-dfd047caf5ea.
dn2_1    | 2021-08-27 18:56:38,660 [Command processor thread] INFO server.RaftServer: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: addNew group-07781E43614A:[b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1] returns group-07781E43614A:java.util.concurrent.CompletableFuture@46589463[Not completed]
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: new RaftServerImpl for group-07781E43614A:[b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1] with ContainerStateMachine:uninitialized
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: ConfigurationManager, init=-1: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn2_1    | 2021-08-27 18:56:38,662 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/4cb9ea29-ad02-4b75-b734-07781e43614a does not exist. Creating ...
dn2_1    | 2021-08-27 18:56:38,666 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/4cb9ea29-ad02-4b75-b734-07781e43614a/in_use.lock acquired by nodename 7@597ab2b886bc
dn2_1    | 2021-08-27 18:56:38,667 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/4cb9ea29-ad02-4b75-b734-07781e43614a has been successfully formatted.
dn2_1    | 2021-08-27 18:56:38,668 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-07781E43614A: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn2_1    | 2021-08-27 18:56:38,668 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn2_1    | 2021-08-27 18:56:38,668 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn2_1    | 2021-08-27 18:56:38,668 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn2_1    | 2021-08-27 18:56:38,668 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:56:38,668 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,674 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn2_1    | 2021-08-27 18:56:38,674 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn2_1    | 2021-08-27 18:56:38,675 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/4cb9ea29-ad02-4b75-b734-07781e43614a
dn2_1    | 2021-08-27 18:56:38,675 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn2_1    | 2021-08-27 18:56:38,675 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:56:38,675 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,675 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn2_1    | 2021-08-27 18:56:38,675 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn2_1    | 2021-08-27 18:56:38,676 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn2_1    | 2021-08-27 18:56:38,676 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn2_1    | 2021-08-27 18:56:38,676 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn2_1    | 2021-08-27 18:56:38,678 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn2_1    | 2021-08-27 18:56:38,678 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn2_1    | 2021-08-27 18:56:38,678 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:56:38,678 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn2_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn2_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn2_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn2_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
scm_1    | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-protobuf_3_7-1.1.1.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/picocli-4.6.1.jar:/opt/hadoop/share/ozone/lib/javassist-3.21.0-GA.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/hadoop-shaded-guava-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/reflections-0.9.11.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.3.1.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.3.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/jakarta.activation-api-1.2.1.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.3.1.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.43.v20210629.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/snappy-java-1.1.8.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.3.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.3.1.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-03f3b68-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar
scm_1    | STARTUP_MSG:   build = https://github.com/apache/ozone/2958ab3d829f0e7dd0e27f44afdfaf7491c22192 ; compiled by 'runner' on 2021-08-27T17:23Z
scm_1    | STARTUP_MSG:   java = 11.0.10
scm_1    | ************************************************************/
scm_1    | 2021-08-27 18:53:39,255 [main] INFO server.StorageContainerManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
scm_1    | 2021-08-27 18:53:39,709 [main] INFO ha.SCMHANodeDetails: ServiceID for StorageContainerManager is null
scm_1    | 2021-08-27 18:53:39,733 [main] INFO ha.SCMHANodeDetails: ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
scm_1    | 2021-08-27 18:53:40,598 [main] WARN server.ServerUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
scm_1    | 2021-08-27 18:53:40,971 [main] INFO upgrade.AbstractLayoutVersionManager: Initializing Layout version manager with metadata layout = INITIAL_VERSION (version = 0), software layout = SCM_HA (version = 2)
scm_1    | 2021-08-27 18:53:45,525 [main] INFO reflections.Reflections: Reflections took 1998 ms to scan 3 urls, producing 104 keys and 214 values 
scm_1    | 2021-08-27 18:53:46,545 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAFirstUpgradeLayoutChangeAction
scm_1    | 2021-08-27 18:53:46,549 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmOnFinalizeActionForDatanodeSchemaV2
scm_1    | 2021-08-27 18:53:46,573 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : ScmHAUnfinalizedStateValidationAction
scm_1    | 2021-08-27 18:53:46,573 [main] INFO upgrade.HDDSLayoutVersionManager: Registering Upgrade Action : DatanodeSchemaV2FinalizeAction
scm_1    | 2021-08-27 18:53:52,274 [main] WARN utils.HAUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
scm_1    | 2021-08-27 18:53:53,693 [main] WARN db.DBStoreBuilder: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
scm_1    | 2021-08-27 18:53:54,908 [main] INFO net.NodeSchemaLoader: Loading schema from [file:/etc/hadoop/network-topology-default.xml, jar:file:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
scm_1    | 2021-08-27 18:53:54,935 [main] INFO net.NodeSchemaLoader: Loading network topology layer schema file
scm_1    | 2021-08-27 18:53:55,548 [main] INFO ha.SequenceIdGenerator: upgrade localId to 107544261427200000
scm_1    | 2021-08-27 18:53:55,549 [main] INFO ha.SequenceIdGenerator: upgrade delTxnId to 0
scm_1    | 2021-08-27 18:53:55,674 [main] INFO ha.SequenceIdGenerator: upgrade containerId to 1
scm_1    | 2021-08-27 18:53:55,698 [main] INFO ha.SequenceIdGenerator: Init the HA SequenceIdGenerator.
scm_1    | 2021-08-27 18:53:56,025 [main] INFO node.SCMNodeManager: Entering startup safe mode.
scm_1    | 2021-08-27 18:53:56,124 [main] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
scm_1    | 2021-08-27 18:53:56,408 [main] INFO algorithms.LeaderChoosePolicyFactory: Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
scm_1    | 2021-08-27 18:53:56,451 [main] INFO ha.SCMServiceManager: Registering service BackgroundPipelineCreator.
scm_1    | 2021-08-27 18:53:56,467 [main] INFO pipeline.BackgroundPipelineCreator: Starting RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:53:56,634 [main] INFO algorithms.PipelineChoosePolicyFactory: Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
scm_1    | 2021-08-27 18:53:56,756 [main] INFO ha.SCMServiceManager: Registering service SCMBlockDeletingService.
scm_1    | 2021-08-27 18:53:56,814 [main] INFO ha.SCMServiceManager: Registering service ReplicationManager.
scm_1    | 2021-08-27 18:53:56,829 [main] INFO container.ReplicationManager: Starting Replication Monitor Thread.
scm_1    | 2021-08-27 18:53:56,921 [main] INFO safemode.ContainerSafeModeRule: containers with one replica threshold count 0
scm_1    | 2021-08-27 18:53:56,921 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 40 milliseconds for processing 1 containers.
scm_1    | 2021-08-27 18:53:56,949 [main] INFO safemode.HealthyPipelineSafeModeRule: Total pipeline count is 0, healthy pipeline threshold count is 1
scm_1    | 2021-08-27 18:53:56,958 [main] INFO safemode.OneReplicaPipelineSafeModeRule: Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
scm_1    | 2021-08-27 18:53:59,289 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
scm_1    | 2021-08-27 18:53:59,428 [Socket Reader #1 for port 9861] INFO ipc.Server: Starting Socket Reader #1 for port 9861
scm_1    | 2021-08-27 18:53:59,541 [Listener at 0.0.0.0/9861] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
scm_1    | 2021-08-27 18:53:59,549 [Socket Reader #1 for port 9863] INFO ipc.Server: Starting Socket Reader #1 for port 9863
scm_1    | 2021-08-27 18:53:59,574 [Listener at 0.0.0.0/9863] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
scm_1    | 2021-08-27 18:53:59,599 [Socket Reader #1 for port 9860] INFO ipc.Server: Starting Socket Reader #1 for port 9860
scm_1    | 2021-08-27 18:53:59,898 [Listener at 0.0.0.0/9860] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
scm_1    | 2021-08-27 18:53:59,915 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: 
scm_1    | Container Balancer status:
scm_1    | Key                            Value
scm_1    | Running                        false
scm_1    | Container Balancer Configuration values:
scm_1    | Key                                                Value
scm_1    | Threshold                                          0.1
scm_1    | Max Datanodes to Involve per Iteration(ratio)      0.5
scm_1    | Max Size to Move per Iteration                     10737418240B
scm_1    | 
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-08-27 18:56:38,408 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-08-27 18:56:38,409 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,409 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-08-27 18:56:38,410 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-08-27 18:56:38,411 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-08-27 18:56:38,411 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:56:38,411 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn1_1    | 2021-08-27 18:56:38,411 [pool-25-thread-1] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:38,412 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DD9CFDC01EB,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:56:38,416 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb
dn1_1    | 2021-08-27 18:56:38,536 [grpc-default-executor-3] INFO server.RaftServer: d8450bd1-e2fe-47a4-9a69-610877095f84: addNew group-DFD047CAF5EA:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1] returns group-DFD047CAF5EA:java.util.concurrent.CompletableFuture@1cdfaead[Not completed]
dn1_1    | 2021-08-27 18:56:38,537 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84: new RaftServerImpl for group-DFD047CAF5EA:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1] with ContainerStateMachine:uninitialized
dn1_1    | 2021-08-27 18:56:38,537 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn1_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea does not exist. Creating ...
dn1_1    | 2021-08-27 18:56:38,542 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea/in_use.lock acquired by nodename 7@cf3242dbbd7c
dn1_1    | 2021-08-27 18:56:38,545 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea has been successfully formatted.
dn1_1    | 2021-08-27 18:56:38,545 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn1_1    | 2021-08-27 18:56:38,546 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-DFD047CAF5EA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn1_1    | 2021-08-27 18:56:38,547 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn1_1    | 2021-08-27 18:56:38,547 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn1_1    | 2021-08-27 18:56:38,547 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn1_1    | 2021-08-27 18:56:38,547 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn1_1    | 2021-08-27 18:56:38,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn1_1    | 2021-08-27 18:56:38,549 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn1_1    | 2021-08-27 18:56:38,549 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea
dn1_1    | 2021-08-27 18:56:38,550 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn1_1    | 2021-08-27 18:56:38,551 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:56:38,551 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,551 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn1_1    | 2021-08-27 18:56:38,551 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn1_1    | 2021-08-27 18:56:38,551 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn1_1    | 2021-08-27 18:56:38,551 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn1_1    | 2021-08-27 18:56:38,553 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn1_1    | 2021-08-27 18:56:38,553 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn1_1    | 2021-08-27 18:56:38,554 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn1_1    | 2021-08-27 18:56:38,554 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:56:38,555 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn1_1    | 2021-08-27 18:56:38,557 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn1_1    | 2021-08-27 18:56:38,557 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn1_1    | 2021-08-27 18:56:38,558 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn1_1    | 2021-08-27 18:56:38,558 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn1_1    | 2021-08-27 18:56:38,558 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn1_1    | 2021-08-27 18:56:38,558 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn1_1    | 2021-08-27 18:56:38,560 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-08-27 18:56:38,560 [pool-25-thread-1] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn1_1    | 2021-08-27 18:56:38,561 [pool-25-thread-1] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-FollowerState
dn1_1    | 2021-08-27 18:56:38,562 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD047CAF5EA,id=d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:56:38,589 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb.
dn1_1    | 2021-08-27 18:56:43,466 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5066889031ns, electionTimeout:5066ms
dn1_1    | 2021-08-27 18:56:43,467 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState
dn1_1    | 2021-08-27 18:56:43,467 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn1_1    | 2021-08-27 18:56:43,467 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-08-27 18:56:43,467 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5
dn1_1    | 2021-08-27 18:56:43,469 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:1], old=null
dn1_1    | 2021-08-27 18:56:43,470 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5 ELECTION round 0: result PASSED (term=1)
dn1_1    | 2021-08-27 18:56:43,470 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5
dn1_1    | 2021-08-27 18:56:43,470 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn1_1    | 2021-08-27 18:56:43,470 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-E3B87C767530 with new leaderId: d8450bd1-e2fe-47a4-9a69-610877095f84
dn1_1    | 2021-08-27 18:56:43,471 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: change Leader from null to d8450bd1-e2fe-47a4-9a69-610877095f84 at term 1 for becomeLeader, leader elected after 5080ms
dn1_1    | 2021-08-27 18:56:43,471 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn1_1    | 2021-08-27 18:56:43,471 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn1_1    | 2021-08-27 18:56:43,471 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn1_1    | 2021-08-27 18:56:43,479 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
scm_1    | 2021-08-27 18:53:59,918 [Listener at 0.0.0.0/9860] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
scm_1    | 2021-08-27 18:53:59,925 [Listener at 0.0.0.0/9860] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
scm_1    | 2021-08-27 18:53:59,937 [Listener at 0.0.0.0/9860] INFO upgrade.UpgradeFinalizer: Running pre-finalized state validations for unfinalized layout features.
scm_1    | 2021-08-27 18:53:59,949 [Listener at 0.0.0.0/9860] INFO upgrade.UpgradeFinalizer: Executing pre finalize state validation ScmHAUnfinalizedStateValidationAction
scm_1    | 2021-08-27 18:53:59,949 [Listener at 0.0.0.0/9860] INFO upgrade.UpgradeFinalizer: Running first upgrade commands for unfinalized layout features.
scm_1    | 2021-08-27 18:53:59,950 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
scm_1    | 2021-08-27 18:54:00,138 [Listener at 0.0.0.0/9860] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
scm_1    | 2021-08-27 18:54:00,187 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
scm_1    | 2021-08-27 18:54:00,187 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: StorageContainerManager metrics system started
scm_1    | 2021-08-27 18:54:00,741 [Listener at 0.0.0.0/9860] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
scm_1    | 2021-08-27 18:54:00,754 [Listener at 0.0.0.0/9860] INFO server.SCMClientProtocolServer: RPC server for Client  is listening at /0.0.0.0:9860
scm_1    | 2021-08-27 18:54:00,770 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
scm_1    | 2021-08-27 18:54:00,773 [IPC Server listener on 9860] INFO ipc.Server: IPC Server listener on 9860: starting
scm_1    | 2021-08-27 18:54:01,047 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
scm_1    | 2021-08-27 18:54:01,048 [Listener at 0.0.0.0/9860] INFO server.SCMBlockProtocolServer: RPC server for Block Protocol is listening at /0.0.0.0:9863
scm_1    | 2021-08-27 18:54:01,048 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
scm_1    | 2021-08-27 18:54:01,055 [IPC Server listener on 9863] INFO ipc.Server: IPC Server listener on 9863: starting
scm_1    | 2021-08-27 18:54:01,237 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
scm_1    | 2021-08-27 18:54:01,238 [Listener at 0.0.0.0/9860] INFO server.SCMDatanodeProtocolServer: RPC server for DataNodes is listening at /0.0.0.0:9861
scm_1    | 2021-08-27 18:54:01,277 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
scm_1    | 2021-08-27 18:54:01,284 [IPC Server listener on 9861] INFO ipc.Server: IPC Server listener on 9861: starting
scm_1    | 2021-08-27 18:54:01,545 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@733ec58b] INFO util.JvmPauseMonitor: Starting JVM pause monitor
scm_1    | 2021-08-27 18:54:01,569 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Starting Web-server for scm at: http://0.0.0.0:9876
scm_1    | 2021-08-27 18:54:01,573 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
scm_1    | 2021-08-27 18:54:01,655 [Listener at 0.0.0.0/9860] INFO util.log: Logging initialized @36331ms to org.eclipse.jetty.util.log.Slf4jLog
scm_1    | 2021-08-27 18:54:02,196 [Listener at 0.0.0.0/9860] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
scm_1    | 2021-08-27 18:54:02,223 [Listener at 0.0.0.0/9860] INFO http.HttpRequestLog: Http request log for http.requests.scm is not defined
scm_1    | 2021-08-27 18:54:02,253 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
scm_1    | 2021-08-27 18:54:02,272 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
scm_1    | 2021-08-27 18:54:02,272 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
scm_1    | 2021-08-27 18:54:02,272 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
scm_1    | 2021-08-27 18:54:02,677 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Jetty bound to port 9876
scm_1    | 2021-08-27 18:54:02,682 [Listener at 0.0.0.0/9860] INFO server.Server: jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 11.0.10+9-LTS
scm_1    | 2021-08-27 18:54:03,008 [Listener at 0.0.0.0/9860] INFO server.session: DefaultSessionIdManager workerName=node0
scm_1    | 2021-08-27 18:54:03,008 [Listener at 0.0.0.0/9860] INFO server.session: No SessionScavenger set, using defaults
scm_1    | 2021-08-27 18:54:03,083 [Listener at 0.0.0.0/9860] INFO server.session: node0 Scavenging every 660000ms
scm_1    | 2021-08-27 18:54:03,291 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@4c3de38e{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
scm_1    | 2021-08-27 18:54:03,303 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@7f79edee{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
scm_1    | 2021-08-27 18:54:03,548 [IPC Server handler 2 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:54:03,551 [IPC Server handler 2 on default port 9861] INFO node.SCMNodeManager: Registered Data node : b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
scm_1    | 2021-08-27 18:54:03,585 [IPC Server handler 1 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:54:03,691 [IPC Server handler 1 on default port 9861] INFO node.SCMNodeManager: Registered Data node : eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
scm_1    | 2021-08-27 18:54:03,753 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 1 DataNodes registered, 3 required.
scm_1    | 2021-08-27 18:54:03,877 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 2 DataNodes registered, 3 required.
scm_1    | 2021-08-27 18:54:03,757 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ContainerSafeModeRule rule is successfully validated
scm_1    | 2021-08-27 18:54:03,889 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: AtleastOneDatanodeReportedRule rule is successfully validated
scm_1    | 2021-08-27 18:54:03,877 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
dn2_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn2_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn2_1    | 2021-08-27 18:56:38,686 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: start as a follower, conf=-1: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1], old=null
dn2_1    | 2021-08-27 18:56:38,686 [pool-25-thread-1] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn2_1    | 2021-08-27 18:56:38,687 [pool-25-thread-1] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState
dn2_1    | 2021-08-27 18:56:38,690 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-07781E43614A,id=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:56:38,691 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=4cb9ea29-ad02-4b75-b734-07781e43614a
dn2_1    | 2021-08-27 18:56:38,691 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=4cb9ea29-ad02-4b75-b734-07781e43614a.
dn2_1    | 2021-08-27 18:56:43,538 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-6DD9CFDC01EB, 1, (t:0, i:0))
dn2_1    | 2021-08-27 18:56:43,539 [grpc-default-executor-4] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FOLLOWER: accept ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: our priority 0 <= candidate's priority 0
dn2_1    | 2021-08-27 18:56:43,540 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:d8450bd1-e2fe-47a4-9a69-610877095f84
dn2_1    | 2021-08-27 18:56:43,540 [grpc-default-executor-4] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:43,540 [grpc-default-executor-4] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:43,540 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-08-27 18:56:43,546 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:OK-t1. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB:t1, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:56:43,647 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5176272425ns, electionTimeout:5122ms
dn2_1    | 2021-08-27 18:56:43,647 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState
dn2_1    | 2021-08-27 18:56:43,647 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn2_1    | 2021-08-27 18:56:43,647 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-08-27 18:56:43,647 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4
dn2_1    | 2021-08-27 18:56:43,649 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1], old=null
dn2_1    | 2021-08-27 18:56:43,662 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
dn2_1    | 2021-08-27 18:56:43,662 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO impl.LeaderElection:   Response 0: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:OK-t1
dn2_1    | 2021-08-27 18:56:43,662 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4 ELECTION round 0: result PASSED
dn2_1    | 2021-08-27 18:56:43,662 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4
dn2_1    | 2021-08-27 18:56:43,663 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn2_1    | 2021-08-27 18:56:43,663 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-DFD047CAF5EA with new leaderId: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:56:43,664 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:56:43,664 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: change Leader from null to b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at term 1 for becomeLeader, leader elected after 5212ms
dn2_1    | 2021-08-27 18:56:43,664 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn1_1    | 2021-08-27 18:56:43,480 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn1_1    | 2021-08-27 18:56:43,480 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn1_1    | 2021-08-27 18:56:43,480 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderStateImpl
dn1_1    | 2021-08-27 18:56:43,481 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-SegmentedRaftLogWorker: Starting segment from index:0
dn1_1    | 2021-08-27 18:56:43,487 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/08328f7e-12bb-4a26-9c74-e3b87c767530/current/log_inprogress_0
dn1_1    | 2021-08-27 18:56:43,488 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530-LeaderElection5] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-E3B87C767530: set configuration 0: [d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-08-27 18:56:43,531 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5119329276ns, electionTimeout:5115ms
dn1_1    | 2021-08-27 18:56:43,531 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:43,531 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn1_1    | 2021-08-27 18:56:43,532 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-08-27 18:56:43,532 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6
dn1_1    | 2021-08-27 18:56:43,534 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:56:43,549 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn1_1    | 2021-08-27 18:56:43,549 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection:   Response 0: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t1
dn1_1    | 2021-08-27 18:56:43,549 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6 ELECTION round 0: result REJECTED
dn1_1    | 2021-08-27 18:56:43,549 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
dn1_1    | 2021-08-27 18:56:43,549 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6
dn1_1    | 2021-08-27 18:56:43,549 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection6] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:43,662 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-DFD047CAF5EA, 1, (t:0, i:0))
dn1_1    | 2021-08-27 18:56:43,662 [grpc-default-executor-3] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-FOLLOWER: accept ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: our priority 0 <= candidate's priority 1
dn1_1    | 2021-08-27 18:56:43,663 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn1_1    | 2021-08-27 18:56:43,663 [grpc-default-executor-3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-FollowerState
dn1_1    | 2021-08-27 18:56:43,663 [grpc-default-executor-3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-FollowerState
dn1_1    | 2021-08-27 18:56:43,663 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-FollowerState was interrupted: {}
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn1_1    | 2021-08-27 18:56:43,671 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:OK-t1. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA:t1, leader=null, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-08-27 18:56:43,732 [grpc-default-executor-3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-DFD047CAF5EA with new leaderId: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn1_1    | 2021-08-27 18:56:43,732 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: change Leader from null to b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at term 1 for appendEntries, leader elected after 5184ms
scm_1    | 2021-08-27 18:54:03,926 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:54:03,938 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: aad3795e-c1bc-4b32-9226-179e0ea45da6, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, CreationTimestamp2021-08-27T18:53:56.351010Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:54:04,149 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 9d71a6ed-ed55-4b16-961e-e914f9c2a23e, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:eef38474-ab6c-4605-b4ff-f16dc7b7310f, CreationTimestamp2021-08-27T18:53:56.350160Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:54:04,150 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:04,169 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:04,376 [IPC Server handler 22 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /default-rack/d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:54:04,407 [IPC Server handler 22 on default port 9861] INFO node.SCMNodeManager: Registered Data node : d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
scm_1    | 2021-08-27 18:54:04,408 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:54:04,413 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 3 DataNodes registered, 3 required.
scm_1    | 2021-08-27 18:54:04,413 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: DataNodeSafeModeRule rule is successfully validated
scm_1    | 2021-08-27 18:54:04,413 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: All SCM safe mode pre check rules have passed
scm_1    | 2021-08-27 18:54:04,413 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: e896bedf-6c82-4af8-b07a-e600ba9678aa, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:53:56.351131Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:54:04,417 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:04,414 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
scm_1    | 2021-08-27 18:54:04,428 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
scm_1    | 2021-08-27 18:54:04,429 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:54:04,444 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 to datanode:eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:54:04,490 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 to datanode:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:54:04,490 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 to datanode:d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:54:04,505 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 92937e50-4ec1-4062-9d5d-12272aad7695, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:54:04.443Z[UTC]].
scm_1    | 2021-08-27 18:54:04,596 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Pipeline: PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 contains same datanodes as previous pipelines: PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 nodeIds: eef38474-ab6c-4605-b4ff-f16dc7b7310f, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:54:04,746 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@188a5fc2{scm,/,file:///tmp/jetty-0_0_0_0-9876-hdds-server-scm-1_2_0-SNAPSHOT_jar-_-any-4005623297657441596/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar!/webapps/scm}
scm_1    | 2021-08-27 18:54:04,792 [Listener at 0.0.0.0/9860] INFO server.AbstractConnector: Started ServerConnector@1fecfaea{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
scm_1    | 2021-08-27 18:54:04,793 [Listener at 0.0.0.0/9860] INFO server.Server: Started @39469ms
scm_1    | 2021-08-27 18:54:04,799 [Listener at 0.0.0.0/9860] INFO impl.MetricsSinkAdapter: Sink prometheus started
scm_1    | 2021-08-27 18:54:04,799 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Registered sink prometheus
scm_1    | 2021-08-27 18:54:04,802 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: HTTP server of scm listening at http://0.0.0.0:9876
scm_1    | 2021-08-27 18:54:06,425 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
dn3_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-08-27 18:56:38,538 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-08-27 18:56:38,539 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:56:38,539 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:56:38,541 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-08-27 18:56:38,541 [pool-25-thread-1] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:38,554 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DD9CFDC01EB,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:56:38,556 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb
dn3_1    | 2021-08-27 18:56:38,591 [grpc-default-executor-3] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: addNew group-DFD047CAF5EA:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1] returns group-DFD047CAF5EA:java.util.concurrent.CompletableFuture@5b37d583[Not completed]
dn3_1    | 2021-08-27 18:56:38,592 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f: new RaftServerImpl for group-DFD047CAF5EA:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1] with ContainerStateMachine:uninitialized
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:56:38,593 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-08-27 18:56:38,594 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:56:38,594 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-08-27 18:56:38,594 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-08-27 18:56:38,594 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea does not exist. Creating ...
dn3_1    | 2021-08-27 18:56:38,596 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea/in_use.lock acquired by nodename 7@b287440b3c5a
dn3_1    | 2021-08-27 18:56:38,597 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea has been successfully formatted.
dn3_1    | 2021-08-27 18:56:38,598 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:56:38,598 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-DFD047CAF5EA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-08-27 18:56:38,598 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:56:38,601 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-08-27 18:56:38,601 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-08-27 18:56:38,602 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:56:38,602 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,602 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-08-27 18:56:38,605 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-08-27 18:56:38,606 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-08-27 18:56:38,607 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:56:38,610 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,611 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-08-27 18:56:38,611 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:56:38,611 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:56:38,612 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-08-27 18:56:38,612 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-08-27 18:56:38,613 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-08-27 18:56:38,613 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-08-27 18:56:38,613 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-08-27 18:56:38,613 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:56:38,620 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-08-27 18:56:38,620 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-08-27 18:56:38,623 [pool-25-thread-1] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-FollowerState
dn3_1    | 2021-08-27 18:56:38,633 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DFD047CAF5EA,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:56:38,655 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb.
dn3_1    | 2021-08-27 18:56:38,655 [Command processor thread] INFO server.RaftServer: eef38474-ab6c-4605-b4ff-f16dc7b7310f: addNew group-CEB02DDEAB29:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1] returns group-CEB02DDEAB29:java.util.concurrent.CompletableFuture@44ffca9e[Not completed]
dn3_1    | 2021-08-27 18:56:38,659 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f: new RaftServerImpl for group-CEB02DDEAB29:[eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1] with ContainerStateMachine:uninitialized
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
dn3_1    | 2021-08-27 18:56:38,660 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:56:38,661 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: ConfigurationManager, init=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1], old=null, confs=<EMPTY_MAP>
dn3_1    | 2021-08-27 18:56:38,661 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
dn3_1    | 2021-08-27 18:56:38,661 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
dn3_1    | 2021-08-27 18:56:38,661 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.free-space.min = 0MB (=0) (default)
dn3_1    | 2021-08-27 18:56:38,661 [pool-25-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/16186f9d-48ac-4216-8a9f-ceb02ddeab29 does not exist. Creating ...
dn3_1    | 2021-08-27 18:56:38,665 [pool-25-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/16186f9d-48ac-4216-8a9f-ceb02ddeab29/in_use.lock acquired by nodename 7@b287440b3c5a
dn3_1    | 2021-08-27 18:56:38,667 [pool-25-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/16186f9d-48ac-4216-8a9f-ceb02ddeab29 has been successfully formatted.
dn3_1    | 2021-08-27 18:56:38,669 [pool-25-thread-1] INFO ratis.ContainerStateMachine: group-CEB02DDEAB29: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
dn3_1    | 2021-08-27 18:56:38,669 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
dn3_1    | 2021-08-27 18:56:38,669 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
dn3_1    | 2021-08-27 18:56:38,669 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
dn3_1    | 2021-08-27 18:56:38,669 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:56:38,670 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: new eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/16186f9d-48ac-4216-8a9f-ceb02ddeab29
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,671 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
dn3_1    | 2021-08-27 18:56:38,670 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:56:38,672 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
dn3_1    | 2021-08-27 18:56:38,672 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
dn3_1    | 2021-08-27 18:56:38,672 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
dn3_1    | 2021-08-27 18:56:38,672 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
dn3_1    | 2021-08-27 18:56:38,673 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
dn3_1    | 2021-08-27 18:56:38,673 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
dn3_1    | 2021-08-27 18:56:38,679 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
dn3_1    | 2021-08-27 18:56:38,679 [pool-25-thread-1] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
scm_1    | 2021-08-27 18:54:06,488 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:07,492 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:08,079 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:08,180 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:08,237 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:15,312 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: a398198e-adb7-4662-b093-75f5a4c05783, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:53:56.350875Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:54:15,312 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:15,314 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
scm_1    | 2021-08-27 18:54:15,316 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: HealthyPipelineSafeModeRule rule is successfully validated
scm_1    | 2021-08-27 18:54:15,316 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
scm_1    | 2021-08-27 18:54:15,316 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
scm_1    | 2021-08-27 18:54:15,316 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
scm_1    | 2021-08-27 18:54:15,317 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
scm_1    | 2021-08-27 18:54:15,317 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO pipeline.BackgroundPipelineCreator: Service BackgroundPipelineCreator transitions to RUNNING.
scm_1    | 2021-08-27 18:54:15,317 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO container.ReplicationManager: Service ReplicationManager transitions to RUNNING.
scm_1    | 2021-08-27 18:54:15,324 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
scm_1    | 2021-08-27 18:54:15,325 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
scm_1    | 2021-08-27 18:54:15,325 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
scm_1    | 2021-08-27 18:54:15,325 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=false, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
scm_1    | 2021-08-27 18:54:16,657 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 92937e50-4ec1-4062-9d5d-12272aad7695, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:54:04.443Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:55:04,358 [IPC Server handler 99 on default port 9863] WARN ha.SequenceIdGenerator: Failed to allocate a batch for containerId, expected lastId is 0, actual lastId is 1.
scm_1    | 2021-08-27 18:55:04,368 [IPC Server handler 99 on default port 9863] INFO ha.SequenceIdGenerator: Allocate a batch for containerId, change lastId from 1 to 1001.
scm_1    | 2021-08-27 18:55:04,375 [IPC Server handler 99 on default port 9863] WARN ha.SequenceIdGenerator: Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
scm_1    | 2021-08-27 18:55:04,376 [IPC Server handler 99 on default port 9863] INFO ha.SequenceIdGenerator: Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
scm_1    | 2021-08-27 18:55:21,092 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Finalization started.
scm_1    | 2021-08-27 18:55:21,094 [IPC Server handler 67 on default port 9860] INFO pipeline.BackgroundPipelineCreator: Stopping RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:55:21,096 [IPC Server handler 67 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 92937e50-4ec1-4062-9d5d-12272aad7695, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:54:04.443Z[UTC]] moved to CLOSED state
dn2_1    | 2021-08-27 18:56:43,676 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn2_1    | 2021-08-27 18:56:43,677 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 2021-08-27 18:56:43,677 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-08-27 18:56:43,677 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-08-27 18:56:43,677 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-08-27 18:56:43,688 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn2_1    | 2021-08-27 18:56:43,688 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:56:43,689 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn2_1    | 2021-08-27 18:56:43,691 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn2_1    | 2021-08-27 18:56:43,691 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn2_1    | 2021-08-27 18:56:43,696 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:56:43,699 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn2_1    | 2021-08-27 18:56:43,699 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn2_1    | 2021-08-27 18:56:43,699 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn2_1    | 2021-08-27 18:56:43,699 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn2_1    | 2021-08-27 18:56:43,699 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn2_1    | 2021-08-27 18:56:43,699 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn2_1    | 2021-08-27 18:56:43,700 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderStateImpl
dn2_1    | 2021-08-27 18:56:43,701 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-08-27 18:56:43,702 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea/current/log_inprogress_0
dn2_1    | 2021-08-27 18:56:43,705 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA-LeaderElection4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-DFD047CAF5EA: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-08-27 18:56:43,739 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5052603074ns, electionTimeout:5045ms
dn2_1    | 2021-08-27 18:56:43,739 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState
dn2_1    | 2021-08-27 18:56:43,739 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn2_1    | 2021-08-27 18:56:43,739 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-08-27 18:56:43,739 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5
dn2_1    | 2021-08-27 18:56:43,744 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:1], old=null
dn2_1    | 2021-08-27 18:56:43,744 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5 ELECTION round 0: result PASSED (term=1)
dn2_1    | 2021-08-27 18:56:43,744 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5
dn2_1    | 2021-08-27 18:56:43,744 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn2_1    | 2021-08-27 18:56:43,744 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-07781E43614A with new leaderId: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn2_1    | 2021-08-27 18:56:43,745 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: change Leader from null to b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at term 1 for becomeLeader, leader elected after 5076ms
dn2_1    | 2021-08-27 18:56:43,745 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn2_1    | 2021-08-27 18:56:43,747 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:56:38,683 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
dn3_1    | 2021-08-27 18:56:38,683 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
dn3_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
dn3_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
dn3_1    | 2021-08-27 18:56:38,685 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
dn3_1    | 2021-08-27 18:56:38,686 [pool-25-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
dn3_1    | 2021-08-27 18:56:38,686 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: start as a follower, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1], old=null
dn3_1    | 2021-08-27 18:56:38,689 [pool-25-thread-1] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: changes role from      null to FOLLOWER at term 0 for startAsFollower
dn3_1    | 2021-08-27 18:56:38,689 [pool-25-thread-1] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState
dn3_1    | 2021-08-27 18:56:38,689 [pool-25-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CEB02DDEAB29,id=eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:56:38,690 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=16186f9d-48ac-4216-8a9f-ceb02ddeab29
dn3_1    | 2021-08-27 18:56:38,690 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=16186f9d-48ac-4216-8a9f-ceb02ddeab29.
dn3_1    | 2021-08-27 18:56:43,541 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-6DD9CFDC01EB, 1, (t:0, i:0))
dn3_1    | 2021-08-27 18:56:43,541 [grpc-default-executor-3] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FOLLOWER: reject ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: our priority 1 > candidate's priority 0
dn3_1    | 2021-08-27 18:56:43,541 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:d8450bd1-e2fe-47a4-9a69-610877095f84
dn3_1    | 2021-08-27 18:56:43,542 [grpc-default-executor-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:43,542 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:56:43,543 [grpc-default-executor-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:43,545 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t1. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB:t1, leader=null, voted=null, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:56:43,653 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-DFD047CAF5EA, 1, (t:0, i:0))
dn3_1    | 2021-08-27 18:56:43,653 [grpc-default-executor-3] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-FOLLOWER: accept ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: our priority 0 <= candidate's priority 1
dn3_1    | 2021-08-27 18:56:43,653 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn3_1    | 2021-08-27 18:56:43,653 [grpc-default-executor-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-FollowerState
dn3_1    | 2021-08-27 18:56:43,653 [grpc-default-executor-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-FollowerState
dn3_1    | 2021-08-27 18:56:43,653 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
scm_1    | 2021-08-27 18:55:21,102 [IPC Server handler 67 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: e896bedf-6c82-4af8-b07a-e600ba9678aa, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:53:56.351131Z[UTC]] moved to CLOSED state
scm_1    | 2021-08-27 18:55:21,102 [IPC Server handler 67 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: a398198e-adb7-4662-b093-75f5a4c05783, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:OPEN, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:53:56.350875Z[UTC]] moved to CLOSED state
scm_1    | 2021-08-27 18:55:21,105 [IPC Server handler 67 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 9d71a6ed-ed55-4b16-961e-e914f9c2a23e, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:eef38474-ab6c-4605-b4ff-f16dc7b7310f, CreationTimestamp2021-08-27T18:53:56.350160Z[UTC]] moved to CLOSED state
scm_1    | 2021-08-27 18:55:21,106 [IPC Server handler 67 on default port 9860] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: aad3795e-c1bc-4b32-9226-179e0ea45da6, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:OPEN, leaderId:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, CreationTimestamp2021-08-27T18:53:56.351010Z[UTC]] moved to CLOSED state
scm_1    | 2021-08-27 18:55:21,106 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for all pipelines to close.
scm_1    | 2021-08-27 18:55:21,111 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO container.CloseContainerEventHandler: Close container Event triggered for container : #2
scm_1    | 2021-08-27 18:55:21,117 [EventQueue-CloseContainerForCloseContainerEventHandler] INFO container.CloseContainerEventHandler: Close container Event triggered for container : #1
scm_1    | 2021-08-27 18:55:26,107 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer:   Existing pipelines and containers will be closed during Upgrade.
scm_1    |   New pipelines creation will remain frozen until Upgrade is finalized.
scm_1    | 2021-08-27 18:55:26,108 [IPC Server handler 67 on default port 9860] INFO upgrade.ScmOnFinalizeActionForDatanodeSchemaV2: Executing SCM On Finalize action for layout feature DATANODE_SCHEMA_V2
scm_1    | 2021-08-27 18:55:26,122 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: No onFinalize work defined for feature: SCM_HA.
scm_1    | 2021-08-27 18:55:26,123 [IPC Server handler 67 on default port 9860] INFO pipeline.BackgroundPipelineCreator: Starting RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:55:26,123 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
scm_1    | 2021-08-27 18:55:26,124 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Closing pipeline PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 which uses HEALTHY READONLY datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
scm_1    | 2021-08-27 18:55:26,124 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 close command to datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:55:26,129 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 close command to datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:55:26,129 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 close command to datanode d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:55:26,130 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: 92937e50-4ec1-4062-9d5d-12272aad7695, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:54:04.443Z[UTC]] removed.
scm_1    | 2021-08-27 18:55:26,130 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Closing pipeline PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa which uses HEALTHY READONLY datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
scm_1    | 2021-08-27 18:55:26,130 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:26,135 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa since it stays at CLOSED stage.
scm_1    | 2021-08-27 18:55:26,135 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa close command to datanode d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:55:26,135 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: e896bedf-6c82-4af8-b07a-e600ba9678aa, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:53:56.351131Z[UTC]] removed.
scm_1    | 2021-08-27 18:55:26,136 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=9d71a6ed-ed55-4b16-961e-e914f9c2a23e since it stays at CLOSED stage.
scm_1    | 2021-08-27 18:55:26,136 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=9d71a6ed-ed55-4b16-961e-e914f9c2a23e close command to datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:55:26,136 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: 9d71a6ed-ed55-4b16-961e-e914f9c2a23e, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:eef38474-ab6c-4605-b4ff-f16dc7b7310f, CreationTimestamp2021-08-27T18:53:56.350160Z[UTC]] removed.
scm_1    | 2021-08-27 18:55:26,136 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=aad3795e-c1bc-4b32-9226-179e0ea45da6 since it stays at CLOSED stage.
scm_1    | 2021-08-27 18:55:26,136 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=aad3795e-c1bc-4b32-9226-179e0ea45da6 close command to datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:55:26,136 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: aad3795e-c1bc-4b32-9226-179e0ea45da6, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:CLOSED, leaderId:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, CreationTimestamp2021-08-27T18:53:56.351010Z[UTC]] removed.
scm_1    | 2021-08-27 18:55:26,137 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Scrubbing pipeline: id: PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 since it stays at CLOSED stage.
scm_1    | 2021-08-27 18:55:26,137 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 close command to datanode d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:55:26,139 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 close command to datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:55:26,140 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Send pipeline:PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 close command to datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:55:26,140 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Pipeline Pipeline[ Id: a398198e-adb7-4662-b093-75f5a4c05783, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [RATIS=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:CLOSED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:53:56.350875Z[UTC]] removed.
scm_1    | 2021-08-27 18:55:26,143 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler: Failed to close pipeline PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa which uses HEALTHY READONLY datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
scm_1    | org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=e896bedf-6c82-4af8-b07a-e600ba9678aa not found
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getContainers(PipelineStateMap.java:251)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerV2Impl.getContainers(PipelineStateManagerV2Impl.java:184)
scm_1    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
scm_1    | 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
scm_1    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
scm_1    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
scm_1    | 	at com.sun.proxy.$Proxy16.getContainers(Unknown Source)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closeContainersForPipeline(PipelineManagerImpl.java:321)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.closePipeline(PipelineManagerImpl.java:349)
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
scm_1    | 	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
scm_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
scm_1    | 2021-08-27 18:55:26,145 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Closing pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 which uses HEALTHY READONLY datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} 
scm_1    | 2021-08-27 18:55:26,145 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] ERROR node.HealthyReadOnlyNodeHandler: Failed to close pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 which uses HEALTHY READONLY datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}: 
scm_1    | org.apache.hadoop.hdds.scm.pipeline.PipelineNotFoundException: PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 not found
dn1_1    | 2021-08-27 18:56:43,756 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn1_1    | 2021-08-27 18:56:43,757 [grpc-default-executor-3] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLogWorker: Starting segment from index:0
dn1_1    | 2021-08-27 18:56:43,758 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-DFD047CAF5EA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea/current/log_inprogress_0
dn1_1    | 2021-08-27 18:56:48,569 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5019198875ns, electionTimeout:5018ms
dn1_1    | 2021-08-27 18:56:48,569 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:48,569 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn1_1    | 2021-08-27 18:56:48,569 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn1_1    | 2021-08-27 18:56:48,570 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7
dn1_1    | 2021-08-27 18:56:48,575 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7 ELECTION round 0: submit vote requests at term 2 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:56:48,599 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-6DD9CFDC01EB, 2, (t:0, i:0))
dn1_1    | 2021-08-27 18:56:48,599 [grpc-default-executor-3] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-CANDIDATE: reject ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: already has voted for d8450bd1-e2fe-47a4-9a69-610877095f84 at current term 2
dn1_1    | 2021-08-27 18:56:48,599 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:FAIL-t2. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB:t2, leader=null, voted=d8450bd1-e2fe-47a4-9a69-610877095f84, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn1_1    | 2021-08-27 18:56:48,605 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7: ELECTION REJECTED received 2 response(s) and 0 exception(s):
dn1_1    | 2021-08-27 18:56:48,606 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.LeaderElection:   Response 0: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2
dn1_1    | 2021-08-27 18:56:48,606 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.LeaderElection:   Response 1: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t2
dn1_1    | 2021-08-27 18:56:48,606 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.LeaderElection: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7 ELECTION round 0: result REJECTED
dn1_1    | 2021-08-27 18:56:48,607 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
dn1_1    | 2021-08-27 18:56:48,607 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7
dn1_1    | 2021-08-27 18:56:48,608 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-LeaderElection7] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:53,705 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: receive requestVote(ELECTION, eef38474-ab6c-4605-b4ff-f16dc7b7310f, group-6DD9CFDC01EB, 3, (t:0, i:0))
dn1_1    | 2021-08-27 18:56:53,705 [grpc-default-executor-3] INFO impl.VoteContext: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FOLLOWER: accept ELECTION from eef38474-ab6c-4605-b4ff-f16dc7b7310f: our priority 0 <= candidate's priority 1
dn1_1    | 2021-08-27 18:56:53,705 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn1_1    | 2021-08-27 18:56:53,705 [grpc-default-executor-3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: shutdown d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:53,706 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState was interrupted: {}
dn1_1    | java.lang.InterruptedException: sleep interrupted
dn1_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn1_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn1_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn1_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn1_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn1_1    | 2021-08-27 18:56:53,711 [grpc-default-executor-3] INFO impl.RoleInfo: d8450bd1-e2fe-47a4-9a69-610877095f84: start d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-FollowerState
dn1_1    | 2021-08-27 18:56:53,717 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB replies to ELECTION vote request: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-d8450bd1-e2fe-47a4-9a69-610877095f84#0:OK-t3. Peer's state: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB:t3, leader=null, voted=eef38474-ab6c-4605-b4ff-f16dc7b7310f, raftlog=d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:56:43,659 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:OK-t1. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA:t1, leader=null, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-08-27 18:56:43,716 [grpc-default-executor-3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-DFD047CAF5EA with new leaderId: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn3_1    | 2021-08-27 18:56:43,716 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: change Leader from null to b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at term 1 for appendEntries, leader elected after 5117ms
dn3_1    | 2021-08-27 18:56:43,739 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5049940011ns, electionTimeout:5049ms
dn3_1    | 2021-08-27 18:56:43,740 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState
dn3_1    | 2021-08-27 18:56:43,740 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
dn3_1    | 2021-08-27 18:56:43,740 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-08-27 18:56:43,740 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4
dn3_1    | 2021-08-27 18:56:43,745 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1], old=null
dn3_1    | 2021-08-27 18:56:43,745 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4 ELECTION round 0: result PASSED (term=1)
dn3_1    | 2021-08-27 18:56:43,745 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4
dn3_1    | 2021-08-27 18:56:43,745 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
dn3_1    | 2021-08-27 18:56:43,745 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-CEB02DDEAB29 with new leaderId: eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:56:43,746 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: change Leader from null to eef38474-ab6c-4605-b4ff-f16dc7b7310f at term 1 for becomeLeader, leader elected after 5076ms
dn3_1    | 2021-08-27 18:56:43,746 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-08-27 18:56:43,747 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:56:43,747 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn3_1    | 2021-08-27 18:56:43,747 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn3_1    | 2021-08-27 18:56:43,752 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn3_1    | 2021-08-27 18:56:43,752 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-08-27 18:56:43,753 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderStateImpl
dn3_1    | 2021-08-27 18:56:43,753 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-08-27 18:56:43,755 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/16186f9d-48ac-4216-8a9f-ceb02ddeab29/current/log_inprogress_0
dn3_1    | 2021-08-27 18:56:43,760 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29-LeaderElection4] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-CEB02DDEAB29: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-08-27 18:56:43,760 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:0, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn3_1    | 2021-08-27 18:56:43,760 [grpc-default-executor-3] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-08-27 18:56:43,771 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-DFD047CAF5EA-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/58789e5b-e79f-45d0-b7db-dfd047caf5ea/current/log_inprogress_0
dn3_1    | 2021-08-27 18:56:48,577 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: receive requestVote(ELECTION, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, group-6DD9CFDC01EB, 2, (t:0, i:0))
dn3_1    | 2021-08-27 18:56:48,578 [grpc-default-executor-3] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FOLLOWER: reject ELECTION from b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: our priority 1 > candidate's priority 0
dn3_1    | 2021-08-27 18:56:48,578 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
dn3_1    | 2021-08-27 18:56:48,578 [grpc-default-executor-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:48,578 [grpc-default-executor-3] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateMap.getPipeline(PipelineStateMap.java:121)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineStateManagerV2Impl.getPipeline(PipelineStateManagerV2Impl.java:125)
scm_1    | 	at jdk.internal.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
scm_1    | 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
scm_1    | 	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeLocal(SCMHAInvocationHandler.java:83)
scm_1    | 	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:68)
scm_1    | 	at com.sun.proxy.$Proxy16.getPipeline(Unknown Source)
scm_1    | 	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerImpl.getPipeline(PipelineManagerImpl.java:210)
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:65)
scm_1    | 	at org.apache.hadoop.hdds.scm.node.HealthyReadOnlyNodeHandler.onMessage(HealthyReadOnlyNodeHandler.java:38)
scm_1    | 	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:85)
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
scm_1    | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
scm_1    | 	at java.base/java.lang.Thread.run(Thread.java:834)
scm_1    | 2021-08-27 18:55:26,145 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
scm_1    | 2021-08-27 18:55:26,146 [EventQueue-HealthyReadonlyNodeForHealthyReadOnlyNodeHandler] INFO node.HealthyReadOnlyNodeHandler: Datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY READONLY state.
scm_1    | 2021-08-27 18:55:26,143 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy: Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 1073741824 bytes for data in healthy node set. Required 3. Found 0.
scm_1    | 2021-08-27 18:55:31,131 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:36,132 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:36,183 [IPC Server handler 9 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:36,215 [IPC Server handler 10 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:36,215 [IPC Server handler 8 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:36,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineReportHandler: Reported pipeline PipelineID=92937e50-4ec1-4062-9d5d-12272aad7695 is not found
scm_1    | 2021-08-27 18:55:36,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineReportHandler: Reported pipeline PipelineID=a398198e-adb7-4662-b093-75f5a4c05783 is not found
scm_1    | 2021-08-27 18:55:36,216 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineReportHandler: Reported pipeline PipelineID=aad3795e-c1bc-4b32-9226-179e0ea45da6 is not found
scm_1    | 2021-08-27 18:55:37,190 [IPC Server handler 10 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,233 [IPC Server handler 14 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,246 [IPC Server handler 7 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,249 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO container.IncrementalContainerReportHandler: Moving container #2 to CLOSED state, datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
scm_1    | 2021-08-27 18:55:37,250 [IPC Server handler 11 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,266 [IPC Server handler 30 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,291 [IPC Server handler 23 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,300 [IPC Server handler 25 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,317 [IPC Server handler 29 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,320 [IPC Server handler 39 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,381 [IPC Server handler 34 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,398 [IPC Server handler 27 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
dn1_1    | 2021-08-27 18:56:53,845 [grpc-default-executor-3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-6DD9CFDC01EB with new leaderId: eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn1_1    | 2021-08-27 18:56:53,845 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: change Leader from null to eef38474-ab6c-4605-b4ff-f16dc7b7310f at term 3 for appendEntries, leader elected after 15439ms
dn1_1    | 2021-08-27 18:56:53,855 [grpc-default-executor-3] INFO server.RaftServer$Division: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn1_1    | 2021-08-27 18:56:53,856 [grpc-default-executor-3] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLogWorker: Starting segment from index:0
dn1_1    | 2021-08-27 18:56:53,860 [d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d8450bd1-e2fe-47a4-9a69-610877095f84@group-6DD9CFDC01EB-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb/current/log_inprogress_0
dn2_1    | 2021-08-27 18:56:43,748 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 2021-08-27 18:56:43,748 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn2_1    | 2021-08-27 18:56:43,749 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn2_1    | 2021-08-27 18:56:43,769 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn2_1    | 2021-08-27 18:56:43,770 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn2_1    | 2021-08-27 18:56:43,770 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderStateImpl
dn2_1    | 2021-08-27 18:56:43,771 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-08-27 18:56:43,773 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/4cb9ea29-ad02-4b75-b734-07781e43614a/current/log_inprogress_0
dn2_1    | 2021-08-27 18:56:43,778 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A-LeaderElection5] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-07781E43614A: set configuration 0: [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:1], old=null
dn2_1    | 2021-08-27 18:56:48,566 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5020657010ns, electionTimeout:5018ms
dn2_1    | 2021-08-27 18:56:48,567 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:48,567 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
dn2_1    | 2021-08-27 18:56:48,568 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn2_1    | 2021-08-27 18:56:48,568 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6
dn2_1    | 2021-08-27 18:56:48,572 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6 ELECTION round 0: submit vote requests at term 2 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:56:48,591 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-6DD9CFDC01EB, 2, (t:0, i:0))
dn2_1    | 2021-08-27 18:56:48,591 [grpc-default-executor-4] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-CANDIDATE: reject ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: already has voted for b0432d1b-9f1f-4745-b0ce-b1246ad1eff2 at current term 2
dn2_1    | 2021-08-27 18:56:48,591 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:FAIL-t2. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB:t2, leader=null, voted=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:56:48,593 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6: ELECTION REJECTED received 1 response(s) and 0 exception(s):
dn2_1    | 2021-08-27 18:56:48,594 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection:   Response 0: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2
dn2_1    | 2021-08-27 18:56:48,596 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO impl.LeaderElection: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6 ELECTION round 0: result REJECTED
dn2_1    | 2021-08-27 18:56:48,597 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
dn2_1    | 2021-08-27 18:56:48,607 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6
dn2_1    | 2021-08-27 18:56:48,607 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-LeaderElection6] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:53,704 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: receive requestVote(ELECTION, eef38474-ab6c-4605-b4ff-f16dc7b7310f, group-6DD9CFDC01EB, 3, (t:0, i:0))
dn2_1    | 2021-08-27 18:56:53,706 [grpc-default-executor-4] INFO impl.VoteContext: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FOLLOWER: accept ELECTION from eef38474-ab6c-4605-b4ff-f16dc7b7310f: our priority 0 <= candidate's priority 1
dn2_1    | 2021-08-27 18:56:53,706 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn2_1    | 2021-08-27 18:56:53,706 [grpc-default-executor-4] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: shutdown b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:53,706 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState was interrupted: {}
dn2_1    | java.lang.InterruptedException: sleep interrupted
dn2_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn2_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn2_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
scm_1    | 2021-08-27 18:55:37,399 [EventQueue-IncrementalContainerReportForIncrementalContainerReportHandler] INFO container.IncrementalContainerReportHandler: Moving container #1 to CLOSED state, datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} reported CLOSED replica.
scm_1    | 2021-08-27 18:55:37,408 [IPC Server handler 26 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn1_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,457 [IPC Server handler 75 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn2_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,505 [IPC Server handler 90 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:37,516 [IPC Server handler 19 on default port 9861] WARN node.SCMNodeManager: Data node ha_dn3_1.ha_net can not be used in any pipeline in the cluster. DataNode MetadataLayoutVersion = 0, SCM MetadataLayoutVersion = 2
scm_1    | 2021-08-27 18:55:41,132 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:46,132 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:51,133 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:56,133 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:55:56,147 [RatisPipelineUtilsThread - 0] ERROR scm.SCMCommonPlacementPolicy: Unable to find enough nodes that meet the space requirement of 1073741824 bytes for metadata and 1073741824 bytes for data in healthy node set. Required 3. Found 0.
scm_1    | 2021-08-27 18:56:01,134 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:06,134 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:08,146 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO node.ReadOnlyHealthyToHealthyNodeHandler: Datanode d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
scm_1    | 2021-08-27 18:56:08,146 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:56:08,146 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO node.ReadOnlyHealthyToHealthyNodeHandler: Datanode eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
scm_1    | 2021-08-27 18:56:08,146 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:56:08,146 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO node.ReadOnlyHealthyToHealthyNodeHandler: Datanode b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0} moved to HEALTHY state.
scm_1    | 2021-08-27 18:56:08,146 [EventQueue-HealthyReadonlyToHealthyNodeForReadOnlyHealthyToHealthyNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
scm_1    | 2021-08-27 18:56:08,148 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=08328f7e-12bb-4a26-9c74-e3b87c767530 to datanode:d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:56:08,149 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 08328f7e-12bb-4a26-9c74-e3b87c767530, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:56:08.148Z[UTC]].
scm_1    | 2021-08-27 18:56:08,149 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb to datanode:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:56:08,149 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb to datanode:eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:56:08,150 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb to datanode:d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:56:08,150 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 99a406b1-a893-4330-a129-6dd9cfdc01eb, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:56:08.149Z[UTC]].
scm_1    | 2021-08-27 18:56:08,150 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=16186f9d-48ac-4216-8a9f-ceb02ddeab29 to datanode:eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:56:08,151 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 16186f9d-48ac-4216-8a9f-ceb02ddeab29, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:56:08.150Z[UTC]].
dn3_1    | 2021-08-27 18:56:48,578 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:56:48,591 [grpc-default-executor-3] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB replies to ELECTION vote request: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB:t2, leader=null, voted=null, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:56:48,596 [grpc-default-executor-4] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: receive requestVote(ELECTION, d8450bd1-e2fe-47a4-9a69-610877095f84, group-6DD9CFDC01EB, 2, (t:0, i:0))
dn3_1    | 2021-08-27 18:56:48,598 [grpc-default-executor-4] INFO impl.VoteContext: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FOLLOWER: reject ELECTION from d8450bd1-e2fe-47a4-9a69-610877095f84: our priority 1 > candidate's priority 0
dn3_1    | 2021-08-27 18:56:48,598 [grpc-default-executor-4] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d8450bd1-e2fe-47a4-9a69-610877095f84
dn3_1    | 2021-08-27 18:56:48,598 [grpc-default-executor-4] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:48,598 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState was interrupted: {}
dn3_1    | java.lang.InterruptedException: sleep interrupted
dn3_1    | 	at java.base/java.lang.Thread.sleep(Native Method)
dn3_1    | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
dn3_1    | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
dn3_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn3_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn3_1    | 2021-08-27 18:56:48,601 [grpc-default-executor-4] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:48,602 [grpc-default-executor-4] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB replies to ELECTION vote request: d8450bd1-e2fe-47a4-9a69-610877095f84<-eef38474-ab6c-4605-b4ff-f16dc7b7310f#0:FAIL-t2. Peer's state: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB:t2, leader=null, voted=null, raftlog=eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:56:53,690 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO impl.FollowerState: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5088590701ns, electionTimeout:5086ms
dn3_1    | 2021-08-27 18:56:53,690 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState
dn3_1    | 2021-08-27 18:56:53,691 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
dn3_1    | 2021-08-27 18:56:53,691 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
dn3_1    | 2021-08-27 18:56:53,691 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-FollowerState] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5
dn3_1    | 2021-08-27 18:56:53,699 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5 ELECTION round 0: submit vote requests at term 3 for -1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|priority:0], old=null
dn3_1    | 2021-08-27 18:56:53,712 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
dn3_1    | 2021-08-27 18:56:53,712 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO impl.LeaderElection:   Response 0: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:OK-t3
dn3_1    | 2021-08-27 18:56:53,712 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO impl.LeaderElection: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5 ELECTION round 0: result PASSED
dn3_1    | 2021-08-27 18:56:53,712 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: shutdown eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5
dn3_1    | 2021-08-27 18:56:53,713 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
dn3_1    | 2021-08-27 18:56:53,713 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-6DD9CFDC01EB with new leaderId: eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn3_1    | 2021-08-27 18:56:53,715 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: change Leader from null to eef38474-ab6c-4605-b4ff-f16dc7b7310f at term 3 for becomeLeader, leader elected after 15196ms
dn3_1    | 2021-08-27 18:56:53,716 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
dn3_1    | 2021-08-27 18:56:53,716 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
dn3_1    | 2021-08-27 18:56:53,716 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1024 M (=1073741824) (custom)
dn2_1    | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
dn2_1    | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
dn2_1    | 2021-08-27 18:56:53,707 [grpc-default-executor-4] INFO impl.RoleInfo: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2: start b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-FollowerState
dn2_1    | 2021-08-27 18:56:53,709 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB replies to ELECTION vote request: eef38474-ab6c-4605-b4ff-f16dc7b7310f<-b0432d1b-9f1f-4745-b0ce-b1246ad1eff2#0:OK-t3. Peer's state: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB:t3, leader=null, voted=eef38474-ab6c-4605-b4ff-f16dc7b7310f, raftlog=b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:56:53,827 [grpc-default-executor-4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-6DD9CFDC01EB with new leaderId: eef38474-ab6c-4605-b4ff-f16dc7b7310f
dn2_1    | 2021-08-27 18:56:53,827 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: change Leader from null to eef38474-ab6c-4605-b4ff-f16dc7b7310f at term 3 for appendEntries, leader elected after 15391ms
dn2_1    | 2021-08-27 18:56:53,859 [grpc-default-executor-4] INFO server.RaftServer$Division: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
dn2_1    | 2021-08-27 18:56:53,860 [grpc-default-executor-4] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLogWorker: Starting segment from index:0
dn2_1    | 2021-08-27 18:56:53,863 [b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2@group-6DD9CFDC01EB-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb/current/log_inprogress_0
dn2_1    | 2021-08-27 18:57:36,668 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
scm_1    | 2021-08-27 18:56:08,151 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=58789e5b-e79f-45d0-b7db-dfd047caf5ea to datanode:d8450bd1-e2fe-47a4-9a69-610877095f84
scm_1    | 2021-08-27 18:56:08,151 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=58789e5b-e79f-45d0-b7db-dfd047caf5ea to datanode:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:56:08,151 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=58789e5b-e79f-45d0-b7db-dfd047caf5ea to datanode:eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:56:08,152 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 58789e5b-e79f-45d0-b7db-dfd047caf5ea, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:56:08.151Z[UTC]].
scm_1    | 2021-08-27 18:56:08,152 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerImpl: Pipeline: PipelineID=58789e5b-e79f-45d0-b7db-dfd047caf5ea contains same datanodes as previous pipelines: PipelineID=99a406b1-a893-4330-a129-6dd9cfdc01eb nodeIds: d8450bd1-e2fe-47a4-9a69-610877095f84, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, eef38474-ab6c-4605-b4ff-f16dc7b7310f
scm_1    | 2021-08-27 18:56:08,152 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=4cb9ea29-ad02-4b75-b734-07781e43614a to datanode:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2
scm_1    | 2021-08-27 18:56:08,152 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 4cb9ea29-ad02-4b75-b734-07781e43614a, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-08-27T18:56:08.152Z[UTC]].
scm_1    | 2021-08-27 18:56:11,135 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:16,136 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:21,136 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:26,137 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:31,137 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:36,138 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:38,391 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 08328f7e-12bb-4a26-9c74-e3b87c767530, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:d8450bd1-e2fe-47a4-9a69-610877095f84, CreationTimestamp2021-08-27T18:56:08.148Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:56:38,673 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 16186f9d-48ac-4216-8a9f-ceb02ddeab29, Nodes: eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:eef38474-ab6c-4605-b4ff-f16dc7b7310f, CreationTimestamp2021-08-27T18:56:08.150Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:56:38,674 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 4cb9ea29-ad02-4b75-b734-07781e43614a, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, CreationTimestamp2021-08-27T18:56:08.152Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:56:41,138 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Waiting for at least one open pipeline after SCM finalization.
scm_1    | 2021-08-27 18:56:43,670 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 58789e5b-e79f-45d0-b7db-dfd047caf5ea, Nodes: d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:b0432d1b-9f1f-4745-b0ce-b1246ad1eff2, CreationTimestamp2021-08-27T18:56:08.151Z[UTC]] moved to OPEN state
scm_1    | 2021-08-27 18:56:46,139 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Open pipeline found after SCM finalization
scm_1    | 2021-08-27 18:56:46,140 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Finalization is done.
scm_1    | 2021-08-27 18:56:46,140 [IPC Server handler 67 on default port 9860] INFO upgrade.UpgradeFinalizer: Finalization is done.
dn3_1    | 2021-08-27 18:56:53,717 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
dn3_1    | 2021-08-27 18:56:53,717 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
dn3_1    | 2021-08-27 18:56:53,719 [Datanode State Machine Thread - 0] WARN statemachine.StateContext: No available thread in pool for past 30 seconds.
dn3_1    | 2021-08-27 18:56:53,721 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
dn3_1    | 2021-08-27 18:56:53,757 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn3_1    | 2021-08-27 18:56:53,758 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:56:53,760 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn3_1    | 2021-08-27 18:56:53,764 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn3_1    | 2021-08-27 18:56:53,767 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-08-27 18:56:53,767 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:56:53,776 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
dn3_1    | 2021-08-27 18:56:53,777 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
dn3_1    | 2021-08-27 18:56:53,777 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
dn3_1    | 2021-08-27 18:56:53,777 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
dn3_1    | 2021-08-27 18:56:53,777 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
dn3_1    | 2021-08-27 18:56:53,778 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
dn3_1    | 2021-08-27 18:56:53,786 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO impl.RoleInfo: eef38474-ab6c-4605-b4ff-f16dc7b7310f: start eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderStateImpl
dn3_1    | 2021-08-27 18:56:53,788 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLogWorker: Starting segment from index:0
dn3_1    | 2021-08-27 18:56:53,793 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/99a406b1-a893-4330-a129-6dd9cfdc01eb/current/log_inprogress_0
dn3_1    | 2021-08-27 18:56:53,819 [eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB-LeaderElection5] INFO server.RaftServer$Division: eef38474-ab6c-4605-b4ff-f16dc7b7310f@group-6DD9CFDC01EB: set configuration 0: [eef38474-ab6c-4605-b4ff-f16dc7b7310f|rpc:10.9.0.17:9858|dataStream:|priority:1, d8450bd1-e2fe-47a4-9a69-610877095f84|rpc:10.9.0.15:9858|dataStream:|priority:0, b0432d1b-9f1f-4745-b0ce-b1246ad1eff2|rpc:10.9.0.16:9858|dataStream:|priority:0], old=null
scm_1    | 2021-08-27 18:56:53,722 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerImpl: Pipeline Pipeline[ Id: 99a406b1-a893-4330-a129-6dd9cfdc01eb, Nodes: b0432d1b-9f1f-4745-b0ce-b1246ad1eff2{ip: 10.9.0.16, host: ha_dn2_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}eef38474-ab6c-4605-b4ff-f16dc7b7310f{ip: 10.9.0.17, host: ha_dn3_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d8450bd1-e2fe-47a4-9a69-610877095f84{ip: 10.9.0.15, host: ha_dn1_1.ha_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9858, RATIS_SERVER=9858, STANDALONE=9859], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:eef38474-ab6c-4605-b4ff-f16dc7b7310f, CreationTimestamp2021-08-27T18:56:08.149Z[UTC]] moved to OPEN state
