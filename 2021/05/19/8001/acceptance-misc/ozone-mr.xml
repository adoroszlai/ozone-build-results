<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 4.0.2 (Python 3.6.9 on linux)" generated="20210519 18:51:37.257" rpa="false" schemaversion="2">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite id="s1-s1-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:42.998" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:38:45.370" level="INFO">${rc} = 255</msg>
<msg timestamp="20210519 18:38:45.370" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:38:42.994" endtime="20210519 18:38:45.370"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:38:45.372" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:38:45.371" endtime="20210519 18:38:45.372"/>
</kw>
<msg timestamp="20210519 18:38:45.372" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:38:42.993" endtime="20210519 18:38:45.372"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:45.376" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:38:47.447" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:38:47.447" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:38:45.375" endtime="20210519 18:38:47.447"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:38:47.449" level="INFO"/>
<status status="PASS" starttime="20210519 18:38:47.448" endtime="20210519 18:38:47.449"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:38:47.449" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:38:47.449" endtime="20210519 18:38:47.449"/>
</kw>
<status status="PASS" starttime="20210519 18:38:45.374" endtime="20210519 18:38:47.450"/>
</kw>
<msg timestamp="20210519 18:38:47.450" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:38:45.374" endtime="20210519 18:38:47.450"/>
</kw>
<msg timestamp="20210519 18:38:47.450" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210519 18:38:45.373" endtime="20210519 18:38:47.450"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:38:47.451" endtime="20210519 18:38:47.451"/>
</kw>
<status status="PASS" starttime="20210519 18:38:45.373" endtime="20210519 18:38:47.451"/>
</kw>
<status status="PASS" starttime="20210519 18:38:45.372" endtime="20210519 18:38:47.451"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:47.461" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:38:49.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:38:49.614" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:38:47.459" endtime="20210519 18:38:49.614"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:38:49.615" level="INFO"/>
<status status="PASS" starttime="20210519 18:38:49.614" endtime="20210519 18:38:49.615"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:38:49.615" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:38:49.615" endtime="20210519 18:38:49.615"/>
</kw>
<status status="PASS" starttime="20210519 18:38:47.458" endtime="20210519 18:38:49.616"/>
</kw>
<msg timestamp="20210519 18:38:49.616" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:38:47.458" endtime="20210519 18:38:49.616"/>
</kw>
<status status="PASS" starttime="20210519 18:38:47.452" endtime="20210519 18:38:49.616"/>
</kw>
<status status="PASS" starttime="20210519 18:38:47.452" endtime="20210519 18:38:49.616"/>
</kw>
<status status="PASS" starttime="20210519 18:38:47.451" endtime="20210519 18:38:49.616"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210519 18:38:49.617" endtime="20210519 18:38:49.617"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:49.620" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:38:51.821" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:38:51.821" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:38...</msg>
<status status="PASS" starttime="20210519 18:38:49.618" endtime="20210519 18:38:51.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:38:51.823" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:38:49.567Z",
  "modificationTime" : "2021-05-19T18:38:49.567Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210519 18:38:51.822" endtime="20210519 18:38:51.823"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:38:51.823" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:38:51.823" endtime="20210519 18:38:51.823"/>
</kw>
<status status="PASS" starttime="20210519 18:38:49.618" endtime="20210519 18:38:51.824"/>
</kw>
<msg timestamp="20210519 18:38:51.824" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:38:49.618" endtime="20210519 18:38:51.824"/>
</kw>
<msg timestamp="20210519 18:38:51.824" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:38...</msg>
<status status="PASS" starttime="20210519 18:38:49.617" endtime="20210519 18:38:51.824"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:38:51.824" endtime="20210519 18:38:51.825"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:38:51.829" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:38:51.829" endtime="20210519 18:38:51.829"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:38:51.830" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:38:51.829" endtime="20210519 18:38:51.830"/>
</kw>
<status status="PASS" starttime="20210519 18:38:51.828" endtime="20210519 18:38:51.830"/>
</kw>
<msg timestamp="20210519 18:38:51.831" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:38:51.827" endtime="20210519 18:38:51.831"/>
</kw>
<status status="PASS" starttime="20210519 18:38:51.826" endtime="20210519 18:38:51.831"/>
</kw>
<msg timestamp="20210519 18:38:51.831" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210519 18:38:51.826" endtime="20210519 18:38:51.831"/>
</kw>
<msg timestamp="20210519 18:38:51.831" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210519 18:38:51.825" endtime="20210519 18:38:51.831"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:51.834" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:38:53.932" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:38:53.932" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:38:51.833" endtime="20210519 18:38:53.932"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:38:53.933" level="INFO"/>
<status status="PASS" starttime="20210519 18:38:53.932" endtime="20210519 18:38:53.933"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:38:53.934" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:38:53.933" endtime="20210519 18:38:53.934"/>
</kw>
<status status="PASS" starttime="20210519 18:38:51.832" endtime="20210519 18:38:53.934"/>
</kw>
<msg timestamp="20210519 18:38:53.934" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:38:51.832" endtime="20210519 18:38:53.935"/>
</kw>
<status status="PASS" starttime="20210519 18:38:51.831" endtime="20210519 18:38:53.935"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:53.939" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:38:58.311" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:38:58.311" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:38:53.936" endtime="20210519 18:38:58.311"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:38:58.313" level="INFO"/>
<status status="PASS" starttime="20210519 18:38:58.312" endtime="20210519 18:38:58.313"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:38:58.313" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:38:58.313" endtime="20210519 18:38:58.313"/>
</kw>
<status status="PASS" starttime="20210519 18:38:53.936" endtime="20210519 18:38:58.314"/>
</kw>
<msg timestamp="20210519 18:38:58.314" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:38:53.936" endtime="20210519 18:38:58.314"/>
</kw>
<status status="PASS" starttime="20210519 18:38:53.935" endtime="20210519 18:38:58.314"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:38:58.320" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:02.767" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:02.767" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:38:58.318" endtime="20210519 18:39:02.767"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:02.768" level="INFO"/>
<status status="PASS" starttime="20210519 18:39:02.768" endtime="20210519 18:39:02.769"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:02.769" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:02.769" endtime="20210519 18:39:02.769"/>
</kw>
<status status="PASS" starttime="20210519 18:38:58.315" endtime="20210519 18:39:02.770"/>
</kw>
<msg timestamp="20210519 18:39:02.770" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:38:58.315" endtime="20210519 18:39:02.770"/>
</kw>
<status status="PASS" starttime="20210519 18:38:58.315" endtime="20210519 18:39:02.770"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:02.774" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:06.607" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:06.607" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:39:02.772" endtime="20210519 18:39:06.607"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:06.608" level="INFO"/>
<status status="PASS" starttime="20210519 18:39:06.607" endtime="20210519 18:39:06.608"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:06.609" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:06.608" endtime="20210519 18:39:06.609"/>
</kw>
<status status="PASS" starttime="20210519 18:39:02.771" endtime="20210519 18:39:06.609"/>
</kw>
<msg timestamp="20210519 18:39:06.609" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:02.771" endtime="20210519 18:39:06.609"/>
</kw>
<status status="PASS" starttime="20210519 18:39:02.770" endtime="20210519 18:39:06.610"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210519 18:38:42.992" endtime="20210519 18:39:06.610"/>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:39:06.616" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:39:06.616" endtime="20210519 18:39:06.616"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:39:06.617" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:39:06.617" endtime="20210519 18:39:06.617"/>
</kw>
<status status="PASS" starttime="20210519 18:39:06.615" endtime="20210519 18:39:06.617"/>
</kw>
<msg timestamp="20210519 18:39:06.618" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:39:06.614" endtime="20210519 18:39:06.618"/>
</kw>
<status status="PASS" starttime="20210519 18:39:06.614" endtime="20210519 18:39:06.618"/>
</kw>
<msg timestamp="20210519 18:39:06.618" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:39:06.613" endtime="20210519 18:39:06.618"/>
</kw>
<msg timestamp="20210519 18:39:06.618" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:39:06.612" endtime="20210519 18:39:06.618"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:06.622" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:08.748" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:08.748" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:39:06.620" endtime="20210519 18:39:08.748"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:08.749" level="INFO"/>
<status status="PASS" starttime="20210519 18:39:08.748" endtime="20210519 18:39:08.750"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:08.750" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:08.750" endtime="20210519 18:39:08.750"/>
</kw>
<status status="PASS" starttime="20210519 18:39:06.619" endtime="20210519 18:39:08.751"/>
</kw>
<msg timestamp="20210519 18:39:08.751" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:06.619" endtime="20210519 18:39:08.751"/>
</kw>
<status status="PASS" starttime="20210519 18:39:06.619" endtime="20210519 18:39:08.751"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:08.755" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:10.822" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:10.822" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:39:08.753" endtime="20210519 18:39:10.822"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:10.823" level="INFO"/>
<status status="PASS" starttime="20210519 18:39:10.822" endtime="20210519 18:39:10.823"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:10.824" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:10.823" endtime="20210519 18:39:10.824"/>
</kw>
<status status="PASS" starttime="20210519 18:39:08.752" endtime="20210519 18:39:10.824"/>
</kw>
<msg timestamp="20210519 18:39:10.824" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:08.752" endtime="20210519 18:39:10.824"/>
</kw>
<status status="PASS" starttime="20210519 18:39:08.751" endtime="20210519 18:39:10.825"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210519 18:39:06.611" endtime="20210519 18:39:10.825"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210519 18:38:42.924" endtime="20210519 18:39:10.826"/>
</suite>
<suite id="s1-s1-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:40:46.155" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:40:46.154" endtime="20210519 18:40:46.155"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:40:46.155" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:40:46.155" endtime="20210519 18:40:46.155"/>
</kw>
<status status="PASS" starttime="20210519 18:40:46.154" endtime="20210519 18:40:46.156"/>
</kw>
<msg timestamp="20210519 18:40:46.156" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:40:46.153" endtime="20210519 18:40:46.156"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:40:46.156" endtime="20210519 18:40:46.157"/>
</kw>
<msg timestamp="20210519 18:40:46.157" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:40:46.156" endtime="20210519 18:40:46.157"/>
</kw>
<status status="PASS" starttime="20210519 18:40:46.153" endtime="20210519 18:40:46.157"/>
</kw>
<msg timestamp="20210519 18:40:46.158" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:40:46.152" endtime="20210519 18:40:46.158"/>
</kw>
<msg timestamp="20210519 18:40:46.158" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:40:46.151" endtime="20210519 18:40:46.158"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:40:46.158" level="INFO">${random} = 93057</msg>
<status status="PASS" starttime="20210519 18:40:46.158" endtime="20210519 18:40:46.158"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:40:46.164" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-93057 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:40:49.569" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:40:49.569" level="INFO">${output} = 2021-05-19 18:40:48 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:48 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 ...</msg>
<status status="PASS" starttime="20210519 18:40:46.160" endtime="20210519 18:40:49.569"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:40:49.572" level="INFO">2021-05-19 18:40:48 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:48 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 18:40:48 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-19 18:40:48 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:40:48 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7F926258F9FB-&gt;0a34254e-d86d-4a78-83b2-062e8b9eb0ec
2021-05-19 18:40:48 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210519 18:40:49.570" endtime="20210519 18:40:49.574"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:40:49.575" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:40:49.574" endtime="20210519 18:40:49.575"/>
</kw>
<status status="PASS" starttime="20210519 18:40:46.159" endtime="20210519 18:40:49.575"/>
</kw>
<msg timestamp="20210519 18:40:49.575" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:40:46.159" endtime="20210519 18:40:49.575"/>
</kw>
<msg timestamp="20210519 18:40:49.576" level="INFO">${result} = 2021-05-19 18:40:48 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:48 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 ...</msg>
<status status="PASS" starttime="20210519 18:40:46.159" endtime="20210519 18:40:49.576"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:40:49.580" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:40:51.310" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:40:51.311" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:38 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:39 ofs://om/volume1/bucket1/ozone-72534
-rw-...</msg>
<status status="PASS" starttime="20210519 18:40:49.578" endtime="20210519 18:40:51.311"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:40:51.312" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:38 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:39 ofs://om/volume1/bucket1/ozone-72534
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:40 ofs://om/volume1/bucket1/ozone-93057
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:39 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:40 ofs://om/volume1/bucket1/wordcount-AgkRj16r.txt</msg>
<status status="PASS" starttime="20210519 18:40:51.311" endtime="20210519 18:40:51.312"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:40:51.313" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:40:51.313" endtime="20210519 18:40:51.313"/>
</kw>
<status status="PASS" starttime="20210519 18:40:49.578" endtime="20210519 18:40:51.313"/>
</kw>
<msg timestamp="20210519 18:40:51.313" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:40:49.577" endtime="20210519 18:40:51.314"/>
</kw>
<msg timestamp="20210519 18:40:51.314" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:38 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:39 ofs://om/volume1/bucket1/ozone-72534
-rw-...</msg>
<status status="PASS" starttime="20210519 18:40:49.576" endtime="20210519 18:40:51.314"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:40:51.314" endtime="20210519 18:40:51.315"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210519 18:40:46.150" endtime="20210519 18:40:51.315"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210519 18:40:46.086" endtime="20210519 18:40:51.317"/>
</suite>
<suite id="s1-s1-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:39:15.154" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:39:15.154" endtime="20210519 18:39:15.154"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:39:15.155" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:39:15.154" endtime="20210519 18:39:15.155"/>
</kw>
<status status="PASS" starttime="20210519 18:39:15.153" endtime="20210519 18:39:15.155"/>
</kw>
<msg timestamp="20210519 18:39:15.155" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:39:15.153" endtime="20210519 18:39:15.155"/>
</kw>
<status status="PASS" starttime="20210519 18:39:15.152" endtime="20210519 18:39:15.155"/>
</kw>
<msg timestamp="20210519 18:39:15.156" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:39:15.152" endtime="20210519 18:39:15.156"/>
</kw>
<msg timestamp="20210519 18:39:15.156" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:39:15.151" endtime="20210519 18:39:15.156"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:39:15.156" level="INFO">${random} = 72534</msg>
<status status="PASS" starttime="20210519 18:39:15.156" endtime="20210519 18:39:15.156"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:15.162" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-72534 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:18.719" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:18.719" level="INFO">${output} = 2021-05-19 18:39:17 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:39:17 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 ...</msg>
<status status="PASS" starttime="20210519 18:39:15.158" endtime="20210519 18:39:18.719"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:18.720" level="INFO">2021-05-19 18:39:17 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:39:17 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 18:39:17 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-19 18:39:17 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:39:17 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F1560E670722-&gt;1f5ead0c-24fe-4459-a3f4-8f47cc99eb19
2021-05-19 18:39:17 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210519 18:39:18.719" endtime="20210519 18:39:18.720"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:18.721" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:18.720" endtime="20210519 18:39:18.721"/>
</kw>
<status status="PASS" starttime="20210519 18:39:15.157" endtime="20210519 18:39:18.721"/>
</kw>
<msg timestamp="20210519 18:39:18.721" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:15.157" endtime="20210519 18:39:18.722"/>
</kw>
<msg timestamp="20210519 18:39:18.722" level="INFO">${result} = 2021-05-19 18:39:17 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:39:17 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 ...</msg>
<status status="PASS" starttime="20210519 18:39:15.156" endtime="20210519 18:39:18.722"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:18.725" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:20.482" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:20.482" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:38 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:39 o3fs://bucket1.volume1.om/ozone-72534
dr...</msg>
<status status="PASS" starttime="20210519 18:39:18.724" endtime="20210519 18:39:20.482"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:20.483" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:38 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:39 o3fs://bucket1.volume1.om/ozone-72534
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:39 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:39:20.483" endtime="20210519 18:39:20.483"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:20.484" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:20.483" endtime="20210519 18:39:20.484"/>
</kw>
<status status="PASS" starttime="20210519 18:39:18.723" endtime="20210519 18:39:20.484"/>
</kw>
<msg timestamp="20210519 18:39:20.484" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:18.723" endtime="20210519 18:39:20.484"/>
</kw>
<msg timestamp="20210519 18:39:20.484" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:38 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-19 18:39 o3fs://bucket1.volume1.om/ozone-72534
dr...</msg>
<status status="PASS" starttime="20210519 18:39:18.722" endtime="20210519 18:39:20.484"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:39:20.485" endtime="20210519 18:39:20.485"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210519 18:39:15.150" endtime="20210519 18:39:20.485"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210519 18:39:15.095" endtime="20210519 18:39:20.486"/>
</suite>
<suite id="s1-s1-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:40:55.978" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:40:55.985" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:40:55.985" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:55.975" endtime="20210519 18:40:55.985"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:40:55.986" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:55.986" endtime="20210519 18:40:55.986"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:40:55.987" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:40:55.986" endtime="20210519 18:40:55.987"/>
</kw>
<status status="PASS" starttime="20210519 18:40:55.974" endtime="20210519 18:40:55.987"/>
</kw>
<msg timestamp="20210519 18:40:55.987" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:40:55.973" endtime="20210519 18:40:55.987"/>
</kw>
<msg timestamp="20210519 18:40:55.988" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:55.973" endtime="20210519 18:40:55.988"/>
</kw>
<msg timestamp="20210519 18:40:55.988" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:55.972" endtime="20210519 18:40:55.988"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:40:55.993" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:40:55.993" endtime="20210519 18:40:55.994"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:40:55.994" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:40:55.994" endtime="20210519 18:40:55.994"/>
</kw>
<status status="PASS" starttime="20210519 18:40:55.992" endtime="20210519 18:40:55.995"/>
</kw>
<msg timestamp="20210519 18:40:55.995" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:40:55.992" endtime="20210519 18:40:55.995"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:40:55.996" endtime="20210519 18:40:55.996"/>
</kw>
<msg timestamp="20210519 18:40:55.996" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:40:55.995" endtime="20210519 18:40:55.996"/>
</kw>
<status status="PASS" starttime="20210519 18:40:55.991" endtime="20210519 18:40:55.997"/>
</kw>
<msg timestamp="20210519 18:40:55.997" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:40:55.990" endtime="20210519 18:40:55.997"/>
</kw>
<msg timestamp="20210519 18:40:55.997" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:40:55.988" endtime="20210519 18:40:55.997"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:40:56.001" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:41:31.855" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:41:31.855" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:40:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:58 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210519 18:40:55.999" endtime="20210519 18:41:31.855"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:41:31.857" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:40:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:58 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 18:40:58 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-19 18:40:58 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:40:58 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-CE9BA373A484-&gt;1f5ead0c-24fe-4459-a3f4-8f47cc99eb19
2021-05-19 18:40:58 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-19 18:41:01 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:41:02 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:41:02 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-19 18:41:02 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-CFEEE1A74EAD-&gt;0a34254e-d86d-4a78-83b2-062e8b9eb0ec
2021-05-19 18:41:02 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:41:02 INFO  JobSubmitter:198 - number of splits:3
2021-05-19 18:41:02 INFO  JobSubmitter:287 - Submitting tokens for job: job_1621449483662_0003
2021-05-19 18:41:02 INFO  YarnClientImpl:273 - Submitted application application_1621449483662_0003
2021-05-19 18:41:02 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1621449483662_0003/
2021-05-19 18:41:02 INFO  Job:1339 - Running job: job_1621449483662_0003
2021-05-19 18:41:10 INFO  Job:1360 - Job job_1621449483662_0003 running in uber mode : false
2021-05-19 18:41:10 INFO  Job:1367 -  map 0% reduce 0%
2021-05-19 18:41:17 INFO  Job:1367 -  map 33% reduce 0%
2021-05-19 18:41:22 INFO  Job:1367 -  map 67% reduce 0%
2021-05-19 18:41:26 INFO  Job:1367 -  map 100% reduce 0%
2021-05-19 18:41:31 INFO  Job:1367 -  map 100% reduce 100%
2021-05-19 18:41:31 INFO  Job:1378 - Job job_1621449483662_0003 completed successfully
2021-05-19 18:41:31 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=632621
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37628
		Total time spent by all reduces in occupied slots (ms)=13316
		Total time spent by all map tasks (ms)=9407
		Total time spent by all reduce tasks (ms)=3329
		Total vcore-milliseconds taken by all map tasks=9407
		Total vcore-milliseconds taken by all reduce tasks=3329
		Total megabyte-milliseconds taken by all map tasks=38531072
		Total megabyte-milliseconds taken by all reduce tasks=13635584
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=529
		CPU time spent (ms)=6250
		Physical memory (bytes) snapshot=1281814528
		Virtual memory (bytes) snapshot=15775223808
		Total committed heap usage (bytes)=1055916032
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 29.48 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210519 18:41:31.856" endtime="20210519 18:41:31.858"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:41:31.858" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:41:31.858" endtime="20210519 18:41:31.858"/>
</kw>
<status status="PASS" starttime="20210519 18:40:55.999" endtime="20210519 18:41:31.859"/>
</kw>
<msg timestamp="20210519 18:41:31.859" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:40:55.998" endtime="20210519 18:41:31.859"/>
</kw>
<msg timestamp="20210519 18:41:31.860" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:40:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:58 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210519 18:40:55.997" endtime="20210519 18:41:31.860"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:41:31.860" endtime="20210519 18:41:31.860"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:40:55.971" endtime="20210519 18:41:31.860"/>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:41:31.865" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:41:31.871" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:41:31.871" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:41:31.864" endtime="20210519 18:41:31.871"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:41:31.872" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:41:31.871" endtime="20210519 18:41:31.872"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:41:31.873" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:41:31.872" endtime="20210519 18:41:31.873"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.863" endtime="20210519 18:41:31.873"/>
</kw>
<msg timestamp="20210519 18:41:31.873" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:41:31.863" endtime="20210519 18:41:31.873"/>
</kw>
<msg timestamp="20210519 18:41:31.873" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:41:31.862" endtime="20210519 18:41:31.873"/>
</kw>
<msg timestamp="20210519 18:41:31.874" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:41:31.862" endtime="20210519 18:41:31.874"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:41:31.874" level="INFO">${random} = IsJfwLkb</msg>
<status status="PASS" starttime="20210519 18:41:31.874" endtime="20210519 18:41:31.874"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:41:31.878" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:41:31.878" endtime="20210519 18:41:31.878"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:41:31.879" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:41:31.878" endtime="20210519 18:41:31.879"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.877" endtime="20210519 18:41:31.879"/>
</kw>
<msg timestamp="20210519 18:41:31.879" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:41:31.877" endtime="20210519 18:41:31.879"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:41:31.879" endtime="20210519 18:41:31.880"/>
</kw>
<msg timestamp="20210519 18:41:31.880" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:41:31.879" endtime="20210519 18:41:31.880"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.876" endtime="20210519 18:41:31.880"/>
</kw>
<msg timestamp="20210519 18:41:31.880" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:41:31.875" endtime="20210519 18:41:31.880"/>
</kw>
<msg timestamp="20210519 18:41:31.881" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:41:31.874" endtime="20210519 18:41:31.881"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:41:31.884" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:41:31.884" endtime="20210519 18:41:31.884"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:41:31.885" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:41:31.884" endtime="20210519 18:41:31.885"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.883" endtime="20210519 18:41:31.885"/>
</kw>
<msg timestamp="20210519 18:41:31.885" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:41:31.883" endtime="20210519 18:41:31.885"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:41:31.887" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210519 18:41:31.886" endtime="20210519 18:41:31.887"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:41:31.887" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210519 18:41:31.887" endtime="20210519 18:41:31.887"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.885" endtime="20210519 18:41:31.887"/>
</kw>
<msg timestamp="20210519 18:41:31.888" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210519 18:41:31.885" endtime="20210519 18:41:31.888"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.882" endtime="20210519 18:41:31.888"/>
</kw>
<msg timestamp="20210519 18:41:31.888" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210519 18:41:31.881" endtime="20210519 18:41:31.888"/>
</kw>
<msg timestamp="20210519 18:41:31.888" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210519 18:41:31.881" endtime="20210519 18:41:31.888"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:41:31.891" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:41:31.891" endtime="20210519 18:41:31.891"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:41:31.892" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:41:31.892" endtime="20210519 18:41:31.892"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.890" endtime="20210519 18:41:31.892"/>
</kw>
<msg timestamp="20210519 18:41:31.892" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:41:31.890" endtime="20210519 18:41:31.892"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:41:31.894" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210519 18:41:31.893" endtime="20210519 18:41:31.894"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:41:31.894" level="INFO">${result} = /wordcount-IsJfwLkb.txt</msg>
<status status="PASS" starttime="20210519 18:41:31.894" endtime="20210519 18:41:31.894"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.893" endtime="20210519 18:41:31.894"/>
</kw>
<msg timestamp="20210519 18:41:31.895" level="INFO">${path_with_leading} = /wordcount-IsJfwLkb.txt</msg>
<status status="PASS" starttime="20210519 18:41:31.892" endtime="20210519 18:41:31.895"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.889" endtime="20210519 18:41:31.895"/>
</kw>
<msg timestamp="20210519 18:41:31.895" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-IsJfwLkb.txt</msg>
<status status="PASS" starttime="20210519 18:41:31.889" endtime="20210519 18:41:31.895"/>
</kw>
<msg timestamp="20210519 18:41:31.895" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-IsJfwLkb.txt</msg>
<status status="PASS" starttime="20210519 18:41:31.888" endtime="20210519 18:41:31.895"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:41:31.899" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-IsJfwLkb.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:42:07.108" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:42:07.108" level="INFO">${output} = 2021-05-19 18:41:33 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:41:33 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210519 18:41:31.897" endtime="20210519 18:42:07.108"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:42:07.110" level="INFO">2021-05-19 18:41:33 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:41:33 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:41:34 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:41:34 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 18:41:34 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-19 18:41:34 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:41:34 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-FE2F33A09427-&gt;0a34254e-d86d-4a78-83b2-062e8b9eb0ec
2021-05-19 18:41:34 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:41:35 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-19 18:41:35 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-047F48EAC228-&gt;1f5ead0c-24fe-4459-a3f4-8f47cc99eb19
2021-05-19 18:41:35 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:41:37 INFO  JobSubmitter:198 - number of splits:3
2021-05-19 18:41:38 INFO  JobSubmitter:287 - Submitting tokens for job: job_1621449483662_0004
2021-05-19 18:41:38 INFO  YarnClientImpl:273 - Submitted application application_1621449483662_0004
2021-05-19 18:41:38 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1621449483662_0004/
2021-05-19 18:41:38 INFO  Job:1339 - Running job: job_1621449483662_0004
2021-05-19 18:41:44 INFO  Job:1360 - Job job_1621449483662_0004 running in uber mode : false
2021-05-19 18:41:44 INFO  Job:1367 -  map 0% reduce 0%
2021-05-19 18:41:50 INFO  Job:1367 -  map 33% reduce 0%
2021-05-19 18:41:54 INFO  Job:1367 -  map 67% reduce 0%
2021-05-19 18:41:59 INFO  Job:1367 -  map 100% reduce 0%
2021-05-19 18:42:03 INFO  Job:1367 -  map 100% reduce 100%
2021-05-19 18:42:06 INFO  Job:1378 - Job job_1621449483662_0004 completed successfully
2021-05-19 18:42:06 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32104
		FILE: Number of bytes written=695553
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39807
		OFS: Number of bytes written=22286
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36176
		Total time spent by all reduces in occupied slots (ms)=13564
		Total time spent by all map tasks (ms)=9044
		Total time spent by all reduce tasks (ms)=3391
		Total vcore-milliseconds taken by all map tasks=9044
		Total vcore-milliseconds taken by all reduce tasks=3391
		Total megabyte-milliseconds taken by all map tasks=37044224
		Total megabyte-milliseconds taken by all reduce tasks=13889536
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55167
		Map output materialized bytes=32116
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32116
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=478
		CPU time spent (ms)=6370
		Physical memory (bytes) snapshot=1223962624
		Virtual memory (bytes) snapshot=15763185664
		Total committed heap usage (bytes)=1014497280
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39507
	File Output Format Counters 
		Bytes Written=22286</msg>
<status status="PASS" starttime="20210519 18:42:07.109" endtime="20210519 18:42:07.111"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:42:07.112" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:42:07.111" endtime="20210519 18:42:07.112"/>
</kw>
<status status="PASS" starttime="20210519 18:41:31.896" endtime="20210519 18:42:07.112"/>
</kw>
<msg timestamp="20210519 18:42:07.112" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:41:31.896" endtime="20210519 18:42:07.113"/>
</kw>
<msg timestamp="20210519 18:42:07.113" level="INFO">${output} = 2021-05-19 18:41:33 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:41:33 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210519 18:41:31.895" endtime="20210519 18:42:07.113"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:42:07.114" endtime="20210519 18:42:07.114"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:42:07.115" endtime="20210519 18:42:07.115"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:41:31.861" endtime="20210519 18:42:07.115"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210519 18:40:55.906" endtime="20210519 18:42:07.118"/>
</suite>
<suite id="s1-s1-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:24.956" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:39:24.962" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:39:24.962" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:39:24.953" endtime="20210519 18:39:24.962"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:39:24.963" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:39:24.962" endtime="20210519 18:39:24.963"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:39:24.963" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:39:24.963" endtime="20210519 18:39:24.963"/>
</kw>
<status status="PASS" starttime="20210519 18:39:24.952" endtime="20210519 18:39:24.964"/>
</kw>
<msg timestamp="20210519 18:39:24.964" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:24.952" endtime="20210519 18:39:24.964"/>
</kw>
<msg timestamp="20210519 18:39:24.964" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:39:24.951" endtime="20210519 18:39:24.964"/>
</kw>
<msg timestamp="20210519 18:39:24.964" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:39:24.951" endtime="20210519 18:39:24.964"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:39:24.969" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:39:24.968" endtime="20210519 18:39:24.969"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:39:24.969" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:39:24.969" endtime="20210519 18:39:24.969"/>
</kw>
<status status="PASS" starttime="20210519 18:39:24.968" endtime="20210519 18:39:24.969"/>
</kw>
<msg timestamp="20210519 18:39:24.969" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:39:24.967" endtime="20210519 18:39:24.970"/>
</kw>
<status status="PASS" starttime="20210519 18:39:24.967" endtime="20210519 18:39:24.970"/>
</kw>
<msg timestamp="20210519 18:39:24.970" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:39:24.966" endtime="20210519 18:39:24.970"/>
</kw>
<msg timestamp="20210519 18:39:24.970" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:39:24.965" endtime="20210519 18:39:24.970"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:39:24.973" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:40:01.324" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:40:01.324" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:39:26 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:39:26 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210519 18:39:24.972" endtime="20210519 18:40:01.324"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:40:01.325" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:39:26 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:39:26 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 18:39:26 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-19 18:39:27 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:39:27 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3BC5512B2FB5-&gt;0a34254e-d86d-4a78-83b2-062e8b9eb0ec
2021-05-19 18:39:27 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-05-19 18:39:28 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-209AF7279A90-&gt;1f5ead0c-24fe-4459-a3f4-8f47cc99eb19
2021-05-19 18:39:28 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-05-19 18:39:28 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:39:28 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-19 18:39:28 INFO  JobSubmitter:198 - number of splits:3
2021-05-19 18:39:28 INFO  JobSubmitter:287 - Submitting tokens for job: job_1621449483662_0001
2021-05-19 18:39:29 INFO  YarnClientImpl:273 - Submitted application application_1621449483662_0001
2021-05-19 18:39:29 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1621449483662_0001/
2021-05-19 18:39:29 INFO  Job:1339 - Running job: job_1621449483662_0001
2021-05-19 18:39:39 INFO  Job:1360 - Job job_1621449483662_0001 running in uber mode : false
2021-05-19 18:39:39 INFO  Job:1367 -  map 0% reduce 0%
2021-05-19 18:39:45 INFO  Job:1367 -  map 33% reduce 0%
2021-05-19 18:39:50 INFO  Job:1367 -  map 67% reduce 0%
2021-05-19 18:39:55 INFO  Job:1367 -  map 100% reduce 0%
2021-05-19 18:40:00 INFO  Job:1367 -  map 100% reduce 100%
2021-05-19 18:40:00 INFO  Job:1378 - Job job_1621449483662_0001 completed successfully
2021-05-19 18:40:00 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=632833
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=41564
		Total time spent by all reduces in occupied slots (ms)=15300
		Total time spent by all map tasks (ms)=10391
		Total time spent by all reduce tasks (ms)=3825
		Total vcore-milliseconds taken by all map tasks=10391
		Total vcore-milliseconds taken by all reduce tasks=3825
		Total megabyte-milliseconds taken by all map tasks=42561536
		Total megabyte-milliseconds taken by all reduce tasks=15667200
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=537
		CPU time spent (ms)=7030
		Physical memory (bytes) snapshot=1333239808
		Virtual memory (bytes) snapshot=15800180736
		Total committed heap usage (bytes)=1078984704
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 32.652 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210519 18:40:01.324" endtime="20210519 18:40:01.325"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:40:01.326" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:40:01.325" endtime="20210519 18:40:01.326"/>
</kw>
<status status="PASS" starttime="20210519 18:39:24.971" endtime="20210519 18:40:01.326"/>
</kw>
<msg timestamp="20210519 18:40:01.326" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:39:24.971" endtime="20210519 18:40:01.326"/>
</kw>
<msg timestamp="20210519 18:40:01.327" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:39:26 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:39:26 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210519 18:39:24.970" endtime="20210519 18:40:01.327"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:40:01.327" endtime="20210519 18:40:01.328"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:39:24.950" endtime="20210519 18:40:01.328"/>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:40:01.333" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:40:01.338" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:40:01.339" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:01.331" endtime="20210519 18:40:01.339"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:40:01.340" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:01.339" endtime="20210519 18:40:01.340"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:40:01.341" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:40:01.340" endtime="20210519 18:40:01.341"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.330" endtime="20210519 18:40:01.341"/>
</kw>
<msg timestamp="20210519 18:40:01.341" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:40:01.330" endtime="20210519 18:40:01.342"/>
</kw>
<msg timestamp="20210519 18:40:01.343" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:01.330" endtime="20210519 18:40:01.343"/>
</kw>
<msg timestamp="20210519 18:40:01.343" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210519 18:40:01.329" endtime="20210519 18:40:01.343"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:40:01.344" level="INFO">${random} = AgkRj16r</msg>
<status status="PASS" starttime="20210519 18:40:01.343" endtime="20210519 18:40:01.344"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:40:01.347" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:40:01.347" endtime="20210519 18:40:01.347"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:40:01.348" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:40:01.348" endtime="20210519 18:40:01.348"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.346" endtime="20210519 18:40:01.348"/>
</kw>
<msg timestamp="20210519 18:40:01.348" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:40:01.346" endtime="20210519 18:40:01.348"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.345" endtime="20210519 18:40:01.349"/>
</kw>
<msg timestamp="20210519 18:40:01.349" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:40:01.345" endtime="20210519 18:40:01.349"/>
</kw>
<msg timestamp="20210519 18:40:01.349" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:40:01.344" endtime="20210519 18:40:01.349"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:40:01.353" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:40:01.353" endtime="20210519 18:40:01.353"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:40:01.354" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:40:01.353" endtime="20210519 18:40:01.354"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.352" endtime="20210519 18:40:01.354"/>
</kw>
<msg timestamp="20210519 18:40:01.354" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:40:01.351" endtime="20210519 18:40:01.354"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.351" endtime="20210519 18:40:01.354"/>
</kw>
<msg timestamp="20210519 18:40:01.355" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210519 18:40:01.350" endtime="20210519 18:40:01.355"/>
</kw>
<msg timestamp="20210519 18:40:01.355" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210519 18:40:01.349" endtime="20210519 18:40:01.355"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:40:01.358" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:40:01.358" endtime="20210519 18:40:01.358"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:40:01.359" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:40:01.359" endtime="20210519 18:40:01.359"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.358" endtime="20210519 18:40:01.359"/>
</kw>
<msg timestamp="20210519 18:40:01.359" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:40:01.357" endtime="20210519 18:40:01.359"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.356" endtime="20210519 18:40:01.360"/>
</kw>
<msg timestamp="20210519 18:40:01.360" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-AgkRj16r.txt</msg>
<status status="PASS" starttime="20210519 18:40:01.356" endtime="20210519 18:40:01.360"/>
</kw>
<msg timestamp="20210519 18:40:01.360" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-AgkRj16r.txt</msg>
<status status="PASS" starttime="20210519 18:40:01.355" endtime="20210519 18:40:01.360"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:40:01.364" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-AgkRj16r.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:40:41.556" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:40:41.556" level="INFO">${output} = 2021-05-19 18:40:03 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:40:03 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210519 18:40:01.362" endtime="20210519 18:40:41.556"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:40:41.557" level="INFO">2021-05-19 18:40:03 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:40:03 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:40:03 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:40:03 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-19 18:40:03 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-19 18:40:03 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:40:03 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-EF64ED6CB006-&gt;0a34254e-d86d-4a78-83b2-062e8b9eb0ec
2021-05-19 18:40:03 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:40:04 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-19 18:40:04 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-A21811ECB63B-&gt;1f5ead0c-24fe-4459-a3f4-8f47cc99eb19
2021-05-19 18:40:04 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:40:07 INFO  JobSubmitter:198 - number of splits:3
2021-05-19 18:40:07 INFO  JobSubmitter:287 - Submitting tokens for job: job_1621449483662_0002
2021-05-19 18:40:07 INFO  YarnClientImpl:273 - Submitted application application_1621449483662_0002
2021-05-19 18:40:07 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1621449483662_0002/
2021-05-19 18:40:07 INFO  Job:1339 - Running job: job_1621449483662_0002
2021-05-19 18:40:14 INFO  Job:1360 - Job job_1621449483662_0002 running in uber mode : false
2021-05-19 18:40:14 INFO  Job:1367 -  map 0% reduce 0%
2021-05-19 18:40:20 INFO  Job:1367 -  map 33% reduce 0%
2021-05-19 18:40:26 INFO  Job:1367 -  map 67% reduce 0%
2021-05-19 18:40:31 INFO  Job:1367 -  map 100% reduce 0%
2021-05-19 18:40:35 INFO  Job:1367 -  map 100% reduce 100%
2021-05-19 18:40:41 INFO  Job:1378 - Job job_1621449483662_0002 completed successfully
2021-05-19 18:40:41 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32104
		FILE: Number of bytes written=695637
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39810
		O3FS: Number of bytes written=22286
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38020
		Total time spent by all reduces in occupied slots (ms)=13112
		Total time spent by all map tasks (ms)=9505
		Total time spent by all reduce tasks (ms)=3278
		Total vcore-milliseconds taken by all map tasks=9505
		Total vcore-milliseconds taken by all reduce tasks=3278
		Total megabyte-milliseconds taken by all map tasks=38932480
		Total megabyte-milliseconds taken by all reduce tasks=13426688
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55167
		Map output materialized bytes=32116
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32116
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=517
		CPU time spent (ms)=6800
		Physical memory (bytes) snapshot=1366085632
		Virtual memory (bytes) snapshot=15813677056
		Total committed heap usage (bytes)=1115684864
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39507
	File Output Format Counters 
		Bytes Written=22286</msg>
<status status="PASS" starttime="20210519 18:40:41.556" endtime="20210519 18:40:41.557"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:40:41.558" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:40:41.557" endtime="20210519 18:40:41.558"/>
</kw>
<status status="PASS" starttime="20210519 18:40:01.362" endtime="20210519 18:40:41.558"/>
</kw>
<msg timestamp="20210519 18:40:41.558" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:40:01.361" endtime="20210519 18:40:41.559"/>
</kw>
<msg timestamp="20210519 18:40:41.559" level="INFO">${output} = 2021-05-19 18:40:03 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.9:8032
2021-05-19 18:40:03 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210519 18:40:01.360" endtime="20210519 18:40:41.559"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:40:41.559" endtime="20210519 18:40:41.560"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:40:41.560" endtime="20210519 18:40:41.560"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:40:01.328" endtime="20210519 18:40:41.561"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210519 18:39:24.894" endtime="20210519 18:40:41.563"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="186405"/>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite id="s1-s2-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:11.641" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:14.022" level="INFO">${rc} = 255</msg>
<msg timestamp="20210519 18:43:14.022" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:43:11.638" endtime="20210519 18:43:14.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:14.023" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:43:14.023" endtime="20210519 18:43:14.023"/>
</kw>
<msg timestamp="20210519 18:43:14.024" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:43:11.637" endtime="20210519 18:43:14.024"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:14.028" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:16.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:16.184" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:14.026" endtime="20210519 18:43:16.184"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:16.185" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:16.184" endtime="20210519 18:43:16.185"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:16.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:16.185" endtime="20210519 18:43:16.185"/>
</kw>
<status status="PASS" starttime="20210519 18:43:14.026" endtime="20210519 18:43:16.186"/>
</kw>
<msg timestamp="20210519 18:43:16.186" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:14.025" endtime="20210519 18:43:16.186"/>
</kw>
<msg timestamp="20210519 18:43:16.186" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210519 18:43:14.025" endtime="20210519 18:43:16.186"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:43:16.187" endtime="20210519 18:43:16.187"/>
</kw>
<status status="PASS" starttime="20210519 18:43:14.024" endtime="20210519 18:43:16.187"/>
</kw>
<status status="PASS" starttime="20210519 18:43:14.024" endtime="20210519 18:43:16.187"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:16.192" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:18.411" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:18.412" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:16.190" endtime="20210519 18:43:18.412"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:18.413" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:18.412" endtime="20210519 18:43:18.413"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:18.413" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:18.413" endtime="20210519 18:43:18.414"/>
</kw>
<status status="PASS" starttime="20210519 18:43:16.190" endtime="20210519 18:43:18.414"/>
</kw>
<msg timestamp="20210519 18:43:18.414" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:16.189" endtime="20210519 18:43:18.414"/>
</kw>
<status status="PASS" starttime="20210519 18:43:16.189" endtime="20210519 18:43:18.414"/>
</kw>
<status status="PASS" starttime="20210519 18:43:16.188" endtime="20210519 18:43:18.414"/>
</kw>
<status status="PASS" starttime="20210519 18:43:16.187" endtime="20210519 18:43:18.415"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210519 18:43:18.415" endtime="20210519 18:43:18.415"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:18.418" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:20.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:20.650" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:43...</msg>
<status status="PASS" starttime="20210519 18:43:18.416" endtime="20210519 18:43:20.650"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:20.652" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:43:18.388Z",
  "modificationTime" : "2021-05-19T18:43:18.388Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210519 18:43:20.651" endtime="20210519 18:43:20.652"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:20.652" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:20.652" endtime="20210519 18:43:20.652"/>
</kw>
<status status="PASS" starttime="20210519 18:43:18.416" endtime="20210519 18:43:20.653"/>
</kw>
<msg timestamp="20210519 18:43:20.653" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:18.416" endtime="20210519 18:43:20.653"/>
</kw>
<msg timestamp="20210519 18:43:20.653" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:43...</msg>
<status status="PASS" starttime="20210519 18:43:18.415" endtime="20210519 18:43:20.653"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:43:20.653" endtime="20210519 18:43:20.654"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:43:20.658" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:43:20.657" endtime="20210519 18:43:20.658"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:43:20.659" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:43:20.658" endtime="20210519 18:43:20.659"/>
</kw>
<status status="PASS" starttime="20210519 18:43:20.657" endtime="20210519 18:43:20.659"/>
</kw>
<msg timestamp="20210519 18:43:20.659" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:43:20.656" endtime="20210519 18:43:20.659"/>
</kw>
<status status="PASS" starttime="20210519 18:43:20.655" endtime="20210519 18:43:20.660"/>
</kw>
<msg timestamp="20210519 18:43:20.660" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210519 18:43:20.655" endtime="20210519 18:43:20.660"/>
</kw>
<msg timestamp="20210519 18:43:20.660" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210519 18:43:20.654" endtime="20210519 18:43:20.660"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:20.663" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:22.708" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:22.708" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:20.662" endtime="20210519 18:43:22.708"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:22.709" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:22.709" endtime="20210519 18:43:22.710"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:22.710" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:22.710" endtime="20210519 18:43:22.710"/>
</kw>
<status status="PASS" starttime="20210519 18:43:20.661" endtime="20210519 18:43:22.711"/>
</kw>
<msg timestamp="20210519 18:43:22.711" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:20.661" endtime="20210519 18:43:22.711"/>
</kw>
<status status="PASS" starttime="20210519 18:43:20.660" endtime="20210519 18:43:22.711"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:22.715" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:27.606" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:27.606" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:22.713" endtime="20210519 18:43:27.606"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:27.608" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:27.606" endtime="20210519 18:43:27.608"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:27.609" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:27.608" endtime="20210519 18:43:27.609"/>
</kw>
<status status="PASS" starttime="20210519 18:43:22.712" endtime="20210519 18:43:27.609"/>
</kw>
<msg timestamp="20210519 18:43:27.609" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:22.712" endtime="20210519 18:43:27.609"/>
</kw>
<status status="PASS" starttime="20210519 18:43:22.711" endtime="20210519 18:43:27.609"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:27.613" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:31.816" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:31.816" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:27.611" endtime="20210519 18:43:31.816"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:31.817" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:31.816" endtime="20210519 18:43:31.817"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:31.818" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:31.817" endtime="20210519 18:43:31.818"/>
</kw>
<status status="PASS" starttime="20210519 18:43:27.611" endtime="20210519 18:43:31.818"/>
</kw>
<msg timestamp="20210519 18:43:31.818" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:27.610" endtime="20210519 18:43:31.818"/>
</kw>
<status status="PASS" starttime="20210519 18:43:27.610" endtime="20210519 18:43:31.819"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:31.822" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:35.651" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:35.651" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:31.820" endtime="20210519 18:43:35.651"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:35.652" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:35.652" endtime="20210519 18:43:35.652"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:35.653" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:35.652" endtime="20210519 18:43:35.653"/>
</kw>
<status status="PASS" starttime="20210519 18:43:31.820" endtime="20210519 18:43:35.653"/>
</kw>
<msg timestamp="20210519 18:43:35.654" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:31.819" endtime="20210519 18:43:35.654"/>
</kw>
<status status="PASS" starttime="20210519 18:43:31.819" endtime="20210519 18:43:35.654"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210519 18:43:11.636" endtime="20210519 18:43:35.654"/>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:43:35.660" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:43:35.660" endtime="20210519 18:43:35.661"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:43:35.661" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:43:35.661" endtime="20210519 18:43:35.661"/>
</kw>
<status status="PASS" starttime="20210519 18:43:35.659" endtime="20210519 18:43:35.662"/>
</kw>
<msg timestamp="20210519 18:43:35.662" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:43:35.658" endtime="20210519 18:43:35.662"/>
</kw>
<status status="PASS" starttime="20210519 18:43:35.658" endtime="20210519 18:43:35.662"/>
</kw>
<msg timestamp="20210519 18:43:35.662" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:43:35.657" endtime="20210519 18:43:35.662"/>
</kw>
<msg timestamp="20210519 18:43:35.663" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:43:35.656" endtime="20210519 18:43:35.663"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:35.666" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:37.789" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:37.789" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:35.664" endtime="20210519 18:43:37.789"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:37.791" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:37.790" endtime="20210519 18:43:37.791"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:37.791" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:37.791" endtime="20210519 18:43:37.792"/>
</kw>
<status status="PASS" starttime="20210519 18:43:35.663" endtime="20210519 18:43:37.792"/>
</kw>
<msg timestamp="20210519 18:43:37.792" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:35.663" endtime="20210519 18:43:37.792"/>
</kw>
<status status="PASS" starttime="20210519 18:43:35.663" endtime="20210519 18:43:37.792"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:37.796" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:39.982" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:39.982" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:43:37.794" endtime="20210519 18:43:39.982"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:39.983" level="INFO"/>
<status status="PASS" starttime="20210519 18:43:39.982" endtime="20210519 18:43:39.983"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:39.984" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:39.984" endtime="20210519 18:43:39.984"/>
</kw>
<status status="PASS" starttime="20210519 18:43:37.793" endtime="20210519 18:43:39.985"/>
</kw>
<msg timestamp="20210519 18:43:39.985" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:37.793" endtime="20210519 18:43:39.985"/>
</kw>
<status status="PASS" starttime="20210519 18:43:37.792" endtime="20210519 18:43:39.985"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210519 18:43:35.655" endtime="20210519 18:43:39.985"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210519 18:43:11.576" endtime="20210519 18:43:39.987"/>
</suite>
<suite id="s1-s2-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:45:18.680" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:45:18.679" endtime="20210519 18:45:18.680"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:45:18.681" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:45:18.680" endtime="20210519 18:45:18.681"/>
</kw>
<status status="PASS" starttime="20210519 18:45:18.679" endtime="20210519 18:45:18.681"/>
</kw>
<msg timestamp="20210519 18:45:18.681" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:45:18.679" endtime="20210519 18:45:18.681"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:45:18.682" endtime="20210519 18:45:18.682"/>
</kw>
<msg timestamp="20210519 18:45:18.682" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:45:18.681" endtime="20210519 18:45:18.682"/>
</kw>
<status status="PASS" starttime="20210519 18:45:18.678" endtime="20210519 18:45:18.682"/>
</kw>
<msg timestamp="20210519 18:45:18.682" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:45:18.677" endtime="20210519 18:45:18.683"/>
</kw>
<msg timestamp="20210519 18:45:18.683" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:45:18.676" endtime="20210519 18:45:18.683"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:45:18.683" level="INFO">${random} = 74640</msg>
<status status="PASS" starttime="20210519 18:45:18.683" endtime="20210519 18:45:18.684"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:45:18.689" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-74640 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:45:21.991" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:45:21.991" level="INFO">${output} = 2021-05-19 18:45:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:20 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:45:18.685" endtime="20210519 18:45:21.991"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:45:21.992" level="INFO">2021-05-19 18:45:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:20 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-19 18:45:20 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:45:20 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:45:20 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:45:20 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:45:20 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-E1028231965B-&gt;6d07d559-59d4-4483-b361-13860231ecfb
2021-05-19 18:45:20 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:45:21 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:45:21.991" endtime="20210519 18:45:21.992"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:45:21.993" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:45:21.992" endtime="20210519 18:45:21.993"/>
</kw>
<status status="PASS" starttime="20210519 18:45:18.684" endtime="20210519 18:45:21.993"/>
</kw>
<msg timestamp="20210519 18:45:21.993" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:45:18.684" endtime="20210519 18:45:21.994"/>
</kw>
<msg timestamp="20210519 18:45:21.994" level="INFO">${result} = 2021-05-19 18:45:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:20 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:45:18.684" endtime="20210519 18:45:21.994"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:45:21.999" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:45:23.791" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:45:23.791" level="INFO">${output} = 2021-05-19 18:45:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:23 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:45:21.996" endtime="20210519 18:45:23.791"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:45:23.792" level="INFO">2021-05-19 18:45:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:23 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:43 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-05-19 18:43 ofs://om/volume1/bucket1/ozone-21243
-rw-rw-rw-   3 hadoop hadoop      21867 2021-05-19 18:45 ofs://om/volume1/bucket1/ozone-74640
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:43 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:44 ofs://om/volume1/bucket1/wordcount-fLvZfyBY.txt
2021-05-19 18:45:23 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:45:23.791" endtime="20210519 18:45:23.792"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:45:23.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:45:23.792" endtime="20210519 18:45:23.793"/>
</kw>
<status status="PASS" starttime="20210519 18:45:21.995" endtime="20210519 18:45:23.793"/>
</kw>
<msg timestamp="20210519 18:45:23.793" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:45:21.995" endtime="20210519 18:45:23.793"/>
</kw>
<msg timestamp="20210519 18:45:23.793" level="INFO">${result} = 2021-05-19 18:45:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:23 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:45:21.994" endtime="20210519 18:45:23.793"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:45:23.793" endtime="20210519 18:45:23.794"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210519 18:45:18.676" endtime="20210519 18:45:23.794"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210519 18:45:18.618" endtime="20210519 18:45:23.795"/>
</suite>
<suite id="s1-s2-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:43:44.576" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:43:44.575" endtime="20210519 18:43:44.576"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:43:44.576" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:43:44.576" endtime="20210519 18:43:44.576"/>
</kw>
<status status="PASS" starttime="20210519 18:43:44.575" endtime="20210519 18:43:44.577"/>
</kw>
<msg timestamp="20210519 18:43:44.577" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:43:44.574" endtime="20210519 18:43:44.577"/>
</kw>
<status status="PASS" starttime="20210519 18:43:44.573" endtime="20210519 18:43:44.577"/>
</kw>
<msg timestamp="20210519 18:43:44.577" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:43:44.573" endtime="20210519 18:43:44.577"/>
</kw>
<msg timestamp="20210519 18:43:44.577" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:43:44.572" endtime="20210519 18:43:44.577"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:43:44.578" level="INFO">${random} = 21243</msg>
<status status="PASS" starttime="20210519 18:43:44.578" endtime="20210519 18:43:44.578"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:44.582" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-21243 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:48.613" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:48.613" level="INFO">${output} = 2021-05-19 18:43:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:46 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:43:44.579" endtime="20210519 18:43:48.613"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:48.614" level="INFO">2021-05-19 18:43:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:46 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:46 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-19 18:43:46 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:43:46 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:43:46 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:43:47 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:43:47 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-2211556741E9-&gt;3debbf96-7861-41df-b431-5a64896d3a8c
2021-05-19 18:43:47 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:43:48 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:43:48.614" endtime="20210519 18:43:48.614"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:48.615" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:48.615" endtime="20210519 18:43:48.615"/>
</kw>
<status status="PASS" starttime="20210519 18:43:44.579" endtime="20210519 18:43:48.616"/>
</kw>
<msg timestamp="20210519 18:43:48.616" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:44.579" endtime="20210519 18:43:48.616"/>
</kw>
<msg timestamp="20210519 18:43:48.616" level="INFO">${result} = 2021-05-19 18:43:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:46 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:43:44.578" endtime="20210519 18:43:48.616"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:48.620" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:50.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:50.510" level="INFO">${output} = 2021-05-19 18:43:49 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:49 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:50 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:43:48.618" endtime="20210519 18:43:50.510"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:50.511" level="INFO">2021-05-19 18:43:49 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:49 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:50 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:43 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-05-19 18:43 o3fs://bucket1.volume1.om/ozone-21243
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:43 o3fs://bucket1.volume1.om/user
2021-05-19 18:43:50 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:43:50.511" endtime="20210519 18:43:50.511"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:50.512" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:50.512" endtime="20210519 18:43:50.512"/>
</kw>
<status status="PASS" starttime="20210519 18:43:48.618" endtime="20210519 18:43:50.512"/>
</kw>
<msg timestamp="20210519 18:43:50.513" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:48.617" endtime="20210519 18:43:50.513"/>
</kw>
<msg timestamp="20210519 18:43:50.513" level="INFO">${result} = 2021-05-19 18:43:49 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:49 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:50 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:43:48.616" endtime="20210519 18:43:50.513"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:43:50.513" endtime="20210519 18:43:50.514"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210519 18:43:44.571" endtime="20210519 18:43:50.514"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210519 18:43:44.511" endtime="20210519 18:43:50.515"/>
</suite>
<suite id="s1-s2-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:45:28.177" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:45:28.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:45:28.183" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:45:28.173" endtime="20210519 18:45:28.183"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:45:28.184" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:45:28.184" endtime="20210519 18:45:28.184"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:45:28.185" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:45:28.184" endtime="20210519 18:45:28.185"/>
</kw>
<status status="PASS" starttime="20210519 18:45:28.172" endtime="20210519 18:45:28.185"/>
</kw>
<msg timestamp="20210519 18:45:28.185" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:45:28.172" endtime="20210519 18:45:28.185"/>
</kw>
<msg timestamp="20210519 18:45:28.186" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:45:28.172" endtime="20210519 18:45:28.186"/>
</kw>
<msg timestamp="20210519 18:45:28.186" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:45:28.171" endtime="20210519 18:45:28.186"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:45:28.191" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:45:28.191" endtime="20210519 18:45:28.191"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:45:28.192" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:45:28.191" endtime="20210519 18:45:28.192"/>
</kw>
<status status="PASS" starttime="20210519 18:45:28.190" endtime="20210519 18:45:28.192"/>
</kw>
<msg timestamp="20210519 18:45:28.192" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:45:28.190" endtime="20210519 18:45:28.192"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:45:28.193" endtime="20210519 18:45:28.193"/>
</kw>
<msg timestamp="20210519 18:45:28.193" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:45:28.192" endtime="20210519 18:45:28.193"/>
</kw>
<status status="PASS" starttime="20210519 18:45:28.189" endtime="20210519 18:45:28.194"/>
</kw>
<msg timestamp="20210519 18:45:28.194" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:45:28.188" endtime="20210519 18:45:28.194"/>
</kw>
<msg timestamp="20210519 18:45:28.194" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:45:28.186" endtime="20210519 18:45:28.194"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:45:28.197" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:46:07.858" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:46:07.858" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45...</msg>
<status status="PASS" starttime="20210519 18:45:28.196" endtime="20210519 18:46:07.858"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:46:07.859" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:29 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-19 18:45:29 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:45:30 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:45:30 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:45:30 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:45:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-79A6C12245FB-&gt;6d07d559-59d4-4483-b361-13860231ecfb
2021-05-19 18:45:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-19 18:45:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:31 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.6:8032
2021-05-19 18:45:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:31 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:45:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:31 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:45:31 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F34F8312BC25-&gt;3debbf96-7861-41df-b431-5a64896d3a8c
2021-05-19 18:45:31 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:45:34 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:45:34 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621449766353_0003
2021-05-19 18:45:34 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:45:34 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:34 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:34 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:34 INFO  Configuration:2752 - resource-types.xml not found
2021-05-19 18:45:34 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-19 18:45:34 INFO  YarnClientImpl:324 - Submitted application application_1621449766353_0003
2021-05-19 18:45:34 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1621449766353_0003/
2021-05-19 18:45:34 INFO  Job:1619 - Running job: job_1621449766353_0003
2021-05-19 18:45:41 INFO  Job:1640 - Job job_1621449766353_0003 running in uber mode : false
2021-05-19 18:45:41 INFO  Job:1647 -  map 0% reduce 0%
2021-05-19 18:45:49 INFO  Job:1647 -  map 33% reduce 0%
2021-05-19 18:45:54 INFO  Job:1647 -  map 67% reduce 0%
2021-05-19 18:45:59 INFO  Job:1647 -  map 100% reduce 0%
2021-05-19 18:46:06 INFO  Job:1647 -  map 100% reduce 100%
2021-05-19 18:46:07 INFO  Job:1658 - Job job_1621449766353_0003 completed successfully
2021-05-19 18:46:07 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:07 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1040965
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=40864
		Total time spent by all reduces in occupied slots (ms)=25084
		Total time spent by all map tasks (ms)=10216
		Total time spent by all reduce tasks (ms)=6271
		Total vcore-milliseconds taken by all map tasks=10216
		Total vcore-milliseconds taken by all reduce tasks=6271
		Total megabyte-milliseconds taken by all map tasks=41844736
		Total megabyte-milliseconds taken by all reduce tasks=25686016
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=540
		CPU time spent (ms)=6680
		Physical memory (bytes) snapshot=1307619328
		Virtual memory (bytes) snapshot=15808995328
		Total committed heap usage (bytes)=1047527424
		Peak Map Physical memory (bytes)=333774848
		Peak Map Virtual memory (bytes)=3948384256
		Peak Reduce Physical memory (bytes)=307892224
		Peak Reduce Virtual memory (bytes)=3966410752
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 36.103 seconds
2021-05-19 18:46:07 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-05-19 18:46:07 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:46:07.859" endtime="20210519 18:46:07.860"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:46:07.860" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:46:07.860" endtime="20210519 18:46:07.860"/>
</kw>
<status status="PASS" starttime="20210519 18:45:28.195" endtime="20210519 18:46:07.861"/>
</kw>
<msg timestamp="20210519 18:46:07.861" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:45:28.195" endtime="20210519 18:46:07.861"/>
</kw>
<msg timestamp="20210519 18:46:07.861" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45...</msg>
<status status="PASS" starttime="20210519 18:45:28.194" endtime="20210519 18:46:07.861"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:46:07.861" endtime="20210519 18:46:07.862"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:45:28.170" endtime="20210519 18:46:07.862"/>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:46:07.867" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:46:07.872" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:46:07.872" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:46:07.865" endtime="20210519 18:46:07.872"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:46:07.873" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:46:07.872" endtime="20210519 18:46:07.873"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:46:07.874" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:46:07.873" endtime="20210519 18:46:07.874"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.865" endtime="20210519 18:46:07.874"/>
</kw>
<msg timestamp="20210519 18:46:07.874" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:46:07.864" endtime="20210519 18:46:07.874"/>
</kw>
<msg timestamp="20210519 18:46:07.875" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:46:07.864" endtime="20210519 18:46:07.875"/>
</kw>
<msg timestamp="20210519 18:46:07.875" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:46:07.863" endtime="20210519 18:46:07.875"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:46:07.876" level="INFO">${random} = q8W0HMGc</msg>
<status status="PASS" starttime="20210519 18:46:07.875" endtime="20210519 18:46:07.876"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:46:07.879" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:46:07.879" endtime="20210519 18:46:07.879"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:46:07.880" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:46:07.880" endtime="20210519 18:46:07.880"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.879" endtime="20210519 18:46:07.880"/>
</kw>
<msg timestamp="20210519 18:46:07.881" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:46:07.878" endtime="20210519 18:46:07.881"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:46:07.881" endtime="20210519 18:46:07.882"/>
</kw>
<msg timestamp="20210519 18:46:07.882" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:46:07.881" endtime="20210519 18:46:07.882"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.877" endtime="20210519 18:46:07.882"/>
</kw>
<msg timestamp="20210519 18:46:07.882" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:46:07.877" endtime="20210519 18:46:07.882"/>
</kw>
<msg timestamp="20210519 18:46:07.883" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:46:07.876" endtime="20210519 18:46:07.883"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:46:07.886" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:46:07.886" endtime="20210519 18:46:07.886"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:46:07.887" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:46:07.887" endtime="20210519 18:46:07.887"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.885" endtime="20210519 18:46:07.888"/>
</kw>
<msg timestamp="20210519 18:46:07.888" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:46:07.885" endtime="20210519 18:46:07.888"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:46:07.889" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210519 18:46:07.889" endtime="20210519 18:46:07.889"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:46:07.890" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210519 18:46:07.889" endtime="20210519 18:46:07.890"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.888" endtime="20210519 18:46:07.890"/>
</kw>
<msg timestamp="20210519 18:46:07.890" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210519 18:46:07.888" endtime="20210519 18:46:07.890"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.884" endtime="20210519 18:46:07.891"/>
</kw>
<msg timestamp="20210519 18:46:07.891" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210519 18:46:07.883" endtime="20210519 18:46:07.891"/>
</kw>
<msg timestamp="20210519 18:46:07.891" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210519 18:46:07.883" endtime="20210519 18:46:07.891"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:46:07.894" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:46:07.894" endtime="20210519 18:46:07.894"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:46:07.895" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:46:07.895" endtime="20210519 18:46:07.895"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.893" endtime="20210519 18:46:07.895"/>
</kw>
<msg timestamp="20210519 18:46:07.895" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:46:07.893" endtime="20210519 18:46:07.895"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:46:07.897" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210519 18:46:07.897" endtime="20210519 18:46:07.897"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:46:07.898" level="INFO">${result} = /wordcount-q8W0HMGc.txt</msg>
<status status="PASS" starttime="20210519 18:46:07.897" endtime="20210519 18:46:07.898"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.896" endtime="20210519 18:46:07.898"/>
</kw>
<msg timestamp="20210519 18:46:07.898" level="INFO">${path_with_leading} = /wordcount-q8W0HMGc.txt</msg>
<status status="PASS" starttime="20210519 18:46:07.896" endtime="20210519 18:46:07.898"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.892" endtime="20210519 18:46:07.898"/>
</kw>
<msg timestamp="20210519 18:46:07.899" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-q8W0HMGc.txt</msg>
<status status="PASS" starttime="20210519 18:46:07.892" endtime="20210519 18:46:07.899"/>
</kw>
<msg timestamp="20210519 18:46:07.899" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-q8W0HMGc.txt</msg>
<status status="PASS" starttime="20210519 18:46:07.891" endtime="20210519 18:46:07.899"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:46:07.902" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-q8W0HMGc.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:46:43.168" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:46:43.168" level="INFO">${output} = 2021-05-19 18:46:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:46:07.900" endtime="20210519 18:46:43.168"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:46:43.169" level="INFO">2021-05-19 18:46:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.6:8032
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:10 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-19 18:46:10 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:46:10 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:46:10 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:46:10 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:46:10 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-6EB1D00B2B24-&gt;6d07d559-59d4-4483-b361-13860231ecfb
2021-05-19 18:46:10 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:46:13 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:46:13 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:46:14 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-B3D3B8B1E625-&gt;3debbf96-7861-41df-b431-5a64896d3a8c
2021-05-19 18:46:14 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:46:14 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621449766353_0004
2021-05-19 18:46:14 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:46:14 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:14 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:14 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:14 INFO  Configuration:2752 - resource-types.xml not found
2021-05-19 18:46:14 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-19 18:46:14 INFO  YarnClientImpl:324 - Submitted application application_1621449766353_0004
2021-05-19 18:46:14 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1621449766353_0004/
2021-05-19 18:46:14 INFO  Job:1619 - Running job: job_1621449766353_0004
2021-05-19 18:46:21 INFO  Job:1640 - Job job_1621449766353_0004 running in uber mode : false
2021-05-19 18:46:21 INFO  Job:1647 -  map 0% reduce 0%
2021-05-19 18:46:27 INFO  Job:1647 -  map 33% reduce 0%
2021-05-19 18:46:32 INFO  Job:1647 -  map 67% reduce 0%
2021-05-19 18:46:37 INFO  Job:1647 -  map 100% reduce 0%
2021-05-19 18:46:41 INFO  Job:1647 -  map 100% reduce 100%
2021-05-19 18:46:42 INFO  Job:1658 - Job job_1621449766353_0004 completed successfully
2021-05-19 18:46:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:42 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32104
		FILE: Number of bytes written=1103801
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39807
		OFS: Number of bytes written=22286
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37656
		Total time spent by all reduces in occupied slots (ms)=13408
		Total time spent by all map tasks (ms)=9414
		Total time spent by all reduce tasks (ms)=3352
		Total vcore-milliseconds taken by all map tasks=9414
		Total vcore-milliseconds taken by all reduce tasks=3352
		Total megabyte-milliseconds taken by all map tasks=38559744
		Total megabyte-milliseconds taken by all reduce tasks=13729792
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55167
		Map output materialized bytes=32116
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32116
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=508
		CPU time spent (ms)=6740
		Physical memory (bytes) snapshot=1311350784
		Virtual memory (bytes) snapshot=15807578112
		Total committed heap usage (bytes)=1084751872
		Peak Map Physical memory (bytes)=335331328
		Peak Map Virtual memory (bytes)=3948519424
		Peak Reduce Physical memory (bytes)=308264960
		Peak Reduce Virtual memory (bytes)=3968589824
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39507
	File Output Format Counters 
		Bytes Written=22286
2021-05-19 18:46:42 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:46:43.169" endtime="20210519 18:46:43.170"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:46:43.170" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:46:43.170" endtime="20210519 18:46:43.170"/>
</kw>
<status status="PASS" starttime="20210519 18:46:07.900" endtime="20210519 18:46:43.170"/>
</kw>
<msg timestamp="20210519 18:46:43.171" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:46:07.899" endtime="20210519 18:46:43.171"/>
</kw>
<msg timestamp="20210519 18:46:43.171" level="INFO">${output} = 2021-05-19 18:46:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:46:09 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:46:07.899" endtime="20210519 18:46:43.171"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:46:43.172" endtime="20210519 18:46:43.172"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:46:43.172" endtime="20210519 18:46:43.173"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:46:07.863" endtime="20210519 18:46:43.173"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210519 18:45:28.109" endtime="20210519 18:46:43.174"/>
</suite>
<suite id="s1-s2-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:55.373" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:43:55.378" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:43:55.378" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:43:55.370" endtime="20210519 18:43:55.378"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:43:55.379" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:43:55.378" endtime="20210519 18:43:55.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:43:55.380" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:43:55.379" endtime="20210519 18:43:55.380"/>
</kw>
<status status="PASS" starttime="20210519 18:43:55.369" endtime="20210519 18:43:55.381"/>
</kw>
<msg timestamp="20210519 18:43:55.381" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:55.369" endtime="20210519 18:43:55.381"/>
</kw>
<msg timestamp="20210519 18:43:55.381" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:43:55.368" endtime="20210519 18:43:55.381"/>
</kw>
<msg timestamp="20210519 18:43:55.381" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:43:55.368" endtime="20210519 18:43:55.381"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:43:55.386" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:43:55.386" endtime="20210519 18:43:55.386"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:43:55.387" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:43:55.387" endtime="20210519 18:43:55.387"/>
</kw>
<status status="PASS" starttime="20210519 18:43:55.385" endtime="20210519 18:43:55.387"/>
</kw>
<msg timestamp="20210519 18:43:55.388" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:43:55.385" endtime="20210519 18:43:55.388"/>
</kw>
<status status="PASS" starttime="20210519 18:43:55.384" endtime="20210519 18:43:55.388"/>
</kw>
<msg timestamp="20210519 18:43:55.388" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:43:55.383" endtime="20210519 18:43:55.388"/>
</kw>
<msg timestamp="20210519 18:43:55.388" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:43:55.382" endtime="20210519 18:43:55.388"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:43:55.392" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:44:38.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:44:38.467" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:43:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43...</msg>
<status status="PASS" starttime="20210519 18:43:55.390" endtime="20210519 18:44:38.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:44:38.468" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:43:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:57 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-19 18:43:57 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:43:57 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:43:57 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:43:57 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:43:57 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-5ED55DD636AA-&gt;6d07d559-59d4-4483-b361-13860231ecfb
2021-05-19 18:43:57 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-19 18:43:59 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0244351F72EE-&gt;3debbf96-7861-41df-b431-5a64896d3a8c
2021-05-19 18:43:59 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-19 18:44:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:01 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.6:8032
2021-05-19 18:44:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:02 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:44:02 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:44:02 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621449766353_0001
2021-05-19 18:44:02 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:44:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:02 INFO  Configuration:2752 - resource-types.xml not found
2021-05-19 18:44:02 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-19 18:44:03 INFO  YarnClientImpl:324 - Submitted application application_1621449766353_0001
2021-05-19 18:44:03 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1621449766353_0001/
2021-05-19 18:44:03 INFO  Job:1619 - Running job: job_1621449766353_0001
2021-05-19 18:44:13 INFO  Job:1640 - Job job_1621449766353_0001 running in uber mode : false
2021-05-19 18:44:13 INFO  Job:1647 -  map 0% reduce 0%
2021-05-19 18:44:19 INFO  Job:1647 -  map 33% reduce 0%
2021-05-19 18:44:25 INFO  Job:1647 -  map 67% reduce 0%
2021-05-19 18:44:30 INFO  Job:1647 -  map 100% reduce 0%
2021-05-19 18:44:36 INFO  Job:1647 -  map 100% reduce 100%
2021-05-19 18:44:37 INFO  Job:1658 - Job job_1621449766353_0001 completed successfully
2021-05-19 18:44:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:37 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1041177
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39420
		Total time spent by all reduces in occupied slots (ms)=23368
		Total time spent by all map tasks (ms)=9855
		Total time spent by all reduce tasks (ms)=5842
		Total vcore-milliseconds taken by all map tasks=9855
		Total vcore-milliseconds taken by all reduce tasks=5842
		Total megabyte-milliseconds taken by all map tasks=40366080
		Total megabyte-milliseconds taken by all reduce tasks=23928832
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=520
		CPU time spent (ms)=6150
		Physical memory (bytes) snapshot=1304006656
		Virtual memory (bytes) snapshot=15809335296
		Total committed heap usage (bytes)=1084751872
		Peak Map Physical memory (bytes)=331317248
		Peak Map Virtual memory (bytes)=3949887488
		Peak Reduce Physical memory (bytes)=313397248
		Peak Reduce Virtual memory (bytes)=3968790528
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 36.204 seconds
2021-05-19 18:44:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:37 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-05-19 18:44:38 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:44:38.467" endtime="20210519 18:44:38.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:44:38.469" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:44:38.468" endtime="20210519 18:44:38.469"/>
</kw>
<status status="PASS" starttime="20210519 18:43:55.390" endtime="20210519 18:44:38.469"/>
</kw>
<msg timestamp="20210519 18:44:38.469" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:43:55.389" endtime="20210519 18:44:38.469"/>
</kw>
<msg timestamp="20210519 18:44:38.470" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:43:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:43...</msg>
<status status="PASS" starttime="20210519 18:43:55.389" endtime="20210519 18:44:38.470"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:44:38.470" endtime="20210519 18:44:38.470"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:43:55.367" endtime="20210519 18:44:38.471"/>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:44:38.477" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:44:38.482" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:44:38.482" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:44:38.474" endtime="20210519 18:44:38.482"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:44:38.483" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:44:38.482" endtime="20210519 18:44:38.483"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:44:38.483" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:44:38.483" endtime="20210519 18:44:38.484"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.474" endtime="20210519 18:44:38.484"/>
</kw>
<msg timestamp="20210519 18:44:38.484" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:44:38.473" endtime="20210519 18:44:38.484"/>
</kw>
<msg timestamp="20210519 18:44:38.484" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:44:38.473" endtime="20210519 18:44:38.484"/>
</kw>
<msg timestamp="20210519 18:44:38.485" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210519 18:44:38.472" endtime="20210519 18:44:38.485"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:44:38.485" level="INFO">${random} = fLvZfyBY</msg>
<status status="PASS" starttime="20210519 18:44:38.485" endtime="20210519 18:44:38.485"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:44:38.488" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:44:38.488" endtime="20210519 18:44:38.489"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:44:38.489" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:44:38.489" endtime="20210519 18:44:38.489"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.488" endtime="20210519 18:44:38.489"/>
</kw>
<msg timestamp="20210519 18:44:38.489" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:44:38.487" endtime="20210519 18:44:38.490"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.487" endtime="20210519 18:44:38.490"/>
</kw>
<msg timestamp="20210519 18:44:38.490" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:44:38.486" endtime="20210519 18:44:38.490"/>
</kw>
<msg timestamp="20210519 18:44:38.490" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:44:38.485" endtime="20210519 18:44:38.490"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:44:38.493" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:44:38.493" endtime="20210519 18:44:38.493"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:44:38.494" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:44:38.493" endtime="20210519 18:44:38.494"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.492" endtime="20210519 18:44:38.494"/>
</kw>
<msg timestamp="20210519 18:44:38.494" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:44:38.492" endtime="20210519 18:44:38.494"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.491" endtime="20210519 18:44:38.495"/>
</kw>
<msg timestamp="20210519 18:44:38.495" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210519 18:44:38.491" endtime="20210519 18:44:38.495"/>
</kw>
<msg timestamp="20210519 18:44:38.495" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210519 18:44:38.490" endtime="20210519 18:44:38.495"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:44:38.498" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:44:38.498" endtime="20210519 18:44:38.498"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:44:38.499" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:44:38.499" endtime="20210519 18:44:38.499"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.498" endtime="20210519 18:44:38.499"/>
</kw>
<msg timestamp="20210519 18:44:38.499" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:44:38.497" endtime="20210519 18:44:38.499"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.497" endtime="20210519 18:44:38.500"/>
</kw>
<msg timestamp="20210519 18:44:38.500" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-fLvZfyBY.txt</msg>
<status status="PASS" starttime="20210519 18:44:38.496" endtime="20210519 18:44:38.500"/>
</kw>
<msg timestamp="20210519 18:44:38.500" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-fLvZfyBY.txt</msg>
<status status="PASS" starttime="20210519 18:44:38.496" endtime="20210519 18:44:38.500"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:44:38.503" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-fLvZfyBY.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:45:14.283" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:45:14.283" level="INFO">${output} = 2021-05-19 18:44:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:44:38.501" endtime="20210519 18:45:14.283"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:45:14.285" level="INFO">2021-05-19 18:44:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.6:8032
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-19 18:44:40 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-19 18:44:40 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:44:40 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:44:41 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:44:41 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3F8F4149ECA4-&gt;3debbf96-7861-41df-b431-5a64896d3a8c
2021-05-19 18:44:41 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:44:41 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:44:41 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0D22BD324828-&gt;6d07d559-59d4-4483-b361-13860231ecfb
2021-05-19 18:44:41 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:44:41 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:44:42 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621449766353_0002
2021-05-19 18:44:42 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:44:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:42 INFO  Configuration:2752 - resource-types.xml not found
2021-05-19 18:44:42 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-19 18:44:42 INFO  YarnClientImpl:324 - Submitted application application_1621449766353_0002
2021-05-19 18:44:42 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1621449766353_0002/
2021-05-19 18:44:42 INFO  Job:1619 - Running job: job_1621449766353_0002
2021-05-19 18:44:50 INFO  Job:1640 - Job job_1621449766353_0002 running in uber mode : false
2021-05-19 18:44:50 INFO  Job:1647 -  map 0% reduce 0%
2021-05-19 18:44:56 INFO  Job:1647 -  map 33% reduce 0%
2021-05-19 18:45:02 INFO  Job:1647 -  map 67% reduce 0%
2021-05-19 18:45:07 INFO  Job:1647 -  map 100% reduce 0%
2021-05-19 18:45:12 INFO  Job:1647 -  map 100% reduce 100%
2021-05-19 18:45:13 INFO  Job:1658 - Job job_1621449766353_0002 completed successfully
2021-05-19 18:45:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:45:13 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32104
		FILE: Number of bytes written=1103885
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39810
		O3FS: Number of bytes written=22286
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=40720
		Total time spent by all reduces in occupied slots (ms)=14632
		Total time spent by all map tasks (ms)=10180
		Total time spent by all reduce tasks (ms)=3658
		Total vcore-milliseconds taken by all map tasks=10180
		Total vcore-milliseconds taken by all reduce tasks=3658
		Total megabyte-milliseconds taken by all map tasks=41697280
		Total megabyte-milliseconds taken by all reduce tasks=14983168
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55167
		Map output materialized bytes=32116
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32116
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=779
		CPU time spent (ms)=6890
		Physical memory (bytes) snapshot=1525231616
		Virtual memory (bytes) snapshot=15810899968
		Total committed heap usage (bytes)=1359478784
		Peak Map Physical memory (bytes)=555167744
		Peak Map Virtual memory (bytes)=3949314048
		Peak Reduce Physical memory (bytes)=302407680
		Peak Reduce Virtual memory (bytes)=3964866560
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39507
	File Output Format Counters 
		Bytes Written=22286
2021-05-19 18:45:13 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210519 18:45:14.284" endtime="20210519 18:45:14.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:45:14.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:45:14.286" endtime="20210519 18:45:14.286"/>
</kw>
<status status="PASS" starttime="20210519 18:44:38.501" endtime="20210519 18:45:14.287"/>
</kw>
<msg timestamp="20210519 18:45:14.287" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:44:38.501" endtime="20210519 18:45:14.287"/>
</kw>
<msg timestamp="20210519 18:45:14.287" level="INFO">${output} = 2021-05-19 18:44:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-19 18:44:40 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210519 18:44:38.500" endtime="20210519 18:45:14.288"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:45:14.288" endtime="20210519 18:45:14.288"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:45:14.289" endtime="20210519 18:45:14.289"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:44:38.471" endtime="20210519 18:45:14.289"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210519 18:43:55.291" endtime="20210519 18:45:14.290"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="193656"/>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite id="s1-s3-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:47:58.875" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:02.492" level="INFO">${rc} = 255</msg>
<msg timestamp="20210519 18:48:02.492" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:47:58.872" endtime="20210519 18:48:02.492"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:02.494" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:48:02.493" endtime="20210519 18:48:02.494"/>
</kw>
<msg timestamp="20210519 18:48:02.494" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210519 18:47:58.871" endtime="20210519 18:48:02.494"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:02.500" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:05.814" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:05.814" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:02.498" endtime="20210519 18:48:05.814"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:05.816" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:05.815" endtime="20210519 18:48:05.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:05.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:05.816" endtime="20210519 18:48:05.817"/>
</kw>
<status status="PASS" starttime="20210519 18:48:02.497" endtime="20210519 18:48:05.817"/>
</kw>
<msg timestamp="20210519 18:48:05.817" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:02.497" endtime="20210519 18:48:05.817"/>
</kw>
<msg timestamp="20210519 18:48:05.817" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210519 18:48:02.496" endtime="20210519 18:48:05.817"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:48:05.818" endtime="20210519 18:48:05.818"/>
</kw>
<status status="PASS" starttime="20210519 18:48:02.495" endtime="20210519 18:48:05.818"/>
</kw>
<status status="PASS" starttime="20210519 18:48:02.495" endtime="20210519 18:48:05.818"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:05.823" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:08.540" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:08.540" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:05.821" endtime="20210519 18:48:08.540"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:08.542" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:08.541" endtime="20210519 18:48:08.542"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:08.542" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:08.542" endtime="20210519 18:48:08.542"/>
</kw>
<status status="PASS" starttime="20210519 18:48:05.820" endtime="20210519 18:48:08.543"/>
</kw>
<msg timestamp="20210519 18:48:08.543" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:05.820" endtime="20210519 18:48:08.543"/>
</kw>
<status status="PASS" starttime="20210519 18:48:05.819" endtime="20210519 18:48:08.543"/>
</kw>
<status status="PASS" starttime="20210519 18:48:05.819" endtime="20210519 18:48:08.543"/>
</kw>
<status status="PASS" starttime="20210519 18:48:05.818" endtime="20210519 18:48:08.543"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210519 18:48:08.544" endtime="20210519 18:48:08.544"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:08.547" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:11.519" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:11.519" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:48...</msg>
<status status="PASS" starttime="20210519 18:48:08.545" endtime="20210519 18:48:11.519"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:11.520" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:48:08.465Z",
  "modificationTime" : "2021-05-19T18:48:08.465Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210519 18:48:11.520" endtime="20210519 18:48:11.520"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:11.521" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:11.521" endtime="20210519 18:48:11.521"/>
</kw>
<status status="PASS" starttime="20210519 18:48:08.545" endtime="20210519 18:48:11.521"/>
</kw>
<msg timestamp="20210519 18:48:11.522" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:08.545" endtime="20210519 18:48:11.522"/>
</kw>
<msg timestamp="20210519 18:48:11.522" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-19T18:48...</msg>
<status status="PASS" starttime="20210519 18:48:08.544" endtime="20210519 18:48:11.522"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:48:11.522" endtime="20210519 18:48:11.523"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:48:11.527" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:48:11.527" endtime="20210519 18:48:11.527"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:48:11.528" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:48:11.527" endtime="20210519 18:48:11.528"/>
</kw>
<status status="PASS" starttime="20210519 18:48:11.526" endtime="20210519 18:48:11.528"/>
</kw>
<msg timestamp="20210519 18:48:11.528" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:48:11.525" endtime="20210519 18:48:11.528"/>
</kw>
<status status="PASS" starttime="20210519 18:48:11.524" endtime="20210519 18:48:11.529"/>
</kw>
<msg timestamp="20210519 18:48:11.529" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210519 18:48:11.524" endtime="20210519 18:48:11.529"/>
</kw>
<msg timestamp="20210519 18:48:11.529" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210519 18:48:11.523" endtime="20210519 18:48:11.529"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:11.532" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:14.316" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:14.316" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:11.530" endtime="20210519 18:48:14.316"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:14.317" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:14.316" endtime="20210519 18:48:14.317"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:14.317" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:14.317" endtime="20210519 18:48:14.318"/>
</kw>
<status status="PASS" starttime="20210519 18:48:11.530" endtime="20210519 18:48:14.318"/>
</kw>
<msg timestamp="20210519 18:48:14.318" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:11.529" endtime="20210519 18:48:14.318"/>
</kw>
<status status="PASS" starttime="20210519 18:48:11.529" endtime="20210519 18:48:14.318"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:14.322" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:20.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:20.330" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:14.320" endtime="20210519 18:48:20.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:20.332" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:20.331" endtime="20210519 18:48:20.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:20.333" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:20.333" endtime="20210519 18:48:20.333"/>
</kw>
<status status="PASS" starttime="20210519 18:48:14.320" endtime="20210519 18:48:20.334"/>
</kw>
<msg timestamp="20210519 18:48:20.334" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:14.320" endtime="20210519 18:48:20.334"/>
</kw>
<status status="PASS" starttime="20210519 18:48:14.319" endtime="20210519 18:48:20.334"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:20.339" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:25.453" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:25.453" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:20.336" endtime="20210519 18:48:25.453"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:25.455" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:25.454" endtime="20210519 18:48:25.455"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:25.455" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:25.455" endtime="20210519 18:48:25.456"/>
</kw>
<status status="PASS" starttime="20210519 18:48:20.336" endtime="20210519 18:48:25.456"/>
</kw>
<msg timestamp="20210519 18:48:25.456" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:20.335" endtime="20210519 18:48:25.456"/>
</kw>
<status status="PASS" starttime="20210519 18:48:20.334" endtime="20210519 18:48:25.456"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:25.460" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:30.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:30.531" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:25.458" endtime="20210519 18:48:30.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:30.532" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:30.531" endtime="20210519 18:48:30.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:30.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:30.532" endtime="20210519 18:48:30.533"/>
</kw>
<status status="PASS" starttime="20210519 18:48:25.457" endtime="20210519 18:48:30.533"/>
</kw>
<msg timestamp="20210519 18:48:30.533" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:25.457" endtime="20210519 18:48:30.534"/>
</kw>
<status status="PASS" starttime="20210519 18:48:25.456" endtime="20210519 18:48:30.534"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210519 18:47:58.870" endtime="20210519 18:48:30.534"/>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:48:30.540" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:48:30.540" endtime="20210519 18:48:30.540"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:48:30.541" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:48:30.541" endtime="20210519 18:48:30.541"/>
</kw>
<status status="PASS" starttime="20210519 18:48:30.539" endtime="20210519 18:48:30.542"/>
</kw>
<msg timestamp="20210519 18:48:30.542" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:48:30.538" endtime="20210519 18:48:30.542"/>
</kw>
<status status="PASS" starttime="20210519 18:48:30.537" endtime="20210519 18:48:30.542"/>
</kw>
<msg timestamp="20210519 18:48:30.542" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:48:30.537" endtime="20210519 18:48:30.543"/>
</kw>
<msg timestamp="20210519 18:48:30.543" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:48:30.536" endtime="20210519 18:48:30.543"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:30.546" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:33.568" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:33.568" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:30.544" endtime="20210519 18:48:33.568"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:33.569" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:33.568" endtime="20210519 18:48:33.570"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:33.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:33.570" endtime="20210519 18:48:33.571"/>
</kw>
<status status="PASS" starttime="20210519 18:48:30.544" endtime="20210519 18:48:33.571"/>
</kw>
<msg timestamp="20210519 18:48:33.571" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:30.544" endtime="20210519 18:48:33.571"/>
</kw>
<status status="PASS" starttime="20210519 18:48:30.543" endtime="20210519 18:48:33.573"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:33.578" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:36.766" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:36.766" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210519 18:48:33.575" endtime="20210519 18:48:36.766"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:36.767" level="INFO"/>
<status status="PASS" starttime="20210519 18:48:36.767" endtime="20210519 18:48:36.767"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:36.768" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:36.768" endtime="20210519 18:48:36.768"/>
</kw>
<status status="PASS" starttime="20210519 18:48:33.574" endtime="20210519 18:48:36.769"/>
</kw>
<msg timestamp="20210519 18:48:36.769" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:33.574" endtime="20210519 18:48:36.769"/>
</kw>
<status status="PASS" starttime="20210519 18:48:33.573" endtime="20210519 18:48:36.769"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210519 18:48:30.535" endtime="20210519 18:48:36.769"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210519 18:47:58.810" endtime="20210519 18:48:36.770"/>
</suite>
<suite id="s1-s3-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:05.232" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:50:05.231" endtime="20210519 18:50:05.232"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:05.232" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:50:05.232" endtime="20210519 18:50:05.232"/>
</kw>
<status status="PASS" starttime="20210519 18:50:05.231" endtime="20210519 18:50:05.233"/>
</kw>
<msg timestamp="20210519 18:50:05.233" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:50:05.231" endtime="20210519 18:50:05.233"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:50:05.233" endtime="20210519 18:50:05.234"/>
</kw>
<msg timestamp="20210519 18:50:05.234" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:50:05.233" endtime="20210519 18:50:05.234"/>
</kw>
<status status="PASS" starttime="20210519 18:50:05.230" endtime="20210519 18:50:05.234"/>
</kw>
<msg timestamp="20210519 18:50:05.234" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:50:05.229" endtime="20210519 18:50:05.234"/>
</kw>
<msg timestamp="20210519 18:50:05.234" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:50:05.228" endtime="20210519 18:50:05.234"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:50:05.235" level="INFO">${random} = 82272</msg>
<status status="PASS" starttime="20210519 18:50:05.235" endtime="20210519 18:50:05.235"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:50:05.240" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-82272 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:50:08.510" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:50:08.510" level="INFO">${output} = 2021-05-19 18:50:07 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:07 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210519 18:50:05.237" endtime="20210519 18:50:08.510"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:50:08.512" level="INFO">2021-05-19 18:50:07 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:07 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:50:07 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:50:07 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:50:07 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-4D192ACD8946-&gt;1d9b1c5a-2fe4-4de7-b447-1186baad05e5
2021-05-19 18:50:07 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210519 18:50:08.511" endtime="20210519 18:50:08.512"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:50:08.513" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:50:08.512" endtime="20210519 18:50:08.513"/>
</kw>
<status status="PASS" starttime="20210519 18:50:05.236" endtime="20210519 18:50:08.513"/>
</kw>
<msg timestamp="20210519 18:50:08.513" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:50:05.236" endtime="20210519 18:50:08.513"/>
</kw>
<msg timestamp="20210519 18:50:08.514" level="INFO">${result} = 2021-05-19 18:50:07 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:07 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210519 18:50:05.235" endtime="20210519 18:50:08.514"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:50:08.517" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:50:10.134" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:50:10.135" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:48 ofs://om/volume1/bucket1/ozone-54561
-rw-...</msg>
<status status="PASS" starttime="20210519 18:50:08.515" endtime="20210519 18:50:10.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:50:10.136" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:48 ofs://om/volume1/bucket1/ozone-54561
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:50 ofs://om/volume1/bucket1/ozone-82272
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:49 ofs://om/volume1/bucket1/wordcount-TLjNJp7z.txt</msg>
<status status="PASS" starttime="20210519 18:50:10.135" endtime="20210519 18:50:10.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:50:10.136" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:50:10.136" endtime="20210519 18:50:10.137"/>
</kw>
<status status="PASS" starttime="20210519 18:50:08.515" endtime="20210519 18:50:10.137"/>
</kw>
<msg timestamp="20210519 18:50:10.137" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:50:08.515" endtime="20210519 18:50:10.137"/>
</kw>
<msg timestamp="20210519 18:50:10.137" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:48 ofs://om/volume1/bucket1/ozone-54561
-rw-...</msg>
<status status="PASS" starttime="20210519 18:50:08.514" endtime="20210519 18:50:10.137"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:50:10.137" endtime="20210519 18:50:10.138"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210519 18:50:05.228" endtime="20210519 18:50:10.138"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210519 18:50:05.176" endtime="20210519 18:50:10.139"/>
</suite>
<suite id="s1-s3-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:48:41.256" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:48:41.255" endtime="20210519 18:48:41.256"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:48:41.256" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:48:41.256" endtime="20210519 18:48:41.256"/>
</kw>
<status status="PASS" starttime="20210519 18:48:41.255" endtime="20210519 18:48:41.257"/>
</kw>
<msg timestamp="20210519 18:48:41.257" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:48:41.254" endtime="20210519 18:48:41.257"/>
</kw>
<status status="PASS" starttime="20210519 18:48:41.254" endtime="20210519 18:48:41.257"/>
</kw>
<msg timestamp="20210519 18:48:41.257" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:48:41.253" endtime="20210519 18:48:41.257"/>
</kw>
<msg timestamp="20210519 18:48:41.257" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:48:41.252" endtime="20210519 18:48:41.257"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:48:41.258" level="INFO">${random} = 54561</msg>
<status status="PASS" starttime="20210519 18:48:41.257" endtime="20210519 18:48:41.258"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:41.263" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-54561 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:44.964" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:44.964" level="INFO">${output} = 2021-05-19 18:48:43 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:48:43 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210519 18:48:41.259" endtime="20210519 18:48:44.964"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:44.965" level="INFO">2021-05-19 18:48:43 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:48:43 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:48:43 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:48:43 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:48:43 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-9574E2AB9193-&gt;9f5bb8d6-13c7-4ad4-9f1c-81dbb3528dbf
2021-05-19 18:48:43 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210519 18:48:44.964" endtime="20210519 18:48:44.965"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:44.966" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:44.965" endtime="20210519 18:48:44.966"/>
</kw>
<status status="PASS" starttime="20210519 18:48:41.259" endtime="20210519 18:48:44.967"/>
</kw>
<msg timestamp="20210519 18:48:44.967" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:41.258" endtime="20210519 18:48:44.967"/>
</kw>
<msg timestamp="20210519 18:48:44.967" level="INFO">${result} = 2021-05-19 18:48:43 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:48:43 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210519 18:48:41.258" endtime="20210519 18:48:44.967"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:44.975" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:46.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:46.644" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:48 o3fs://bucket1.volume1.om/ozone-54561
dr...</msg>
<status status="PASS" starttime="20210519 18:48:44.969" endtime="20210519 18:48:46.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:46.645" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:48 o3fs://bucket1.volume1.om/ozone-54561
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210519 18:48:46.644" endtime="20210519 18:48:46.645"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:46.646" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:46.645" endtime="20210519 18:48:46.646"/>
</kw>
<status status="PASS" starttime="20210519 18:48:44.968" endtime="20210519 18:48:46.646"/>
</kw>
<msg timestamp="20210519 18:48:46.646" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:44.968" endtime="20210519 18:48:46.646"/>
</kw>
<msg timestamp="20210519 18:48:46.647" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-19 18:48 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-19 18:48 o3fs://bucket1.volume1.om/ozone-54561
dr...</msg>
<status status="PASS" starttime="20210519 18:48:44.967" endtime="20210519 18:48:46.647"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:48:46.647" endtime="20210519 18:48:46.647"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210519 18:48:41.251" endtime="20210519 18:48:46.647"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210519 18:48:41.189" endtime="20210519 18:48:46.648"/>
</suite>
<suite id="s1-s3-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:50:14.402" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:50:14.407" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:50:14.407" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:14.399" endtime="20210519 18:50:14.407"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:50:14.408" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:14.408" endtime="20210519 18:50:14.408"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:50:14.409" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:50:14.408" endtime="20210519 18:50:14.409"/>
</kw>
<status status="PASS" starttime="20210519 18:50:14.399" endtime="20210519 18:50:14.409"/>
</kw>
<msg timestamp="20210519 18:50:14.409" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:50:14.398" endtime="20210519 18:50:14.409"/>
</kw>
<msg timestamp="20210519 18:50:14.409" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:14.398" endtime="20210519 18:50:14.410"/>
</kw>
<msg timestamp="20210519 18:50:14.410" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:14.397" endtime="20210519 18:50:14.410"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:14.414" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:50:14.413" endtime="20210519 18:50:14.414"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:14.414" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:50:14.414" endtime="20210519 18:50:14.414"/>
</kw>
<status status="PASS" starttime="20210519 18:50:14.413" endtime="20210519 18:50:14.414"/>
</kw>
<msg timestamp="20210519 18:50:14.414" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:50:14.412" endtime="20210519 18:50:14.414"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:50:14.415" endtime="20210519 18:50:14.415"/>
</kw>
<msg timestamp="20210519 18:50:14.415" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:50:14.415" endtime="20210519 18:50:14.415"/>
</kw>
<status status="PASS" starttime="20210519 18:50:14.412" endtime="20210519 18:50:14.416"/>
</kw>
<msg timestamp="20210519 18:50:14.416" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:50:14.411" endtime="20210519 18:50:14.416"/>
</kw>
<msg timestamp="20210519 18:50:14.416" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:50:14.410" endtime="20210519 18:50:14.416"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:50:14.419" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:50:51.517" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:50:51.517" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:50:16 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:16 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210519 18:50:14.418" endtime="20210519 18:50:51.517"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:50:51.518" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:50:16 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:16 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:50:16 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:50:16 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:50:16 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-181ED0CF30B1-&gt;9f5bb8d6-13c7-4ad4-9f1c-81dbb3528dbf
2021-05-19 18:50:16 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-19 18:50:17 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-57E0B84E52C5-&gt;1d9b1c5a-2fe4-4de7-b447-1186baad05e5
2021-05-19 18:50:17 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-19 18:50:17 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:50:17 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:50:17 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:50:17 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:50:18 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621450046005_0003
2021-05-19 18:50:18 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:50:18 INFO  Configuration:2795 - resource-types.xml not found
2021-05-19 18:50:18 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-19 18:50:18 INFO  YarnClientImpl:329 - Submitted application application_1621450046005_0003
2021-05-19 18:50:18 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1621450046005_0003/
2021-05-19 18:50:18 INFO  Job:1614 - Running job: job_1621450046005_0003
2021-05-19 18:50:26 INFO  Job:1635 - Job job_1621450046005_0003 running in uber mode : false
2021-05-19 18:50:26 INFO  Job:1642 -  map 0% reduce 0%
2021-05-19 18:50:32 INFO  Job:1642 -  map 33% reduce 0%
2021-05-19 18:50:37 INFO  Job:1642 -  map 67% reduce 0%
2021-05-19 18:50:42 INFO  Job:1642 -  map 100% reduce 0%
2021-05-19 18:50:47 INFO  Job:1642 -  map 100% reduce 100%
2021-05-19 18:50:50 INFO  Job:1653 - Job job_1621450046005_0003 completed successfully
2021-05-19 18:50:50 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1116349
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=38444
		Total time spent by all reduces in occupied slots (ms)=15584
		Total time spent by all map tasks (ms)=9611
		Total time spent by all reduce tasks (ms)=3896
		Total vcore-milliseconds taken by all map tasks=9611
		Total vcore-milliseconds taken by all reduce tasks=3896
		Total megabyte-milliseconds taken by all map tasks=39366656
		Total megabyte-milliseconds taken by all reduce tasks=15958016
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=571
		CPU time spent (ms)=6710
		Physical memory (bytes) snapshot=1441841152
		Virtual memory (bytes) snapshot=15793569792
		Total committed heap usage (bytes)=1502085120
		Peak Map Physical memory (bytes)=384245760
		Peak Map Virtual memory (bytes)=3947896832
		Peak Reduce Physical memory (bytes)=398807040
		Peak Reduce Virtual memory (bytes)=3971801088
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 33.47 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210519 18:50:51.518" endtime="20210519 18:50:51.518"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:50:51.519" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:50:51.519" endtime="20210519 18:50:51.519"/>
</kw>
<status status="PASS" starttime="20210519 18:50:14.417" endtime="20210519 18:50:51.519"/>
</kw>
<msg timestamp="20210519 18:50:51.520" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:50:14.417" endtime="20210519 18:50:51.520"/>
</kw>
<msg timestamp="20210519 18:50:51.520" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:50:16 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:16 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210519 18:50:14.416" endtime="20210519 18:50:51.520"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:50:51.520" endtime="20210519 18:50:51.521"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:50:14.397" endtime="20210519 18:50:51.521"/>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:50:51.526" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:50:51.531" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:50:51.531" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:51.524" endtime="20210519 18:50:51.531"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:50:51.532" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:51.531" endtime="20210519 18:50:51.532"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:50:51.533" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:50:51.532" endtime="20210519 18:50:51.533"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.524" endtime="20210519 18:50:51.533"/>
</kw>
<msg timestamp="20210519 18:50:51.534" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:50:51.523" endtime="20210519 18:50:51.534"/>
</kw>
<msg timestamp="20210519 18:50:51.534" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:51.523" endtime="20210519 18:50:51.534"/>
</kw>
<msg timestamp="20210519 18:50:51.534" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:50:51.522" endtime="20210519 18:50:51.535"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:50:51.535" level="INFO">${random} = TMU4eaEf</msg>
<status status="PASS" starttime="20210519 18:50:51.535" endtime="20210519 18:50:51.535"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:51.540" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:50:51.539" endtime="20210519 18:50:51.540"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:51.540" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:50:51.540" endtime="20210519 18:50:51.540"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.539" endtime="20210519 18:50:51.541"/>
</kw>
<msg timestamp="20210519 18:50:51.541" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:50:51.538" endtime="20210519 18:50:51.541"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210519 18:50:51.541" endtime="20210519 18:50:51.542"/>
</kw>
<msg timestamp="20210519 18:50:51.542" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210519 18:50:51.541" endtime="20210519 18:50:51.542"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.537" endtime="20210519 18:50:51.542"/>
</kw>
<msg timestamp="20210519 18:50:51.543" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:50:51.536" endtime="20210519 18:50:51.543"/>
</kw>
<msg timestamp="20210519 18:50:51.543" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210519 18:50:51.536" endtime="20210519 18:50:51.543"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:51.547" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:50:51.547" endtime="20210519 18:50:51.547"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:51.548" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:50:51.547" endtime="20210519 18:50:51.548"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.546" endtime="20210519 18:50:51.548"/>
</kw>
<msg timestamp="20210519 18:50:51.548" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:50:51.546" endtime="20210519 18:50:51.548"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:51.550" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210519 18:50:51.550" endtime="20210519 18:50:51.550"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:51.551" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210519 18:50:51.551" endtime="20210519 18:50:51.551"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.549" endtime="20210519 18:50:51.552"/>
</kw>
<msg timestamp="20210519 18:50:51.552" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210519 18:50:51.549" endtime="20210519 18:50:51.552"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.545" endtime="20210519 18:50:51.552"/>
</kw>
<msg timestamp="20210519 18:50:51.552" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210519 18:50:51.544" endtime="20210519 18:50:51.552"/>
</kw>
<msg timestamp="20210519 18:50:51.553" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210519 18:50:51.543" endtime="20210519 18:50:51.553"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:51.557" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210519 18:50:51.557" endtime="20210519 18:50:51.558"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:51.558" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210519 18:50:51.558" endtime="20210519 18:50:51.558"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.556" endtime="20210519 18:50:51.559"/>
</kw>
<msg timestamp="20210519 18:50:51.559" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210519 18:50:51.555" endtime="20210519 18:50:51.559"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:50:51.560" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210519 18:50:51.560" endtime="20210519 18:50:51.560"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:50:51.561" level="INFO">${result} = /wordcount-TMU4eaEf.txt</msg>
<status status="PASS" starttime="20210519 18:50:51.561" endtime="20210519 18:50:51.561"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.559" endtime="20210519 18:50:51.561"/>
</kw>
<msg timestamp="20210519 18:50:51.562" level="INFO">${path_with_leading} = /wordcount-TMU4eaEf.txt</msg>
<status status="PASS" starttime="20210519 18:50:51.559" endtime="20210519 18:50:51.562"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.554" endtime="20210519 18:50:51.562"/>
</kw>
<msg timestamp="20210519 18:50:51.562" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-TMU4eaEf.txt</msg>
<status status="PASS" starttime="20210519 18:50:51.554" endtime="20210519 18:50:51.562"/>
</kw>
<msg timestamp="20210519 18:50:51.563" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-TMU4eaEf.txt</msg>
<status status="PASS" starttime="20210519 18:50:51.553" endtime="20210519 18:50:51.563"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:50:51.567" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-TMU4eaEf.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:51:30.779" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:51:30.779" level="INFO">${output} = 2021-05-19 18:50:53 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:50:53 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210519 18:50:51.564" endtime="20210519 18:51:30.779"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:51:30.780" level="INFO">2021-05-19 18:50:53 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:50:53 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:50:54 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:50:54 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:50:54 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:50:54 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:50:54 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-EC2918159287-&gt;9f5bb8d6-13c7-4ad4-9f1c-81dbb3528dbf
2021-05-19 18:50:54 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:50:55 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:50:55 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:50:55 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-210379B23D30-&gt;1d9b1c5a-2fe4-4de7-b447-1186baad05e5
2021-05-19 18:50:55 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:50:55 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621450046005_0004
2021-05-19 18:50:55 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:50:55 INFO  Configuration:2795 - resource-types.xml not found
2021-05-19 18:50:55 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-19 18:50:55 INFO  YarnClientImpl:329 - Submitted application application_1621450046005_0004
2021-05-19 18:50:55 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1621450046005_0004/
2021-05-19 18:50:55 INFO  Job:1614 - Running job: job_1621450046005_0004
2021-05-19 18:51:04 INFO  Job:1635 - Job job_1621450046005_0004 running in uber mode : false
2021-05-19 18:51:04 INFO  Job:1642 -  map 0% reduce 0%
2021-05-19 18:51:10 INFO  Job:1642 -  map 33% reduce 0%
2021-05-19 18:51:15 INFO  Job:1642 -  map 67% reduce 0%
2021-05-19 18:51:20 INFO  Job:1642 -  map 100% reduce 0%
2021-05-19 18:51:24 INFO  Job:1642 -  map 100% reduce 100%
2021-05-19 18:51:30 INFO  Job:1653 - Job job_1621450046005_0004 completed successfully
2021-05-19 18:51:30 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32104
		FILE: Number of bytes written=1179201
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39807
		OFS: Number of bytes written=22286
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39384
		Total time spent by all reduces in occupied slots (ms)=13372
		Total time spent by all map tasks (ms)=9846
		Total time spent by all reduce tasks (ms)=3343
		Total vcore-milliseconds taken by all map tasks=9846
		Total vcore-milliseconds taken by all reduce tasks=3343
		Total megabyte-milliseconds taken by all map tasks=40329216
		Total megabyte-milliseconds taken by all reduce tasks=13692928
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55167
		Map output materialized bytes=32116
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32116
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=575
		CPU time spent (ms)=6980
		Physical memory (bytes) snapshot=1365798912
		Virtual memory (bytes) snapshot=15810428928
		Total committed heap usage (bytes)=1441267712
		Peak Map Physical memory (bytes)=368836608
		Peak Map Virtual memory (bytes)=3951366144
		Peak Reduce Physical memory (bytes)=313171968
		Peak Reduce Virtual memory (bytes)=3968942080
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39507
	File Output Format Counters 
		Bytes Written=22286</msg>
<status status="PASS" starttime="20210519 18:51:30.780" endtime="20210519 18:51:30.780"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:51:30.781" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:51:30.781" endtime="20210519 18:51:30.781"/>
</kw>
<status status="PASS" starttime="20210519 18:50:51.564" endtime="20210519 18:51:30.781"/>
</kw>
<msg timestamp="20210519 18:51:30.782" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:50:51.564" endtime="20210519 18:51:30.782"/>
</kw>
<msg timestamp="20210519 18:51:30.782" level="INFO">${output} = 2021-05-19 18:50:53 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:50:53 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210519 18:50:51.563" endtime="20210519 18:51:30.782"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:51:30.782" endtime="20210519 18:51:30.783"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:51:30.783" endtime="20210519 18:51:30.783"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:50:51.522" endtime="20210519 18:51:30.784"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210519 18:50:14.346" endtime="20210519 18:51:30.785"/>
</suite>
<suite id="s1-s3-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:50.902" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:48:50.907" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:48:50.907" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:48:50.899" endtime="20210519 18:48:50.907"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:48:50.908" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:48:50.908" endtime="20210519 18:48:50.908"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:48:50.909" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:48:50.908" endtime="20210519 18:48:50.909"/>
</kw>
<status status="PASS" starttime="20210519 18:48:50.899" endtime="20210519 18:48:50.909"/>
</kw>
<msg timestamp="20210519 18:48:50.909" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:50.898" endtime="20210519 18:48:50.909"/>
</kw>
<msg timestamp="20210519 18:48:50.909" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:48:50.898" endtime="20210519 18:48:50.910"/>
</kw>
<msg timestamp="20210519 18:48:50.911" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:48:50.897" endtime="20210519 18:48:50.911"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:48:50.914" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:48:50.913" endtime="20210519 18:48:50.914"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:48:50.915" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:48:50.914" endtime="20210519 18:48:50.915"/>
</kw>
<status status="PASS" starttime="20210519 18:48:50.913" endtime="20210519 18:48:50.915"/>
</kw>
<msg timestamp="20210519 18:48:50.915" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:48:50.912" endtime="20210519 18:48:50.915"/>
</kw>
<status status="PASS" starttime="20210519 18:48:50.912" endtime="20210519 18:48:50.915"/>
</kw>
<msg timestamp="20210519 18:48:50.915" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:48:50.911" endtime="20210519 18:48:50.915"/>
</kw>
<msg timestamp="20210519 18:48:50.916" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:48:50.911" endtime="20210519 18:48:50.916"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:48:50.919" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:49:26.470" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:49:26.470" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:48:52 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:48:52 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210519 18:48:50.917" endtime="20210519 18:49:26.470"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:49:26.472" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:48:52 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:48:52 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:48:52 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:48:52 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:48:52 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-5B6CC00D103C-&gt;9f5bb8d6-13c7-4ad4-9f1c-81dbb3528dbf
2021-05-19 18:48:52 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-19 18:48:53 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-CD246EF2CD9D-&gt;1d9b1c5a-2fe4-4de7-b447-1186baad05e5
2021-05-19 18:48:53 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-19 18:48:53 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:48:54 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:48:54 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:48:54 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621450046005_0001
2021-05-19 18:48:54 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:48:54 INFO  Configuration:2795 - resource-types.xml not found
2021-05-19 18:48:54 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-19 18:48:55 INFO  YarnClientImpl:329 - Submitted application application_1621450046005_0001
2021-05-19 18:48:55 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1621450046005_0001/
2021-05-19 18:48:55 INFO  Job:1614 - Running job: job_1621450046005_0001
2021-05-19 18:49:04 INFO  Job:1635 - Job job_1621450046005_0001 running in uber mode : false
2021-05-19 18:49:04 INFO  Job:1642 -  map 0% reduce 0%
2021-05-19 18:49:10 INFO  Job:1642 -  map 33% reduce 0%
2021-05-19 18:49:15 INFO  Job:1642 -  map 67% reduce 0%
2021-05-19 18:49:20 INFO  Job:1642 -  map 100% reduce 0%
2021-05-19 18:49:24 INFO  Job:1642 -  map 100% reduce 100%
2021-05-19 18:49:25 INFO  Job:1653 - Job job_1621450046005_0001 completed successfully
2021-05-19 18:49:25 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1116561
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39332
		Total time spent by all reduces in occupied slots (ms)=14864
		Total time spent by all map tasks (ms)=9833
		Total time spent by all reduce tasks (ms)=3716
		Total vcore-milliseconds taken by all map tasks=9833
		Total vcore-milliseconds taken by all reduce tasks=3716
		Total megabyte-milliseconds taken by all map tasks=40275968
		Total megabyte-milliseconds taken by all reduce tasks=15220736
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=560
		CPU time spent (ms)=7010
		Physical memory (bytes) snapshot=1382330368
		Virtual memory (bytes) snapshot=15820029952
		Total committed heap usage (bytes)=1468006400
		Peak Map Physical memory (bytes)=374693888
		Peak Map Virtual memory (bytes)=3952496640
		Peak Reduce Physical memory (bytes)=309854208
		Peak Reduce Virtual memory (bytes)=3969552384
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 31.969 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210519 18:49:26.471" endtime="20210519 18:49:26.472"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:49:26.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:49:26.473" endtime="20210519 18:49:26.473"/>
</kw>
<status status="PASS" starttime="20210519 18:48:50.917" endtime="20210519 18:49:26.474"/>
</kw>
<msg timestamp="20210519 18:49:26.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:48:50.916" endtime="20210519 18:49:26.474"/>
</kw>
<msg timestamp="20210519 18:49:26.475" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-19 18:48:52 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:48:52 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210519 18:48:50.916" endtime="20210519 18:49:26.475"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:49:26.475" endtime="20210519 18:49:26.475"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:48:50.896" endtime="20210519 18:49:26.477"/>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:49:26.483" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:49:26.488" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:49:26.488" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:49:26.480" endtime="20210519 18:49:26.489"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:49:26.490" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:49:26.489" endtime="20210519 18:49:26.490"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:49:26.491" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:49:26.490" endtime="20210519 18:49:26.493"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.480" endtime="20210519 18:49:26.493"/>
</kw>
<msg timestamp="20210519 18:49:26.494" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:49:26.480" endtime="20210519 18:49:26.494"/>
</kw>
<msg timestamp="20210519 18:49:26.494" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:49:26.479" endtime="20210519 18:49:26.495"/>
</kw>
<msg timestamp="20210519 18:49:26.495" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210519 18:49:26.479" endtime="20210519 18:49:26.495"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210519 18:49:26.496" level="INFO">${random} = TLjNJp7z</msg>
<status status="PASS" starttime="20210519 18:49:26.495" endtime="20210519 18:49:26.496"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:49:26.500" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:49:26.499" endtime="20210519 18:49:26.500"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:49:26.500" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:49:26.500" endtime="20210519 18:49:26.500"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.499" endtime="20210519 18:49:26.501"/>
</kw>
<msg timestamp="20210519 18:49:26.501" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:49:26.498" endtime="20210519 18:49:26.501"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.497" endtime="20210519 18:49:26.501"/>
</kw>
<msg timestamp="20210519 18:49:26.501" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:49:26.497" endtime="20210519 18:49:26.501"/>
</kw>
<msg timestamp="20210519 18:49:26.502" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210519 18:49:26.496" endtime="20210519 18:49:26.502"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:49:26.506" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:49:26.505" endtime="20210519 18:49:26.506"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:49:26.506" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:49:26.506" endtime="20210519 18:49:26.506"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.505" endtime="20210519 18:49:26.506"/>
</kw>
<msg timestamp="20210519 18:49:26.507" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:49:26.504" endtime="20210519 18:49:26.507"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.503" endtime="20210519 18:49:26.507"/>
</kw>
<msg timestamp="20210519 18:49:26.507" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210519 18:49:26.503" endtime="20210519 18:49:26.507"/>
</kw>
<msg timestamp="20210519 18:49:26.507" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210519 18:49:26.502" endtime="20210519 18:49:26.507"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210519 18:49:26.511" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210519 18:49:26.511" endtime="20210519 18:49:26.512"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210519 18:49:26.512" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210519 18:49:26.512" endtime="20210519 18:49:26.512"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.510" endtime="20210519 18:49:26.513"/>
</kw>
<msg timestamp="20210519 18:49:26.513" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210519 18:49:26.510" endtime="20210519 18:49:26.513"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.509" endtime="20210519 18:49:26.513"/>
</kw>
<msg timestamp="20210519 18:49:26.513" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-TLjNJp7z.txt</msg>
<status status="PASS" starttime="20210519 18:49:26.508" endtime="20210519 18:49:26.513"/>
</kw>
<msg timestamp="20210519 18:49:26.514" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-TLjNJp7z.txt</msg>
<status status="PASS" starttime="20210519 18:49:26.508" endtime="20210519 18:49:26.514"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210519 18:49:26.518" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-TLjNJp7z.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210519 18:50:00.927" level="INFO">${rc} = 0</msg>
<msg timestamp="20210519 18:50:00.927" level="INFO">${output} = 2021-05-19 18:49:28 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:49:28 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210519 18:49:26.516" endtime="20210519 18:50:00.927"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210519 18:50:00.928" level="INFO">2021-05-19 18:49:28 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:49:28 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-19 18:49:28 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-19 18:49:28 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-19 18:49:28 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-19 18:49:29 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-19 18:49:29 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-BDECA41C090C-&gt;1d9b1c5a-2fe4-4de7-b447-1186baad05e5
2021-05-19 18:49:29 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:49:30 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-19 18:49:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-16124D49200C-&gt;9f5bb8d6-13c7-4ad4-9f1c-81dbb3528dbf
2021-05-19 18:49:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-19 18:49:30 INFO  JobSubmitter:202 - number of splits:3
2021-05-19 18:49:30 INFO  JobSubmitter:298 - Submitting tokens for job: job_1621450046005_0002
2021-05-19 18:49:30 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-19 18:49:30 INFO  Configuration:2795 - resource-types.xml not found
2021-05-19 18:49:30 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-19 18:49:31 INFO  YarnClientImpl:329 - Submitted application application_1621450046005_0002
2021-05-19 18:49:31 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1621450046005_0002/
2021-05-19 18:49:31 INFO  Job:1614 - Running job: job_1621450046005_0002
2021-05-19 18:49:39 INFO  Job:1635 - Job job_1621450046005_0002 running in uber mode : false
2021-05-19 18:49:39 INFO  Job:1642 -  map 0% reduce 0%
2021-05-19 18:49:45 INFO  Job:1642 -  map 33% reduce 0%
2021-05-19 18:49:50 INFO  Job:1642 -  map 67% reduce 0%
2021-05-19 18:49:55 INFO  Job:1642 -  map 100% reduce 0%
2021-05-19 18:49:59 INFO  Job:1642 -  map 100% reduce 100%
2021-05-19 18:50:00 INFO  Job:1653 - Job job_1621450046005_0002 completed successfully
2021-05-19 18:50:00 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32104
		FILE: Number of bytes written=1179285
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39810
		O3FS: Number of bytes written=22286
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=40428
		Total time spent by all reduces in occupied slots (ms)=13636
		Total time spent by all map tasks (ms)=10107
		Total time spent by all reduce tasks (ms)=3409
		Total vcore-milliseconds taken by all map tasks=10107
		Total vcore-milliseconds taken by all reduce tasks=3409
		Total megabyte-milliseconds taken by all map tasks=41398272
		Total megabyte-milliseconds taken by all reduce tasks=13963264
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55167
		Map output materialized bytes=32116
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32116
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=590
		CPU time spent (ms)=6980
		Physical memory (bytes) snapshot=1522601984
		Virtual memory (bytes) snapshot=15823753216
		Total committed heap usage (bytes)=1844445184
		Peak Map Physical memory (bytes)=378769408
		Peak Map Virtual memory (bytes)=3953913856
		Peak Reduce Physical memory (bytes)=395862016
		Peak Reduce Virtual memory (bytes)=3970297856
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39507
	File Output Format Counters 
		Bytes Written=22286</msg>
<status status="PASS" starttime="20210519 18:50:00.928" endtime="20210519 18:50:00.928"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210519 18:50:00.929" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210519 18:50:00.929" endtime="20210519 18:50:00.929"/>
</kw>
<status status="PASS" starttime="20210519 18:49:26.515" endtime="20210519 18:50:00.930"/>
</kw>
<msg timestamp="20210519 18:50:00.930" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210519 18:49:26.515" endtime="20210519 18:50:00.930"/>
</kw>
<msg timestamp="20210519 18:50:00.930" level="INFO">${output} = 2021-05-19 18:49:28 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-05-19 18:49:28 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210519 18:49:26.514" endtime="20210519 18:50:00.930"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:50:00.930" endtime="20210519 18:50:00.931"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210519 18:50:00.931" endtime="20210519 18:50:00.931"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210519 18:49:26.478" endtime="20210519 18:50:00.931"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210519 18:48:50.826" endtime="20210519 18:50:00.933"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="194928"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="574989"/>
</suite>
<statistics>
<total>
<stat pass="24" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="24" fail="0" skip="0" id="s1" name="ozone-mr">ozone-mr</stat>
<stat pass="8" fail="0" skip="0" id="s1-s1" name="hadoop27">ozone-mr.hadoop27</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1" name="Createmrenv">ozone-mr.hadoop27.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s2" name="hadoopfs-ofs">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s3" name="hadoopfs-o3fs">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s4" name="mapreduce-ofs">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s5" name="mapreduce-o3fs">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s2" name="hadoop31">ozone-mr.hadoop31</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s1" name="Createmrenv">ozone-mr.hadoop31.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s2" name="hadoopfs-ofs">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s3" name="hadoopfs-o3fs">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s4" name="mapreduce-ofs">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s5" name="mapreduce-o3fs">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s3" name="hadoop32">ozone-mr.hadoop32</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s1" name="Createmrenv">ozone-mr.hadoop32.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s2" name="hadoopfs-ofs">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s3" name="hadoopfs-o3fs">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s4" name="mapreduce-ofs">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s5" name="mapreduce-o3fs">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
