<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 4.0.3 (Python 3.6.9 on linux)" generated="20210531 09:25:52.822" rpa="false" schemaversion="2">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite id="s1-s1-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:25.990" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:28.576" level="INFO">${rc} = 255</msg>
<msg timestamp="20210531 09:11:28.576" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:11:25.987" endtime="20210531 09:11:28.576"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:28.577" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:11:28.577" endtime="20210531 09:11:28.577"/>
</kw>
<msg timestamp="20210531 09:11:28.578" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:11:25.986" endtime="20210531 09:11:28.578"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:28.583" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:31.247" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:31.247" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:28.581" endtime="20210531 09:11:31.247"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:31.249" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:31.248" endtime="20210531 09:11:31.249"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:31.252" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:31.249" endtime="20210531 09:11:31.252"/>
</kw>
<status status="PASS" starttime="20210531 09:11:28.580" endtime="20210531 09:11:31.252"/>
</kw>
<msg timestamp="20210531 09:11:31.252" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:28.580" endtime="20210531 09:11:31.252"/>
</kw>
<msg timestamp="20210531 09:11:31.253" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210531 09:11:28.579" endtime="20210531 09:11:31.253"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:11:31.253" endtime="20210531 09:11:31.253"/>
</kw>
<status status="PASS" starttime="20210531 09:11:28.579" endtime="20210531 09:11:31.254"/>
</kw>
<status status="PASS" starttime="20210531 09:11:28.578" endtime="20210531 09:11:31.254"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:31.260" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:33.884" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:33.884" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:31.257" endtime="20210531 09:11:33.884"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:33.885" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:33.884" endtime="20210531 09:11:33.885"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:33.886" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:33.885" endtime="20210531 09:11:33.886"/>
</kw>
<status status="PASS" starttime="20210531 09:11:31.256" endtime="20210531 09:11:33.886"/>
</kw>
<msg timestamp="20210531 09:11:33.886" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:31.256" endtime="20210531 09:11:33.886"/>
</kw>
<status status="PASS" starttime="20210531 09:11:31.255" endtime="20210531 09:11:33.887"/>
</kw>
<status status="PASS" starttime="20210531 09:11:31.255" endtime="20210531 09:11:33.887"/>
</kw>
<status status="PASS" starttime="20210531 09:11:31.254" endtime="20210531 09:11:33.887"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210531 09:11:33.888" endtime="20210531 09:11:33.888"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:33.892" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:36.553" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:36.553" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:11...</msg>
<status status="PASS" starttime="20210531 09:11:33.890" endtime="20210531 09:11:36.553"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:36.555" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:11:33.849Z",
  "modificationTime" : "2021-05-31T09:11:33.849Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210531 09:11:36.554" endtime="20210531 09:11:36.555"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:36.556" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:36.555" endtime="20210531 09:11:36.556"/>
</kw>
<status status="PASS" starttime="20210531 09:11:33.890" endtime="20210531 09:11:36.556"/>
</kw>
<msg timestamp="20210531 09:11:36.556" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:33.889" endtime="20210531 09:11:36.557"/>
</kw>
<msg timestamp="20210531 09:11:36.557" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:11...</msg>
<status status="PASS" starttime="20210531 09:11:33.889" endtime="20210531 09:11:36.557"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:11:36.557" endtime="20210531 09:11:36.558"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:11:36.563" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:11:36.562" endtime="20210531 09:11:36.563"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:11:36.564" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:11:36.563" endtime="20210531 09:11:36.564"/>
</kw>
<status status="PASS" starttime="20210531 09:11:36.562" endtime="20210531 09:11:36.564"/>
</kw>
<msg timestamp="20210531 09:11:36.564" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:11:36.560" endtime="20210531 09:11:36.564"/>
</kw>
<status status="PASS" starttime="20210531 09:11:36.559" endtime="20210531 09:11:36.565"/>
</kw>
<msg timestamp="20210531 09:11:36.565" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210531 09:11:36.559" endtime="20210531 09:11:36.565"/>
</kw>
<msg timestamp="20210531 09:11:36.565" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210531 09:11:36.558" endtime="20210531 09:11:36.565"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:36.569" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:39.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:39.006" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:36.567" endtime="20210531 09:11:39.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:39.008" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:39.007" endtime="20210531 09:11:39.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:39.009" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:39.008" endtime="20210531 09:11:39.009"/>
</kw>
<status status="PASS" starttime="20210531 09:11:36.566" endtime="20210531 09:11:39.009"/>
</kw>
<msg timestamp="20210531 09:11:39.009" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:36.566" endtime="20210531 09:11:39.009"/>
</kw>
<status status="PASS" starttime="20210531 09:11:36.565" endtime="20210531 09:11:39.010"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:39.013" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:44.224" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:44.224" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:39.012" endtime="20210531 09:11:44.224"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:44.226" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:44.225" endtime="20210531 09:11:44.226"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:44.227" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:44.226" endtime="20210531 09:11:44.227"/>
</kw>
<status status="PASS" starttime="20210531 09:11:39.011" endtime="20210531 09:11:44.227"/>
</kw>
<msg timestamp="20210531 09:11:44.228" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:39.011" endtime="20210531 09:11:44.228"/>
</kw>
<status status="PASS" starttime="20210531 09:11:39.010" endtime="20210531 09:11:44.228"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:44.232" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:49.126" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:49.126" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:44.230" endtime="20210531 09:11:49.126"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:49.128" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:49.127" endtime="20210531 09:11:49.128"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:49.129" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:49.128" endtime="20210531 09:11:49.129"/>
</kw>
<status status="PASS" starttime="20210531 09:11:44.229" endtime="20210531 09:11:49.129"/>
</kw>
<msg timestamp="20210531 09:11:49.129" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:44.229" endtime="20210531 09:11:49.129"/>
</kw>
<status status="PASS" starttime="20210531 09:11:44.228" endtime="20210531 09:11:49.130"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:49.134" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:53.257" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:53.257" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:49.132" endtime="20210531 09:11:53.257"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:53.258" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:53.258" endtime="20210531 09:11:53.259"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:53.259" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:53.259" endtime="20210531 09:11:53.259"/>
</kw>
<status status="PASS" starttime="20210531 09:11:49.131" endtime="20210531 09:11:53.260"/>
</kw>
<msg timestamp="20210531 09:11:53.260" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:49.131" endtime="20210531 09:11:53.260"/>
</kw>
<status status="PASS" starttime="20210531 09:11:49.130" endtime="20210531 09:11:53.260"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210531 09:11:25.985" endtime="20210531 09:11:53.261"/>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:11:53.269" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:11:53.268" endtime="20210531 09:11:53.269"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:11:53.270" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:11:53.269" endtime="20210531 09:11:53.270"/>
</kw>
<status status="PASS" starttime="20210531 09:11:53.267" endtime="20210531 09:11:53.270"/>
</kw>
<msg timestamp="20210531 09:11:53.270" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:11:53.265" endtime="20210531 09:11:53.270"/>
</kw>
<status status="PASS" starttime="20210531 09:11:53.264" endtime="20210531 09:11:53.272"/>
</kw>
<msg timestamp="20210531 09:11:53.272" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:11:53.263" endtime="20210531 09:11:53.272"/>
</kw>
<msg timestamp="20210531 09:11:53.273" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:11:53.262" endtime="20210531 09:11:53.273"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:53.277" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:55.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:55.709" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:53.274" endtime="20210531 09:11:55.709"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:55.711" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:55.709" endtime="20210531 09:11:55.711"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:55.711" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:55.711" endtime="20210531 09:11:55.711"/>
</kw>
<status status="PASS" starttime="20210531 09:11:53.274" endtime="20210531 09:11:55.712"/>
</kw>
<msg timestamp="20210531 09:11:55.712" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:53.273" endtime="20210531 09:11:55.712"/>
</kw>
<status status="PASS" starttime="20210531 09:11:53.273" endtime="20210531 09:11:55.712"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:11:55.716" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:11:58.133" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:11:58.133" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:11:55.714" endtime="20210531 09:11:58.133"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:11:58.135" level="INFO"/>
<status status="PASS" starttime="20210531 09:11:58.133" endtime="20210531 09:11:58.136"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:11:58.139" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:11:58.136" endtime="20210531 09:11:58.140"/>
</kw>
<status status="PASS" starttime="20210531 09:11:55.713" endtime="20210531 09:11:58.140"/>
</kw>
<msg timestamp="20210531 09:11:58.140" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:11:55.713" endtime="20210531 09:11:58.140"/>
</kw>
<status status="PASS" starttime="20210531 09:11:55.712" endtime="20210531 09:11:58.140"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210531 09:11:53.261" endtime="20210531 09:11:58.141"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210531 09:11:25.915" endtime="20210531 09:11:58.142"/>
</suite>
<suite id="s1-s1-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:13:37.881" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:13:37.881" endtime="20210531 09:13:37.881"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:13:37.882" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:13:37.881" endtime="20210531 09:13:37.882"/>
</kw>
<status status="PASS" starttime="20210531 09:13:37.880" endtime="20210531 09:13:37.882"/>
</kw>
<msg timestamp="20210531 09:13:37.882" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:13:37.880" endtime="20210531 09:13:37.882"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:13:37.883" endtime="20210531 09:13:37.884"/>
</kw>
<msg timestamp="20210531 09:13:37.884" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:13:37.883" endtime="20210531 09:13:37.884"/>
</kw>
<status status="PASS" starttime="20210531 09:13:37.879" endtime="20210531 09:13:37.884"/>
</kw>
<msg timestamp="20210531 09:13:37.884" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:13:37.878" endtime="20210531 09:13:37.884"/>
</kw>
<msg timestamp="20210531 09:13:37.885" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:13:37.877" endtime="20210531 09:13:37.885"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:13:37.885" level="INFO">${random} = 52261</msg>
<status status="PASS" starttime="20210531 09:13:37.885" endtime="20210531 09:13:37.885"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:13:37.891" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-52261 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:13:41.471" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:13:41.471" level="INFO">${output} = 2021-05-31 09:13:39 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:13:39 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 ...</msg>
<status status="PASS" starttime="20210531 09:13:37.887" endtime="20210531 09:13:41.471"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:13:41.472" level="INFO">2021-05-31 09:13:39 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:13:39 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 09:13:39 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-31 09:13:40 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:13:40 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-52B3013BA01E-&gt;6466130f-d10f-4287-993d-d699594c222a
2021-05-31 09:13:40 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210531 09:13:41.472" endtime="20210531 09:13:41.473"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:13:41.473" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:13:41.473" endtime="20210531 09:13:41.473"/>
</kw>
<status status="PASS" starttime="20210531 09:13:37.886" endtime="20210531 09:13:41.474"/>
</kw>
<msg timestamp="20210531 09:13:41.474" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:13:37.886" endtime="20210531 09:13:41.474"/>
</kw>
<msg timestamp="20210531 09:13:41.474" level="INFO">${result} = 2021-05-31 09:13:39 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:13:39 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 ...</msg>
<status status="PASS" starttime="20210531 09:13:37.885" endtime="20210531 09:13:41.474"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:13:41.478" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:13:43.475" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:13:43.475" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:12 ofs://om/volume1/bucket1/ozone-33352
-rw-...</msg>
<status status="PASS" starttime="20210531 09:13:41.476" endtime="20210531 09:13:43.476"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:13:43.477" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:12 ofs://om/volume1/bucket1/ozone-33352
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:13 ofs://om/volume1/bucket1/ozone-52261
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:13 ofs://om/volume1/bucket1/wordcount-BY5oCPpE.txt</msg>
<status status="PASS" starttime="20210531 09:13:43.476" endtime="20210531 09:13:43.477"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:13:43.477" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:13:43.477" endtime="20210531 09:13:43.478"/>
</kw>
<status status="PASS" starttime="20210531 09:13:41.475" endtime="20210531 09:13:43.478"/>
</kw>
<msg timestamp="20210531 09:13:43.478" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:13:41.475" endtime="20210531 09:13:43.478"/>
</kw>
<msg timestamp="20210531 09:13:43.478" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:12 ofs://om/volume1/bucket1/ozone-33352
-rw-...</msg>
<status status="PASS" starttime="20210531 09:13:41.474" endtime="20210531 09:13:43.478"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:13:43.479" endtime="20210531 09:13:43.479"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210531 09:13:37.876" endtime="20210531 09:13:43.479"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210531 09:13:37.810" endtime="20210531 09:13:43.481"/>
</suite>
<suite id="s1-s1-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:12:03.104" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:12:03.103" endtime="20210531 09:12:03.104"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:12:03.104" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:12:03.104" endtime="20210531 09:12:03.105"/>
</kw>
<status status="PASS" starttime="20210531 09:12:03.103" endtime="20210531 09:12:03.105"/>
</kw>
<msg timestamp="20210531 09:12:03.105" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:12:03.102" endtime="20210531 09:12:03.105"/>
</kw>
<status status="PASS" starttime="20210531 09:12:03.101" endtime="20210531 09:12:03.105"/>
</kw>
<msg timestamp="20210531 09:12:03.105" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:12:03.101" endtime="20210531 09:12:03.105"/>
</kw>
<msg timestamp="20210531 09:12:03.106" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:12:03.099" endtime="20210531 09:12:03.106"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:12:03.106" level="INFO">${random} = 33352</msg>
<status status="PASS" starttime="20210531 09:12:03.106" endtime="20210531 09:12:03.106"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:12:03.112" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-33352 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:12:07.386" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:12:07.386" level="INFO">${output} = 2021-05-31 09:12:05 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:05 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 ...</msg>
<status status="PASS" starttime="20210531 09:12:03.108" endtime="20210531 09:12:07.386"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:12:07.387" level="INFO">2021-05-31 09:12:05 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:05 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 09:12:05 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-31 09:12:05 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:12:05 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-49A02018F2D7-&gt;6466130f-d10f-4287-993d-d699594c222a
2021-05-31 09:12:05 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210531 09:12:07.386" endtime="20210531 09:12:07.387"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:12:07.389" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:12:07.388" endtime="20210531 09:12:07.390"/>
</kw>
<status status="PASS" starttime="20210531 09:12:03.107" endtime="20210531 09:12:07.390"/>
</kw>
<msg timestamp="20210531 09:12:07.390" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:12:03.107" endtime="20210531 09:12:07.391"/>
</kw>
<msg timestamp="20210531 09:12:07.391" level="INFO">${result} = 2021-05-31 09:12:05 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:05 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 ...</msg>
<status status="PASS" starttime="20210531 09:12:03.107" endtime="20210531 09:12:07.391"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:12:07.397" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:12:09.323" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:12:09.323" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:12 o3fs://bucket1.volume1.om/ozone-33352
dr...</msg>
<status status="PASS" starttime="20210531 09:12:07.393" endtime="20210531 09:12:09.323"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:12:09.325" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:12 o3fs://bucket1.volume1.om/ozone-33352
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:12:09.324" endtime="20210531 09:12:09.325"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:12:09.325" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:12:09.325" endtime="20210531 09:12:09.325"/>
</kw>
<status status="PASS" starttime="20210531 09:12:07.392" endtime="20210531 09:12:09.326"/>
</kw>
<msg timestamp="20210531 09:12:09.326" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:12:07.392" endtime="20210531 09:12:09.326"/>
</kw>
<msg timestamp="20210531 09:12:09.326" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:11 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-05-31 09:12 o3fs://bucket1.volume1.om/ozone-33352
dr...</msg>
<status status="PASS" starttime="20210531 09:12:07.391" endtime="20210531 09:12:09.326"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:12:09.326" endtime="20210531 09:12:09.327"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210531 09:12:03.098" endtime="20210531 09:12:09.327"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210531 09:12:03.032" endtime="20210531 09:12:09.328"/>
</suite>
<suite id="s1-s1-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:13:48.517" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:13:48.524" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:13:48.524" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:13:48.513" endtime="20210531 09:13:48.524"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:13:48.525" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:13:48.524" endtime="20210531 09:13:48.525"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:13:48.526" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:13:48.525" endtime="20210531 09:13:48.526"/>
</kw>
<status status="PASS" starttime="20210531 09:13:48.512" endtime="20210531 09:13:48.526"/>
</kw>
<msg timestamp="20210531 09:13:48.526" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:13:48.512" endtime="20210531 09:13:48.526"/>
</kw>
<msg timestamp="20210531 09:13:48.527" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:13:48.512" endtime="20210531 09:13:48.527"/>
</kw>
<msg timestamp="20210531 09:13:48.527" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:13:48.511" endtime="20210531 09:13:48.527"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:13:48.535" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:13:48.534" endtime="20210531 09:13:48.535"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:13:48.535" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:13:48.535" endtime="20210531 09:13:48.535"/>
</kw>
<status status="PASS" starttime="20210531 09:13:48.534" endtime="20210531 09:13:48.536"/>
</kw>
<msg timestamp="20210531 09:13:48.536" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:13:48.533" endtime="20210531 09:13:48.536"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:13:48.536" endtime="20210531 09:13:48.537"/>
</kw>
<msg timestamp="20210531 09:13:48.537" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:13:48.536" endtime="20210531 09:13:48.537"/>
</kw>
<status status="PASS" starttime="20210531 09:13:48.531" endtime="20210531 09:13:48.537"/>
</kw>
<msg timestamp="20210531 09:13:48.538" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:13:48.529" endtime="20210531 09:13:48.538"/>
</kw>
<msg timestamp="20210531 09:13:48.538" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:13:48.527" endtime="20210531 09:13:48.538"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:13:48.545" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:14:31.103" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:14:31.103" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:13:50 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:13:50 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210531 09:13:48.540" endtime="20210531 09:14:31.104"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:14:31.105" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:13:50 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:13:50 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 09:13:50 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-31 09:13:51 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:13:51 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-15776D4E6043-&gt;6466130f-d10f-4287-993d-d699594c222a
2021-05-31 09:13:51 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-31 09:13:51 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-DCDDFF6E366E-&gt;98816918-c72f-4400-96af-009da18e986d
2021-05-31 09:13:51 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-31 09:13:52 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:13:52 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:13:52 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-31 09:13:52 INFO  JobSubmitter:198 - number of splits:3
2021-05-31 09:13:52 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622452237411_0003
2021-05-31 09:13:53 INFO  YarnClientImpl:273 - Submitted application application_1622452237411_0003
2021-05-31 09:13:53 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622452237411_0003/
2021-05-31 09:13:53 INFO  Job:1339 - Running job: job_1622452237411_0003
2021-05-31 09:14:01 INFO  Job:1360 - Job job_1622452237411_0003 running in uber mode : false
2021-05-31 09:14:01 INFO  Job:1367 -  map 0% reduce 0%
2021-05-31 09:14:07 INFO  Job:1367 -  map 33% reduce 0%
2021-05-31 09:14:12 INFO  Job:1367 -  map 67% reduce 0%
2021-05-31 09:14:17 INFO  Job:1367 -  map 100% reduce 0%
2021-05-31 09:14:24 INFO  Job:1367 -  map 100% reduce 100%
2021-05-31 09:14:30 INFO  Job:1378 - Job job_1622452237411_0003 completed successfully
2021-05-31 09:14:30 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=633165
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=41276
		Total time spent by all reduces in occupied slots (ms)=25808
		Total time spent by all map tasks (ms)=10319
		Total time spent by all reduce tasks (ms)=6452
		Total vcore-milliseconds taken by all map tasks=10319
		Total vcore-milliseconds taken by all reduce tasks=6452
		Total megabyte-milliseconds taken by all map tasks=42266624
		Total megabyte-milliseconds taken by all reduce tasks=26427392
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=577
		CPU time spent (ms)=7530
		Physical memory (bytes) snapshot=1317019648
		Virtual memory (bytes) snapshot=15784603648
		Total committed heap usage (bytes)=1119879168
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 38.511 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210531 09:14:31.104" endtime="20210531 09:14:31.105"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:14:31.106" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:14:31.105" endtime="20210531 09:14:31.106"/>
</kw>
<status status="PASS" starttime="20210531 09:13:48.539" endtime="20210531 09:14:31.106"/>
</kw>
<msg timestamp="20210531 09:14:31.106" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:13:48.539" endtime="20210531 09:14:31.106"/>
</kw>
<msg timestamp="20210531 09:14:31.107" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:13:50 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:13:50 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210531 09:13:48.538" endtime="20210531 09:14:31.107"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:14:31.107" endtime="20210531 09:14:31.107"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:13:48.510" endtime="20210531 09:14:31.108"/>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:14:31.114" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:14:31.119" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:14:31.119" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:14:31.111" endtime="20210531 09:14:31.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:14:31.120" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:14:31.120" endtime="20210531 09:14:31.120"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:14:31.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:14:31.121" endtime="20210531 09:14:31.121"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.111" endtime="20210531 09:14:31.121"/>
</kw>
<msg timestamp="20210531 09:14:31.122" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:14:31.110" endtime="20210531 09:14:31.122"/>
</kw>
<msg timestamp="20210531 09:14:31.122" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:14:31.110" endtime="20210531 09:14:31.122"/>
</kw>
<msg timestamp="20210531 09:14:31.122" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:14:31.109" endtime="20210531 09:14:31.122"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:14:31.123" level="INFO">${random} = stFpAXZx</msg>
<status status="PASS" starttime="20210531 09:14:31.122" endtime="20210531 09:14:31.123"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:14:31.127" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:14:31.127" endtime="20210531 09:14:31.127"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:14:31.128" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:14:31.127" endtime="20210531 09:14:31.128"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.126" endtime="20210531 09:14:31.128"/>
</kw>
<msg timestamp="20210531 09:14:31.128" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:14:31.125" endtime="20210531 09:14:31.128"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:14:31.129" endtime="20210531 09:14:31.130"/>
</kw>
<msg timestamp="20210531 09:14:31.130" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:14:31.129" endtime="20210531 09:14:31.130"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.125" endtime="20210531 09:14:31.130"/>
</kw>
<msg timestamp="20210531 09:14:31.130" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:14:31.124" endtime="20210531 09:14:31.130"/>
</kw>
<msg timestamp="20210531 09:14:31.131" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:14:31.123" endtime="20210531 09:14:31.131"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:14:31.137" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:14:31.136" endtime="20210531 09:14:31.137"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:14:31.138" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:14:31.138" endtime="20210531 09:14:31.138"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.133" endtime="20210531 09:14:31.139"/>
</kw>
<msg timestamp="20210531 09:14:31.139" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:14:31.133" endtime="20210531 09:14:31.139"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:14:31.141" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210531 09:14:31.140" endtime="20210531 09:14:31.141"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:14:31.142" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210531 09:14:31.141" endtime="20210531 09:14:31.142"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.140" endtime="20210531 09:14:31.142"/>
</kw>
<msg timestamp="20210531 09:14:31.142" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210531 09:14:31.139" endtime="20210531 09:14:31.142"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.132" endtime="20210531 09:14:31.143"/>
</kw>
<msg timestamp="20210531 09:14:31.143" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210531 09:14:31.131" endtime="20210531 09:14:31.143"/>
</kw>
<msg timestamp="20210531 09:14:31.143" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210531 09:14:31.131" endtime="20210531 09:14:31.143"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:14:31.147" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:14:31.147" endtime="20210531 09:14:31.147"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:14:31.148" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:14:31.147" endtime="20210531 09:14:31.148"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.146" endtime="20210531 09:14:31.149"/>
</kw>
<msg timestamp="20210531 09:14:31.149" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:14:31.146" endtime="20210531 09:14:31.149"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:14:31.151" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210531 09:14:31.150" endtime="20210531 09:14:31.151"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:14:31.151" level="INFO">${result} = /wordcount-stFpAXZx.txt</msg>
<status status="PASS" starttime="20210531 09:14:31.151" endtime="20210531 09:14:31.151"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.149" endtime="20210531 09:14:31.152"/>
</kw>
<msg timestamp="20210531 09:14:31.152" level="INFO">${path_with_leading} = /wordcount-stFpAXZx.txt</msg>
<status status="PASS" starttime="20210531 09:14:31.149" endtime="20210531 09:14:31.152"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.145" endtime="20210531 09:14:31.152"/>
</kw>
<msg timestamp="20210531 09:14:31.152" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-stFpAXZx.txt</msg>
<status status="PASS" starttime="20210531 09:14:31.144" endtime="20210531 09:14:31.152"/>
</kw>
<msg timestamp="20210531 09:14:31.153" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-stFpAXZx.txt</msg>
<status status="PASS" starttime="20210531 09:14:31.143" endtime="20210531 09:14:31.153"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:14:31.157" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-stFpAXZx.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:15:07.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:15:07.328" level="INFO">${output} = 2021-05-31 09:14:33 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:14:33 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210531 09:14:31.155" endtime="20210531 09:15:07.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:15:07.329" level="INFO">2021-05-31 09:14:33 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:14:33 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:14:33 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:14:33 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 09:14:33 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-31 09:14:33 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:14:33 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-9673968613F3-&gt;6466130f-d10f-4287-993d-d699594c222a
2021-05-31 09:14:33 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:14:34 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-31 09:14:34 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7E7601AC0283-&gt;98816918-c72f-4400-96af-009da18e986d
2021-05-31 09:14:34 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:14:35 INFO  JobSubmitter:198 - number of splits:3
2021-05-31 09:14:35 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622452237411_0004
2021-05-31 09:14:35 INFO  YarnClientImpl:273 - Submitted application application_1622452237411_0004
2021-05-31 09:14:35 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622452237411_0004/
2021-05-31 09:14:35 INFO  Job:1339 - Running job: job_1622452237411_0004
2021-05-31 09:14:42 INFO  Job:1360 - Job job_1622452237411_0004 running in uber mode : false
2021-05-31 09:14:42 INFO  Job:1367 -  map 0% reduce 0%
2021-05-31 09:14:49 INFO  Job:1367 -  map 33% reduce 0%
2021-05-31 09:14:54 INFO  Job:1367 -  map 67% reduce 0%
2021-05-31 09:14:59 INFO  Job:1367 -  map 100% reduce 0%
2021-05-31 09:15:03 INFO  Job:1367 -  map 100% reduce 100%
2021-05-31 09:15:06 INFO  Job:1378 - Job job_1622452237411_0004 completed successfully
2021-05-31 09:15:06 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32070
		FILE: Number of bytes written=696045
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39773
		OFS: Number of bytes written=22252
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=43964
		Total time spent by all reduces in occupied slots (ms)=15340
		Total time spent by all map tasks (ms)=10991
		Total time spent by all reduce tasks (ms)=3835
		Total vcore-milliseconds taken by all map tasks=10991
		Total vcore-milliseconds taken by all reduce tasks=3835
		Total megabyte-milliseconds taken by all map tasks=45019136
		Total megabyte-milliseconds taken by all reduce tasks=15708160
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55133
		Map output materialized bytes=32082
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32082
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=589
		CPU time spent (ms)=7130
		Physical memory (bytes) snapshot=1224589312
		Virtual memory (bytes) snapshot=15757766656
		Total committed heap usage (bytes)=1078984704
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39473
	File Output Format Counters 
		Bytes Written=22252</msg>
<status status="PASS" starttime="20210531 09:15:07.328" endtime="20210531 09:15:07.329"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:15:07.330" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:15:07.329" endtime="20210531 09:15:07.330"/>
</kw>
<status status="PASS" starttime="20210531 09:14:31.154" endtime="20210531 09:15:07.331"/>
</kw>
<msg timestamp="20210531 09:15:07.331" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:14:31.154" endtime="20210531 09:15:07.331"/>
</kw>
<msg timestamp="20210531 09:15:07.331" level="INFO">${output} = 2021-05-31 09:14:33 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:14:33 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210531 09:14:31.153" endtime="20210531 09:15:07.331"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:15:07.332" endtime="20210531 09:15:07.332"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:15:07.332" endtime="20210531 09:15:07.333"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:14:31.109" endtime="20210531 09:15:07.333"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210531 09:13:48.445" endtime="20210531 09:15:07.334"/>
</suite>
<suite id="s1-s1-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:12:14.239" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:12:14.245" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:12:14.246" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:14.236" endtime="20210531 09:12:14.246"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:12:14.247" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:14.246" endtime="20210531 09:12:14.247"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:12:14.247" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:12:14.247" endtime="20210531 09:12:14.248"/>
</kw>
<status status="PASS" starttime="20210531 09:12:14.235" endtime="20210531 09:12:14.248"/>
</kw>
<msg timestamp="20210531 09:12:14.248" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:12:14.235" endtime="20210531 09:12:14.248"/>
</kw>
<msg timestamp="20210531 09:12:14.248" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:14.235" endtime="20210531 09:12:14.248"/>
</kw>
<msg timestamp="20210531 09:12:14.249" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:14.234" endtime="20210531 09:12:14.249"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:12:14.254" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:12:14.254" endtime="20210531 09:12:14.254"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:12:14.255" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:12:14.254" endtime="20210531 09:12:14.255"/>
</kw>
<status status="PASS" starttime="20210531 09:12:14.253" endtime="20210531 09:12:14.255"/>
</kw>
<msg timestamp="20210531 09:12:14.255" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:12:14.253" endtime="20210531 09:12:14.255"/>
</kw>
<status status="PASS" starttime="20210531 09:12:14.252" endtime="20210531 09:12:14.256"/>
</kw>
<msg timestamp="20210531 09:12:14.256" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:12:14.251" endtime="20210531 09:12:14.256"/>
</kw>
<msg timestamp="20210531 09:12:14.256" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:12:14.249" endtime="20210531 09:12:14.256"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:12:14.259" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:12:55.619" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:12:55.620" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:12:16 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:16 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210531 09:12:14.258" endtime="20210531 09:12:55.620"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:12:55.621" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:12:16 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:16 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 09:12:16 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-31 09:12:16 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:12:16 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F0BA15F2AA77-&gt;6466130f-d10f-4287-993d-d699594c222a
2021-05-31 09:12:16 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-31 09:12:17 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:12:18 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-B7AA2AE55658-&gt;98816918-c72f-4400-96af-009da18e986d
2021-05-31 09:12:18 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:12:18 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-31 09:12:18 INFO  JobSubmitter:198 - number of splits:3
2021-05-31 09:12:20 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622452237411_0001
2021-05-31 09:12:21 INFO  YarnClientImpl:273 - Submitted application application_1622452237411_0001
2021-05-31 09:12:21 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622452237411_0001/
2021-05-31 09:12:21 INFO  Job:1339 - Running job: job_1622452237411_0001
2021-05-31 09:12:31 INFO  Job:1360 - Job job_1622452237411_0001 running in uber mode : false
2021-05-31 09:12:31 INFO  Job:1367 -  map 0% reduce 0%
2021-05-31 09:12:39 INFO  Job:1367 -  map 33% reduce 0%
2021-05-31 09:12:44 INFO  Job:1367 -  map 67% reduce 0%
2021-05-31 09:12:49 INFO  Job:1367 -  map 100% reduce 0%
2021-05-31 09:12:53 INFO  Job:1367 -  map 100% reduce 100%
2021-05-31 09:12:54 INFO  Job:1378 - Job job_1622452237411_0001 completed successfully
2021-05-31 09:12:54 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=633385
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=45552
		Total time spent by all reduces in occupied slots (ms)=16224
		Total time spent by all map tasks (ms)=11388
		Total time spent by all reduce tasks (ms)=4056
		Total vcore-milliseconds taken by all map tasks=11388
		Total vcore-milliseconds taken by all reduce tasks=4056
		Total megabyte-milliseconds taken by all map tasks=46645248
		Total megabyte-milliseconds taken by all reduce tasks=16613376
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=923
		CPU time spent (ms)=7570
		Physical memory (bytes) snapshot=1499975680
		Virtual memory (bytes) snapshot=15792013312
		Total committed heap usage (bytes)=1343750144
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 37.313 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210531 09:12:55.620" endtime="20210531 09:12:55.621"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:12:55.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:12:55.621" endtime="20210531 09:12:55.622"/>
</kw>
<status status="PASS" starttime="20210531 09:12:14.257" endtime="20210531 09:12:55.622"/>
</kw>
<msg timestamp="20210531 09:12:55.622" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:12:14.257" endtime="20210531 09:12:55.623"/>
</kw>
<msg timestamp="20210531 09:12:55.623" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:12:16 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:16 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210531 09:12:14.256" endtime="20210531 09:12:55.623"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:12:55.623" endtime="20210531 09:12:55.624"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:12:14.233" endtime="20210531 09:12:55.624"/>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:12:55.630" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:12:55.636" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:12:55.636" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:55.628" endtime="20210531 09:12:55.636"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:12:55.637" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:55.636" endtime="20210531 09:12:55.637"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:12:55.638" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:12:55.637" endtime="20210531 09:12:55.638"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.627" endtime="20210531 09:12:55.638"/>
</kw>
<msg timestamp="20210531 09:12:55.639" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:12:55.627" endtime="20210531 09:12:55.639"/>
</kw>
<msg timestamp="20210531 09:12:55.639" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:55.626" endtime="20210531 09:12:55.639"/>
</kw>
<msg timestamp="20210531 09:12:55.639" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210531 09:12:55.626" endtime="20210531 09:12:55.639"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:12:55.640" level="INFO">${random} = BY5oCPpE</msg>
<status status="PASS" starttime="20210531 09:12:55.640" endtime="20210531 09:12:55.640"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:12:55.644" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:12:55.644" endtime="20210531 09:12:55.644"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:12:55.645" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:12:55.645" endtime="20210531 09:12:55.645"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.643" endtime="20210531 09:12:55.645"/>
</kw>
<msg timestamp="20210531 09:12:55.646" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:12:55.642" endtime="20210531 09:12:55.646"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.642" endtime="20210531 09:12:55.646"/>
</kw>
<msg timestamp="20210531 09:12:55.646" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:12:55.641" endtime="20210531 09:12:55.646"/>
</kw>
<msg timestamp="20210531 09:12:55.646" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:12:55.640" endtime="20210531 09:12:55.646"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:12:55.650" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:12:55.650" endtime="20210531 09:12:55.650"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:12:55.651" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:12:55.650" endtime="20210531 09:12:55.651"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.649" endtime="20210531 09:12:55.651"/>
</kw>
<msg timestamp="20210531 09:12:55.651" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:12:55.649" endtime="20210531 09:12:55.651"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.648" endtime="20210531 09:12:55.652"/>
</kw>
<msg timestamp="20210531 09:12:55.652" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210531 09:12:55.647" endtime="20210531 09:12:55.652"/>
</kw>
<msg timestamp="20210531 09:12:55.652" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210531 09:12:55.647" endtime="20210531 09:12:55.652"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:12:55.657" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:12:55.656" endtime="20210531 09:12:55.657"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:12:55.657" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:12:55.657" endtime="20210531 09:12:55.657"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.656" endtime="20210531 09:12:55.658"/>
</kw>
<msg timestamp="20210531 09:12:55.658" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:12:55.655" endtime="20210531 09:12:55.658"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.654" endtime="20210531 09:12:55.658"/>
</kw>
<msg timestamp="20210531 09:12:55.658" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-BY5oCPpE.txt</msg>
<status status="PASS" starttime="20210531 09:12:55.653" endtime="20210531 09:12:55.658"/>
</kw>
<msg timestamp="20210531 09:12:55.659" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-BY5oCPpE.txt</msg>
<status status="PASS" starttime="20210531 09:12:55.652" endtime="20210531 09:12:55.659"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:12:55.662" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-BY5oCPpE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:13:32.709" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:13:32.709" level="INFO">${output} = 2021-05-31 09:12:57 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:12:57 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210531 09:12:55.660" endtime="20210531 09:13:32.709"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:13:32.711" level="INFO">2021-05-31 09:12:57 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:12:57 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:12:58 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:12:58 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-05-31 09:12:58 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-05-31 09:12:58 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:12:58 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-469A8115E0DD-&gt;98816918-c72f-4400-96af-009da18e986d
2021-05-31 09:12:58 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:12:59 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-05-31 09:12:59 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-A5FE67D92073-&gt;6466130f-d10f-4287-993d-d699594c222a
2021-05-31 09:12:59 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:12:59 INFO  JobSubmitter:198 - number of splits:3
2021-05-31 09:12:59 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622452237411_0002
2021-05-31 09:12:59 INFO  YarnClientImpl:273 - Submitted application application_1622452237411_0002
2021-05-31 09:12:59 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622452237411_0002/
2021-05-31 09:12:59 INFO  Job:1339 - Running job: job_1622452237411_0002
2021-05-31 09:13:08 INFO  Job:1360 - Job job_1622452237411_0002 running in uber mode : false
2021-05-31 09:13:08 INFO  Job:1367 -  map 0% reduce 0%
2021-05-31 09:13:15 INFO  Job:1367 -  map 33% reduce 0%
2021-05-31 09:13:20 INFO  Job:1367 -  map 67% reduce 0%
2021-05-31 09:13:25 INFO  Job:1367 -  map 100% reduce 0%
2021-05-31 09:13:29 INFO  Job:1367 -  map 100% reduce 100%
2021-05-31 09:13:32 INFO  Job:1378 - Job job_1622452237411_0002 completed successfully
2021-05-31 09:13:32 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32070
		FILE: Number of bytes written=696129
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39776
		O3FS: Number of bytes written=22252
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44040
		Total time spent by all reduces in occupied slots (ms)=15804
		Total time spent by all map tasks (ms)=11010
		Total time spent by all reduce tasks (ms)=3951
		Total vcore-milliseconds taken by all map tasks=11010
		Total vcore-milliseconds taken by all reduce tasks=3951
		Total megabyte-milliseconds taken by all map tasks=45096960
		Total megabyte-milliseconds taken by all reduce tasks=16183296
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55133
		Map output materialized bytes=32082
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32082
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=619
		CPU time spent (ms)=6660
		Physical memory (bytes) snapshot=1362165760
		Virtual memory (bytes) snapshot=15749877760
		Total committed heap usage (bytes)=1172307968
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39473
	File Output Format Counters 
		Bytes Written=22252</msg>
<status status="PASS" starttime="20210531 09:13:32.709" endtime="20210531 09:13:32.711"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:13:32.712" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:13:32.711" endtime="20210531 09:13:32.712"/>
</kw>
<status status="PASS" starttime="20210531 09:12:55.660" endtime="20210531 09:13:32.712"/>
</kw>
<msg timestamp="20210531 09:13:32.712" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:12:55.660" endtime="20210531 09:13:32.712"/>
</kw>
<msg timestamp="20210531 09:13:32.713" level="INFO">${output} = 2021-05-31 09:12:57 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.2:8032
2021-05-31 09:12:57 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210531 09:12:55.659" endtime="20210531 09:13:32.713"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:13:32.713" endtime="20210531 09:13:32.714"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:13:32.714" endtime="20210531 09:13:32.715"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:12:55.625" endtime="20210531 09:13:32.715"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210531 09:12:14.160" endtime="20210531 09:13:32.716"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="201639"/>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite id="s1-s2-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:20.154" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:22.697" level="INFO">${rc} = 255</msg>
<msg timestamp="20210531 09:16:22.697" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:16:20.149" endtime="20210531 09:16:22.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:22.698" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:16:22.697" endtime="20210531 09:16:22.698"/>
</kw>
<msg timestamp="20210531 09:16:22.699" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:16:20.148" endtime="20210531 09:16:22.699"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:22.703" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:25.197" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:25.197" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:22.701" endtime="20210531 09:16:25.197"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:25.199" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:25.198" endtime="20210531 09:16:25.199"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:25.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:25.199" endtime="20210531 09:16:25.200"/>
</kw>
<status status="PASS" starttime="20210531 09:16:22.701" endtime="20210531 09:16:25.200"/>
</kw>
<msg timestamp="20210531 09:16:25.200" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:22.700" endtime="20210531 09:16:25.201"/>
</kw>
<msg timestamp="20210531 09:16:25.201" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210531 09:16:22.700" endtime="20210531 09:16:25.201"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:16:25.201" endtime="20210531 09:16:25.202"/>
</kw>
<status status="PASS" starttime="20210531 09:16:22.699" endtime="20210531 09:16:25.203"/>
</kw>
<status status="PASS" starttime="20210531 09:16:22.699" endtime="20210531 09:16:25.203"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:25.208" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:27.838" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:27.839" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:25.206" endtime="20210531 09:16:27.839"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:27.840" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:27.839" endtime="20210531 09:16:27.840"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:27.841" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:27.840" endtime="20210531 09:16:27.841"/>
</kw>
<status status="PASS" starttime="20210531 09:16:25.205" endtime="20210531 09:16:27.841"/>
</kw>
<msg timestamp="20210531 09:16:27.841" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:25.205" endtime="20210531 09:16:27.841"/>
</kw>
<status status="PASS" starttime="20210531 09:16:25.204" endtime="20210531 09:16:27.842"/>
</kw>
<status status="PASS" starttime="20210531 09:16:25.204" endtime="20210531 09:16:27.842"/>
</kw>
<status status="PASS" starttime="20210531 09:16:25.203" endtime="20210531 09:16:27.842"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210531 09:16:27.842" endtime="20210531 09:16:27.842"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:27.846" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:30.523" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:30.523" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:16...</msg>
<status status="PASS" starttime="20210531 09:16:27.844" endtime="20210531 09:16:30.524"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:30.525" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:16:27.804Z",
  "modificationTime" : "2021-05-31T09:16:27.804Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210531 09:16:30.524" endtime="20210531 09:16:30.525"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:30.526" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:30.525" endtime="20210531 09:16:30.526"/>
</kw>
<status status="PASS" starttime="20210531 09:16:27.844" endtime="20210531 09:16:30.526"/>
</kw>
<msg timestamp="20210531 09:16:30.526" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:27.843" endtime="20210531 09:16:30.526"/>
</kw>
<msg timestamp="20210531 09:16:30.527" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:16...</msg>
<status status="PASS" starttime="20210531 09:16:27.843" endtime="20210531 09:16:30.527"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:16:30.527" endtime="20210531 09:16:30.527"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:16:30.533" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:16:30.532" endtime="20210531 09:16:30.533"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:16:30.534" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:16:30.533" endtime="20210531 09:16:30.534"/>
</kw>
<status status="PASS" starttime="20210531 09:16:30.532" endtime="20210531 09:16:30.534"/>
</kw>
<msg timestamp="20210531 09:16:30.534" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:16:30.530" endtime="20210531 09:16:30.534"/>
</kw>
<status status="PASS" starttime="20210531 09:16:30.529" endtime="20210531 09:16:30.535"/>
</kw>
<msg timestamp="20210531 09:16:30.535" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210531 09:16:30.529" endtime="20210531 09:16:30.535"/>
</kw>
<msg timestamp="20210531 09:16:30.535" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210531 09:16:30.528" endtime="20210531 09:16:30.535"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:30.539" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:33.038" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:33.038" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:30.537" endtime="20210531 09:16:33.038"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:33.039" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:33.038" endtime="20210531 09:16:33.039"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:33.040" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:33.040" endtime="20210531 09:16:33.040"/>
</kw>
<status status="PASS" starttime="20210531 09:16:30.536" endtime="20210531 09:16:33.041"/>
</kw>
<msg timestamp="20210531 09:16:33.041" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:30.536" endtime="20210531 09:16:33.041"/>
</kw>
<status status="PASS" starttime="20210531 09:16:30.535" endtime="20210531 09:16:33.041"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:33.045" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:38.582" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:38.582" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:33.043" endtime="20210531 09:16:38.582"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:38.584" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:38.583" endtime="20210531 09:16:38.584"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:38.585" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:38.584" endtime="20210531 09:16:38.585"/>
</kw>
<status status="PASS" starttime="20210531 09:16:33.042" endtime="20210531 09:16:38.585"/>
</kw>
<msg timestamp="20210531 09:16:38.585" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:33.042" endtime="20210531 09:16:38.585"/>
</kw>
<status status="PASS" starttime="20210531 09:16:33.041" endtime="20210531 09:16:38.586"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:38.589" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:43.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:43.481" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:38.587" endtime="20210531 09:16:43.481"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:43.482" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:43.481" endtime="20210531 09:16:43.482"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:43.483" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:43.482" endtime="20210531 09:16:43.483"/>
</kw>
<status status="PASS" starttime="20210531 09:16:38.587" endtime="20210531 09:16:43.483"/>
</kw>
<msg timestamp="20210531 09:16:43.483" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:38.587" endtime="20210531 09:16:43.484"/>
</kw>
<status status="PASS" starttime="20210531 09:16:38.586" endtime="20210531 09:16:43.484"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:43.488" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:48.119" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:48.119" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:43.486" endtime="20210531 09:16:48.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:48.121" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:48.120" endtime="20210531 09:16:48.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:48.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:48.121" endtime="20210531 09:16:48.122"/>
</kw>
<status status="PASS" starttime="20210531 09:16:43.485" endtime="20210531 09:16:48.122"/>
</kw>
<msg timestamp="20210531 09:16:48.122" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:43.485" endtime="20210531 09:16:48.122"/>
</kw>
<status status="PASS" starttime="20210531 09:16:43.484" endtime="20210531 09:16:48.122"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210531 09:16:20.147" endtime="20210531 09:16:48.123"/>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:16:48.130" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:16:48.129" endtime="20210531 09:16:48.130"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:16:48.131" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:16:48.130" endtime="20210531 09:16:48.131"/>
</kw>
<status status="PASS" starttime="20210531 09:16:48.129" endtime="20210531 09:16:48.131"/>
</kw>
<msg timestamp="20210531 09:16:48.131" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:16:48.127" endtime="20210531 09:16:48.131"/>
</kw>
<status status="PASS" starttime="20210531 09:16:48.127" endtime="20210531 09:16:48.132"/>
</kw>
<msg timestamp="20210531 09:16:48.132" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:16:48.125" endtime="20210531 09:16:48.132"/>
</kw>
<msg timestamp="20210531 09:16:48.132" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:16:48.124" endtime="20210531 09:16:48.132"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:48.136" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:50.573" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:50.573" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:48.134" endtime="20210531 09:16:50.573"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:50.575" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:50.574" endtime="20210531 09:16:50.575"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:50.576" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:50.575" endtime="20210531 09:16:50.576"/>
</kw>
<status status="PASS" starttime="20210531 09:16:48.133" endtime="20210531 09:16:50.576"/>
</kw>
<msg timestamp="20210531 09:16:50.576" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:48.133" endtime="20210531 09:16:50.577"/>
</kw>
<status status="PASS" starttime="20210531 09:16:48.132" endtime="20210531 09:16:50.577"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:50.580" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:16:53.025" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:16:53.025" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:16:50.579" endtime="20210531 09:16:53.025"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:16:53.026" level="INFO"/>
<status status="PASS" starttime="20210531 09:16:53.025" endtime="20210531 09:16:53.026"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:16:53.027" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:16:53.026" endtime="20210531 09:16:53.027"/>
</kw>
<status status="PASS" starttime="20210531 09:16:50.578" endtime="20210531 09:16:53.027"/>
</kw>
<msg timestamp="20210531 09:16:53.027" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:50.578" endtime="20210531 09:16:53.027"/>
</kw>
<status status="PASS" starttime="20210531 09:16:50.577" endtime="20210531 09:16:53.028"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210531 09:16:48.123" endtime="20210531 09:16:53.028"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210531 09:16:20.073" endtime="20210531 09:16:53.031"/>
</suite>
<suite id="s1-s2-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:18:43.804" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:18:43.804" endtime="20210531 09:18:43.805"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:18:43.805" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:18:43.805" endtime="20210531 09:18:43.805"/>
</kw>
<status status="PASS" starttime="20210531 09:18:43.803" endtime="20210531 09:18:43.806"/>
</kw>
<msg timestamp="20210531 09:18:43.806" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:18:43.803" endtime="20210531 09:18:43.806"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:18:43.807" endtime="20210531 09:18:43.807"/>
</kw>
<msg timestamp="20210531 09:18:43.807" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:18:43.806" endtime="20210531 09:18:43.807"/>
</kw>
<status status="PASS" starttime="20210531 09:18:43.801" endtime="20210531 09:18:43.807"/>
</kw>
<msg timestamp="20210531 09:18:43.808" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:18:43.800" endtime="20210531 09:18:43.808"/>
</kw>
<msg timestamp="20210531 09:18:43.808" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:18:43.799" endtime="20210531 09:18:43.808"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:18:43.809" level="INFO">${random} = 09352</msg>
<status status="PASS" starttime="20210531 09:18:43.808" endtime="20210531 09:18:43.809"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:18:43.815" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-09352 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:18:47.860" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:18:47.860" level="INFO">${output} = 2021-05-31 09:18:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:45 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:18:43.810" endtime="20210531 09:18:47.860"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:18:47.861" level="INFO">2021-05-31 09:18:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:45 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:45 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-31 09:18:45 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:18:46 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:18:46 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:18:46 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:18:46 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-46A284E66129-&gt;919c4f53-8b92-447c-9755-4c2a1eb4016a
2021-05-31 09:18:46 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:18:47 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:18:47.860" endtime="20210531 09:18:47.861"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:18:47.862" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:18:47.861" endtime="20210531 09:18:47.862"/>
</kw>
<status status="PASS" starttime="20210531 09:18:43.810" endtime="20210531 09:18:47.862"/>
</kw>
<msg timestamp="20210531 09:18:47.862" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:18:43.809" endtime="20210531 09:18:47.863"/>
</kw>
<msg timestamp="20210531 09:18:47.863" level="INFO">${result} = 2021-05-31 09:18:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:45 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:18:43.809" endtime="20210531 09:18:47.863"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:18:47.867" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:18:49.946" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:18:49.946" level="INFO">${output} = 2021-05-31 09:18:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:49 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:18:47.865" endtime="20210531 09:18:49.946"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:18:49.948" level="INFO">2021-05-31 09:18:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:49 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:16 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-05-31 09:18 ofs://om/volume1/bucket1/ozone-09352
-rw-rw-rw-   3 hadoop hadoop      21867 2021-05-31 09:17 ofs://om/volume1/bucket1/ozone-82701
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:16 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:18 ofs://om/volume1/bucket1/wordcount-VqYPpqvg.txt
2021-05-31 09:18:49 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:18:49.947" endtime="20210531 09:18:49.948"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:18:49.949" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:18:49.948" endtime="20210531 09:18:49.949"/>
</kw>
<status status="PASS" starttime="20210531 09:18:47.864" endtime="20210531 09:18:49.949"/>
</kw>
<msg timestamp="20210531 09:18:49.949" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:18:47.864" endtime="20210531 09:18:49.949"/>
</kw>
<msg timestamp="20210531 09:18:49.950" level="INFO">${result} = 2021-05-31 09:18:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:49 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:18:47.863" endtime="20210531 09:18:49.950"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:18:49.950" endtime="20210531 09:18:49.951"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210531 09:18:43.798" endtime="20210531 09:18:49.951"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210531 09:18:43.725" endtime="20210531 09:18:49.952"/>
</suite>
<suite id="s1-s2-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:16:58.369" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:16:58.369" endtime="20210531 09:16:58.369"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:16:58.370" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:16:58.369" endtime="20210531 09:16:58.370"/>
</kw>
<status status="PASS" starttime="20210531 09:16:58.368" endtime="20210531 09:16:58.370"/>
</kw>
<msg timestamp="20210531 09:16:58.370" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:16:58.368" endtime="20210531 09:16:58.370"/>
</kw>
<status status="PASS" starttime="20210531 09:16:58.367" endtime="20210531 09:16:58.371"/>
</kw>
<msg timestamp="20210531 09:16:58.371" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:16:58.366" endtime="20210531 09:16:58.371"/>
</kw>
<msg timestamp="20210531 09:16:58.371" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:16:58.365" endtime="20210531 09:16:58.371"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:16:58.372" level="INFO">${random} = 82701</msg>
<status status="PASS" starttime="20210531 09:16:58.371" endtime="20210531 09:16:58.372"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:16:58.378" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-82701 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:17:05.511" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:17:05.511" level="INFO">${output} = 2021-05-31 09:16:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:16:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:00 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:16:58.373" endtime="20210531 09:17:05.511"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:17:05.512" level="INFO">2021-05-31 09:16:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:16:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:00 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-31 09:17:00 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:17:00 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:17:00 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:17:01 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:17:01 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-2E3461C4FFE3-&gt;919c4f53-8b92-447c-9755-4c2a1eb4016a
2021-05-31 09:17:01 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:17:05 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:17:05.512" endtime="20210531 09:17:05.513"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:17:05.513" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:17:05.513" endtime="20210531 09:17:05.513"/>
</kw>
<status status="PASS" starttime="20210531 09:16:58.373" endtime="20210531 09:17:05.514"/>
</kw>
<msg timestamp="20210531 09:17:05.514" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:16:58.373" endtime="20210531 09:17:05.514"/>
</kw>
<msg timestamp="20210531 09:17:05.515" level="INFO">${result} = 2021-05-31 09:16:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:16:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:00 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:16:58.372" endtime="20210531 09:17:05.515"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:17:05.519" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:17:07.595" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:17:07.595" level="INFO">${output} = 2021-05-31 09:17:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:07 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:17:05.517" endtime="20210531 09:17:07.595"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:17:07.596" level="INFO">2021-05-31 09:17:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:07 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:16 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-05-31 09:17 o3fs://bucket1.volume1.om/ozone-82701
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:16 o3fs://bucket1.volume1.om/user
2021-05-31 09:17:07 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:17:07.595" endtime="20210531 09:17:07.596"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:17:07.597" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:17:07.596" endtime="20210531 09:17:07.597"/>
</kw>
<status status="PASS" starttime="20210531 09:17:05.516" endtime="20210531 09:17:07.597"/>
</kw>
<msg timestamp="20210531 09:17:07.597" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:17:05.516" endtime="20210531 09:17:07.598"/>
</kw>
<msg timestamp="20210531 09:17:07.598" level="INFO">${result} = 2021-05-31 09:17:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:07 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:17:05.515" endtime="20210531 09:17:07.598"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:17:07.598" endtime="20210531 09:17:07.599"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210531 09:16:58.364" endtime="20210531 09:17:07.599"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210531 09:16:58.301" endtime="20210531 09:17:07.600"/>
</suite>
<suite id="s1-s2-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:18:55.192" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:18:55.198" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:18:55.198" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:18:55.188" endtime="20210531 09:18:55.198"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:18:55.200" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:18:55.199" endtime="20210531 09:18:55.200"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:18:55.200" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:18:55.200" endtime="20210531 09:18:55.200"/>
</kw>
<status status="PASS" starttime="20210531 09:18:55.188" endtime="20210531 09:18:55.201"/>
</kw>
<msg timestamp="20210531 09:18:55.201" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:18:55.187" endtime="20210531 09:18:55.201"/>
</kw>
<msg timestamp="20210531 09:18:55.201" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:18:55.187" endtime="20210531 09:18:55.201"/>
</kw>
<msg timestamp="20210531 09:18:55.202" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:18:55.186" endtime="20210531 09:18:55.202"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:18:55.207" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:18:55.207" endtime="20210531 09:18:55.207"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:18:55.208" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:18:55.207" endtime="20210531 09:18:55.208"/>
</kw>
<status status="PASS" starttime="20210531 09:18:55.206" endtime="20210531 09:18:55.208"/>
</kw>
<msg timestamp="20210531 09:18:55.208" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:18:55.205" endtime="20210531 09:18:55.208"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:18:55.209" endtime="20210531 09:18:55.209"/>
</kw>
<msg timestamp="20210531 09:18:55.209" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:18:55.208" endtime="20210531 09:18:55.210"/>
</kw>
<status status="PASS" starttime="20210531 09:18:55.205" endtime="20210531 09:18:55.210"/>
</kw>
<msg timestamp="20210531 09:18:55.210" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:18:55.204" endtime="20210531 09:18:55.210"/>
</kw>
<msg timestamp="20210531 09:18:55.210" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:18:55.202" endtime="20210531 09:18:55.210"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:18:55.215" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:19:40.219" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:19:40.220" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:18:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18...</msg>
<status status="PASS" starttime="20210531 09:18:55.213" endtime="20210531 09:19:40.220"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:19:40.221" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:18:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:57 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-31 09:18:57 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:18:57 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:18:57 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:18:57 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:18:57 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-59826CC85D92-&gt;2f23767d-49c8-4c6b-98d3-fbd25d1c44f4
2021-05-31 09:18:57 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-31 09:18:58 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-40F00D1DFA49-&gt;919c4f53-8b92-447c-9755-4c2a1eb4016a
2021-05-31 09:18:58 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-31 09:18:58 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:58 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:58 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:58 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.9:8032
2021-05-31 09:18:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:59 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:18:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:59 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:18:59 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:18:59 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452549755_0003
2021-05-31 09:18:59 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:18:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:00 INFO  Configuration:2752 - resource-types.xml not found
2021-05-31 09:19:00 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-31 09:19:00 INFO  YarnClientImpl:324 - Submitted application application_1622452549755_0003
2021-05-31 09:19:00 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622452549755_0003/
2021-05-31 09:19:00 INFO  Job:1619 - Running job: job_1622452549755_0003
2021-05-31 09:19:08 INFO  Job:1640 - Job job_1622452549755_0003 running in uber mode : false
2021-05-31 09:19:08 INFO  Job:1647 -  map 0% reduce 0%
2021-05-31 09:19:15 INFO  Job:1647 -  map 33% reduce 0%
2021-05-31 09:19:20 INFO  Job:1647 -  map 67% reduce 0%
2021-05-31 09:19:26 INFO  Job:1647 -  map 100% reduce 0%
2021-05-31 09:19:33 INFO  Job:1647 -  map 100% reduce 100%
2021-05-31 09:19:39 INFO  Job:1658 - Job job_1622452549755_0003 completed successfully
2021-05-31 09:19:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:39 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1041589
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=41908
		Total time spent by all reduces in occupied slots (ms)=25624
		Total time spent by all map tasks (ms)=10477
		Total time spent by all reduce tasks (ms)=6406
		Total vcore-milliseconds taken by all map tasks=10477
		Total vcore-milliseconds taken by all reduce tasks=6406
		Total megabyte-milliseconds taken by all map tasks=42913792
		Total megabyte-milliseconds taken by all reduce tasks=26238976
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=557
		CPU time spent (ms)=7010
		Physical memory (bytes) snapshot=1373937664
		Virtual memory (bytes) snapshot=15790120960
		Total committed heap usage (bytes)=1132986368
		Peak Map Physical memory (bytes)=372555776
		Peak Map Virtual memory (bytes)=3945562112
		Peak Reduce Physical memory (bytes)=327237632
		Peak Reduce Virtual memory (bytes)=3970641920
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 40.851 seconds
2021-05-31 09:19:39 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-05-31 09:19:39 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:19:40.220" endtime="20210531 09:19:40.221"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:19:40.222" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:19:40.221" endtime="20210531 09:19:40.222"/>
</kw>
<status status="PASS" starttime="20210531 09:18:55.212" endtime="20210531 09:19:40.222"/>
</kw>
<msg timestamp="20210531 09:19:40.222" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:18:55.211" endtime="20210531 09:19:40.223"/>
</kw>
<msg timestamp="20210531 09:19:40.223" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:18:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18...</msg>
<status status="PASS" starttime="20210531 09:18:55.211" endtime="20210531 09:19:40.223"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:19:40.223" endtime="20210531 09:19:40.224"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:18:55.185" endtime="20210531 09:19:40.224"/>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:19:40.233" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:19:40.238" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:19:40.238" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:19:40.231" endtime="20210531 09:19:40.238"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:19:40.239" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:19:40.239" endtime="20210531 09:19:40.239"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:19:40.240" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:19:40.240" endtime="20210531 09:19:40.240"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.230" endtime="20210531 09:19:40.240"/>
</kw>
<msg timestamp="20210531 09:19:40.240" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:19:40.230" endtime="20210531 09:19:40.241"/>
</kw>
<msg timestamp="20210531 09:19:40.241" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:19:40.227" endtime="20210531 09:19:40.241"/>
</kw>
<msg timestamp="20210531 09:19:40.241" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:19:40.226" endtime="20210531 09:19:40.241"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:19:40.242" level="INFO">${random} = aiA2O4Gr</msg>
<status status="PASS" starttime="20210531 09:19:40.241" endtime="20210531 09:19:40.242"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:19:40.246" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:19:40.246" endtime="20210531 09:19:40.246"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:19:40.247" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:19:40.246" endtime="20210531 09:19:40.247"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.245" endtime="20210531 09:19:40.248"/>
</kw>
<msg timestamp="20210531 09:19:40.248" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:19:40.244" endtime="20210531 09:19:40.248"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:19:40.248" endtime="20210531 09:19:40.249"/>
</kw>
<msg timestamp="20210531 09:19:40.249" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:19:40.248" endtime="20210531 09:19:40.249"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.244" endtime="20210531 09:19:40.249"/>
</kw>
<msg timestamp="20210531 09:19:40.250" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:19:40.243" endtime="20210531 09:19:40.250"/>
</kw>
<msg timestamp="20210531 09:19:40.250" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:19:40.242" endtime="20210531 09:19:40.250"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:19:40.254" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:19:40.253" endtime="20210531 09:19:40.254"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:19:40.254" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:19:40.254" endtime="20210531 09:19:40.255"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.253" endtime="20210531 09:19:40.255"/>
</kw>
<msg timestamp="20210531 09:19:40.255" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:19:40.252" endtime="20210531 09:19:40.255"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:19:40.257" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210531 09:19:40.256" endtime="20210531 09:19:40.257"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:19:40.258" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210531 09:19:40.257" endtime="20210531 09:19:40.258"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.256" endtime="20210531 09:19:40.258"/>
</kw>
<msg timestamp="20210531 09:19:40.258" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210531 09:19:40.255" endtime="20210531 09:19:40.258"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.251" endtime="20210531 09:19:40.258"/>
</kw>
<msg timestamp="20210531 09:19:40.259" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210531 09:19:40.251" endtime="20210531 09:19:40.259"/>
</kw>
<msg timestamp="20210531 09:19:40.259" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210531 09:19:40.250" endtime="20210531 09:19:40.259"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:19:40.263" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:19:40.262" endtime="20210531 09:19:40.263"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:19:40.264" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:19:40.263" endtime="20210531 09:19:40.264"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.262" endtime="20210531 09:19:40.264"/>
</kw>
<msg timestamp="20210531 09:19:40.264" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:19:40.261" endtime="20210531 09:19:40.264"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:19:40.267" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210531 09:19:40.266" endtime="20210531 09:19:40.267"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:19:40.268" level="INFO">${result} = /wordcount-aiA2O4Gr.txt</msg>
<status status="PASS" starttime="20210531 09:19:40.267" endtime="20210531 09:19:40.268"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.265" endtime="20210531 09:19:40.268"/>
</kw>
<msg timestamp="20210531 09:19:40.268" level="INFO">${path_with_leading} = /wordcount-aiA2O4Gr.txt</msg>
<status status="PASS" starttime="20210531 09:19:40.264" endtime="20210531 09:19:40.268"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.260" endtime="20210531 09:19:40.268"/>
</kw>
<msg timestamp="20210531 09:19:40.269" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-aiA2O4Gr.txt</msg>
<status status="PASS" starttime="20210531 09:19:40.260" endtime="20210531 09:19:40.269"/>
</kw>
<msg timestamp="20210531 09:19:40.269" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-aiA2O4Gr.txt</msg>
<status status="PASS" starttime="20210531 09:19:40.259" endtime="20210531 09:19:40.269"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:19:40.273" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-aiA2O4Gr.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:20:23.214" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:20:23.214" level="INFO">${output} = 2021-05-31 09:19:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:19:40.271" endtime="20210531 09:20:23.214"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:20:23.215" level="INFO">2021-05-31 09:19:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.9:8032
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-31 09:19:42 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:19:42 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:19:42 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:19:43 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:19:43 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-EB8E393D24C6-&gt;2f23767d-49c8-4c6b-98d3-fbd25d1c44f4
2021-05-31 09:19:43 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:19:44 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:19:44 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-9BDD9F7CB8CA-&gt;919c4f53-8b92-447c-9755-4c2a1eb4016a
2021-05-31 09:19:44 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:19:46 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:19:46 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452549755_0004
2021-05-31 09:19:46 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:19:47 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:47 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:47 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:47 INFO  Configuration:2752 - resource-types.xml not found
2021-05-31 09:19:47 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-31 09:19:47 INFO  YarnClientImpl:324 - Submitted application application_1622452549755_0004
2021-05-31 09:19:47 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622452549755_0004/
2021-05-31 09:19:47 INFO  Job:1619 - Running job: job_1622452549755_0004
2021-05-31 09:19:54 INFO  Job:1640 - Job job_1622452549755_0004 running in uber mode : false
2021-05-31 09:19:54 INFO  Job:1647 -  map 0% reduce 0%
2021-05-31 09:20:01 INFO  Job:1647 -  map 33% reduce 0%
2021-05-31 09:20:07 INFO  Job:1647 -  map 67% reduce 0%
2021-05-31 09:20:13 INFO  Job:1647 -  map 100% reduce 0%
2021-05-31 09:20:19 INFO  Job:1647 -  map 100% reduce 100%
2021-05-31 09:20:22 INFO  Job:1658 - Job job_1622452549755_0004 completed successfully
2021-05-31 09:20:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:20:22 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32070
		FILE: Number of bytes written=1104357
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39773
		OFS: Number of bytes written=22252
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=42696
		Total time spent by all reduces in occupied slots (ms)=24996
		Total time spent by all map tasks (ms)=10674
		Total time spent by all reduce tasks (ms)=6249
		Total vcore-milliseconds taken by all map tasks=10674
		Total vcore-milliseconds taken by all reduce tasks=6249
		Total megabyte-milliseconds taken by all map tasks=43720704
		Total megabyte-milliseconds taken by all reduce tasks=25595904
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55133
		Map output materialized bytes=32082
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32082
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=564
		CPU time spent (ms)=7600
		Physical memory (bytes) snapshot=1300467712
		Virtual memory (bytes) snapshot=15803277312
		Total committed heap usage (bytes)=1074790400
		Peak Map Physical memory (bytes)=333352960
		Peak Map Virtual memory (bytes)=3947610112
		Peak Reduce Physical memory (bytes)=305106944
		Peak Reduce Virtual memory (bytes)=3964321792
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39473
	File Output Format Counters 
		Bytes Written=22252
2021-05-31 09:20:22 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:20:23.214" endtime="20210531 09:20:23.215"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:20:23.216" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:20:23.215" endtime="20210531 09:20:23.216"/>
</kw>
<status status="PASS" starttime="20210531 09:19:40.270" endtime="20210531 09:20:23.216"/>
</kw>
<msg timestamp="20210531 09:20:23.217" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:19:40.270" endtime="20210531 09:20:23.217"/>
</kw>
<msg timestamp="20210531 09:20:23.218" level="INFO">${output} = 2021-05-31 09:19:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:19:42 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:19:40.269" endtime="20210531 09:20:23.218"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:20:23.218" endtime="20210531 09:20:23.219"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:20:23.219" endtime="20210531 09:20:23.220"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:19:40.225" endtime="20210531 09:20:23.220"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210531 09:18:55.119" endtime="20210531 09:20:23.221"/>
</suite>
<suite id="s1-s2-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:17:12.667" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:17:12.674" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:17:12.674" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:12.664" endtime="20210531 09:17:12.674"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:17:12.675" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:12.675" endtime="20210531 09:17:12.675"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:17:12.676" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:17:12.676" endtime="20210531 09:17:12.676"/>
</kw>
<status status="PASS" starttime="20210531 09:17:12.663" endtime="20210531 09:17:12.676"/>
</kw>
<msg timestamp="20210531 09:17:12.676" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:17:12.663" endtime="20210531 09:17:12.677"/>
</kw>
<msg timestamp="20210531 09:17:12.677" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:12.662" endtime="20210531 09:17:12.677"/>
</kw>
<msg timestamp="20210531 09:17:12.677" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:12.661" endtime="20210531 09:17:12.677"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:17:12.683" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:17:12.682" endtime="20210531 09:17:12.683"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:17:12.684" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:17:12.683" endtime="20210531 09:17:12.684"/>
</kw>
<status status="PASS" starttime="20210531 09:17:12.681" endtime="20210531 09:17:12.684"/>
</kw>
<msg timestamp="20210531 09:17:12.684" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:17:12.681" endtime="20210531 09:17:12.684"/>
</kw>
<status status="PASS" starttime="20210531 09:17:12.680" endtime="20210531 09:17:12.684"/>
</kw>
<msg timestamp="20210531 09:17:12.684" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:17:12.679" endtime="20210531 09:17:12.684"/>
</kw>
<msg timestamp="20210531 09:17:12.685" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:17:12.677" endtime="20210531 09:17:12.685"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:17:12.688" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:17:57.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:17:57.830" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:17:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17...</msg>
<status status="PASS" starttime="20210531 09:17:12.687" endtime="20210531 09:17:57.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:17:57.832" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:17:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:14 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:14 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:14 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-31 09:17:14 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:17:15 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:17:15 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:17:15 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:17:15 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-318DF5E976FB-&gt;2f23767d-49c8-4c6b-98d3-fbd25d1c44f4
2021-05-31 09:17:15 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-31 09:17:16 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-570B2E5B9917-&gt;919c4f53-8b92-447c-9755-4c2a1eb4016a
2021-05-31 09:17:16 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-31 09:17:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:16 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.9:8032
2021-05-31 09:17:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:17 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:17:17 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:17:17 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452549755_0001
2021-05-31 09:17:17 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:17:17 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:17 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:17 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:17 INFO  Configuration:2752 - resource-types.xml not found
2021-05-31 09:17:17 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-31 09:17:18 INFO  YarnClientImpl:324 - Submitted application application_1622452549755_0001
2021-05-31 09:17:18 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622452549755_0001/
2021-05-31 09:17:18 INFO  Job:1619 - Running job: job_1622452549755_0001
2021-05-31 09:17:29 INFO  Job:1640 - Job job_1622452549755_0001 running in uber mode : false
2021-05-31 09:17:29 INFO  Job:1647 -  map 0% reduce 0%
2021-05-31 09:17:35 INFO  Job:1647 -  map 33% reduce 0%
2021-05-31 09:17:41 INFO  Job:1647 -  map 67% reduce 0%
2021-05-31 09:17:47 INFO  Job:1647 -  map 100% reduce 0%
2021-05-31 09:17:56 INFO  Job:1647 -  map 100% reduce 100%
2021-05-31 09:17:57 INFO  Job:1658 - Job job_1622452549755_0001 completed successfully
2021-05-31 09:17:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:57 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1041809
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=45368
		Total time spent by all reduces in occupied slots (ms)=26760
		Total time spent by all map tasks (ms)=11342
		Total time spent by all reduce tasks (ms)=6690
		Total vcore-milliseconds taken by all map tasks=11342
		Total vcore-milliseconds taken by all reduce tasks=6690
		Total megabyte-milliseconds taken by all map tasks=46456832
		Total megabyte-milliseconds taken by all reduce tasks=27402240
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=926
		CPU time spent (ms)=8110
		Physical memory (bytes) snapshot=1558310912
		Virtual memory (bytes) snapshot=15823593472
		Total committed heap usage (bytes)=1312817152
		Peak Map Physical memory (bytes)=558641152
		Peak Map Virtual memory (bytes)=3951509504
		Peak Reduce Physical memory (bytes)=321646592
		Peak Reduce Virtual memory (bytes)=3975577600
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 40.79 seconds
2021-05-31 09:17:57 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:57 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-05-31 09:17:57 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:17:57.831" endtime="20210531 09:17:57.832"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:17:57.833" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:17:57.832" endtime="20210531 09:17:57.833"/>
</kw>
<status status="PASS" starttime="20210531 09:17:12.686" endtime="20210531 09:17:57.833"/>
</kw>
<msg timestamp="20210531 09:17:57.833" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:17:12.686" endtime="20210531 09:17:57.833"/>
</kw>
<msg timestamp="20210531 09:17:57.834" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:17:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17...</msg>
<status status="PASS" starttime="20210531 09:17:12.685" endtime="20210531 09:17:57.834"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:17:57.834" endtime="20210531 09:17:57.835"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:17:12.660" endtime="20210531 09:17:57.835"/>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:17:57.843" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:17:57.847" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:17:57.847" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:57.839" endtime="20210531 09:17:57.847"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:17:57.848" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:57.848" endtime="20210531 09:17:57.849"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:17:57.849" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:17:57.849" endtime="20210531 09:17:57.850"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.839" endtime="20210531 09:17:57.850"/>
</kw>
<msg timestamp="20210531 09:17:57.850" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:17:57.838" endtime="20210531 09:17:57.850"/>
</kw>
<msg timestamp="20210531 09:17:57.850" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:57.838" endtime="20210531 09:17:57.850"/>
</kw>
<msg timestamp="20210531 09:17:57.851" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210531 09:17:57.837" endtime="20210531 09:17:57.851"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:17:57.851" level="INFO">${random} = VqYPpqvg</msg>
<status status="PASS" starttime="20210531 09:17:57.851" endtime="20210531 09:17:57.851"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:17:57.856" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:17:57.855" endtime="20210531 09:17:57.856"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:17:57.857" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:17:57.856" endtime="20210531 09:17:57.857"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.854" endtime="20210531 09:17:57.857"/>
</kw>
<msg timestamp="20210531 09:17:57.857" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:17:57.854" endtime="20210531 09:17:57.857"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.853" endtime="20210531 09:17:57.858"/>
</kw>
<msg timestamp="20210531 09:17:57.858" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:17:57.852" endtime="20210531 09:17:57.858"/>
</kw>
<msg timestamp="20210531 09:17:57.858" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:17:57.852" endtime="20210531 09:17:57.858"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:17:57.862" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:17:57.862" endtime="20210531 09:17:57.862"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:17:57.863" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:17:57.862" endtime="20210531 09:17:57.863"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.861" endtime="20210531 09:17:57.863"/>
</kw>
<msg timestamp="20210531 09:17:57.863" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:17:57.861" endtime="20210531 09:17:57.863"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.860" endtime="20210531 09:17:57.864"/>
</kw>
<msg timestamp="20210531 09:17:57.864" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210531 09:17:57.859" endtime="20210531 09:17:57.864"/>
</kw>
<msg timestamp="20210531 09:17:57.864" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210531 09:17:57.858" endtime="20210531 09:17:57.864"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:17:57.870" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:17:57.869" endtime="20210531 09:17:57.870"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:17:57.870" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:17:57.870" endtime="20210531 09:17:57.870"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.868" endtime="20210531 09:17:57.871"/>
</kw>
<msg timestamp="20210531 09:17:57.871" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:17:57.868" endtime="20210531 09:17:57.871"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.867" endtime="20210531 09:17:57.871"/>
</kw>
<msg timestamp="20210531 09:17:57.871" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-VqYPpqvg.txt</msg>
<status status="PASS" starttime="20210531 09:17:57.865" endtime="20210531 09:17:57.871"/>
</kw>
<msg timestamp="20210531 09:17:57.872" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-VqYPpqvg.txt</msg>
<status status="PASS" starttime="20210531 09:17:57.865" endtime="20210531 09:17:57.872"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:17:57.875" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-VqYPpqvg.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:18:38.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:18:38.717" level="INFO">${output} = 2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:17:57.874" endtime="20210531 09:18:38.717"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:18:38.718" level="INFO">2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.9:8032
2021-05-31 09:18:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:00 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:18:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:00 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-05-31 09:18:00 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-05-31 09:18:00 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:18:00 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:18:00 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:18:00 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-721C358D276B-&gt;2f23767d-49c8-4c6b-98d3-fbd25d1c44f4
2021-05-31 09:18:00 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:18:01 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:18:01 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:18:02 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-79E73789AF27-&gt;919c4f53-8b92-447c-9755-4c2a1eb4016a
2021-05-31 09:18:02 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:18:02 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452549755_0002
2021-05-31 09:18:02 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:18:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:02 INFO  Configuration:2752 - resource-types.xml not found
2021-05-31 09:18:02 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-05-31 09:18:02 INFO  YarnClientImpl:324 - Submitted application application_1622452549755_0002
2021-05-31 09:18:02 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622452549755_0002/
2021-05-31 09:18:02 INFO  Job:1619 - Running job: job_1622452549755_0002
2021-05-31 09:18:11 INFO  Job:1640 - Job job_1622452549755_0002 running in uber mode : false
2021-05-31 09:18:11 INFO  Job:1647 -  map 0% reduce 0%
2021-05-31 09:18:17 INFO  Job:1647 -  map 33% reduce 0%
2021-05-31 09:18:23 INFO  Job:1647 -  map 67% reduce 0%
2021-05-31 09:18:29 INFO  Job:1647 -  map 100% reduce 0%
2021-05-31 09:18:37 INFO  Job:1647 -  map 100% reduce 100%
2021-05-31 09:18:38 INFO  Job:1658 - Job job_1622452549755_0002 completed successfully
2021-05-31 09:18:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:18:38 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32070
		FILE: Number of bytes written=1104441
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39776
		O3FS: Number of bytes written=22252
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=42792
		Total time spent by all reduces in occupied slots (ms)=24948
		Total time spent by all map tasks (ms)=10698
		Total time spent by all reduce tasks (ms)=6237
		Total vcore-milliseconds taken by all map tasks=10698
		Total vcore-milliseconds taken by all reduce tasks=6237
		Total megabyte-milliseconds taken by all map tasks=43819008
		Total megabyte-milliseconds taken by all reduce tasks=25546752
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55133
		Map output materialized bytes=32082
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32082
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=611
		CPU time spent (ms)=6860
		Physical memory (bytes) snapshot=1473236992
		Virtual memory (bytes) snapshot=15795314688
		Total committed heap usage (bytes)=1251475456
		Peak Map Physical memory (bytes)=395702272
		Peak Map Virtual memory (bytes)=3950055424
		Peak Reduce Physical memory (bytes)=312893440
		Peak Reduce Virtual memory (bytes)=3969134592
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39473
	File Output Format Counters 
		Bytes Written=22252
2021-05-31 09:18:38 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210531 09:18:38.718" endtime="20210531 09:18:38.719"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:18:38.720" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:18:38.719" endtime="20210531 09:18:38.720"/>
</kw>
<status status="PASS" starttime="20210531 09:17:57.873" endtime="20210531 09:18:38.720"/>
</kw>
<msg timestamp="20210531 09:18:38.720" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:17:57.873" endtime="20210531 09:18:38.720"/>
</kw>
<msg timestamp="20210531 09:18:38.721" level="INFO">${output} = 2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-05-31 09:17:59 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210531 09:17:57.872" endtime="20210531 09:18:38.721"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:18:38.721" endtime="20210531 09:18:38.722"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:18:38.722" endtime="20210531 09:18:38.722"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:17:57.836" endtime="20210531 09:18:38.723"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210531 09:17:12.595" endtime="20210531 09:18:38.724"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="222715"/>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite id="s1-s3-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:21:45.345" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:21:49.443" level="INFO">${rc} = 255</msg>
<msg timestamp="20210531 09:21:49.443" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:21:45.341" endtime="20210531 09:21:49.443"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:21:49.445" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:21:49.444" endtime="20210531 09:21:49.445"/>
</kw>
<msg timestamp="20210531 09:21:49.445" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210531 09:21:45.340" endtime="20210531 09:21:49.445"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:21:49.450" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:21:53.143" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:21:53.143" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:21:49.448" endtime="20210531 09:21:53.143"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:21:53.145" level="INFO"/>
<status status="PASS" starttime="20210531 09:21:53.144" endtime="20210531 09:21:53.145"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:21:53.146" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:21:53.145" endtime="20210531 09:21:53.146"/>
</kw>
<status status="PASS" starttime="20210531 09:21:49.447" endtime="20210531 09:21:53.146"/>
</kw>
<msg timestamp="20210531 09:21:53.146" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:21:49.447" endtime="20210531 09:21:53.146"/>
</kw>
<msg timestamp="20210531 09:21:53.147" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210531 09:21:49.446" endtime="20210531 09:21:53.147"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:21:53.147" endtime="20210531 09:21:53.147"/>
</kw>
<status status="PASS" starttime="20210531 09:21:49.446" endtime="20210531 09:21:53.148"/>
</kw>
<status status="PASS" starttime="20210531 09:21:49.445" endtime="20210531 09:21:53.148"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:21:53.155" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:21:56.559" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:21:56.559" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:21:53.151" endtime="20210531 09:21:56.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:21:56.561" level="INFO"/>
<status status="PASS" starttime="20210531 09:21:56.560" endtime="20210531 09:21:56.561"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:21:56.562" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:21:56.561" endtime="20210531 09:21:56.562"/>
</kw>
<status status="PASS" starttime="20210531 09:21:53.150" endtime="20210531 09:21:56.563"/>
</kw>
<msg timestamp="20210531 09:21:56.563" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:21:53.150" endtime="20210531 09:21:56.563"/>
</kw>
<status status="PASS" starttime="20210531 09:21:53.149" endtime="20210531 09:21:56.563"/>
</kw>
<status status="PASS" starttime="20210531 09:21:53.149" endtime="20210531 09:21:56.563"/>
</kw>
<status status="PASS" starttime="20210531 09:21:53.148" endtime="20210531 09:21:56.563"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210531 09:21:56.564" endtime="20210531 09:21:56.564"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:21:56.568" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:00.262" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:00.262" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:21...</msg>
<status status="PASS" starttime="20210531 09:21:56.566" endtime="20210531 09:22:00.262"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:00.263" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:21:56.441Z",
  "modificationTime" : "2021-05-31T09:21:56.441Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210531 09:22:00.262" endtime="20210531 09:22:00.263"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:00.264" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:00.263" endtime="20210531 09:22:00.264"/>
</kw>
<status status="PASS" starttime="20210531 09:21:56.565" endtime="20210531 09:22:00.265"/>
</kw>
<msg timestamp="20210531 09:22:00.265" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:21:56.565" endtime="20210531 09:22:00.265"/>
</kw>
<msg timestamp="20210531 09:22:00.265" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-05-31T09:21...</msg>
<status status="PASS" starttime="20210531 09:21:56.564" endtime="20210531 09:22:00.265"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:22:00.265" endtime="20210531 09:22:00.266"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:22:00.271" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:22:00.270" endtime="20210531 09:22:00.271"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:22:00.272" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:22:00.271" endtime="20210531 09:22:00.272"/>
</kw>
<status status="PASS" starttime="20210531 09:22:00.270" endtime="20210531 09:22:00.272"/>
</kw>
<msg timestamp="20210531 09:22:00.272" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:22:00.269" endtime="20210531 09:22:00.272"/>
</kw>
<status status="PASS" starttime="20210531 09:22:00.268" endtime="20210531 09:22:00.273"/>
</kw>
<msg timestamp="20210531 09:22:00.273" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210531 09:22:00.267" endtime="20210531 09:22:00.273"/>
</kw>
<msg timestamp="20210531 09:22:00.273" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210531 09:22:00.266" endtime="20210531 09:22:00.273"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:00.277" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:04.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:04.006" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:22:00.275" endtime="20210531 09:22:04.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:04.008" level="INFO"/>
<status status="PASS" starttime="20210531 09:22:04.007" endtime="20210531 09:22:04.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:04.009" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:04.008" endtime="20210531 09:22:04.009"/>
</kw>
<status status="PASS" starttime="20210531 09:22:00.274" endtime="20210531 09:22:04.009"/>
</kw>
<msg timestamp="20210531 09:22:04.009" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:00.274" endtime="20210531 09:22:04.010"/>
</kw>
<status status="PASS" starttime="20210531 09:22:00.273" endtime="20210531 09:22:04.010"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:04.015" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:10.879" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:10.879" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:22:04.012" endtime="20210531 09:22:10.879"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:10.881" level="INFO"/>
<status status="PASS" starttime="20210531 09:22:10.880" endtime="20210531 09:22:10.881"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:10.882" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:10.881" endtime="20210531 09:22:10.882"/>
</kw>
<status status="PASS" starttime="20210531 09:22:04.011" endtime="20210531 09:22:10.882"/>
</kw>
<msg timestamp="20210531 09:22:10.882" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:04.011" endtime="20210531 09:22:10.883"/>
</kw>
<status status="PASS" starttime="20210531 09:22:04.010" endtime="20210531 09:22:10.883"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:10.887" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:16.634" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:16.634" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:22:10.885" endtime="20210531 09:22:16.634"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:16.635" level="INFO"/>
<status status="PASS" starttime="20210531 09:22:16.634" endtime="20210531 09:22:16.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:16.636" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:16.636" endtime="20210531 09:22:16.636"/>
</kw>
<status status="PASS" starttime="20210531 09:22:10.884" endtime="20210531 09:22:16.637"/>
</kw>
<msg timestamp="20210531 09:22:16.637" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:10.884" endtime="20210531 09:22:16.637"/>
</kw>
<status status="PASS" starttime="20210531 09:22:10.883" endtime="20210531 09:22:16.637"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:16.643" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:22.466" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:22.466" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:22:16.639" endtime="20210531 09:22:22.466"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:22.468" level="INFO"/>
<status status="PASS" starttime="20210531 09:22:22.467" endtime="20210531 09:22:22.468"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:22.469" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:22.468" endtime="20210531 09:22:22.469"/>
</kw>
<status status="PASS" starttime="20210531 09:22:16.638" endtime="20210531 09:22:22.469"/>
</kw>
<msg timestamp="20210531 09:22:22.469" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:16.638" endtime="20210531 09:22:22.469"/>
</kw>
<status status="PASS" starttime="20210531 09:22:16.637" endtime="20210531 09:22:22.470"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210531 09:21:45.339" endtime="20210531 09:22:22.470"/>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:22:22.478" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:22:22.478" endtime="20210531 09:22:22.479"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:22:22.479" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:22:22.479" endtime="20210531 09:22:22.479"/>
</kw>
<status status="PASS" starttime="20210531 09:22:22.477" endtime="20210531 09:22:22.480"/>
</kw>
<msg timestamp="20210531 09:22:22.480" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:22:22.476" endtime="20210531 09:22:22.480"/>
</kw>
<status status="PASS" starttime="20210531 09:22:22.474" endtime="20210531 09:22:22.480"/>
</kw>
<msg timestamp="20210531 09:22:22.480" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:22:22.474" endtime="20210531 09:22:22.481"/>
</kw>
<msg timestamp="20210531 09:22:22.481" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:22:22.473" endtime="20210531 09:22:22.481"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:22.486" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:26.033" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:26.033" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:22:22.483" endtime="20210531 09:22:26.033"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:26.035" level="INFO"/>
<status status="PASS" starttime="20210531 09:22:26.033" endtime="20210531 09:22:26.035"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:26.036" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:26.035" endtime="20210531 09:22:26.036"/>
</kw>
<status status="PASS" starttime="20210531 09:22:22.482" endtime="20210531 09:22:26.037"/>
</kw>
<msg timestamp="20210531 09:22:26.037" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:22.482" endtime="20210531 09:22:26.037"/>
</kw>
<status status="PASS" starttime="20210531 09:22:22.481" endtime="20210531 09:22:26.037"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:26.041" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:29.552" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:29.552" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210531 09:22:26.039" endtime="20210531 09:22:29.552"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:29.553" level="INFO"/>
<status status="PASS" starttime="20210531 09:22:29.553" endtime="20210531 09:22:29.554"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:29.554" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:29.554" endtime="20210531 09:22:29.554"/>
</kw>
<status status="PASS" starttime="20210531 09:22:26.038" endtime="20210531 09:22:29.555"/>
</kw>
<msg timestamp="20210531 09:22:29.555" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:26.038" endtime="20210531 09:22:29.555"/>
</kw>
<status status="PASS" starttime="20210531 09:22:26.037" endtime="20210531 09:22:29.555"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210531 09:22:22.472" endtime="20210531 09:22:29.555"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210531 09:21:45.254" endtime="20210531 09:22:29.557"/>
</suite>
<suite id="s1-s3-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:24:12.848" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:24:12.847" endtime="20210531 09:24:12.848"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:24:12.849" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:24:12.848" endtime="20210531 09:24:12.849"/>
</kw>
<status status="PASS" starttime="20210531 09:24:12.847" endtime="20210531 09:24:12.849"/>
</kw>
<msg timestamp="20210531 09:24:12.849" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:24:12.846" endtime="20210531 09:24:12.849"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:24:12.850" endtime="20210531 09:24:12.850"/>
</kw>
<msg timestamp="20210531 09:24:12.851" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:24:12.849" endtime="20210531 09:24:12.851"/>
</kw>
<status status="PASS" starttime="20210531 09:24:12.845" endtime="20210531 09:24:12.851"/>
</kw>
<msg timestamp="20210531 09:24:12.851" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:24:12.845" endtime="20210531 09:24:12.851"/>
</kw>
<msg timestamp="20210531 09:24:12.851" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:24:12.844" endtime="20210531 09:24:12.851"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:24:12.852" level="INFO">${random} = 06537</msg>
<status status="PASS" starttime="20210531 09:24:12.852" endtime="20210531 09:24:12.852"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:24:12.860" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-06537 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:24:16.542" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:24:16.542" level="INFO">${output} = 2021-05-31 09:24:14 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:24:15 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210531 09:24:12.854" endtime="20210531 09:24:16.542"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:24:16.543" level="INFO">2021-05-31 09:24:14 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:24:15 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:24:15 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:24:15 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:24:15 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-42D53098BA70-&gt;63dc7fd9-cf87-493c-96a1-9a8f12f513c7
2021-05-31 09:24:15 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210531 09:24:16.542" endtime="20210531 09:24:16.543"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:24:16.544" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:24:16.543" endtime="20210531 09:24:16.544"/>
</kw>
<status status="PASS" starttime="20210531 09:24:12.853" endtime="20210531 09:24:16.544"/>
</kw>
<msg timestamp="20210531 09:24:16.544" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:24:12.853" endtime="20210531 09:24:16.545"/>
</kw>
<msg timestamp="20210531 09:24:16.545" level="INFO">${result} = 2021-05-31 09:24:14 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:24:15 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210531 09:24:12.852" endtime="20210531 09:24:16.545"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:24:16.549" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:24:18.427" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:24:18.427" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:24 ofs://om/volume1/bucket1/ozone-06537
-rw-...</msg>
<status status="PASS" starttime="20210531 09:24:16.547" endtime="20210531 09:24:18.427"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:24:18.428" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:24 ofs://om/volume1/bucket1/ozone-06537
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:22 ofs://om/volume1/bucket1/ozone-52397
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:23 ofs://om/volume1/bucket1/wordcount-scvgzaXx.txt</msg>
<status status="PASS" starttime="20210531 09:24:18.427" endtime="20210531 09:24:18.428"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:24:18.429" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:24:18.428" endtime="20210531 09:24:18.429"/>
</kw>
<status status="PASS" starttime="20210531 09:24:16.546" endtime="20210531 09:24:18.429"/>
</kw>
<msg timestamp="20210531 09:24:18.429" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:24:16.546" endtime="20210531 09:24:18.429"/>
</kw>
<msg timestamp="20210531 09:24:18.429" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:24 ofs://om/volume1/bucket1/ozone-06537
-rw-...</msg>
<status status="PASS" starttime="20210531 09:24:16.545" endtime="20210531 09:24:18.430"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:24:18.430" endtime="20210531 09:24:18.430"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210531 09:24:12.843" endtime="20210531 09:24:18.430"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210531 09:24:12.777" endtime="20210531 09:24:18.432"/>
</suite>
<suite id="s1-s3-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:22:34.649" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:22:34.648" endtime="20210531 09:22:34.649"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:22:34.650" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:22:34.649" endtime="20210531 09:22:34.650"/>
</kw>
<status status="PASS" starttime="20210531 09:22:34.648" endtime="20210531 09:22:34.650"/>
</kw>
<msg timestamp="20210531 09:22:34.650" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:22:34.647" endtime="20210531 09:22:34.650"/>
</kw>
<status status="PASS" starttime="20210531 09:22:34.646" endtime="20210531 09:22:34.650"/>
</kw>
<msg timestamp="20210531 09:22:34.650" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:22:34.646" endtime="20210531 09:22:34.651"/>
</kw>
<msg timestamp="20210531 09:22:34.651" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:22:34.645" endtime="20210531 09:22:34.651"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:22:34.651" level="INFO">${random} = 52397</msg>
<status status="PASS" starttime="20210531 09:22:34.651" endtime="20210531 09:22:34.651"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:34.658" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-52397 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:38.778" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:38.779" level="INFO">${output} = 2021-05-31 09:22:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:22:36 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210531 09:22:34.653" endtime="20210531 09:22:38.779"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:38.780" level="INFO">2021-05-31 09:22:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:22:36 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:22:36 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:22:37 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:22:37 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-470D55FC7186-&gt;4a0aa709-f798-4477-8f62-d05ff830d8c5
2021-05-31 09:22:37 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210531 09:22:38.779" endtime="20210531 09:22:38.780"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:38.781" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:38.780" endtime="20210531 09:22:38.781"/>
</kw>
<status status="PASS" starttime="20210531 09:22:34.653" endtime="20210531 09:22:38.781"/>
</kw>
<msg timestamp="20210531 09:22:38.781" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:34.652" endtime="20210531 09:22:38.781"/>
</kw>
<msg timestamp="20210531 09:22:38.782" level="INFO">${result} = 2021-05-31 09:22:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:22:36 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210531 09:22:34.652" endtime="20210531 09:22:38.782"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:38.786" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:40.720" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:40.720" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:22 o3fs://bucket1.volume1.om/ozone-52397
dr...</msg>
<status status="PASS" starttime="20210531 09:22:38.784" endtime="20210531 09:22:40.721"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:40.722" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:22 o3fs://bucket1.volume1.om/ozone-52397
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210531 09:22:40.721" endtime="20210531 09:22:40.722"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:40.723" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:40.722" endtime="20210531 09:22:40.723"/>
</kw>
<status status="PASS" starttime="20210531 09:22:38.783" endtime="20210531 09:22:40.723"/>
</kw>
<msg timestamp="20210531 09:22:40.723" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:38.783" endtime="20210531 09:22:40.723"/>
</kw>
<msg timestamp="20210531 09:22:40.724" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-05-31 09:22 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-05-31 09:22 o3fs://bucket1.volume1.om/ozone-52397
dr...</msg>
<status status="PASS" starttime="20210531 09:22:38.782" endtime="20210531 09:22:40.724"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:22:40.724" endtime="20210531 09:22:40.725"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210531 09:22:34.644" endtime="20210531 09:22:40.725"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210531 09:22:34.573" endtime="20210531 09:22:40.726"/>
</suite>
<suite id="s1-s3-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:24:23.417" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:24:23.424" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:24:23.424" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:24:23.414" endtime="20210531 09:24:23.424"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:24:23.425" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:24:23.425" endtime="20210531 09:24:23.426"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:24:23.426" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:24:23.426" endtime="20210531 09:24:23.426"/>
</kw>
<status status="PASS" starttime="20210531 09:24:23.413" endtime="20210531 09:24:23.427"/>
</kw>
<msg timestamp="20210531 09:24:23.427" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:24:23.413" endtime="20210531 09:24:23.427"/>
</kw>
<msg timestamp="20210531 09:24:23.427" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:24:23.412" endtime="20210531 09:24:23.428"/>
</kw>
<msg timestamp="20210531 09:24:23.428" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:24:23.412" endtime="20210531 09:24:23.428"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:24:23.432" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:24:23.432" endtime="20210531 09:24:23.432"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:24:23.433" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:24:23.432" endtime="20210531 09:24:23.433"/>
</kw>
<status status="PASS" starttime="20210531 09:24:23.431" endtime="20210531 09:24:23.433"/>
</kw>
<msg timestamp="20210531 09:24:23.433" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:24:23.431" endtime="20210531 09:24:23.433"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:24:23.434" endtime="20210531 09:24:23.434"/>
</kw>
<msg timestamp="20210531 09:24:23.434" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:24:23.434" endtime="20210531 09:24:23.434"/>
</kw>
<status status="PASS" starttime="20210531 09:24:23.430" endtime="20210531 09:24:23.435"/>
</kw>
<msg timestamp="20210531 09:24:23.435" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:24:23.429" endtime="20210531 09:24:23.435"/>
</kw>
<msg timestamp="20210531 09:24:23.435" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:24:23.429" endtime="20210531 09:24:23.436"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:24:23.439" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:25:05.838" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:25:05.839" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:24:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:24:25 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210531 09:24:23.437" endtime="20210531 09:25:05.839"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:25:05.840" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:24:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:24:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:24:25 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:24:25 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:24:25 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-86A40906909A-&gt;63dc7fd9-cf87-493c-96a1-9a8f12f513c7
2021-05-31 09:24:25 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-05-31 09:24:26 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-E10582557C5F-&gt;4a0aa709-f798-4477-8f62-d05ff830d8c5
2021-05-31 09:24:26 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-05-31 09:24:29 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:24:29 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:24:30 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:24:30 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:24:30 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452865904_0003
2021-05-31 09:24:30 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:24:30 INFO  Configuration:2795 - resource-types.xml not found
2021-05-31 09:24:30 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-31 09:24:30 INFO  YarnClientImpl:329 - Submitted application application_1622452865904_0003
2021-05-31 09:24:30 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622452865904_0003/
2021-05-31 09:24:30 INFO  Job:1614 - Running job: job_1622452865904_0003
2021-05-31 09:24:38 INFO  Job:1635 - Job job_1622452865904_0003 running in uber mode : false
2021-05-31 09:24:38 INFO  Job:1642 -  map 0% reduce 0%
2021-05-31 09:24:46 INFO  Job:1642 -  map 33% reduce 0%
2021-05-31 09:24:51 INFO  Job:1642 -  map 67% reduce 0%
2021-05-31 09:24:57 INFO  Job:1642 -  map 100% reduce 0%
2021-05-31 09:25:02 INFO  Job:1642 -  map 100% reduce 100%
2021-05-31 09:25:05 INFO  Job:1653 - Job job_1622452865904_0003 completed successfully
2021-05-31 09:25:05 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1116997
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=43272
		Total time spent by all reduces in occupied slots (ms)=16352
		Total time spent by all map tasks (ms)=10818
		Total time spent by all reduce tasks (ms)=4088
		Total vcore-milliseconds taken by all map tasks=10818
		Total vcore-milliseconds taken by all reduce tasks=4088
		Total megabyte-milliseconds taken by all map tasks=44310528
		Total megabyte-milliseconds taken by all reduce tasks=16744448
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=613
		CPU time spent (ms)=7750
		Physical memory (bytes) snapshot=1270865920
		Virtual memory (bytes) snapshot=15820795904
		Total committed heap usage (bytes)=1082654720
		Peak Map Physical memory (bytes)=322465792
		Peak Map Virtual memory (bytes)=3951783936
		Peak Reduce Physical memory (bytes)=311709696
		Peak Reduce Virtual memory (bytes)=3970318336
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 35.811 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210531 09:25:05.839" endtime="20210531 09:25:05.840"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:25:05.841" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:25:05.841" endtime="20210531 09:25:05.841"/>
</kw>
<status status="PASS" starttime="20210531 09:24:23.437" endtime="20210531 09:25:05.841"/>
</kw>
<msg timestamp="20210531 09:25:05.842" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:24:23.436" endtime="20210531 09:25:05.842"/>
</kw>
<msg timestamp="20210531 09:25:05.842" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:24:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:24:25 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210531 09:24:23.436" endtime="20210531 09:25:05.842"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:25:05.842" endtime="20210531 09:25:05.843"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:24:23.411" endtime="20210531 09:25:05.843"/>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:25:05.850" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:25:05.856" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:25:05.856" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:25:05.847" endtime="20210531 09:25:05.856"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:25:05.857" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:25:05.856" endtime="20210531 09:25:05.857"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:25:05.858" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:25:05.857" endtime="20210531 09:25:05.858"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.847" endtime="20210531 09:25:05.858"/>
</kw>
<msg timestamp="20210531 09:25:05.858" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:25:05.846" endtime="20210531 09:25:05.859"/>
</kw>
<msg timestamp="20210531 09:25:05.859" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:25:05.846" endtime="20210531 09:25:05.859"/>
</kw>
<msg timestamp="20210531 09:25:05.859" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:25:05.845" endtime="20210531 09:25:05.859"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:25:05.860" level="INFO">${random} = XlKPtax8</msg>
<status status="PASS" starttime="20210531 09:25:05.859" endtime="20210531 09:25:05.860"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:25:05.865" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:25:05.864" endtime="20210531 09:25:05.865"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:25:05.865" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:25:05.865" endtime="20210531 09:25:05.866"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.864" endtime="20210531 09:25:05.866"/>
</kw>
<msg timestamp="20210531 09:25:05.866" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:25:05.863" endtime="20210531 09:25:05.866"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210531 09:25:05.867" endtime="20210531 09:25:05.867"/>
</kw>
<msg timestamp="20210531 09:25:05.867" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210531 09:25:05.866" endtime="20210531 09:25:05.867"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.862" endtime="20210531 09:25:05.868"/>
</kw>
<msg timestamp="20210531 09:25:05.868" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:25:05.861" endtime="20210531 09:25:05.868"/>
</kw>
<msg timestamp="20210531 09:25:05.868" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210531 09:25:05.860" endtime="20210531 09:25:05.868"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:25:05.872" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:25:05.872" endtime="20210531 09:25:05.872"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:25:05.873" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:25:05.872" endtime="20210531 09:25:05.873"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.871" endtime="20210531 09:25:05.873"/>
</kw>
<msg timestamp="20210531 09:25:05.873" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:25:05.871" endtime="20210531 09:25:05.873"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:25:05.875" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210531 09:25:05.875" endtime="20210531 09:25:05.875"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:25:05.876" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210531 09:25:05.875" endtime="20210531 09:25:05.876"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.874" endtime="20210531 09:25:05.876"/>
</kw>
<msg timestamp="20210531 09:25:05.876" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210531 09:25:05.873" endtime="20210531 09:25:05.877"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.870" endtime="20210531 09:25:05.877"/>
</kw>
<msg timestamp="20210531 09:25:05.877" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210531 09:25:05.869" endtime="20210531 09:25:05.877"/>
</kw>
<msg timestamp="20210531 09:25:05.877" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210531 09:25:05.868" endtime="20210531 09:25:05.877"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:25:05.882" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210531 09:25:05.881" endtime="20210531 09:25:05.882"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:25:05.883" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210531 09:25:05.882" endtime="20210531 09:25:05.883"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.881" endtime="20210531 09:25:05.883"/>
</kw>
<msg timestamp="20210531 09:25:05.883" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210531 09:25:05.880" endtime="20210531 09:25:05.883"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:25:05.885" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210531 09:25:05.884" endtime="20210531 09:25:05.885"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:25:05.886" level="INFO">${result} = /wordcount-XlKPtax8.txt</msg>
<status status="PASS" starttime="20210531 09:25:05.885" endtime="20210531 09:25:05.886"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.884" endtime="20210531 09:25:05.886"/>
</kw>
<msg timestamp="20210531 09:25:05.886" level="INFO">${path_with_leading} = /wordcount-XlKPtax8.txt</msg>
<status status="PASS" starttime="20210531 09:25:05.883" endtime="20210531 09:25:05.886"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.879" endtime="20210531 09:25:05.886"/>
</kw>
<msg timestamp="20210531 09:25:05.887" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-XlKPtax8.txt</msg>
<status status="PASS" starttime="20210531 09:25:05.878" endtime="20210531 09:25:05.887"/>
</kw>
<msg timestamp="20210531 09:25:05.887" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-XlKPtax8.txt</msg>
<status status="PASS" starttime="20210531 09:25:05.878" endtime="20210531 09:25:05.887"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:25:05.891" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-XlKPtax8.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:25:45.520" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:25:45.520" level="INFO">${output} = 2021-05-31 09:25:07 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:25:08 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210531 09:25:05.889" endtime="20210531 09:25:45.520"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:25:45.521" level="INFO">2021-05-31 09:25:07 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:25:08 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:25:08 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:25:08 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:25:08 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:25:08 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:25:08 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-81D1233C8D31-&gt;4a0aa709-f798-4477-8f62-d05ff830d8c5
2021-05-31 09:25:08 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:25:09 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:25:09 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:25:10 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452865904_0004
2021-05-31 09:25:10 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:25:10 INFO  Configuration:2795 - resource-types.xml not found
2021-05-31 09:25:10 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-31 09:25:10 INFO  YarnClientImpl:329 - Submitted application application_1622452865904_0004
2021-05-31 09:25:10 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622452865904_0004/
2021-05-31 09:25:10 INFO  Job:1614 - Running job: job_1622452865904_0004
2021-05-31 09:25:18 INFO  Job:1635 - Job job_1622452865904_0004 running in uber mode : false
2021-05-31 09:25:18 INFO  Job:1642 -  map 0% reduce 0%
2021-05-31 09:25:25 INFO  Job:1642 -  map 33% reduce 0%
2021-05-31 09:25:30 INFO  Job:1642 -  map 67% reduce 0%
2021-05-31 09:25:36 INFO  Job:1642 -  map 100% reduce 0%
2021-05-31 09:25:41 INFO  Job:1642 -  map 100% reduce 100%
2021-05-31 09:25:45 INFO  Job:1653 - Job job_1622452865904_0004 completed successfully
2021-05-31 09:25:45 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32070
		FILE: Number of bytes written=1179757
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39773
		OFS: Number of bytes written=22252
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44000
		Total time spent by all reduces in occupied slots (ms)=15508
		Total time spent by all map tasks (ms)=11000
		Total time spent by all reduce tasks (ms)=3877
		Total vcore-milliseconds taken by all map tasks=11000
		Total vcore-milliseconds taken by all reduce tasks=3877
		Total megabyte-milliseconds taken by all map tasks=45056000
		Total megabyte-milliseconds taken by all reduce tasks=15880192
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55133
		Map output materialized bytes=32082
		Input split bytes=300
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32082
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=597
		CPU time spent (ms)=7560
		Physical memory (bytes) snapshot=1312489472
		Virtual memory (bytes) snapshot=15800635392
		Total committed heap usage (bytes)=1126170624
		Peak Map Physical memory (bytes)=382599168
		Peak Map Virtual memory (bytes)=3948867584
		Peak Reduce Physical memory (bytes)=312807424
		Peak Reduce Virtual memory (bytes)=3972919296
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39473
	File Output Format Counters 
		Bytes Written=22252</msg>
<status status="PASS" starttime="20210531 09:25:45.521" endtime="20210531 09:25:45.522"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:25:45.522" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:25:45.522" endtime="20210531 09:25:45.523"/>
</kw>
<status status="PASS" starttime="20210531 09:25:05.888" endtime="20210531 09:25:45.523"/>
</kw>
<msg timestamp="20210531 09:25:45.524" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:25:05.888" endtime="20210531 09:25:45.524"/>
</kw>
<msg timestamp="20210531 09:25:45.524" level="INFO">${output} = 2021-05-31 09:25:07 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:25:08 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210531 09:25:05.887" endtime="20210531 09:25:45.524"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:25:45.524" endtime="20210531 09:25:45.525"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:25:45.525" endtime="20210531 09:25:45.525"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:25:05.844" endtime="20210531 09:25:45.526"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210531 09:24:23.345" endtime="20210531 09:25:45.528"/>
</suite>
<suite id="s1-s3-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:45.695" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:22:45.701" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:22:45.701" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:22:45.691" endtime="20210531 09:22:45.701"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:22:45.702" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:22:45.702" endtime="20210531 09:22:45.702"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:22:45.703" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:22:45.702" endtime="20210531 09:22:45.703"/>
</kw>
<status status="PASS" starttime="20210531 09:22:45.691" endtime="20210531 09:22:45.703"/>
</kw>
<msg timestamp="20210531 09:22:45.703" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:45.690" endtime="20210531 09:22:45.704"/>
</kw>
<msg timestamp="20210531 09:22:45.704" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:22:45.690" endtime="20210531 09:22:45.705"/>
</kw>
<msg timestamp="20210531 09:22:45.705" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:22:45.689" endtime="20210531 09:22:45.706"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:22:45.710" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:22:45.709" endtime="20210531 09:22:45.710"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:22:45.710" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:22:45.710" endtime="20210531 09:22:45.710"/>
</kw>
<status status="PASS" starttime="20210531 09:22:45.709" endtime="20210531 09:22:45.711"/>
</kw>
<msg timestamp="20210531 09:22:45.711" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:22:45.708" endtime="20210531 09:22:45.711"/>
</kw>
<status status="PASS" starttime="20210531 09:22:45.707" endtime="20210531 09:22:45.711"/>
</kw>
<msg timestamp="20210531 09:22:45.711" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:22:45.707" endtime="20210531 09:22:45.711"/>
</kw>
<msg timestamp="20210531 09:22:45.712" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:22:45.706" endtime="20210531 09:22:45.712"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:22:45.715" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:23:29.255" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:23:29.255" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:22:47 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:22:48 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210531 09:22:45.713" endtime="20210531 09:23:29.255"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:23:29.257" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:22:47 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:22:48 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:22:48 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:22:48 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:22:48 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-D981D1A23A96-&gt;63dc7fd9-cf87-493c-96a1-9a8f12f513c7
2021-05-31 09:22:48 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-05-31 09:22:49 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-70BEF75FFF01-&gt;4a0aa709-f798-4477-8f62-d05ff830d8c5
2021-05-31 09:22:49 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-05-31 09:22:49 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:22:49 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:22:50 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:22:50 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452865904_0001
2021-05-31 09:22:50 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:22:50 INFO  Configuration:2795 - resource-types.xml not found
2021-05-31 09:22:50 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-31 09:22:51 INFO  YarnClientImpl:329 - Submitted application application_1622452865904_0001
2021-05-31 09:22:51 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622452865904_0001/
2021-05-31 09:22:51 INFO  Job:1614 - Running job: job_1622452865904_0001
2021-05-31 09:23:01 INFO  Job:1635 - Job job_1622452865904_0001 running in uber mode : false
2021-05-31 09:23:01 INFO  Job:1642 -  map 0% reduce 0%
2021-05-31 09:23:08 INFO  Job:1642 -  map 33% reduce 0%
2021-05-31 09:23:13 INFO  Job:1642 -  map 67% reduce 0%
2021-05-31 09:23:19 INFO  Job:1642 -  map 100% reduce 0%
2021-05-31 09:23:25 INFO  Job:1642 -  map 100% reduce 100%
2021-05-31 09:23:28 INFO  Job:1653 - Job job_1622452865904_0001 completed successfully
2021-05-31 09:23:28 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1117209
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=43768
		Total time spent by all reduces in occupied slots (ms)=16704
		Total time spent by all map tasks (ms)=10942
		Total time spent by all reduce tasks (ms)=4176
		Total vcore-milliseconds taken by all map tasks=10942
		Total vcore-milliseconds taken by all reduce tasks=4176
		Total megabyte-milliseconds taken by all map tasks=44818432
		Total megabyte-milliseconds taken by all reduce tasks=17104896
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=732
		CPU time spent (ms)=7420
		Physical memory (bytes) snapshot=1320181760
		Virtual memory (bytes) snapshot=15828299776
		Total committed heap usage (bytes)=1266679808
		Peak Map Physical memory (bytes)=363614208
		Peak Map Virtual memory (bytes)=3958329344
		Peak Reduce Physical memory (bytes)=311877632
		Peak Reduce Virtual memory (bytes)=3970478080
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 39.269 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210531 09:23:29.256" endtime="20210531 09:23:29.257"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:23:29.258" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:23:29.257" endtime="20210531 09:23:29.258"/>
</kw>
<status status="PASS" starttime="20210531 09:22:45.713" endtime="20210531 09:23:29.258"/>
</kw>
<msg timestamp="20210531 09:23:29.258" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:22:45.712" endtime="20210531 09:23:29.259"/>
</kw>
<msg timestamp="20210531 09:23:29.259" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-05-31 09:22:47 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:22:48 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210531 09:22:45.712" endtime="20210531 09:23:29.259"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:23:29.259" endtime="20210531 09:23:29.260"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:22:45.688" endtime="20210531 09:23:29.260"/>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:23:29.267" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:23:29.272" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:23:29.272" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:23:29.265" endtime="20210531 09:23:29.272"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:23:29.273" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:23:29.272" endtime="20210531 09:23:29.273"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:23:29.274" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:23:29.273" endtime="20210531 09:23:29.274"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.265" endtime="20210531 09:23:29.274"/>
</kw>
<msg timestamp="20210531 09:23:29.274" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:23:29.264" endtime="20210531 09:23:29.274"/>
</kw>
<msg timestamp="20210531 09:23:29.275" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:23:29.264" endtime="20210531 09:23:29.275"/>
</kw>
<msg timestamp="20210531 09:23:29.275" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210531 09:23:29.263" endtime="20210531 09:23:29.275"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210531 09:23:29.276" level="INFO">${random} = scvgzaXx</msg>
<status status="PASS" starttime="20210531 09:23:29.275" endtime="20210531 09:23:29.276"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:23:29.280" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:23:29.279" endtime="20210531 09:23:29.280"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:23:29.281" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:23:29.280" endtime="20210531 09:23:29.281"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.279" endtime="20210531 09:23:29.281"/>
</kw>
<msg timestamp="20210531 09:23:29.281" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:23:29.278" endtime="20210531 09:23:29.281"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.277" endtime="20210531 09:23:29.282"/>
</kw>
<msg timestamp="20210531 09:23:29.282" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:23:29.277" endtime="20210531 09:23:29.282"/>
</kw>
<msg timestamp="20210531 09:23:29.282" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210531 09:23:29.276" endtime="20210531 09:23:29.282"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:23:29.286" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:23:29.286" endtime="20210531 09:23:29.286"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:23:29.287" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:23:29.286" endtime="20210531 09:23:29.287"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.285" endtime="20210531 09:23:29.287"/>
</kw>
<msg timestamp="20210531 09:23:29.287" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:23:29.285" endtime="20210531 09:23:29.287"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.284" endtime="20210531 09:23:29.288"/>
</kw>
<msg timestamp="20210531 09:23:29.288" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210531 09:23:29.283" endtime="20210531 09:23:29.288"/>
</kw>
<msg timestamp="20210531 09:23:29.288" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210531 09:23:29.282" endtime="20210531 09:23:29.288"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210531 09:23:29.292" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210531 09:23:29.291" endtime="20210531 09:23:29.292"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210531 09:23:29.293" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210531 09:23:29.292" endtime="20210531 09:23:29.293"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.291" endtime="20210531 09:23:29.293"/>
</kw>
<msg timestamp="20210531 09:23:29.293" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210531 09:23:29.290" endtime="20210531 09:23:29.293"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.289" endtime="20210531 09:23:29.294"/>
</kw>
<msg timestamp="20210531 09:23:29.294" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-scvgzaXx.txt</msg>
<status status="PASS" starttime="20210531 09:23:29.289" endtime="20210531 09:23:29.294"/>
</kw>
<msg timestamp="20210531 09:23:29.294" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-scvgzaXx.txt</msg>
<status status="PASS" starttime="20210531 09:23:29.288" endtime="20210531 09:23:29.294"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210531 09:23:29.297" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-scvgzaXx.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210531 09:24:07.902" level="INFO">${rc} = 0</msg>
<msg timestamp="20210531 09:24:07.902" level="INFO">${output} = 2021-05-31 09:23:31 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:23:31 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210531 09:23:29.296" endtime="20210531 09:24:07.903"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210531 09:24:07.904" level="INFO">2021-05-31 09:23:31 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:23:31 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-05-31 09:23:31 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-05-31 09:23:31 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-05-31 09:23:31 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-05-31 09:23:32 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-31 09:23:32 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-6FC492DD99D5-&gt;4a0aa709-f798-4477-8f62-d05ff830d8c5
2021-05-31 09:23:32 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:23:33 INFO  FileInputFormat:292 - Total input files to process : 3
2021-05-31 09:23:33 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7A902E8DB4BD-&gt;63dc7fd9-cf87-493c-96a1-9a8f12f513c7
2021-05-31 09:23:33 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-31 09:23:33 INFO  JobSubmitter:202 - number of splits:3
2021-05-31 09:23:33 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622452865904_0002
2021-05-31 09:23:33 INFO  JobSubmitter:299 - Executing with tokens: []
2021-05-31 09:23:33 INFO  Configuration:2795 - resource-types.xml not found
2021-05-31 09:23:33 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-05-31 09:23:33 INFO  YarnClientImpl:329 - Submitted application application_1622452865904_0002
2021-05-31 09:23:34 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622452865904_0002/
2021-05-31 09:23:34 INFO  Job:1614 - Running job: job_1622452865904_0002
2021-05-31 09:23:42 INFO  Job:1635 - Job job_1622452865904_0002 running in uber mode : false
2021-05-31 09:23:42 INFO  Job:1642 -  map 0% reduce 0%
2021-05-31 09:23:49 INFO  Job:1642 -  map 33% reduce 0%
2021-05-31 09:23:55 INFO  Job:1642 -  map 67% reduce 0%
2021-05-31 09:24:01 INFO  Job:1642 -  map 100% reduce 0%
2021-05-31 09:24:06 INFO  Job:1642 -  map 100% reduce 100%
2021-05-31 09:24:07 INFO  Job:1653 - Job job_1622452865904_0002 completed successfully
2021-05-31 09:24:07 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32070
		FILE: Number of bytes written=1179841
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39776
		O3FS: Number of bytes written=22252
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=44076
		Total time spent by all reduces in occupied slots (ms)=15892
		Total time spent by all map tasks (ms)=11019
		Total time spent by all reduce tasks (ms)=3973
		Total vcore-milliseconds taken by all map tasks=11019
		Total vcore-milliseconds taken by all reduce tasks=3973
		Total megabyte-milliseconds taken by all map tasks=45133824
		Total megabyte-milliseconds taken by all reduce tasks=16273408
	Map-Reduce Framework
		Map input records=1053
		Map output records=4514
		Map output bytes=55133
		Map output materialized bytes=32082
		Input split bytes=303
		Combine input records=4514
		Combine output records=1803
		Reduce input groups=1539
		Reduce shuffle bytes=32082
		Reduce input records=1803
		Reduce output records=1539
		Spilled Records=3606
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=638
		CPU time spent (ms)=8120
		Physical memory (bytes) snapshot=1342697472
		Virtual memory (bytes) snapshot=15831158784
		Total committed heap usage (bytes)=1120403456
		Peak Map Physical memory (bytes)=386809856
		Peak Map Virtual memory (bytes)=3956748288
		Peak Reduce Physical memory (bytes)=309661696
		Peak Reduce Virtual memory (bytes)=3973287936
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39473
	File Output Format Counters 
		Bytes Written=22252</msg>
<status status="PASS" starttime="20210531 09:24:07.903" endtime="20210531 09:24:07.904"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210531 09:24:07.905" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210531 09:24:07.904" endtime="20210531 09:24:07.905"/>
</kw>
<status status="PASS" starttime="20210531 09:23:29.295" endtime="20210531 09:24:07.905"/>
</kw>
<msg timestamp="20210531 09:24:07.906" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210531 09:23:29.295" endtime="20210531 09:24:07.906"/>
</kw>
<msg timestamp="20210531 09:24:07.906" level="INFO">${output} = 2021-05-31 09:23:31 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.8:8032
2021-05-31 09:23:31 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210531 09:23:29.294" endtime="20210531 09:24:07.906"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:24:07.906" endtime="20210531 09:24:07.907"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210531 09:24:07.907" endtime="20210531 09:24:07.907"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210531 09:23:29.262" endtime="20210531 09:24:07.908"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210531 09:22:45.620" endtime="20210531 09:24:07.909"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="220583"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="644937"/>
</suite>
<statistics>
<total>
<stat pass="24" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="24" fail="0" skip="0" id="s1" name="ozone-mr">ozone-mr</stat>
<stat pass="8" fail="0" skip="0" id="s1-s1" name="hadoop27">ozone-mr.hadoop27</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1" name="Createmrenv">ozone-mr.hadoop27.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s2" name="hadoopfs-ofs">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s3" name="hadoopfs-o3fs">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s4" name="mapreduce-ofs">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s5" name="mapreduce-o3fs">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s2" name="hadoop31">ozone-mr.hadoop31</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s1" name="Createmrenv">ozone-mr.hadoop31.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s2" name="hadoopfs-ofs">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s3" name="hadoopfs-o3fs">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s4" name="mapreduce-ofs">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s5" name="mapreduce-o3fs">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s3" name="hadoop32">ozone-mr.hadoop32</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s1" name="Createmrenv">ozone-mr.hadoop32.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s2" name="hadoopfs-ofs">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s3" name="hadoopfs-o3fs">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s4" name="mapreduce-ofs">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s5" name="mapreduce-o3fs">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
