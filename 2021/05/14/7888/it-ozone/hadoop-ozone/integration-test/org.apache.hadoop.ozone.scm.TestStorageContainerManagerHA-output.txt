2021-05-14 10:46:39,537 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:39,551 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:39,551 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:39,596 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:14584 and Ratis port: 14584
2021-05-14 10:46:39,596 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 127.0.0.1:14585
2021-05-14 10:46:39,596 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 127.0.0.1:14586
2021-05-14 10:46:39,597 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 127.0.0.1:14587
2021-05-14 10:46:39,597 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 14584
2021-05-14 10:46:39,597 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 14588
2021-05-14 10:46:39,597 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:14582
2021-05-14 10:46:39,597 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:14583
2021-05-14 10:46:39,597 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:46:39,694 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:39,746 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:39,750 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:39,751 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14584 (custom)
2021-05-14 10:46:39,753 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:39,753 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14584 (custom)
2021-05-14 10:46:39,753 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14584 (custom)
2021-05-14 10:46:39,754 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:46:39,755 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:39,756 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:39,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:39,978 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:39,980 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:39,980 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:39,990 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha] (custom)
2021-05-14 10:46:39,995 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: addNew group-04363213CD71:[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|priority:0] returns group-04363213CD71:java.util.concurrent.CompletableFuture@9afbf46[Not completed]
2021-05-14 10:46:40,004 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: new RaftServerImpl for group-04363213CD71:[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|priority:0] with SCMStateMachine:uninitialized
2021-05-14 10:46:40,006 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:46:40,006 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:46:40,006 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:40,007 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:40,007 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:40,007 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:40,007 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:40,012 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: ConfigurationManager, init=-1: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:40,012 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha] (custom)
2021-05-14 10:46:40,018 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:40,020 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71 does not exist. Creating ...
2021-05-14 10:46:40,024 [pool-1-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:40,034 [pool-1-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71 has been successfully formatted.
2021-05-14 10:46:40,037 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:46:40,039 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:40,050 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:40,050 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:40,057 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-05-14 10:46:40,058 [pool-1-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:40,059 [pool-1-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:40,061 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:40,067 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:40,068 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:40,073 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71
2021-05-14 10:46:40,073 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:40,073 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:40,074 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:40,075 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:46:40,075 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:40,076 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:40,076 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:40,077 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:40,082 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:40,083 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:40,089 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:40,089 [pool-1-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:40,093 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:40,093 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:46:40,094 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:40,094 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:46:40,096 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:46:40,096 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:40,112 [pool-1-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:40,112 [pool-1-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:40,115 [pool-1-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:40,115 [pool-1-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:40,121 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: start as a follower, conf=-1: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|priority:0], old=null
2021-05-14 10:46:40,122 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:46:40,123 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState
2021-05-14 10:46:40,156 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:40,157 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:40,158 [Time-limited test] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:40,159 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start RPC server
2021-05-14 10:46:40,194 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: GrpcService started, listening on 14584
2021-05-14 10:46:40,198 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4b65394a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-d1adca7a-4d03-424d-9cfd-1396c845c5d2: Started
2021-05-14 10:46:45,243 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5120549378ns, electionTimeout:5112ms
2021-05-14 10:46:45,244 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState
2021-05-14 10:46:45,244 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:46:45,246 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:46:45,246 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1
2021-05-14 10:46:45,251 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|priority:0], old=null
2021-05-14 10:46:45,251 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:46:45,252 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1
2021-05-14 10:46:45,252 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:46:45,252 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: change Leader from null to d1adca7a-4d03-424d-9cfd-1396c845c5d2 at term 1 for becomeLeader, leader elected after 5216ms
2021-05-14 10:46:45,257 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:46:45,260 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:45,263 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:45,265 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:46:45,266 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:45,271 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:46:45,271 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:46:45,272 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:46:45,277 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl
2021-05-14 10:46:45,295 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:46:45,328 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:45,386 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0
2021-05-14 10:46:46,200 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: close
2021-05-14 10:46:46,201 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: shutdown
2021-05-14 10:46:46,202 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:46,202 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl
2021-05-14 10:46:46,207 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-PendingRequests: sendNotLeaderResponses
2021-05-14 10:46:46,208 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,209 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,210 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:46:46,210 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:46:46,210 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:46:46,213 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,213 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(405)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: closes. applyIndex: 0
2021-05-14 10:46:46,214 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:46:46,215 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker close()
2021-05-14 10:46:46,215 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,215 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,215 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,216 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown server with port 14584 now
2021-05-14 10:46:46,225 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown server with port 14584 successfully
2021-05-14 10:46:46,225 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4b65394a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-d1adca7a-4d03-424d-9cfd-1396c845c5d2: Stopped
2021-05-14 10:46:46,228 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:scmInit(962)) - SCM initialization succeeded. Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm; cid=e6b6e712-d708-4355-a3e3-04363213cd71; layoutVersion=0; scmId=d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:46,235 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:46,235 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:14584 and Ratis port: 14584
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 127.0.0.1:14585
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 127.0.0.1:14586
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 127.0.0.1:14587
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 14584
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 14588
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:14582
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:14583
2021-05-14 10:46:46,236 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:46:46,254 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:46,621 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:46,728 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:46,874 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:46:46,875 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:46:46,915 [Time-limited test] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:46,918 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:46,919 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:46,919 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:46,919 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14584 (custom)
2021-05-14 10:46:46,919 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:46,919 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14584 (custom)
2021-05-14 10:46:46,919 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14584 (custom)
2021-05-14 10:46:46,920 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:46:46,920 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:46,920 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:46,920 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:46,921 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:46,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:46,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:46,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha] (custom)
2021-05-14 10:46:46,922 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: found a subdirectory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71
2021-05-14 10:46:46,923 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: addNew group-04363213CD71:[] returns group-04363213CD71:java.util.concurrent.CompletableFuture@7fb535ab[Not completed]
2021-05-14 10:46:46,924 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: new RaftServerImpl for group-04363213CD71:[] with SCMStateMachine:uninitialized
2021-05-14 10:46:46,924 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:46:46,924 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:46:46,924 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:46,924 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:46,924 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:46,925 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:46,925 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:46,925 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:46,925 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha] (custom)
2021-05-14 10:46:46,925 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:46,926 [pool-16-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:46,927 [pool-16-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(108)) - Read RaftStorageMetadata{term=1, votedFor=d1adca7a-4d03-424d-9cfd-1396c845c5d2} from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/raft-meta
2021-05-14 10:46:46,934 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:46,934 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:46:46,934 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:46,934 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,935 [pool-16-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:46,935 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:46,936 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:46,942 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:46,942 [pool-16-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0
2021-05-14 10:46:46,942 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-05-14 10:46:46,943 [pool-16-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:46,946 [pool-16-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,947 [pool-16-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:46,947 [pool-16-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:46,947 [pool-16-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:46,948 [Time-limited test] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:46:46,949 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:46,950 [Time-limited test] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:46:46,973 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:46:46,976 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:46:46,979 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:46:46,980 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:46:47,019 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:46:47,077 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:46:47,089 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:46:47,125 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:46:47,135 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:46:47,135 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:46:47,170 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:46:47,184 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:46:47,206 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:46:47,209 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:46:47,282 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:46:47,287 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:46:47,290 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:46:47,639 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:47,656 [Socket Reader #1 for port 14585] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14585
2021-05-14 10:46:47,696 [Listener at 0.0.0.0/14585] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:47,696 [Socket Reader #1 for port 14586] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14586
2021-05-14 10:46:47,715 [Listener at 0.0.0.0/14586] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:47,718 [Socket Reader #1 for port 14587] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14587
2021-05-14 10:46:47,723 [Listener at 0.0.0.0/14587] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:46:47,724 [Listener at 0.0.0.0/14587] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:46:47,724 [Listener at 0.0.0.0/14587] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:46:47,728 [Listener at 0.0.0.0/14587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:14587
2021-05-14 10:46:47,729 [Listener at 0.0.0.0/14587] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:14584
2021-05-14 10:46:47,729 [Listener at 0.0.0.0/14587] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: start as a follower, conf=0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:47,729 [Listener at 0.0.0.0/14587] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-05-14 10:46:47,729 [Listener at 0.0.0.0/14587] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState
2021-05-14 10:46:47,734 [Listener at 0.0.0.0/14587] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:47,734 [Listener at 0.0.0.0/14587] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:47,734 [Listener at 0.0.0.0/14587] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:47,735 [Listener at 0.0.0.0/14587] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start RPC server
2021-05-14 10:46:47,736 [Listener at 0.0.0.0/14587] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: GrpcService started, listening on 14584
2021-05-14 10:46:47,738 [Listener at 0.0.0.0/14587] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(120)) -  scm role is FOLLOWER peers [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:47,738 [Listener at 0.0.0.0/14587] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 14588
2021-05-14 10:46:47,746 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4b43533f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-d1adca7a-4d03-424d-9cfd-1396c845c5d2: Started
2021-05-14 10:46:47,796 [Listener at 0.0.0.0/14587] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-05-14 10:46:47,814 [Listener at 0.0.0.0/14587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-14 10:46:47,814 [Listener at 0.0.0.0/14587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-05-14 10:46:48,043 [Listener at 0.0.0.0/14587] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:14587
2021-05-14 10:46:48,046 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:48,051 [IPC Server listener on 14587] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14587: starting
2021-05-14 10:46:48,070 [Listener at 0.0.0.0/14587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:14586
2021-05-14 10:46:48,071 [Listener at 0.0.0.0/14587] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:14586
2021-05-14 10:46:48,071 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:48,076 [IPC Server listener on 14586] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14586: starting
2021-05-14 10:46:48,096 [Listener at 0.0.0.0/14587] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:14585
2021-05-14 10:46:48,097 [Listener at 0.0.0.0/14587] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:14585
2021-05-14 10:46:48,098 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:48,098 [IPC Server listener on 14585] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14585: starting
2021-05-14 10:46:48,163 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4134a0e3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:48,181 [Listener at 0.0.0.0/14587] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:14582
2021-05-14 10:46:48,182 [Listener at 0.0.0.0/14587] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:48,208 [Listener at 0.0.0.0/14587] INFO  util.log (Log.java:initialized(169)) - Logging initialized @9875ms to org.eclipse.jetty.util.log.Slf4jLog
2021-05-14 10:46:48,317 [Listener at 0.0.0.0/14587] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:48,322 [Listener at 0.0.0.0/14587] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:48,327 [Listener at 0.0.0.0/14587] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:48,331 [Listener at 0.0.0.0/14587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:46:48,331 [Listener at 0.0.0.0/14587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:48,331 [Listener at 0.0.0.0/14587] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:48,369 [Listener at 0.0.0.0/14587] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 14582
2021-05-14 10:46:48,371 [Listener at 0.0.0.0/14587] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:48,402 [Listener at 0.0.0.0/14587] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:48,403 [Listener at 0.0.0.0/14587] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:48,404 [Listener at 0.0.0.0/14587] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:46:48,415 [Listener at 0.0.0.0/14587] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@36ada79e{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:48,416 [Listener at 0.0.0.0/14587] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@513f7ecf{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:46:48,455 [Listener at 0.0.0.0/14587] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@382cc1f9{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:46:48,465 [Listener at 0.0.0.0/14587] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5761d2b5{HTTP/1.1, (http/1.1)}{0.0.0.0:14582}
2021-05-14 10:46:48,465 [Listener at 0.0.0.0/14587] INFO  server.Server (Server.java:doStart(415)) - Started @10133ms
2021-05-14 10:46:48,467 [Listener at 0.0.0.0/14587] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-14 10:46:48,467 [Listener at 0.0.0.0/14587] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-14 10:46:48,473 [Listener at 0.0.0.0/14587] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:14582
2021-05-14 10:46:48,473 [Listener at 0.0.0.0/14587] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@7eaab445
2021-05-14 10:46:48,501 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:48,501 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:48,502 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:14594 and Ratis port: 14594
2021-05-14 10:46:48,502 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 127.0.0.1:14595
2021-05-14 10:46:48,502 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 127.0.0.1:14596
2021-05-14 10:46:48,502 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 127.0.0.1:14597
2021-05-14 10:46:48,503 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 14594
2021-05-14 10:46:48,503 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 14598
2021-05-14 10:46:48,503 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:14592
2021-05-14 10:46:48,503 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:14593
2021-05-14 10:46:48,503 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:46:48,503 [Listener at 0.0.0.0/14587] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:48,512 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:48,512 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:48,513 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:48,513 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:48,513 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:48,515 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:48,515 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:48,515 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:48,515 [Listener at 0.0.0.0/14587] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:48,718 [IPC Server handler 0 on default port 14586] INFO  ipc.Server (Server.java:logException(3018)) - IPC Server handler 0 on default port 14586, call Call#0 Retry#0 org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocol.send from 127.0.0.1:37658
org.apache.hadoop.hdds.ratis.ServerNotLeaderException: Server:d1adca7a-4d03-424d-9cfd-1396c845c5d2 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.hdds.ratis.ServerNotLeaderException.convertToNotLeaderException(ServerNotLeaderException.java:109)
	at org.apache.hadoop.hdds.scm.ha.RatisUtil.checkRatisException(RatisUtil.java:191)
	at org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocolServerSideTranslatorPB.send(ScmBlockLocationProtocolServerSideTranslatorPB.java:108)
	at org.apache.hadoop.hdds.protocol.proto.ScmBlockLocationProtocolProtos$ScmBlockLocationProtocolService$2.callBlockingMethod(ScmBlockLocationProtocolProtos.java:13874)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
2021-05-14 10:46:50,732 [Listener at 0.0.0.0/14587] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:14596 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy37.send over nodeId=scmNode-2,nodeAddress=/127.0.0.1:14596 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
2021-05-14 10:46:52,734 [Listener at 0.0.0.0/14587] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:14606 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy37.send over nodeId=scmNode-3,nodeAddress=/127.0.0.1:14606 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-05-14 10:46:52,749 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5019292054ns, electionTimeout:5013ms
2021-05-14 10:46:52,749 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState
2021-05-14 10:46:52,749 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:46:52,750 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:46:52,750 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2
2021-05-14 10:46:52,753 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2 ELECTION round 0: submit vote requests at term 2 for 0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:52,753 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2 ELECTION round 0: result PASSED (term=2)
2021-05-14 10:46:52,753 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2
2021-05-14 10:46:52,753 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-05-14 10:46:52,754 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(250)) - current SCM becomes leader of term 2.
2021-05-14 10:46:52,754 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  ha.SCMContext (SCMContext.java:updateLeaderAndTerm(88)) - update <isLeader,term> from <false,0> to <true,2>
2021-05-14 10:46:52,754 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(261)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-05-14 10:46:52,757 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: change Leader from null to d1adca7a-4d03-424d-9cfd-1396c845c5d2 at term 2 for becomeLeader, leader elected after 5819ms
2021-05-14 10:46:52,757 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:46:52,757 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:52,757 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:52,757 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:46:52,757 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:52,758 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:46:52,758 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:46:52,758 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:46:52,758 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: start d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl
2021-05-14 10:46:52,758 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:46:52,761 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_0-0
2021-05-14 10:46:52,764 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-1/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_1
2021-05-14 10:46:52,770 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 1: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:54,782 [Listener at 0.0.0.0/14587] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(906)) - SCM BootStrap  is successful for ClusterID e6b6e712-d708-4355-a3e3-04363213cd71, SCMID 908196e8-f253-4a97-92c9-a002cf81f5ec
2021-05-14 10:46:54,783 [Listener at 0.0.0.0/14587] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(908)) - Primary SCM Node ID d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:54,783 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:54,783 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:54,783 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:14594 and Ratis port: 14594
2021-05-14 10:46:54,783 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 127.0.0.1:14595
2021-05-14 10:46:54,784 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 127.0.0.1:14596
2021-05-14 10:46:54,784 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 127.0.0.1:14597
2021-05-14 10:46:54,784 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 14594
2021-05-14 10:46:54,784 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 14598
2021-05-14 10:46:54,784 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:14592
2021-05-14 10:46:54,786 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:14593
2021-05-14 10:46:54,786 [Listener at 0.0.0.0/14587] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:46:54,787 [Listener at 0.0.0.0/14587] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:54,790 [Listener at 0.0.0.0/14587] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:54,790 [Listener at 0.0.0.0/14587] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:54,867 [Listener at 0.0.0.0/14587] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:46:54,867 [Listener at 0.0.0.0/14587] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:46:54,869 [Listener at 0.0.0.0/14587] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:908196e8-f253-4a97-92c9-a002cf81f5ec
2021-05-14 10:46:54,870 [Listener at 0.0.0.0/14587] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:54,870 [Listener at 0.0.0.0/14587] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14594 (custom)
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14594 (custom)
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14594 (custom)
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:46:54,871 [Listener at 0.0.0.0/14587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:54,872 [Listener at 0.0.0.0/14587] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:54,872 [Listener at 0.0.0.0/14587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:54,873 [Listener at 0.0.0.0/14587] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:54,873 [Listener at 0.0.0.0/14587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:54,873 [Listener at 0.0.0.0/14587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:54,873 [Listener at 0.0.0.0/14587] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha] (custom)
2021-05-14 10:46:54,874 [Listener at 0.0.0.0/14587] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: addNew group-04363213CD71:[] returns group-04363213CD71:java.util.concurrent.CompletableFuture@2811c7e2[Not completed]
2021-05-14 10:46:54,875 [pool-37-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: new RaftServerImpl for group-04363213CD71:[] with SCMStateMachine:uninitialized
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:54,876 [pool-37-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:54,877 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha] (custom)
2021-05-14 10:46:54,879 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:54,879 [pool-37-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71 does not exist. Creating ...
2021-05-14 10:46:54,885 [pool-37-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:54,887 [pool-37-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71 has been successfully formatted.
2021-05-14 10:46:54,887 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:46:54,887 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:54,887 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:54,887 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:54,887 [pool-37-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:46:54,887 [pool-37-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:54,888 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:54,889 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:54,889 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:54,889 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:54,889 [pool-37-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:54,889 [pool-37-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:54,897 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:54,897 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:46:54,897 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:54,898 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:46:54,898 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:46:54,898 [pool-37-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:54,898 [pool-37-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:46:54,898 [pool-37-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:54,898 [pool-37-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:46:54,898 [pool-37-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:54,898 [Listener at 0.0.0.0/14587] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:46:54,899 [Listener at 0.0.0.0/14587] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:54,899 [Listener at 0.0.0.0/14587] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:46:54,900 [Listener at 0.0.0.0/14587] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:46:54,901 [Listener at 0.0.0.0/14587] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:46:54,901 [Listener at 0.0.0.0/14587] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:46:54,901 [Listener at 0.0.0.0/14587] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:46:54,901 [Listener at 0.0.0.0/14587] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:46:54,901 [Listener at 0.0.0.0/14587] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:46:54,902 [Listener at 0.0.0.0/14587] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:46:54,903 [Listener at 0.0.0.0/14587] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:46:54,903 [Listener at 0.0.0.0/14587] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:46:54,903 [Listener at 0.0.0.0/14587] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:46:54,903 [Listener at 0.0.0.0/14587] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:46:54,903 [Listener at 0.0.0.0/14587] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:46:54,904 [Listener at 0.0.0.0/14587] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:46:54,905 [Listener at 0.0.0.0/14587] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:46:54,906 [Listener at 0.0.0.0/14587] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:46:54,906 [Listener at 0.0.0.0/14587] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:46:54,907 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:46:54,908 [Listener at 0.0.0.0/14587] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:46:54,909 [Listener at 0.0.0.0/14587] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:46:54,910 [Listener at 0.0.0.0/14587] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:54,911 [Socket Reader #1 for port 14595] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14595
2021-05-14 10:46:54,913 [Listener at 0.0.0.0/14595] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:54,913 [Socket Reader #1 for port 14596] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14596
2021-05-14 10:46:54,915 [Listener at 0.0.0.0/14596] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:54,915 [Socket Reader #1 for port 14597] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14597
2021-05-14 10:46:54,920 [Listener at 0.0.0.0/14597] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:46:54,927 [Listener at 0.0.0.0/14597] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:46:54,927 [Listener at 0.0.0.0/14597] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:46:54,931 [Listener at 0.0.0.0/14597] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:14597
2021-05-14 10:46:54,932 [Listener at 0.0.0.0/14597] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:14594
2021-05-14 10:46:54,932 [Listener at 0.0.0.0/14597] INFO  server.RaftServer$Division (RaftServerImpl.java:start(298)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: start with initializing state, conf=-1: [], old=null
2021-05-14 10:46:54,932 [Listener at 0.0.0.0/14597] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: changes role from      null to FOLLOWER at term 0 for startInitializing
2021-05-14 10:46:54,932 [Listener at 0.0.0.0/14597] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=908196e8-f253-4a97-92c9-a002cf81f5ec
2021-05-14 10:46:54,932 [Listener at 0.0.0.0/14597] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:46:54,932 [Listener at 0.0.0.0/14597] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:54,933 [Listener at 0.0.0.0/14597] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: start RPC server
2021-05-14 10:46:54,934 [Listener at 0.0.0.0/14597] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: GrpcService started, listening on 14594
2021-05-14 10:46:54,935 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@7d468eae] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-908196e8-f253-4a97-92c9-a002cf81f5ec: Started
2021-05-14 10:46:54,936 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:54,936 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:54,937 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:54,943 [IPC Server handler 2 on default port 14586] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(278)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: Submitting SetConfiguration request to Ratis server with new SCM peers list: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, 908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0]
2021-05-14 10:46:54,954 [IPC Server handler 2 on default port 14586] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(970)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: receive setConfiguration SetConfigurationRequest:client-1BD9D1BA521A->d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71, cid=0, seq=0, RW, null, peers:[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, 908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0]
2021-05-14 10:46:54,955 [IPC Server handler 2 on default port 14586] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(345)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-1BD9D1BA521A->d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71, cid=0, seq=0, RW, null, peers:[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, 908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0]
2021-05-14 10:46:54,960 [IPC Server handler 2 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:46:54,960 [IPC Server handler 2 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:54,961 [IPC Server handler 2 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 33554432 (custom)
2021-05-14 10:46:55,044 [IPC Server handler 2 on default port 14586] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:46:55,045 [IPC Server handler 2 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:55,045 [IPC Server handler 2 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:55,046 [IPC Server handler 2 on default port 14586] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:46:55,046 [IPC Server handler 2 on default port 14586] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,333 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.908196e8-f253-4a97-92c9-a002cf81f5ec
2021-05-14 10:46:55,338 [grpc-default-executor-0] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,349 [grpc-default-executor-0] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(240)) - leader changed, yet current SCM is still follower.
2021-05-14 10:46:55,349 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: change Leader from null to d1adca7a-4d03-424d-9cfd-1396c845c5d2 at term 2 for appendEntries, leader elected after 461ms
2021-05-14 10:46:55,349 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: start 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-FollowerState
2021-05-14 10:46:55,370 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: set configuration 0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,370 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: set configuration 1: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,370 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:46:55,371 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:46:55,372 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0
2021-05-14 10:46:55,373 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_0-0
2021-05-14 10:46:55,374 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_1
2021-05-14 10:46:55,381 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 3: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,386 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: set configuration 3: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,389 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 5: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,392 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: set configuration 5: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,409 [IPC Server handler 2 on default port 14586] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(289)) - Successfully added new SCM: 908196e8-f253-4a97-92c9-a002cf81f5ec.
2021-05-14 10:46:55,411 [Listener at 0.0.0.0/14597] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(116)) - Successfully added SCM scmNode-2 to group group-04363213CD71:[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,411 [Listener at 0.0.0.0/14597] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 14598
2021-05-14 10:46:55,414 [Listener at 0.0.0.0/14597] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-14 10:46:55,419 [Listener at 0.0.0.0/14597] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:14597
2021-05-14 10:46:55,422 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:55,426 [IPC Server listener on 14597] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14597: starting
2021-05-14 10:46:55,437 [Listener at 0.0.0.0/14597] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:14596
2021-05-14 10:46:55,437 [Listener at 0.0.0.0/14597] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:14596
2021-05-14 10:46:55,438 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:55,438 [IPC Server listener on 14596] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14596: starting
2021-05-14 10:46:55,444 [Listener at 0.0.0.0/14597] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:14595
2021-05-14 10:46:55,444 [Listener at 0.0.0.0/14597] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:14595
2021-05-14 10:46:55,445 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:55,445 [IPC Server listener on 14595] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14595: starting
2021-05-14 10:46:55,460 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4d43aa9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:55,463 [Listener at 0.0.0.0/14597] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:14592
2021-05-14 10:46:55,463 [Listener at 0.0.0.0/14597] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:55,465 [Listener at 0.0.0.0/14597] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:55,465 [Listener at 0.0.0.0/14597] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:55,466 [Listener at 0.0.0.0/14597] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:55,467 [Listener at 0.0.0.0/14597] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:46:55,467 [Listener at 0.0.0.0/14597] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:55,467 [Listener at 0.0.0.0/14597] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:55,468 [Listener at 0.0.0.0/14597] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 14592
2021-05-14 10:46:55,468 [Listener at 0.0.0.0/14597] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:55,475 [Listener at 0.0.0.0/14597] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:55,475 [Listener at 0.0.0.0/14597] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:55,476 [Listener at 0.0.0.0/14597] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:46:55,476 [Listener at 0.0.0.0/14597] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@57a66306{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:55,477 [Listener at 0.0.0.0/14597] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@4607ad4c{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:46:55,480 [Listener at 0.0.0.0/14597] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@12b2f8df{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:46:55,481 [Listener at 0.0.0.0/14597] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@232a6455{HTTP/1.1, (http/1.1)}{0.0.0.0:14592}
2021-05-14 10:46:55,481 [Listener at 0.0.0.0/14597] INFO  server.Server (Server.java:doStart(415)) - Started @17148ms
2021-05-14 10:46:55,481 [Listener at 0.0.0.0/14597] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:55,483 [Listener at 0.0.0.0/14597] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:14592
2021-05-14 10:46:55,483 [Listener at 0.0.0.0/14597] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@6dc704dd
2021-05-14 10:46:55,484 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:55,484 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:55,484 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:14604 and Ratis port: 14604
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 127.0.0.1:14605
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 127.0.0.1:14606
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 127.0.0.1:14607
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 14604
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 14608
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:14602
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:14603
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:46:55,485 [Listener at 0.0.0.0/14597] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,487 [Listener at 0.0.0.0/14597] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,493 [Listener at 0.0.0.0/14597] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(906)) - SCM BootStrap  is successful for ClusterID e6b6e712-d708-4355-a3e3-04363213cd71, SCMID c990f7d5-739c-4123-b307-fc4a5a88a567
2021-05-14 10:46:55,493 [Listener at 0.0.0.0/14597] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(908)) - Primary SCM Node ID d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:46:55,493 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:55,493 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:46:55,496 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:14604 and Ratis port: 14604
2021-05-14 10:46:55,496 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 127.0.0.1:14605
2021-05-14 10:46:55,496 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 127.0.0.1:14606
2021-05-14 10:46:55,496 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 127.0.0.1:14607
2021-05-14 10:46:55,497 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 14604
2021-05-14 10:46:55,497 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 14608
2021-05-14 10:46:55,497 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:14602
2021-05-14 10:46:55,497 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:14603
2021-05-14 10:46:55,497 [Listener at 0.0.0.0/14597] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:46:55,501 [Listener at 0.0.0.0/14597] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,506 [Listener at 0.0.0.0/14597] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,507 [Listener at 0.0.0.0/14597] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,578 [Listener at 0.0.0.0/14597] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:46:55,578 [Listener at 0.0.0.0/14597] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:46:55,581 [Listener at 0.0.0.0/14597] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:c990f7d5-739c-4123-b307-fc4a5a88a567
2021-05-14 10:46:55,582 [Listener at 0.0.0.0/14597] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:55,582 [Listener at 0.0.0.0/14597] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:55,582 [Listener at 0.0.0.0/14597] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:55,582 [Listener at 0.0.0.0/14597] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14604 (custom)
2021-05-14 10:46:55,582 [Listener at 0.0.0.0/14597] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:55,582 [Listener at 0.0.0.0/14597] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14604 (custom)
2021-05-14 10:46:55,583 [Listener at 0.0.0.0/14597] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 14604 (custom)
2021-05-14 10:46:55,583 [Listener at 0.0.0.0/14597] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:46:55,583 [Listener at 0.0.0.0/14597] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:55,583 [Listener at 0.0.0.0/14597] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:55,583 [Listener at 0.0.0.0/14597] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:55,584 [Listener at 0.0.0.0/14597] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:55,584 [Listener at 0.0.0.0/14597] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:55,584 [Listener at 0.0.0.0/14597] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:55,584 [Listener at 0.0.0.0/14597] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha] (custom)
2021-05-14 10:46:55,587 [Listener at 0.0.0.0/14597] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - c990f7d5-739c-4123-b307-fc4a5a88a567: addNew group-04363213CD71:[] returns group-04363213CD71:java.util.concurrent.CompletableFuture@68022c1a[Not completed]
2021-05-14 10:46:55,587 [pool-55-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - c990f7d5-739c-4123-b307-fc4a5a88a567: new RaftServerImpl for group-04363213CD71:[] with SCMStateMachine:uninitialized
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:55,589 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha] (custom)
2021-05-14 10:46:55,590 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:55,590 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71 does not exist. Creating ...
2021-05-14 10:46:55,591 [pool-55-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:55,592 [pool-55-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71 has been successfully formatted.
2021-05-14 10:46:55,592 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:46:55,592 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:46:55,593 [pool-55-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:55,593 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:46:55,594 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:55,595 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:46:55,595 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:46:55,595 [pool-55-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:55,595 [pool-55-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:46:55,595 [pool-55-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,595 [pool-55-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:46:55,595 [pool-55-thread-1] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,595 [Listener at 0.0.0.0/14597] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:46:55,596 [Listener at 0.0.0.0/14597] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:55,597 [Listener at 0.0.0.0/14597] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:46:55,599 [Listener at 0.0.0.0/14597] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:46:55,599 [Listener at 0.0.0.0/14597] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:46:55,599 [Listener at 0.0.0.0/14597] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:46:55,599 [Listener at 0.0.0.0/14597] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:46:55,599 [Listener at 0.0.0.0/14597] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:46:55,599 [Listener at 0.0.0.0/14597] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:46:55,603 [Listener at 0.0.0.0/14597] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:46:55,606 [Listener at 0.0.0.0/14597] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:46:55,606 [Listener at 0.0.0.0/14597] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:46:55,606 [Listener at 0.0.0.0/14597] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:46:55,607 [Listener at 0.0.0.0/14597] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:46:55,607 [Listener at 0.0.0.0/14597] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:46:55,610 [Listener at 0.0.0.0/14597] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:46:55,611 [Listener at 0.0.0.0/14597] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:46:55,611 [Listener at 0.0.0.0/14597] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:46:55,612 [Listener at 0.0.0.0/14597] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:46:55,613 [Listener at 0.0.0.0/14597] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:46:55,613 [Listener at 0.0.0.0/14597] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:46:55,614 [Listener at 0.0.0.0/14597] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:55,618 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:46:55,618 [Socket Reader #1 for port 14605] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14605
2021-05-14 10:46:55,620 [Listener at 0.0.0.0/14605] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:55,620 [Socket Reader #1 for port 14606] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14606
2021-05-14 10:46:55,622 [Listener at 0.0.0.0/14606] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:55,623 [Socket Reader #1 for port 14607] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 14607
2021-05-14 10:46:55,634 [Listener at 0.0.0.0/14607] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:46:55,634 [Listener at 0.0.0.0/14607] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:46:55,634 [Listener at 0.0.0.0/14607] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:46:55,635 [Listener at 0.0.0.0/14607] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:14607
2021-05-14 10:46:55,635 [Listener at 0.0.0.0/14607] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:14604
2021-05-14 10:46:55,635 [Listener at 0.0.0.0/14607] INFO  server.RaftServer$Division (RaftServerImpl.java:start(298)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: start with initializing state, conf=-1: [], old=null
2021-05-14 10:46:55,636 [Listener at 0.0.0.0/14607] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: changes role from      null to FOLLOWER at term 0 for startInitializing
2021-05-14 10:46:55,636 [Listener at 0.0.0.0/14607] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=c990f7d5-739c-4123-b307-fc4a5a88a567
2021-05-14 10:46:55,636 [Listener at 0.0.0.0/14607] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:46:55,636 [Listener at 0.0.0.0/14607] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,637 [Listener at 0.0.0.0/14607] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - c990f7d5-739c-4123-b307-fc4a5a88a567: start RPC server
2021-05-14 10:46:55,638 [Listener at 0.0.0.0/14607] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - c990f7d5-739c-4123-b307-fc4a5a88a567: GrpcService started, listening on 14604
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,639 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,640 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,640 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,641 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@b0a9d67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-c990f7d5-739c-4123-b307-fc4a5a88a567: Started
2021-05-14 10:46:55,647 [IPC Server handler 1 on default port 14586] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(278)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: Submitting SetConfiguration request to Ratis server with new SCM peers list: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|priority:0]
2021-05-14 10:46:55,647 [IPC Server handler 1 on default port 14586] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(970)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: receive setConfiguration SetConfigurationRequest:client-1BD9D1BA521A->d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71, cid=1, seq=0, RW, null, peers:[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|priority:0]
2021-05-14 10:46:55,647 [IPC Server handler 1 on default port 14586] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(345)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-1BD9D1BA521A->d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71, cid=1, seq=0, RW, null, peers:[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|priority:0]
2021-05-14 10:46:55,647 [IPC Server handler 1 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:46:55,648 [IPC Server handler 1 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:55,648 [IPC Server handler 1 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 33554432 (custom)
2021-05-14 10:46:55,747 [IPC Server handler 1 on default port 14586] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:46:55,747 [IPC Server handler 1 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:55,747 [IPC Server handler 1 on default port 14586] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:55,763 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.c990f7d5-739c-4123-b307-fc4a5a88a567
2021-05-14 10:46:55,765 [grpc-default-executor-0] WARN  impl.MetricRegistriesImpl (MetricRegistriesImpl.java:lambda$create$1(65)) - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-05-14 10:46:55,770 [grpc-default-executor-0] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(240)) - leader changed, yet current SCM is still follower.
2021-05-14 10:46:55,770 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: change Leader from null to d1adca7a-4d03-424d-9cfd-1396c845c5d2 at term 2 for appendEntries, leader elected after 177ms
2021-05-14 10:46:55,770 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - c990f7d5-739c-4123-b307-fc4a5a88a567: start c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-FollowerState
2021-05-14 10:46:55,776 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: set configuration 0: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,776 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: set configuration 1: [d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,776 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: set configuration 3: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=[d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,776 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: set configuration 5: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,776 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:46:55,777 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:46:55,778 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0
2021-05-14 10:46:55,778 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_0-0
2021-05-14 10:46:55,779 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-3/scm-ha/e6b6e712-d708-4355-a3e3-04363213cd71/current/log_inprogress_1
2021-05-14 10:46:55,790 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 7: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|priority:0], old=[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,793 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: set configuration 7: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|admin:|client:|dataStream:|priority:0], old=[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,795 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: set configuration 7: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|admin:|client:|dataStream:|priority:0], old=[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,798 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: set configuration 9: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|priority:0], old=null
2021-05-14 10:46:55,809 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: set configuration 9: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,810 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: set configuration 9: [908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:55,813 [IPC Server handler 1 on default port 14586] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(289)) - Successfully added new SCM: c990f7d5-739c-4123-b307-fc4a5a88a567.
2021-05-14 10:46:55,814 [Listener at 0.0.0.0/14607] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(116)) - Successfully added SCM scmNode-3 to group group-04363213CD71:[908196e8-f253-4a97-92c9-a002cf81f5ec|rpc:localhost:14594|admin:|client:|dataStream:|priority:0, d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0, c990f7d5-739c-4123-b307-fc4a5a88a567|rpc:localhost:14604|admin:|client:|dataStream:|priority:0]
2021-05-14 10:46:55,814 [Listener at 0.0.0.0/14607] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 14608
2021-05-14 10:46:55,819 [Listener at 0.0.0.0/14607] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-14 10:46:55,826 [Listener at 0.0.0.0/14607] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:14607
2021-05-14 10:46:55,827 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:55,827 [IPC Server listener on 14607] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14607: starting
2021-05-14 10:46:55,829 [Listener at 0.0.0.0/14607] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:14606
2021-05-14 10:46:55,830 [Listener at 0.0.0.0/14607] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:14606
2021-05-14 10:46:55,838 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:55,838 [IPC Server listener on 14606] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14606: starting
2021-05-14 10:46:55,854 [Listener at 0.0.0.0/14607] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:14605
2021-05-14 10:46:55,854 [Listener at 0.0.0.0/14607] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:14605
2021-05-14 10:46:55,855 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:55,855 [IPC Server listener on 14605] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 14605: starting
2021-05-14 10:46:55,861 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@26963c4e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:55,863 [Listener at 0.0.0.0/14607] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:14602
2021-05-14 10:46:55,863 [Listener at 0.0.0.0/14607] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:55,865 [Listener at 0.0.0.0/14607] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:55,865 [Listener at 0.0.0.0/14607] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:55,866 [Listener at 0.0.0.0/14607] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:55,867 [Listener at 0.0.0.0/14607] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:46:55,867 [Listener at 0.0.0.0/14607] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:55,867 [Listener at 0.0.0.0/14607] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:55,868 [Listener at 0.0.0.0/14607] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 14602
2021-05-14 10:46:55,868 [Listener at 0.0.0.0/14607] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:55,869 [Listener at 0.0.0.0/14607] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:55,869 [Listener at 0.0.0.0/14607] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:55,870 [Listener at 0.0.0.0/14607] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:46:55,870 [Listener at 0.0.0.0/14607] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6d47b6a5{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:55,871 [Listener at 0.0.0.0/14607] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@54b6f0cd{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:46:55,874 [Listener at 0.0.0.0/14607] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@3618dd9b{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:46:55,876 [Listener at 0.0.0.0/14607] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2420ac4d{HTTP/1.1, (http/1.1)}{0.0.0.0:14602}
2021-05-14 10:46:55,876 [Listener at 0.0.0.0/14607] INFO  server.Server (Server.java:doStart(415)) - Started @17544ms
2021-05-14 10:46:55,876 [Listener at 0.0.0.0/14607] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:55,879 [Listener at 0.0.0.0/14607] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:14602
2021-05-14 10:46:55,879 [Listener at 0.0.0.0/14607] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@1e9f3784
2021-05-14 10:46:55,966 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:46:55,970 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12972 and Ratis port: 12976
2021-05-14 10:46:55,970 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12974
2021-05-14 10:46:55,971 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12975
2021-05-14 10:46:55,971 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12972
2021-05-14 10:46:55,971 [Listener at 0.0.0.0/14607] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,973 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/om;cid=e6b6e712-d708-4355-a3e3-04363213cd71;layoutVersion=0
2021-05-14 10:46:55,990 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:46:55,991 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12972 and Ratis port: 12976
2021-05-14 10:46:55,991 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12974
2021-05-14 10:46:55,991 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12975
2021-05-14 10:46:55,991 [Listener at 0.0.0.0/14607] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12972
2021-05-14 10:46:55,991 [Listener at 0.0.0.0/14607] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,991 [Listener at 0.0.0.0/14607] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:55,996 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,100 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,101 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:56,103 [Listener at 0.0.0.0/14607] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:56,129 [Listener at 0.0.0.0/14607] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:56,137 [Listener at 0.0.0.0/14607] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:46:56,138 [Listener at 0.0.0.0/14607] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:46:56,356 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4b43533f] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-d1adca7a-4d03-424d-9cfd-1396c845c5d2: Detected pause in JVM or host machine (eg GC): pause of approximately 105647806ns.
GC pool 'PS Scavenge' had collection(s): count=1 time=123ms
2021-05-14 10:46:56,416 [Listener at 0.0.0.0/14607] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:46:56,420 [Listener at 0.0.0.0/14607] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:56,420 [Listener at 0.0.0.0/14607] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:46:56,421 [Listener at 0.0.0.0/14607] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:46:56,961 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4b43533f] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-d1adca7a-4d03-424d-9cfd-1396c845c5d2: Detected pause in JVM or host machine (eg GC): pause of approximately 104393116ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=357ms
GC pool 'PS Scavenge' had collection(s): count=1 time=113ms
2021-05-14 10:46:56,970 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@b0a9d67] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-c990f7d5-739c-4123-b307-fc4a5a88a567: Detected pause in JVM or host machine (eg GC): pause of approximately 321567159ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=357ms
GC pool 'PS Scavenge' had collection(s): count=2 time=236ms
2021-05-14 10:46:56,974 [Listener at 0.0.0.0/14607] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:56,977 [Listener at 0.0.0.0/14607] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:12976, localhost:12982, localhost:12988
2021-05-14 10:46:56,989 [Listener at 0.0.0.0/14607] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:46:57,005 [Listener at 0.0.0.0/14607] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:57,007 [Listener at 0.0.0.0/14607] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:57,007 [Listener at 0.0.0.0/14607] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:57,007 [Listener at 0.0.0.0/14607] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12976 (custom)
2021-05-14 10:46:57,007 [Listener at 0.0.0.0/14607] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:57,008 [Listener at 0.0.0.0/14607] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12976 (custom)
2021-05-14 10:46:57,008 [Listener at 0.0.0.0/14607] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12976 (custom)
2021-05-14 10:46:57,008 [Listener at 0.0.0.0/14607] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:46:57,008 [Listener at 0.0.0.0/14607] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:57,008 [Listener at 0.0.0.0/14607] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:57,008 [Listener at 0.0.0.0/14607] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:57,009 [Listener at 0.0.0.0/14607] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:57,009 [Listener at 0.0.0.0/14607] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:46:57,009 [Listener at 0.0.0.0/14607] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:57,010 [Listener at 0.0.0.0/14607] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis] (custom)
2021-05-14 10:46:57,010 [Listener at 0.0.0.0/14607] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@2b7c3dad[Not completed]
2021-05-14 10:46:57,010 [Listener at 0.0.0.0/14607] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 12976
2021-05-14 10:46:57,014 [pool-74-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:46:57,016 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:46:57,016 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:46:57,016 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:57,016 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis] (custom)
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:57,017 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:46:57,026 [Listener at 0.0.0.0/14607] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:57,027 [Socket Reader #1 for port 12972] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12972
2021-05-14 10:46:57,031 [pool-74-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:57,034 [pool-74-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:46:57,035 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:46:57,035 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:57,035 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:57,035 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:57,035 [pool-74-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-1@group-523986131536
2021-05-14 10:46:57,041 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:46:57,046 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:57,046 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:57,046 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:46:57,046 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:57,047 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:57,049 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:57,049 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:57,049 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:57,049 [pool-74-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-1@group-523986131536
2021-05-14 10:46:57,050 [pool-74-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-1@group-523986131536
2021-05-14 10:46:57,067 [Listener at 127.0.0.1/12972] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-14 10:46:57,073 [Listener at 127.0.0.1/12972] INFO  om.OzoneManager (OzoneManager.java:start(1095)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12972
2021-05-14 10:46:57,073 [Listener at 127.0.0.1/12972] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer omNode-1 at port 12976
2021-05-14 10:46:57,073 [Listener at 127.0.0.1/12972] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null
2021-05-14 10:46:57,073 [Listener at 127.0.0.1/12972] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:46:57,073 [Listener at 127.0.0.1/12972] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-05-14 10:46:57,073 [Listener at 127.0.0.1/12972] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-05-14 10:46:57,074 [Listener at 127.0.0.1/12972] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.omNode-1@group-523986131536
2021-05-14 10:46:57,083 [Listener at 127.0.0.1/12972] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-05-14 10:46:57,086 [Listener at 127.0.0.1/12972] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 12976
2021-05-14 10:46:57,088 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@5f3bf6a7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-05-14 10:46:57,097 [Listener at 127.0.0.1/12972] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12974
2021-05-14 10:46:57,098 [Listener at 127.0.0.1/12972] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:57,099 [Listener at 127.0.0.1/12972] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:57,102 [Listener at 127.0.0.1/12972] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:57,110 [Listener at 127.0.0.1/12972] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:57,111 [Listener at 127.0.0.1/12972] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-14 10:46:57,113 [Listener at 127.0.0.1/12972] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:57,113 [Listener at 127.0.0.1/12972] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:57,114 [Listener at 127.0.0.1/12972] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12974
2021-05-14 10:46:57,115 [Listener at 127.0.0.1/12972] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:57,120 [Listener at 127.0.0.1/12972] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:57,121 [Listener at 127.0.0.1/12972] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:57,121 [Listener at 127.0.0.1/12972] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:46:57,122 [Listener at 127.0.0.1/12972] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6dc52cd8{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:57,122 [Listener at 127.0.0.1/12972] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5844755b{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:46:57,126 [Listener at 127.0.0.1/12972] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@2333cc7e{ozoneManager,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:46:57,127 [Listener at 127.0.0.1/12972] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@6ba5a9a6{HTTP/1.1, (http/1.1)}{0.0.0.0:12974}
2021-05-14 10:46:57,127 [Listener at 127.0.0.1/12972] INFO  server.Server (Server.java:doStart(415)) - Started @18794ms
2021-05-14 10:46:57,127 [Listener at 127.0.0.1/12972] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:57,130 [Listener at 127.0.0.1/12972] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of ozoneManager listening at http://0.0.0.0:12974
2021-05-14 10:46:57,130 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:57,130 [IPC Server listener on 12972] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12972: starting
2021-05-14 10:46:57,132 [Listener at 127.0.0.1/12972] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1225)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-14 10:46:57,133 [Listener at 127.0.0.1/12972] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(461)) - Started OzoneManager RPC server at localhost/127.0.0.1:12972
2021-05-14 10:46:57,139 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:46:57,140 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12978 and Ratis port: 12982
2021-05-14 10:46:57,140 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12980
2021-05-14 10:46:57,140 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12981
2021-05-14 10:46:57,140 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12978
2021-05-14 10:46:57,140 [Listener at 127.0.0.1/12972] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,141 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,143 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@51e2fd9c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/om;cid=e6b6e712-d708-4355-a3e3-04363213cd71;layoutVersion=0
2021-05-14 10:46:57,160 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:46:57,160 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:12978 and Ratis port: 12982
2021-05-14 10:46:57,160 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:12980
2021-05-14 10:46:57,160 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:12981
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:12978
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,161 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,162 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,163 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,163 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,163 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,164 [Listener at 127.0.0.1/12972] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,173 [Listener at 127.0.0.1/12972] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,174 [Listener at 127.0.0.1/12972] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:46:57,174 [Listener at 127.0.0.1/12972] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:46:57,248 [Listener at 127.0.0.1/12972] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:46:57,248 [Listener at 127.0.0.1/12972] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:57,249 [Listener at 127.0.0.1/12972] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:46:57,249 [Listener at 127.0.0.1/12972] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:46:57,250 [Listener at 127.0.0.1/12972] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:57,251 [Listener at 127.0.0.1/12972] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:12982, localhost:12976, localhost:12988
2021-05-14 10:46:57,252 [Listener at 127.0.0.1/12972] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:46:57,256 [Listener at 127.0.0.1/12972] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:57,256 [Listener at 127.0.0.1/12972] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:57,256 [Listener at 127.0.0.1/12972] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:57,257 [Listener at 127.0.0.1/12972] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12982 (custom)
2021-05-14 10:46:57,257 [Listener at 127.0.0.1/12972] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:57,257 [Listener at 127.0.0.1/12972] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12982 (custom)
2021-05-14 10:46:57,257 [Listener at 127.0.0.1/12972] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12982 (custom)
2021-05-14 10:46:57,257 [Listener at 127.0.0.1/12972] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:46:57,258 [Listener at 127.0.0.1/12972] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:57,258 [Listener at 127.0.0.1/12972] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:57,258 [Listener at 127.0.0.1/12972] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:57,259 [Listener at 127.0.0.1/12972] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:57,259 [Listener at 127.0.0.1/12972] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:46:57,259 [Listener at 127.0.0.1/12972] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:57,259 [Listener at 127.0.0.1/12972] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis] (custom)
2021-05-14 10:46:57,260 [Listener at 127.0.0.1/12972] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@612117f0[Not completed]
2021-05-14 10:46:57,260 [pool-90-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:46:57,260 [Listener at 127.0.0.1/12972] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 12982
2021-05-14 10:46:57,261 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:46:57,261 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:46:57,261 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:57,261 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:46:57,261 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:57,262 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:57,262 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:57,262 [Listener at 127.0.0.1/12972] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:57,263 [pool-90-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:57,263 [Socket Reader #1 for port 12978] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12978
2021-05-14 10:46:57,273 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis] (custom)
2021-05-14 10:46:57,274 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:57,274 [pool-90-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:46:57,276 [pool-90-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:57,278 [pool-90-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:46:57,280 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:46:57,280 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:57,280 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:57,280 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:57,281 [pool-90-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-2@group-523986131536
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:46:57,286 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:46:57,287 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:57,287 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:57,287 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:57,287 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:57,287 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:57,287 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:57,288 [pool-90-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:57,288 [pool-90-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:57,288 [Listener at 127.0.0.1/12978] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-2@group-523986131536
2021-05-14 10:46:57,289 [pool-90-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-2@group-523986131536
2021-05-14 10:46:57,293 [Listener at 127.0.0.1/12978] INFO  om.OzoneManager (OzoneManager.java:start(1095)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12978
2021-05-14 10:46:57,293 [Listener at 127.0.0.1/12978] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer omNode-2 at port 12982
2021-05-14 10:46:57,294 [Listener at 127.0.0.1/12978] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null
2021-05-14 10:46:57,294 [Listener at 127.0.0.1/12978] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:46:57,294 [Listener at 127.0.0.1/12978] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-05-14 10:46:57,296 [Listener at 127.0.0.1/12978] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-05-14 10:46:57,296 [Listener at 127.0.0.1/12978] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.omNode-2@group-523986131536
2021-05-14 10:46:57,297 [Listener at 127.0.0.1/12978] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-05-14 10:46:57,299 [Listener at 127.0.0.1/12978] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 12982
2021-05-14 10:46:57,299 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@535adc44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-05-14 10:46:57,370 [Listener at 127.0.0.1/12978] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12980
2021-05-14 10:46:57,370 [Listener at 127.0.0.1/12978] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:57,372 [Listener at 127.0.0.1/12978] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:57,373 [Listener at 127.0.0.1/12978] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:57,374 [Listener at 127.0.0.1/12978] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:57,375 [Listener at 127.0.0.1/12978] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-14 10:46:57,375 [Listener at 127.0.0.1/12978] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:57,375 [Listener at 127.0.0.1/12978] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:57,376 [Listener at 127.0.0.1/12978] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12980
2021-05-14 10:46:57,376 [Listener at 127.0.0.1/12978] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:57,382 [Listener at 127.0.0.1/12978] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:57,382 [Listener at 127.0.0.1/12978] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:57,383 [Listener at 127.0.0.1/12978] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:46:57,384 [Listener at 127.0.0.1/12978] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@2904ecd6{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:57,385 [Listener at 127.0.0.1/12978] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@464ecb37{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:46:57,388 [Listener at 127.0.0.1/12978] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@1a1b5470{ozoneManager,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:46:57,390 [Listener at 127.0.0.1/12978] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@778e3f79{HTTP/1.1, (http/1.1)}{0.0.0.0:12980}
2021-05-14 10:46:57,390 [Listener at 127.0.0.1/12978] INFO  server.Server (Server.java:doStart(415)) - Started @19057ms
2021-05-14 10:46:57,390 [Listener at 127.0.0.1/12978] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:57,393 [Listener at 127.0.0.1/12978] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of ozoneManager listening at http://0.0.0.0:12980
2021-05-14 10:46:57,393 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:57,393 [IPC Server listener on 12978] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12978: starting
2021-05-14 10:46:57,399 [Listener at 127.0.0.1/12978] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1225)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-14 10:46:57,400 [Listener at 127.0.0.1/12978] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(461)) - Started OzoneManager RPC server at localhost/127.0.0.1:12978
2021-05-14 10:46:57,400 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3ac4ebfb] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:57,400 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:46:57,401 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12984 and Ratis port: 12988
2021-05-14 10:46:57,401 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12986
2021-05-14 10:46:57,401 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12987
2021-05-14 10:46:57,401 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12984
2021-05-14 10:46:57,401 [Listener at 127.0.0.1/12978] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,402 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,402 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,402 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,402 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,402 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,403 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,403 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,403 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,403 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/om;cid=e6b6e712-d708-4355-a3e3-04363213cd71;layoutVersion=0
2021-05-14 10:46:57,414 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:46:57,414 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:12984 and Ratis port: 12988
2021-05-14 10:46:57,414 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:12986
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:12987
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:12984
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,415 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,416 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,417 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,417 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,417 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,417 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,417 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,418 [Listener at 127.0.0.1/12978] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,432 [Listener at 127.0.0.1/12978] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:46:57,432 [Listener at 127.0.0.1/12978] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:46:57,432 [Listener at 127.0.0.1/12978] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:46:57,520 [Listener at 127.0.0.1/12978] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:46:57,520 [Listener at 127.0.0.1/12978] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:57,520 [Listener at 127.0.0.1/12978] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:46:57,520 [Listener at 127.0.0.1/12978] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:46:57,521 [Listener at 127.0.0.1/12978] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:46:57,522 [Listener at 127.0.0.1/12978] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:12988, localhost:12976, localhost:12982
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12988 (custom)
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:46:57,523 [Listener at 127.0.0.1/12978] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12988 (custom)
2021-05-14 10:46:57,524 [Listener at 127.0.0.1/12978] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12988 (custom)
2021-05-14 10:46:57,524 [Listener at 127.0.0.1/12978] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:46:57,524 [Listener at 127.0.0.1/12978] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:57,524 [Listener at 127.0.0.1/12978] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:46:57,524 [Listener at 127.0.0.1/12978] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:57,525 [Listener at 127.0.0.1/12978] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:57,525 [Listener at 127.0.0.1/12978] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:46:57,525 [Listener at 127.0.0.1/12978] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:57,526 [Listener at 127.0.0.1/12978] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis] (custom)
2021-05-14 10:46:57,526 [Listener at 127.0.0.1/12978] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@10728561[Not completed]
2021-05-14 10:46:57,526 [Listener at 127.0.0.1/12978] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 12988
2021-05-14 10:46:57,526 [pool-105-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:46:57,530 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:46:57,530 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:46:57,531 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis] (custom)
2021-05-14 10:46:57,532 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:46:57,532 [pool-105-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:46:57,533 [Listener at 127.0.0.1/12978] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:46:57,534 [Socket Reader #1 for port 12984] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12984
2021-05-14 10:46:57,541 [pool-105-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:46:57,552 [pool-105-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:46:57,552 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:46:57,552 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:46:57,552 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-3@group-523986131536
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:57,553 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:46:57,554 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:46:57,554 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:46:57,554 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:46:57,554 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:46:57,554 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:46:57,554 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:46:57,555 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:46:57,555 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:46:57,560 [pool-105-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:57,560 [pool-105-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:46:57,566 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-3@group-523986131536
2021-05-14 10:46:57,567 [pool-105-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-3@group-523986131536
2021-05-14 10:46:57,570 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-14 10:46:57,578 [Listener at 127.0.0.1/12984] INFO  om.OzoneManager (OzoneManager.java:start(1095)) - OzoneManager RPC server is listening at localhost/127.0.0.1:12984
2021-05-14 10:46:57,578 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer omNode-3 at port 12988
2021-05-14 10:46:57,578 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null
2021-05-14 10:46:57,578 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:46:57,578 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-05-14 10:46:57,578 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-05-14 10:46:57,579 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.omNode-3@group-523986131536
2021-05-14 10:46:57,582 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-05-14 10:46:57,584 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 12988
2021-05-14 10:46:57,586 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@25e329e6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-05-14 10:46:57,589 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for ozoneManager at: http://0.0.0.0:12986
2021-05-14 10:46:57,589 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:57,590 [Listener at 127.0.0.1/12984] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:57,591 [Listener at 127.0.0.1/12984] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:57,592 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:57,592 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-14 10:46:57,593 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:57,593 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:57,593 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12986
2021-05-14 10:46:57,593 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:57,595 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:57,595 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:57,595 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:46:57,596 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@4c0685a0{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:57,596 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@75c83d45{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:46:57,599 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@2ad5b1d7{ozoneManager,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:46:57,601 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@57c5425a{HTTP/1.1, (http/1.1)}{0.0.0.0:12986}
2021-05-14 10:46:57,601 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(415)) - Started @19268ms
2021-05-14 10:46:57,601 [Listener at 127.0.0.1/12984] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:57,603 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of ozoneManager listening at http://0.0.0.0:12986
2021-05-14 10:46:57,604 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:46:57,607 [IPC Server listener on 12984] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12984: starting
2021-05-14 10:46:57,615 [Listener at 127.0.0.1/12984] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1225)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-14 10:46:57,616 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(461)) - Started OzoneManager RPC server at localhost/127.0.0.1:12984
2021-05-14 10:46:57,616 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6f59e247] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:57,766 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-05-14 10:46:57,774 [Listener at 127.0.0.1/12984] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(220)) - HddsDatanodeService host:4a783e42cd9e ip:172.17.0.2
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:57,801 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:57,973 [Listener at 127.0.0.1/12984] INFO  volume.HddsVolume (HddsVolume.java:<init>(184)) - Creating Volume: /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data-0/containers/hdds of storage type : DISK and capacity : 9223372036854775807
2021-05-14 10:46:57,975 [Listener at 127.0.0.1/12984] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(195)) - Added Volume : /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data-0/containers/hdds to VolumeSet
2021-05-14 10:46:57,976 [Listener at 127.0.0.1/12984] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data-0/containers/hdds
2021-05-14 10:46:58,003 [Listener at 127.0.0.1/12984] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(200)) - Scheduled health check for volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data-0/containers/hdds
2021-05-14 10:46:58,028 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.ContainerReader (ContainerReader.java:<init>(98)) - Running in upgrade mode:true
2021-05-14 10:46:58,029 [Thread-649] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data-0/containers/hdds
2021-05-14 10:46:58,035 [Thread-649] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(174)) - Finish verifying containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data-0/containers/hdds
2021-05-14 10:46:58,035 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(224)) - Build ContainerSet costs 0s
2021-05-14 10:46:58,100 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-1@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1027232171ns, electionTimeout:1017ms
2021-05-14 10:46:58,110 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-05-14 10:46:58,111 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-1@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:46:58,111 [omNode-1@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:46:58,111 [omNode-1@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderElection3
2021-05-14 10:46:58,125 [omNode-1@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-1@group-523986131536-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null
2021-05-14 10:46:58,132 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-05-14 10:46:58,133 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:46:58,136 [Listener at 127.0.0.1/12984] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:58,137 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:46:58,137 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:58,137 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis] (custom)
2021-05-14 10:46:58,183 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.omNode-3
2021-05-14 10:46:58,188 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - omNode-3@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-05-14 10:46:58,189 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-3@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-05-14 10:46:58,189 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-3@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-05-14 10:46:58,189 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-05-14 10:46:58,190 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.omNode-2
2021-05-14 10:46:58,191 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:46:58,191 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-05-14 10:46:58,201 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-1, group-523986131536, 1, (t:0, i:~))
2021-05-14 10:46:58,205 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - omNode-3@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-3#0:OK-t1. Peer's state: omNode-3@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-3@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null
2021-05-14 10:46:58,201 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-1: our priority 0 <= candidate's priority 0
2021-05-14 10:46:58,210 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-1
2021-05-14 10:46:58,210 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-05-14 10:46:58,210 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:46:58,210 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-05-14 10:46:58,221 [omNode-1@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-1@group-523986131536-LeaderElection3: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-05-14 10:46:58,227 [omNode-1@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-1<-omNode-3#0:OK-t1
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-1@group-523986131536-LeaderElection3 ELECTION round 0: result PASSED
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderElection3
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-1@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - omNode-1@group-523986131536: change Leader from null to omNode-1 at term 1 for becomeLeader, leader elected after 1199ms
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.omNode-1@group-523986131536
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:46:58,234 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:58,235 [omNode-1@group-523986131536-LeaderElection3] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.omNode-1@group-523986131536
2021-05-14 10:46:58,236 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:46:58,236 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:58,236 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-05-14 10:46:58,236 [omNode-1@group-523986131536-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:46:58,236 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:46:58,236 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:46:58,237 [omNode-1@group-523986131536-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-LeaderStateImpl
2021-05-14 10:46:58,237 [omNode-1@group-523986131536-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:46:58,228 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-1<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-1, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:12988|priority:0, omNode-1|rpc:localhost:12976|priority:0, omNode-2|rpc:localhost:12982|priority:0], old=null
2021-05-14 10:46:58,246 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-05-14 10:46:58,270 [omNode-1@group-523986131536-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12988|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12976|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12982|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:58,273 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - omNode-3@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 720ms
2021-05-14 10:46:58,286 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-05-14 10:46:58,286 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:58,288 [Listener at 127.0.0.1/12984] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:58,289 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12988|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12976|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12982|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:58,290 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:46:58,297 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-05-14 10:46:58,301 [Listener at 127.0.0.1/12984] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:58,302 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:58,303 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-05-14 10:46:58,303 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:58,303 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:58,304 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 34145
2021-05-14 10:46:58,304 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:58,306 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - omNode-2@group-523986131536: change Leader from null to omNode-1 at term 1 for appendEntries, leader elected after 1027ms
2021-05-14 10:46:58,322 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:58,323 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:58,323 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:46:58,324 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6008982e{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:58,324 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5887ab18{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-05-14 10:46:58,352 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:12988|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:12976|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:12982|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:46:58,352 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:46:58,363 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-05-14 10:46:58,523 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@286a58a6{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-34145-hadoop-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-8636200362261011173/webapp/,AVAILABLE}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:46:58,524 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@79c7c6c4{HTTP/1.1, (http/1.1)}{0.0.0.0:34145}
2021-05-14 10:46:58,525 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(415)) - Started @20192ms
2021-05-14 10:46:58,525 [Listener at 127.0.0.1/12984] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:58,527 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of hddsDatanode listening at http://0.0.0.0:34145
2021-05-14 10:46:58,529 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-05-14 10:46:58,536 [Listener at 127.0.0.1/12984] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(220)) - HddsDatanodeService host:4a783e42cd9e ip:172.17.0.2
2021-05-14 10:46:58,551 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@47d1ef4f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,563 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,574 [Listener at 127.0.0.1/12984] INFO  volume.HddsVolume (HddsVolume.java:<init>(184)) - Creating Volume: /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data-0/containers/hdds of storage type : DISK and capacity : 9223372036854775807
2021-05-14 10:46:58,574 [Listener at 127.0.0.1/12984] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(195)) - Added Volume : /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data-0/containers/hdds to VolumeSet
2021-05-14 10:46:58,575 [Listener at 127.0.0.1/12984] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data-0/containers/hdds
2021-05-14 10:46:58,565 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,575 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,582 [Listener at 127.0.0.1/12984] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(200)) - Scheduled health check for volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data-0/containers/hdds
2021-05-14 10:46:58,603 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.ContainerReader (ContainerReader.java:<init>(98)) - Running in upgrade mode:true
2021-05-14 10:46:58,612 [Thread-675] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data-0/containers/hdds
2021-05-14 10:46:58,612 [Thread-675] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(174)) - Finish verifying containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data-0/containers/hdds
2021-05-14 10:46:58,614 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(224)) - Build ContainerSet costs 0s
2021-05-14 10:46:58,626 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:58,626 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:58,626 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-05-14 10:46:58,626 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-05-14 10:46:58,626 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-05-14 10:46:58,626 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-05-14 10:46:58,627 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:58,627 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-05-14 10:46:58,627 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:46:58,628 [Listener at 127.0.0.1/12984] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:58,628 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:46:58,628 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:58,628 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis] (custom)
2021-05-14 10:46:58,634 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-05-14 10:46:58,635 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:58,636 [Listener at 127.0.0.1/12984] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:58,639 [Listener at 127.0.0.1/12984] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:58,641 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:58,645 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-05-14 10:46:58,645 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:58,645 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:58,646 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 42937
2021-05-14 10:46:58,646 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:58,671 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:58,672 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:58,672 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:46:58,673 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@134ae12e{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:58,673 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@32fe1871{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-05-14 10:46:58,701 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/meta/datanode.id
2021-05-14 10:46:58,839 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@2c2dd45{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-42937-hadoop-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-3286449688593692028/webapp/,AVAILABLE}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:46:58,840 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4c427f3{HTTP/1.1, (http/1.1)}{0.0.0.0:42937}
2021-05-14 10:46:58,841 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(415)) - Started @20508ms
2021-05-14 10:46:58,841 [Listener at 127.0.0.1/12984] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:58,843 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of hddsDatanode listening at http://0.0.0.0:42937
2021-05-14 10:46:58,844 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-05-14 10:46:58,850 [Listener at 127.0.0.1/12984] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(220)) - HddsDatanodeService host:4a783e42cd9e ip:172.17.0.2
2021-05-14 10:46:58,869 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1937bed] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,869 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,878 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,878 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,878 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,879 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,879 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,879 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,879 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,879 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:58,879 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:58,891 [Listener at 127.0.0.1/12984] INFO  volume.HddsVolume (HddsVolume.java:<init>(184)) - Creating Volume: /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data-0/containers/hdds of storage type : DISK and capacity : 9223372036854775807
2021-05-14 10:46:58,891 [Listener at 127.0.0.1/12984] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(195)) - Added Volume : /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data-0/containers/hdds to VolumeSet
2021-05-14 10:46:58,891 [Listener at 127.0.0.1/12984] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data-0/containers/hdds
2021-05-14 10:46:58,893 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/meta/datanode.id
2021-05-14 10:46:58,899 [Listener at 127.0.0.1/12984] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(200)) - Scheduled health check for volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data-0/containers/hdds
2021-05-14 10:46:58,917 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.ContainerReader (ContainerReader.java:<init>(98)) - Running in upgrade mode:true
2021-05-14 10:46:58,917 [Thread-688] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data-0/containers/hdds
2021-05-14 10:46:58,918 [Thread-688] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(174)) - Finish verifying containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data-0/containers/hdds
2021-05-14 10:46:58,918 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(224)) - Build ContainerSet costs 0s
2021-05-14 10:46:58,920 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:46:58,921 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-05-14 10:46:58,922 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:46:58,923 [Listener at 127.0.0.1/12984] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:46:58,923 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:46:58,923 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:46:58,923 [Listener at 127.0.0.1/12984] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis] (custom)
2021-05-14 10:46:58,929 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-05-14 10:46:58,930 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:46:58,931 [Listener at 127.0.0.1/12984] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:46:58,931 [Listener at 127.0.0.1/12984] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:46:58,932 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:46:58,933 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-05-14 10:46:58,933 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:46:58,933 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:46:58,934 [Listener at 127.0.0.1/12984] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 35429
2021-05-14 10:46:58,934 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:46:58,936 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:46:58,936 [Listener at 127.0.0.1/12984] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:46:58,936 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:46:58,936 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@d55f41a{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:46:58,937 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@4573e516{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-05-14 10:46:59,085 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@47fc8da9{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-35429-hadoop-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1272119879350200832/webapp/,AVAILABLE}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:46:59,087 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@15c4b2ab{HTTP/1.1, (http/1.1)}{0.0.0.0:35429}
2021-05-14 10:46:59,088 [Listener at 127.0.0.1/12984] INFO  server.Server (Server.java:doStart(415)) - Started @20755ms
2021-05-14 10:46:59,088 [Listener at 127.0.0.1/12984] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:46:59,090 [Listener at 127.0.0.1/12984] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of hddsDatanode listening at http://0.0.0.0:35429
2021-05-14 10:46:59,094 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:46:59,094 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:46:59,094 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:46:59,102 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@78330a37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:46:59,106 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:46:59,108 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/meta/datanode.id
2021-05-14 10:47:00,094 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:47:00,095 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:00,095 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:00,638 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(291)) - Attempting to start container services.
2021-05-14 10:47:00,639 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(237)) - Background container scanner has been disabled.
2021-05-14 10:47:00,641 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(106)) - ReplicationServer is started using port 33521
2021-05-14 10:47:00,645 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(490)) - Starting XceiverServerRatis 4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:00,650 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start RPC server
2021-05-14 10:47:00,658 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: GrpcService started, listening on 36481
2021-05-14 10:47:00,659 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 4d03f151-3ccc-4605-be2a-5144f4a38c21 is started using port 36481 for RATIS
2021-05-14 10:47:00,659 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 4d03f151-3ccc-4605-be2a-5144f4a38c21 is started using port 36481 for RATIS_ADMIN
2021-05-14 10:47:00,659 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 4d03f151-3ccc-4605-be2a-5144f4a38c21 is started using port 36481 for RATIS_SERVER
2021-05-14 10:47:00,659 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@30ea0822] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-4d03f151-3ccc-4605-be2a-5144f4a38c21: Started
2021-05-14 10:47:00,662 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 4d03f151-3ccc-4605-be2a-5144f4a38c21 is started using port 36603
2021-05-14 10:47:00,674 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:00,674 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:00,880 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(291)) - Attempting to start container services.
2021-05-14 10:47:00,883 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(237)) - Background container scanner has been disabled.
2021-05-14 10:47:00,886 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(106)) - ReplicationServer is started using port 38287
2021-05-14 10:47:00,887 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(490)) - Starting XceiverServerRatis ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:00,889 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start RPC server
2021-05-14 10:47:00,890 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: GrpcService started, listening on 40837
2021-05-14 10:47:00,890 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis ce1805ff-2dcb-46c6-b498-d5b4f44927c4 is started using port 40837 for RATIS
2021-05-14 10:47:00,890 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis ce1805ff-2dcb-46c6-b498-d5b4f44927c4 is started using port 40837 for RATIS_ADMIN
2021-05-14 10:47:00,890 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis ce1805ff-2dcb-46c6-b498-d5b4f44927c4 is started using port 40837 for RATIS_SERVER
2021-05-14 10:47:00,891 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@23717ac6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-ce1805ff-2dcb-46c6-b498-d5b4f44927c4: Started
2021-05-14 10:47:00,892 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc ce1805ff-2dcb-46c6-b498-d5b4f44927c4 is started using port 36343
2021-05-14 10:47:00,894 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:00,894 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:01,095 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:47:01,095 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:01,095 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:01,192 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(291)) - Attempting to start container services.
2021-05-14 10:47:01,192 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(237)) - Background container scanner has been disabled.
2021-05-14 10:47:01,195 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(106)) - ReplicationServer is started using port 46453
2021-05-14 10:47:01,196 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(490)) - Starting XceiverServerRatis 13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:01,197 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start RPC server
2021-05-14 10:47:01,203 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: GrpcService started, listening on 37743
2021-05-14 10:47:01,203 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 is started using port 37743 for RATIS
2021-05-14 10:47:01,204 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 is started using port 37743 for RATIS_ADMIN
2021-05-14 10:47:01,204 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 is started using port 37743 for RATIS_SERVER
2021-05-14 10:47:01,206 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 is started using port 40493
2021-05-14 10:47:01,209 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:01,209 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:01,217 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4687e47a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-13bb86f7-b9e3-404e-aacf-f2f14d6d7337: Started
2021-05-14 10:47:02,095 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:47:02,096 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:02,096 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:02,578 [IPC Server handler 14 on default port 14605] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:02,578 [IPC Server handler 14 on default port 14585] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:02,579 [IPC Server handler 0 on default port 14595] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:02,586 [IPC Server handler 14 on default port 14605] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:02,588 [IPC Server handler 14 on default port 14585] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:02,589 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:02,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2021-05-14 10:47:02,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:02,596 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(229)) - All SCM safe mode pre check rules have passed
2021-05-14 10:47:02,600 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=d64a3df9-3b8a-4ca8-881d-14e5070eb3a4 to datanode:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:02,605 [IPC Server handler 0 on default port 14595] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:02,597 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:02,601 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2021-05-14 10:47:02,614 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:02,607 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2021-05-14 10:47:02,607 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:02,601 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:02,614 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:02,614 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(229)) - All SCM safe mode pre check rules have passed
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(229)) - All SCM safe mode pre check rules have passed
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:02,614 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-05-14 10:47:02,615 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:02,615 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:02,620 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:02,620 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:02,664 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d64a3df9-3b8a-4ca8-881d-14e5070eb3a4, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:02.597Z].
2021-05-14 10:47:02,667 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 46239.841us
2021-05-14 10:47:02,671 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d64a3df9-3b8a-4ca8-881d-14e5070eb3a4, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:02.597Z].
2021-05-14 10:47:02,678 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: d64a3df9-3b8a-4ca8-881d-14e5070eb3a4, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:02.597Z].
2021-05-14 10:47:02,677 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelinePlacementPolicy (PipelinePlacementPolicy.java:filterViableNodes(149)) - Pipeline creation failed due to no sufficient healthy datanodes. Required 3. Found 1.
2021-05-14 10:47:02,873 [IPC Server handler 1 on default port 14595] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:02,874 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:02,874 [IPC Server handler 1 on default port 14595] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:02,874 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:02,874 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:02,874 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:02,875 [IPC Server handler 57 on default port 14585] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:02,875 [IPC Server handler 57 on default port 14585] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:02,875 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:02,875 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:02,875 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:02,875 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:02,885 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=6bd13152-f265-4479-a19f-b0a66df5f80f to datanode:ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:02,885 [IPC Server handler 13 on default port 14605] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:02,886 [IPC Server handler 13 on default port 14605] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:02,886 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:02,886 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:02,886 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:02,886 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:02,893 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:02.885Z].
2021-05-14 10:47:02,893 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 7744.426us
2021-05-14 10:47:02,893 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelinePlacementPolicy (PipelinePlacementPolicy.java:filterViableNodes(149)) - Pipeline creation failed due to no sufficient healthy datanodes. Required 3. Found 2.
2021-05-14 10:47:02,896 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:02.885Z].
2021-05-14 10:47:02,898 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:02.885Z].
2021-05-14 10:47:03,096 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-05-14 10:47:03,098 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:03,098 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:03,106 [IPC Server handler 2 on default port 14595] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:03,107 [IPC Server handler 2 on default port 14595] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:03,106 [IPC Server handler 53 on default port 14585] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:03,107 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:03,107 [IPC Server handler 53 on default port 14585] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:03,107 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:03,107 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:03,107 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:03,107 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:03,108 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:03,108 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:03,108 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:03,107 [IPC Server handler 19 on default port 14605] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:03,108 [IPC Server handler 19 on default port 14605] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:03,108 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:03,108 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:03,108 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:03,108 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:03,108 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=433111ee-ced4-47c3-aad2-abce64936fd9 to datanode:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:03,117 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 433111ee-ced4-47c3-aad2-abce64936fd9, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.108Z].
2021-05-14 10:47:03,117 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 8352.859us
2021-05-14 10:47:03,119 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=98aaca59-7b19-4119-bc0e-66c1b8da99b1 to datanode:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:03,119 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=98aaca59-7b19-4119-bc0e-66c1b8da99b1 to datanode:ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:03,119 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=98aaca59-7b19-4119-bc0e-66c1b8da99b1 to datanode:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:03,125 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 433111ee-ced4-47c3-aad2-abce64936fd9, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.108Z].
2021-05-14 10:47:03,132 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 433111ee-ced4-47c3-aad2-abce64936fd9, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.108Z].
2021-05-14 10:47:03,149 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 98aaca59-7b19-4119-bc0e-66c1b8da99b1, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.119Z].
2021-05-14 10:47:03,159 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 98aaca59-7b19-4119-bc0e-66c1b8da99b1, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.119Z].
2021-05-14 10:47:03,164 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 44854.061us
2021-05-14 10:47:03,168 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 98aaca59-7b19-4119-bc0e-66c1b8da99b1, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.119Z].
2021-05-14 10:47:03,168 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba to datanode:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:03,170 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba to datanode:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:03,170 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba to datanode:ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:03,177 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a08b9dfd-1385-485f-bff1-01897b77bdba, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.168Z].
2021-05-14 10:47:03,182 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 12068.962us
2021-05-14 10:47:03,183 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:recordMetricsForPipeline(589)) - Pipeline: PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba contains same datanodes as previous pipelines: PipelineID=98aaca59-7b19-4119-bc0e-66c1b8da99b1 nodeIds: 4d03f151-3ccc-4605-be2a-5144f4a38c21, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337, ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:03,184 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a08b9dfd-1385-485f-bff1-01897b77bdba, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.168Z].
2021-05-14 10:47:03,186 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a08b9dfd-1385-485f-bff1-01897b77bdba, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:03.168Z].
2021-05-14 10:47:04,098 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:04,099 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:04,100 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:05,100 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:05,100 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:05,100 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:05,545 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: addNew group-14E5070EB3A4:[4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1] returns group-14E5070EB3A4:java.util.concurrent.CompletableFuture@15238b9b[Not completed]
2021-05-14 10:47:05,566 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: new RaftServerImpl for group-14E5070EB3A4:[4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,566 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: ConfigurationManager, init=-1: [4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis] (custom)
2021-05-14 10:47:05,567 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,568 [pool-118-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4 does not exist. Creating ...
2021-05-14 10:47:05,569 [pool-118-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,570 [pool-118-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4 has been successfully formatted.
2021-05-14 10:47:05,573 [pool-118-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-14E5070EB3A4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,573 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,573 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,573 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,573 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,573 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:05,574 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,575 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,576 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,576 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,576 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,576 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,577 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,577 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,577 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,577 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,589 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,589 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,589 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: d64a3df9-3b8a-4ca8-881d-14e5070eb3a4, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:4d03f151-3ccc-4605-be2a-5144f4a38c21, CreationTimestamp2021-05-14T10:47:02.597Z] moved to OPEN state
2021-05-14 10:47:05,597 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,597 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,597 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,597 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,597 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: d64a3df9-3b8a-4ca8-881d-14e5070eb3a4, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:4d03f151-3ccc-4605-be2a-5144f4a38c21, CreationTimestamp2021-05-14T10:47:02.597Z] moved to OPEN state
2021-05-14 10:47:05,589 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: d64a3df9-3b8a-4ca8-881d-14e5070eb3a4, Nodes: 4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:4d03f151-3ccc-4605-be2a-5144f4a38c21, CreationTimestamp2021-05-14T10:47:02.597Z] moved to OPEN state
2021-05-14 10:47:05,597 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,604 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,604 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:05,597 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,616 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@57255aa1, cost 16013.276us
2021-05-14 10:47:05,628 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "d64a3df9-3b8a-4ca8-881d-14e5070eb3a4"
  uuid128 {
    mostSigBits: -3005521660661314392
    leastSigBits: -8638725536328272988
  }
}
isLeader: false
bytesWritten: 0
 from dn=4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:05,616 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@33a9c089, cost 21408.272us
2021-05-14 10:47:05,605 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:05,629 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "d64a3df9-3b8a-4ca8-881d-14e5070eb3a4"
  uuid128 {
    mostSigBits: -3005521660661314392
    leastSigBits: -8638725536328272988
  }
}
isLeader: false
bytesWritten: 0
 from dn=4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:05,635 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 34584.192us
2021-05-14 10:47:05,646 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: start as a follower, conf=-1: [4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:05,656 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,656 [pool-118-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState
2021-05-14 10:47:05,656 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,656 [pool-118-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-14E5070EB3A4,id=4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:05,656 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:05,658 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=d64a3df9-3b8a-4ca8-881d-14e5070eb3a4
2021-05-14 10:47:05,658 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=d64a3df9-3b8a-4ca8-881d-14e5070eb3a4.
2021-05-14 10:47:05,658 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: addNew group-66C1B8DA99B1:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:0] returns group-66C1B8DA99B1:java.util.concurrent.CompletableFuture@11120635[Not completed]
2021-05-14 10:47:05,659 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: new RaftServerImpl for group-66C1B8DA99B1:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:0] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,659 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis] (custom)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,660 [pool-118-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1 does not exist. Creating ...
2021-05-14 10:47:05,664 [pool-118-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,665 [pool-118-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1 has been successfully formatted.
2021-05-14 10:47:05,666 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,666 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,667 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-66C1B8DA99B1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,671 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:05,671 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,672 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,673 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,673 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,678 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,678 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,678 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,681 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,681 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,682 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,682 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,682 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,682 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,682 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:05,682 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:05,683 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:0], old=null
2021-05-14 10:47:05,683 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,683 [pool-118-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:05,683 [pool-118-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-66C1B8DA99B1,id=4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:05,684 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:05,684 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=98aaca59-7b19-4119-bc0e-66c1b8da99b1
2021-05-14 10:47:05,684 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,711 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-4C2CDB67CA20->13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:05,730 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:05,734 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: addNew group-66C1B8DA99B1:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0] returns group-66C1B8DA99B1:java.util.concurrent.CompletableFuture@28475ab[Not completed]
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: new RaftServerImpl for group-66C1B8DA99B1:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,739 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis] (custom)
2021-05-14 10:47:05,740 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,740 [pool-158-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1 does not exist. Creating ...
2021-05-14 10:47:05,741 [pool-158-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,742 [pool-158-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1 has been successfully formatted.
2021-05-14 10:47:05,745 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,745 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,745 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,747 [pool-158-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-66C1B8DA99B1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,748 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,748 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,748 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,749 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,749 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:05,749 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,749 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,749 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,749 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1
2021-05-14 10:47:05,750 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,750 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,750 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,750 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,751 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,751 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,751 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,751 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,755 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,757 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,758 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,759 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,762 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:05,763 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:05,763 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:05,763 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,764 [pool-158-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:05,764 [pool-158-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-66C1B8DA99B1,id=13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:05,764 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:05,793 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-F92063AB3ECE->ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:05,802 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:05,809 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: addNew group-66C1B8DA99B1:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0] returns group-66C1B8DA99B1:java.util.concurrent.CompletableFuture@29917cba[Not completed]
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: new RaftServerImpl for group-66C1B8DA99B1:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis] (custom)
2021-05-14 10:47:05,824 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,825 [pool-135-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1 does not exist. Creating ...
2021-05-14 10:47:05,827 [pool-135-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,830 [pool-135-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1 has been successfully formatted.
2021-05-14 10:47:05,830 [pool-135-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-66C1B8DA99B1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,830 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,830 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,830 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,831 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,831 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:05,831 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,831 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,832 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,832 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1
2021-05-14 10:47:05,832 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,832 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,834 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,833 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,833 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,834 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,834 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,834 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,834 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,834 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,835 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,836 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,836 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,836 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,837 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:05,838 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:05,839 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:05,839 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,839 [pool-135-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:05,842 [pool-135-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-66C1B8DA99B1,id=ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:05,842 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:05,851 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=98aaca59-7b19-4119-bc0e-66c1b8da99b1.
2021-05-14 10:47:05,851 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: addNew group-01897B77BDBA:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1] returns group-01897B77BDBA:java.util.concurrent.CompletableFuture@1da9edbd[Not completed]
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: new RaftServerImpl for group-01897B77BDBA:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,852 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,853 [pool-118-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,853 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis] (custom)
2021-05-14 10:47:05,853 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,853 [pool-118-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba does not exist. Creating ...
2021-05-14 10:47:05,854 [pool-118-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,855 [pool-118-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba has been successfully formatted.
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-01897B77BDBA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:05,856 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,857 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,857 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,857 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,857 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba
2021-05-14 10:47:05,858 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,858 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,858 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,858 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,859 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,860 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,861 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,862 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,864 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,864 [pool-118-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,864 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:05,865 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:05,866 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:05,866 [pool-118-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,866 [pool-118-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState
2021-05-14 10:47:05,869 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: addNew group-B0A66DF5F80F:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:1] returns group-B0A66DF5F80F:java.util.concurrent.CompletableFuture@44ffd9d3[Not completed]
2021-05-14 10:47:05,869 [pool-118-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01897B77BDBA,id=4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:05,869 [pool-118-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: new RaftServerImpl for group-B0A66DF5F80F:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis] (custom)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,870 [pool-135-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f does not exist. Creating ...
2021-05-14 10:47:05,870 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba
2021-05-14 10:47:05,872 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-ADAEA2C464C0->13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:05,872 [pool-135-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,875 [pool-135-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f has been successfully formatted.
2021-05-14 10:47:05,877 [pool-135-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-B0A66DF5F80F: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,877 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,877 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,877 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,877 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,878 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,879 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,880 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,880 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,880 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,882 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,882 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,883 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,883 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,883 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,883 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,887 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:ce1805ff-2dcb-46c6-b498-d5b4f44927c4, CreationTimestamp2021-05-14T10:47:02.885Z] moved to OPEN state
2021-05-14 10:47:05,887 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@33a9c089, cost 233.913us
2021-05-14 10:47:05,888 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:05,894 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: addNew group-01897B77BDBA:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1] returns group-01897B77BDBA:java.util.concurrent.CompletableFuture@ddc4302[Not completed]
2021-05-14 10:47:05,891 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,894 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: new RaftServerImpl for group-01897B77BDBA:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis] (custom)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,895 [pool-158-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba does not exist. Creating ...
2021-05-14 10:47:05,891 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:ce1805ff-2dcb-46c6-b498-d5b4f44927c4, CreationTimestamp2021-05-14T10:47:02.885Z] moved to OPEN state
2021-05-14 10:47:05,896 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@57255aa1, cost 234.913us
2021-05-14 10:47:05,896 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "6bd13152-f265-4479-a19f-b0a66df5f80f"
  uuid128 {
    mostSigBits: 7769045064514618489
    leastSigBits: -6800522683450263537
  }
}
isLeader: false
bytesWritten: 0
 from dn=ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:05,891 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:ce1805ff-2dcb-46c6-b498-d5b4f44927c4, CreationTimestamp2021-05-14T10:47:02.885Z] moved to OPEN state
2021-05-14 10:47:05,889 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "6bd13152-f265-4479-a19f-b0a66df5f80f"
  uuid128 {
    mostSigBits: 7769045064514618489
    leastSigBits: -6800522683450263537
  }
}
isLeader: false
bytesWritten: 0
 from dn=ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:05,891 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,890 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,899 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:05,897 [pool-158-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,905 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:1], old=null
2021-05-14 10:47:05,906 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,906 [pool-135-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState
2021-05-14 10:47:05,907 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 9908.742us
2021-05-14 10:47:05,908 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,908 [pool-158-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba has been successfully formatted.
2021-05-14 10:47:05,910 [pool-135-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0A66DF5F80F,id=ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:05,910 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:05,910 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=6bd13152-f265-4479-a19f-b0a66df5f80f
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-01897B77BDBA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,911 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,912 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,913 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,913 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,911 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=6bd13152-f265-4479-a19f-b0a66df5f80f.
2021-05-14 10:47:05,916 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,915 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,915 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,919 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: addNew group-01897B77BDBA:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1] returns group-01897B77BDBA:java.util.concurrent.CompletableFuture@4a383f3c[Not completed]
2021-05-14 10:47:05,919 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,919 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: new RaftServerImpl for group-01897B77BDBA:[ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:05,920 [pool-135-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: ConfigurationManager, init=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:05,921 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis] (custom)
2021-05-14 10:47:05,921 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:05,921 [pool-135-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba does not exist. Creating ...
2021-05-14 10:47:05,922 [pool-135-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:05,923 [pool-135-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba has been successfully formatted.
2021-05-14 10:47:05,925 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,925 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,925 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,926 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,926 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,926 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,926 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:05,927 [pool-135-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-01897B77BDBA: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:05,927 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,927 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:05,927 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:05,927 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:05,928 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,928 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,928 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:05,928 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 6bd13152-f265-4479-a19f-b0a66df5f80f, Nodes: ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:ce1805ff-2dcb-46c6-b498-d5b4f44927c4, CreationTimestamp2021-05-14T10:47:02.885Z] moved to OPEN state
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba
2021-05-14 10:47:05,928 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:05,928 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:05,928 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@57255aa1, cost 203.511us
2021-05-14 10:47:05,929 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:05,933 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:05,933 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:05,933 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "6bd13152-f265-4479-a19f-b0a66df5f80f"
  uuid128 {
    mostSigBits: 7769045064514618489
    leastSigBits: -6800522683450263537
  }
}
isLeader: false
bytesWritten: 0
 from dn=ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:05,933 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:05,933 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:05,934 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:05,934 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:05,934 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:05,934 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:05,934 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,934 [pool-158-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:05,934 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:05,935 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:05,935 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,935 [pool-135-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:05,938 [pool-158-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01897B77BDBA,id=13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:05,938 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:05,942 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:05,943 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: start as a follower, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:05,943 [pool-135-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:05,943 [pool-135-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:05,945 [pool-135-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01897B77BDBA,id=ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:05,945 [pool-135-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:05,947 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba
2021-05-14 10:47:05,950 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-935E82448D29->4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:05,950 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-E52571C12DD6->ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:05,959 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:06,000 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba.
2021-05-14 10:47:06,003 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-0BCCB3E7671C->13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:06,021 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=a08b9dfd-1385-485f-bff1-01897b77bdba.
2021-05-14 10:47:06,102 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:06,102 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:06,102 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:06,103 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: addNew group-ABCE64936FD9:[13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1] returns group-ABCE64936FD9:java.util.concurrent.CompletableFuture@5011cab0[Not completed]
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: new RaftServerImpl for group-ABCE64936FD9:[13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: ConfigurationManager, init=-1: [13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis] (custom)
2021-05-14 10:47:06,104 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:06,105 [pool-158-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9 does not exist. Creating ...
2021-05-14 10:47:06,106 [pool-158-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9 has been successfully formatted.
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-ABCE64936FD9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:06,108 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:06,109 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:06,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,110 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 433111ee-ced4-47c3-aad2-abce64936fd9, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:13bb86f7-b9e3-404e-aacf-f2f14d6d7337, CreationTimestamp2021-05-14T10:47:03.108Z] moved to OPEN state
2021-05-14 10:47:06,110 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 433111ee-ced4-47c3-aad2-abce64936fd9, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:13bb86f7-b9e3-404e-aacf-f2f14d6d7337, CreationTimestamp2021-05-14T10:47:03.108Z] moved to OPEN state
2021-05-14 10:47:06,110 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@57255aa1, cost 248.314us
2021-05-14 10:47:06,110 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "433111ee-ced4-47c3-aad2-abce64936fd9"
  uuid128 {
    mostSigBits: 4841670791769900995
    leastSigBits: -6137654439213568039
  }
}
isLeader: false
bytesWritten: 0
 from dn=13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:06,111 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,111 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 433111ee-ced4-47c3-aad2-abce64936fd9, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:13bb86f7-b9e3-404e-aacf-f2f14d6d7337, CreationTimestamp2021-05-14T10:47:03.108Z] moved to OPEN state
2021-05-14 10:47:06,111 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,111 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@33a9c089, cost 202.311us
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:06,112 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:06,112 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "433111ee-ced4-47c3-aad2-abce64936fd9"
  uuid128 {
    mostSigBits: 4841670791769900995
    leastSigBits: -6137654439213568039
  }
}
isLeader: false
bytesWritten: 0
 from dn=13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:06,115 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:06,116 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:06,116 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:06,116 [pool-158-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:06,119 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:06,120 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:06,121 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: start as a follower, conf=-1: [13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1], old=null
2021-05-14 10:47:06,121 [pool-158-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:06,121 [pool-158-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState
2021-05-14 10:47:06,122 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 10872.994us
2021-05-14 10:47:06,122 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:06,125 [pool-158-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABCE64936FD9,id=13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:06,125 [pool-158-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:06,128 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=433111ee-ced4-47c3-aad2-abce64936fd9
2021-05-14 10:47:06,128 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=433111ee-ced4-47c3-aad2-abce64936fd9.
2021-05-14 10:47:06,857 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:06,857 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,857 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:06,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:06,928 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,928 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,928 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:06,929 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:06,929 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:06,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,102 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:07,102 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:07,102 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:07,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,111 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,111 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,856 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,856 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,858 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,858 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,931 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:07,931 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:07,931 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,103 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:08,103 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:08,103 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:08,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,111 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,111 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,857 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,857 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,857 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,858 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,858 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:08,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:08,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,103 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:09,103 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:09,103 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:09,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,112 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,112 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,112 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,112 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,859 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,861 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,861 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,861 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,862 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,862 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,929 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,929 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:09,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:09,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,104 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:10,104 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:10,104 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:10,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,110 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,673 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5017473561ns, electionTimeout:5017ms
2021-05-14 10:47:10,674 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState
2021-05-14 10:47:10,674 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:10,674 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:10,674 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: [4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-14E5070EB3A4 with new leaderId: 4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: change Leader from null to 4d03f151-3ccc-4605-be2a-5144f4a38c21 at term 1 for becomeLeader, leader elected after 5105ms
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:10,678 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:10,679 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:10,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,681 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:10,682 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:10,682 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:10,682 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,682 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,682 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,682 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,682 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:10,685 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderStateImpl
2021-05-14 10:47:10,685 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:10,689 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: set configuration 0: [4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:10,690 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4/current/log_inprogress_0
2021-05-14 10:47:10,735 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5052170035ns, electionTimeout:5051ms
2021-05-14 10:47:10,736 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:10,736 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:10,736 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:10,736 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5
2021-05-14 10:47:10,742 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:0], old=null
2021-05-14 10:47:10,764 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: receive requestVote(ELECTION, 4d03f151-3ccc-4605-be2a-5144f4a38c21, group-66C1B8DA99B1, 1, (t:0, i:0))
2021-05-14 10:47:10,764 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FOLLOWER: accept ELECTION from 4d03f151-3ccc-4605-be2a-5144f4a38c21: our priority 0 <= candidate's priority 0
2021-05-14 10:47:10,764 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:10,764 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:10,764 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:10,764 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: receive requestVote(ELECTION, 4d03f151-3ccc-4605-be2a-5144f4a38c21, group-66C1B8DA99B1, 1, (t:0, i:0))
2021-05-14 10:47:10,764 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FOLLOWER: reject ELECTION from 4d03f151-3ccc-4605-be2a-5144f4a38c21: our priority 1 > candidate's priority 0
2021-05-14 10:47:10,764 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:10,764 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:10,765 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:10,765 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:10,765 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:10,767 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1 replies to ELECTION vote request: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t1. Peer's state: ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1:t1, leader=null, voted=4d03f151-3ccc-4605-be2a-5144f4a38c21, raftlog=ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:10,771 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1 replies to ELECTION vote request: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-13bb86f7-b9e3-404e-aacf-f2f14d6d7337#0:FAIL-t1. Peer's state: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1:t1, leader=null, voted=null, raftlog=13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t1
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-13bb86f7-b9e3-404e-aacf-f2f14d6d7337#0:FAIL-t1
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5 ELECTION round 0: result REJECTED
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5
2021-05-14 10:47:10,772 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:10,929 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,930 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,930 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:10,931 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,931 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:10,994 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5051424189ns, electionTimeout:5048ms
2021-05-14 10:47:10,995 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:10,995 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:10,996 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:10,996 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6
2021-05-14 10:47:11,000 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:11,007 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: receive requestVote(ELECTION, ce1805ff-2dcb-46c6-b498-d5b4f44927c4, group-01897B77BDBA, 1, (t:0, i:0))
2021-05-14 10:47:11,007 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FOLLOWER: accept ELECTION from ce1805ff-2dcb-46c6-b498-d5b4f44927c4: our priority 0 <= candidate's priority 0
2021-05-14 10:47:11,007 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:11,007 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:11,007 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:11,007 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:11,013 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5107726161ns, electionTimeout:5099ms
2021-05-14 10:47:11,014 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState
2021-05-14 10:47:11,014 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA replies to ELECTION vote request: ce1805ff-2dcb-46c6-b498-d5b4f44927c4<-13bb86f7-b9e3-404e-aacf-f2f14d6d7337#0:OK-t1. Peer's state: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA:t1, leader=null, voted=ce1805ff-2dcb-46c6-b498-d5b4f44927c4, raftlog=13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:11,014 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:11,014 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:11,014 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7
2021-05-14 10:47:11,020 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: receive requestVote(ELECTION, ce1805ff-2dcb-46c6-b498-d5b4f44927c4, group-01897B77BDBA, 1, (t:0, i:0))
2021-05-14 10:47:11,020 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FOLLOWER: reject ELECTION from ce1805ff-2dcb-46c6-b498-d5b4f44927c4: our priority 1 > candidate's priority 0
2021-05-14 10:47:11,021 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:11,021 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState
2021-05-14 10:47:11,021 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState
2021-05-14 10:47:11,021 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:11,022 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA replies to ELECTION vote request: ce1805ff-2dcb-46c6-b498-d5b4f44927c4<-4d03f151-3ccc-4605-be2a-5144f4a38c21#0:FAIL-t1. Peer's state: 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA:t1, leader=null, voted=null, raftlog=4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:11,022 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:1], old=null
2021-05-14 10:47:11,022 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:11,022 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7
2021-05-14 10:47:11,022 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:11,022 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-B0A66DF5F80F with new leaderId: ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:11,023 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: change Leader from null to ce1805ff-2dcb-46c6-b498-d5b4f44927c4 at term 1 for becomeLeader, leader elected after 5145ms
2021-05-14 10:47:11,023 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:11,023 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:11,024 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,024 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,025 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,024 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: ce1805ff-2dcb-46c6-b498-d5b4f44927c4<-13bb86f7-b9e3-404e-aacf-f2f14d6d7337#0:OK-t1
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: ce1805ff-2dcb-46c6-b498-d5b4f44927c4<-4d03f151-3ccc-4605-be2a-5144f4a38c21#0:FAIL-t1
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6 ELECTION round 0: result REJECTED
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6
2021-05-14 10:47:11,027 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:11,027 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,030 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,031 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:11,042 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:11,042 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:11,042 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:11,042 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:11,042 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderStateImpl
2021-05-14 10:47:11,043 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:11,046 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:1], old=null
2021-05-14 10:47:11,046 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f/current/log_inprogress_0
2021-05-14 10:47:11,104 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:11,104 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:11,104 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:11,110 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,111 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,111 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,111 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,111 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,111 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,266 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5144873381ns, electionTimeout:5141ms
2021-05-14 10:47:11,266 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState
2021-05-14 10:47:11,266 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:11,268 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:11,268 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8
2021-05-14 10:47:11,273 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: [13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1], old=null
2021-05-14 10:47:11,273 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:11,273 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8
2021-05-14 10:47:11,273 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:11,273 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-ABCE64936FD9 with new leaderId: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:11,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,276 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,277 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: change Leader from null to 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 at term 1 for becomeLeader, leader elected after 5164ms
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:11,278 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:11,279 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderStateImpl
2021-05-14 10:47:11,279 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:11,280 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: set configuration 0: [13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1], old=null
2021-05-14 10:47:11,280 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9/current/log_inprogress_0
2021-05-14 10:47:11,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:11,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:11,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,025 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,025 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,105 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:12,105 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:12,105 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:12,276 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,277 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,276 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,278 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:12,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,681 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:12,682 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,027 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,105 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:13,106 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:13,106 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:13,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,276 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,681 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:13,681 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:13,683 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,025 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,025 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,106 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:14,106 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:14,106 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:14,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,275 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,681 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:14,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:14,681 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,106 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:15,107 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:15,107 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:15,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,275 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,276 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,276 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,680 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,680 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,681 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,681 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,802 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5036599132ns, electionTimeout:5029ms
2021-05-14 10:47:15,802 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:15,802 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:47:15,802 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:15,802 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9
2021-05-14 10:47:15,805 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9 ELECTION round 0: submit vote requests at term 2 for -1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:15,818 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: receive requestVote(ELECTION, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337, group-66C1B8DA99B1, 2, (t:0, i:0))
2021-05-14 10:47:15,818 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FOLLOWER: accept ELECTION from 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: our priority 0 <= candidate's priority 1
2021-05-14 10:47:15,818 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:15,818 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:15,818 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:15,818 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:15,822 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1 replies to ELECTION vote request: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t2. Peer's state: ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1:t2, leader=null, voted=13bb86f7-b9e3-404e-aacf-f2f14d6d7337, raftlog=ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:15,825 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: receive requestVote(ELECTION, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337, group-66C1B8DA99B1, 2, (t:0, i:0))
2021-05-14 10:47:15,825 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FOLLOWER: accept ELECTION from 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: our priority 0 <= candidate's priority 1
2021-05-14 10:47:15,825 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:15,825 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:15,825 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:15,825 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:15,827 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1 replies to ELECTION vote request: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337<-4d03f151-3ccc-4605-be2a-5144f4a38c21#0:OK-t2. Peer's state: 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1:t2, leader=null, voted=13bb86f7-b9e3-404e-aacf-f2f14d6d7337, raftlog=4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:0], old=null
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t2
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9 ELECTION round 0: result PASSED
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-66C1B8DA99B1 with new leaderId: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: change Leader from null to 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 at term 2 for becomeLeader, leader elected after 10082ms
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:15,831 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:15,832 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:15,834 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:15,835 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:15,835 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:15,835 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-05-14 10:47:15,835 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:15,835 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:15,835 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:15,836 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl
2021-05-14 10:47:15,836 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:15,840 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:15,842 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,842 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 98aaca59-7b19-4119-bc0e-66c1b8da99b1, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:13bb86f7-b9e3-404e-aacf-f2f14d6d7337, CreationTimestamp2021-05-14T10:47:03.119Z] moved to OPEN state
2021-05-14 10:47:15,844 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 98aaca59-7b19-4119-bc0e-66c1b8da99b1, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:13bb86f7-b9e3-404e-aacf-f2f14d6d7337, CreationTimestamp2021-05-14T10:47:03.119Z] moved to OPEN state
2021-05-14 10:47:15,844 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@33a9c089, cost 185.41us
2021-05-14 10:47:15,844 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "98aaca59-7b19-4119-bc0e-66c1b8da99b1"
  uuid128 {
    mostSigBits: -7445916548237541095
    leastSigBits: -4895862762689095247
  }
}
isLeader: true
bytesWritten: 0
 from dn=13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:15,845 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,851 [grpc-default-executor-0] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-66C1B8DA99B1 with new leaderId: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:15,851 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: change Leader from null to 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 at term 2 for appendEntries, leader elected after 10020ms
2021-05-14 10:47:15,851 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,851 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/current/log_inprogress_0
2021-05-14 10:47:15,851 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 98aaca59-7b19-4119-bc0e-66c1b8da99b1, Nodes: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}ce1805ff-2dcb-46c6-b498-d5b4f44927c4{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=38287, RATIS=40837, RATIS_ADMIN=40837, RATIS_SERVER=40837, STANDALONE=36343], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}4d03f151-3ccc-4605-be2a-5144f4a38c21{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=33521, RATIS=36481, RATIS_ADMIN=36481, RATIS_SERVER=36481, STANDALONE=36603], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:13bb86f7-b9e3-404e-aacf-f2f14d6d7337, CreationTimestamp2021-05-14T10:47:03.119Z] moved to OPEN state
2021-05-14 10:47:15,852 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@57255aa1, cost 169.909us
2021-05-14 10:47:15,852 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "98aaca59-7b19-4119-bc0e-66c1b8da99b1"
  uuid128 {
    mostSigBits: -7445916548237541095
    leastSigBits: -4895862762689095247
  }
}
isLeader: true
bytesWritten: 0
 from dn=13bb86f7-b9e3-404e-aacf-f2f14d6d7337{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=46453, RATIS=37743, RATIS_ADMIN=37743, RATIS_SERVER=37743, STANDALONE=40493], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71 is not the leader d1adca7a-4d03-424d-9cfd-1396c845c5d2|rpc:localhost:14584|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:15,854 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:15,854 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:15,854 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:15,856 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:15,856 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/current/log_inprogress_0
2021-05-14 10:47:15,864 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-66C1B8DA99B1 with new leaderId: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:15,864 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: change Leader from null to 13bb86f7-b9e3-404e-aacf-f2f14d6d7337 at term 2 for appendEntries, leader elected after 10192ms
2021-05-14 10:47:15,867 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2c921a4a, cost 24346.212us
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(215)) - ScmSafeModeManager, all rules are successfully validated
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(244)) - SCM exiting safe mode.
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-05-14 10:47:15,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1279)) - Service ReplicationManager transitions to RUNNING.
2021-05-14 10:47:15,875 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:15,875 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:15,882 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/current/log_inprogress_0
2021-05-14 10:47:16,019 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5005645363ns, electionTimeout:5004ms
2021-05-14 10:47:16,019 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:16,020 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:47:16,020 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:16,020 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10
2021-05-14 10:47:16,022 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10 ELECTION round 0: submit vote requests at term 2 for -1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:16,025 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: receive requestVote(ELECTION, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337, group-01897B77BDBA, 2, (t:0, i:0))
2021-05-14 10:47:16,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:16,026 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:16,026 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(215)) - ScmSafeModeManager, all rules are successfully validated
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(244)) - SCM exiting safe mode.
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(215)) - ScmSafeModeManager, all rules are successfully validated
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(244)) - SCM exiting safe mode.
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:16,027 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-05-14 10:47:16,028 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FOLLOWER: reject ELECTION from 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: our priority 1 > candidate's priority 0
2021-05-14 10:47:16,028 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:16,028 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState
2021-05-14 10:47:16,028 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState
2021-05-14 10:47:16,033 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA replies to ELECTION vote request: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337<-4d03f151-3ccc-4605-be2a-5144f4a38c21#0:FAIL-t2. Peer's state: 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA:t2, leader=null, voted=null, raftlog=4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:16,033 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:16,034 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: receive requestVote(ELECTION, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337, group-01897B77BDBA, 2, (t:0, i:0))
2021-05-14 10:47:16,034 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FOLLOWER: accept ELECTION from 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: our priority 0 <= candidate's priority 0
2021-05-14 10:47:16,034 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:16,034 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:16,034 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:16,034 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:16,039 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA replies to ELECTION vote request: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t2. Peer's state: ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA:t2, leader=null, voted=13bb86f7-b9e3-404e-aacf-f2f14d6d7337, raftlog=ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:16,039 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10: ELECTION REJECTED received 1 response(s) and 0 exception(s):
2021-05-14 10:47:16,039 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337<-4d03f151-3ccc-4605-be2a-5144f4a38c21#0:FAIL-t2
2021-05-14 10:47:16,039 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10 ELECTION round 0: result REJECTED
2021-05-14 10:47:16,039 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-05-14 10:47:16,039 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10
2021-05-14 10:47:16,039 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:16,107 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:16,107 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Cluster exits safe mode
2021-05-14 10:47:16,107 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:16,107 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,107 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:14594 and Ratis port: 14594
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 0.0.0.0:14595
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 0.0.0.0:14596
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 0.0.0.0:14597
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 14594
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 14598
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:14592
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:14593
2021-05-14 10:47:16,108 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(854)) - SCM bootstrap command can only be executed in non-Primordial SCM scmNode-2, self id scmNode-2 Ignoring it.
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:14594
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: close
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: shutdown
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=908196e8-f253-4a97-92c9-a002cf81f5ec
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: shutdown 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-FollowerState
2021-05-14 10:47:16,109 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater: set stopIndex = 27
2021-05-14 10:47:16,110 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:16,113 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (SCMStateMachine.java:takeSnapshot(289)) - Current Snapshot Index 27, takeSnapshot took 3 ms
2021-05-14 10:47:16,114 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater: Took a snapshot at index 27
2021-05-14 10:47:16,114 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 27
2021-05-14 10:47:16,114 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,114 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,114 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:47:16,114 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71: closes. applyIndex: 26
2021-05-14 10:47:16,114 [908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:16,115 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71-SegmentedRaftLogWorker close()
2021-05-14 10:47:16,117 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:47:16,117 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:47:16,117 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.908196e8-f253-4a97-92c9-a002cf81f5ec@group-04363213CD71
2021-05-14 10:47:16,117 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: shutdown server with port 14594 now
2021-05-14 10:47:16,122 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: installSnapshot onError, lastRequest: d1adca7a-4d03-424d-9cfd-1396c845c5d2->908196e8-f253-4a97-92c9-a002cf81f5ec#851-t2,previous=(t:2, i:27),leaderCommit=27,initializing? true,entries: size=1, first=(t:2, i:28), METADATAENTRY(c:27): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-05-14 10:47:16,122 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->908196e8-f253-4a97-92c9-a002cf81f5ec-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-05-14 10:47:16,123 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 908196e8-f253-4a97-92c9-a002cf81f5ec: shutdown server with port 14594 successfully
2021-05-14 10:47:16,124 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->908196e8-f253-4a97-92c9-a002cf81f5ec: nextIndex: updateUnconditionally 29 -> 28
2021-05-14 10:47:16,126 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@7d468eae] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-908196e8-f253-4a97-92c9-a002cf81f5ec: Stopped
2021-05-14 10:47:16,126 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,126 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,126 [Listener at 127.0.0.1/12984] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:14594 and Ratis port: 14594
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 0.0.0.0:14595
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 0.0.0.0:14596
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 0.0.0.0:14597
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 14594
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 14598
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:14592
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:14593
2021-05-14 10:47:16,127 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:scmInit(983)) - SCM already initialized. Reusing existing cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/scmNode-2/scm;cid=e6b6e712-d708-4355-a3e3-04363213cd71; layoutVersion=0; HAEnabled=true
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:14584 and Ratis port: 14584
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 0.0.0.0:14585
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 0.0.0.0:14586
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 0.0.0.0:14587
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 14584
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 14588
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:14582
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:14583
2021-05-14 10:47:16,128 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:47:16,129 [Listener at 127.0.0.1/12984] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:16,131 [Listener at 127.0.0.1/12984] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:16,137 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->908196e8-f253-4a97-92c9-a002cf81f5ec-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:47:16,137 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->908196e8-f253-4a97-92c9-a002cf81f5ec: nextIndex: updateUnconditionally 29 -> 28
2021-05-14 10:47:16,148 [Listener at 127.0.0.1/12984] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:16,148 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,148 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:14584 and Ratis port: 14584
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 0.0.0.0:14585
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 0.0.0.0:14586
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 0.0.0.0:14587
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 14584
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 14588
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:14582
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:14583
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:scmInit(935)) - SCM init command can only be executed in Primordial SCM scmNode-2, self id scmNode-1 Ignoring it.
2021-05-14 10:47:16,149 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(443)) - Shutting down the Mini Ozone Cluster
2021-05-14 10:47:16,150 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(287)) - Stopping the OzoneManager omNode-3
2021-05-14 10:47:16,150 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12984
2021-05-14 10:47:16,155 [IPC Server listener on 12984] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12984
2021-05-14 10:47:16,156 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,156 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-05-14 10:47:16,156 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - omNode-3@group-523986131536: shutdown
2021-05-14 10:47:16,156 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-05-14 10:47:16,156 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-05-14 10:47:16,156 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:16,156 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-3@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:16,158 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:0)
2021-05-14 10:47:16,158 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:16,158 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:16,158 [omNode-3@group-523986131536-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.omNode-3@group-523986131536
2021-05-14 10:47:16,158 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - omNode-3@group-523986131536: closes. applyIndex: 0
2021-05-14 10:47:16,159 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:16,160 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-05-14 10:47:16,161 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.omNode-3@group-523986131536
2021-05-14 10:47:16,162 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.omNode-3@group-523986131536
2021-05-14 10:47:16,162 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-3@group-523986131536
2021-05-14 10:47:16,162 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 12988 now
2021-05-14 10:47:16,163 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 12988 successfully
2021-05-14 10:47:16,163 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@25e329e6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-05-14 10:47:16,163 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-14 10:47:16,163 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - omNode-3: installSnapshot onError, lastRequest: omNode-1->omNode-3#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-05-14 10:47:16,163 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - omNode-1@group-523986131536->omNode-3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-05-14 10:47:16,164 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - omNode-1@group-523986131536->omNode-3-GrpcLogAppender: Leader has not got in touch with Follower omNode-1@group-523986131536->omNode-3(c0,m0,n1, attendVote=true, lastRpcSendTime=208, lastRpcResponseTime=207) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:16,163 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-14 10:47:16,165 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,165 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,165 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,165 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,165 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-14 10:47:16,168 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@2ad5b1d7{ozoneManager,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:16,184 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@57c5425a{HTTP/1.1, (http/1.1)}{0.0.0.0:12986}
2021-05-14 10:47:16,184 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:16,185 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@75c83d45{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:16,185 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@4c0685a0{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:16,187 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(287)) - Stopping the OzoneManager omNode-1
2021-05-14 10:47:16,187 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12972
2021-05-14 10:47:16,190 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,190 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-05-14 10:47:16,190 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - omNode-1@group-523986131536: shutdown
2021-05-14 10:47:16,190 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-05-14 10:47:16,190 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-1: shutdown omNode-1@group-523986131536-LeaderStateImpl
2021-05-14 10:47:16,190 [IPC Server listener on 12972] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12972
2021-05-14 10:47:16,190 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.omNode-1@group-523986131536
2021-05-14 10:47:16,192 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.omNode-1@group-523986131536
2021-05-14 10:47:16,192 [Listener at 127.0.0.1/12984] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - omNode-1@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:16,192 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.omNode-1@group-523986131536
2021-05-14 10:47:16,192 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-1@group-523986131536
2021-05-14 10:47:16,192 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:16,192 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:0)
2021-05-14 10:47:16,193 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:16,193 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:16,193 [omNode-1@group-523986131536-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.omNode-1@group-523986131536
2021-05-14 10:47:16,193 [omNode-1@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-1@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:16,194 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-1->omNode-2#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:16,195 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-1@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:16,195 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-1@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:16,199 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - omNode-1@group-523986131536: closes. applyIndex: 0
2021-05-14 10:47:16,199 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:16,200 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-05-14 10:47:16,202 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.omNode-1@group-523986131536
2021-05-14 10:47:16,202 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.omNode-1@group-523986131536
2021-05-14 10:47:16,202 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-1@group-523986131536
2021-05-14 10:47:16,202 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 12976 now
2021-05-14 10:47:16,205 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 12976 successfully
2021-05-14 10:47:16,205 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@5f3bf6a7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-05-14 10:47:16,205 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-14 10:47:16,205 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-14 10:47:16,205 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,206 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,206 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,206 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,206 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-14 10:47:16,206 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@2333cc7e{ozoneManager,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:16,207 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@6ba5a9a6{HTTP/1.1, (http/1.1)}{0.0.0.0:12974}
2021-05-14 10:47:16,207 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:16,207 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@5844755b{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:16,207 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6dc52cd8{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:16,209 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(287)) - Stopping the OzoneManager omNode-2
2021-05-14 10:47:16,209 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12978
2021-05-14 10:47:16,212 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,212 [IPC Server listener on 12978] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12978
2021-05-14 10:47:16,212 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-05-14 10:47:16,212 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - omNode-2@group-523986131536: shutdown
2021-05-14 10:47:16,213 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-05-14 10:47:16,213 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-05-14 10:47:16,213 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:16,213 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:16,214 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:0)
2021-05-14 10:47:16,214 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:16,214 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:16,214 [omNode-2@group-523986131536-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.omNode-2@group-523986131536
2021-05-14 10:47:16,215 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - omNode-2@group-523986131536: closes. applyIndex: 0
2021-05-14 10:47:16,215 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:16,216 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-05-14 10:47:16,217 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.omNode-2@group-523986131536
2021-05-14 10:47:16,217 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.omNode-2@group-523986131536
2021-05-14 10:47:16,217 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-2@group-523986131536
2021-05-14 10:47:16,217 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 12982 now
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 12982 successfully
2021-05-14 10:47:16,220 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@535adc44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-14 10:47:16,220 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,220 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-14 10:47:16,221 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@1a1b5470{ozoneManager,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:16,222 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@778e3f79{HTTP/1.1, (http/1.1)}{0.0.0.0:12980}
2021-05-14 10:47:16,223 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:16,223 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@464ecb37{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:16,223 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@2904ecd6{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:16,225 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(295)) - Stopping the StorageContainerManager 908196e8-f253-4a97-92c9-a002cf81f5ec
2021-05-14 10:47:16,225 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1257)) - Stopping Replication Manager Service.
2021-05-14 10:47:16,225 [Listener at 127.0.0.1/12984] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-14 10:47:16,225 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1264)) - Stopping the Datanode Admin Monitor.
2021-05-14 10:47:16,225 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1271)) - Stopping Lease Manager of the command watchers
2021-05-14 10:47:16,225 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1278)) - Stopping datanode service RPC server
2021-05-14 10:47:16,226 [Listener at 127.0.0.1/12984] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-14 10:47:16,226 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14595
2021-05-14 10:47:16,226 [IPC Server listener on 14595] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14595
2021-05-14 10:47:16,228 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,323 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-14 10:47:16,323 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1286)) - Stopping block service RPC server
2021-05-14 10:47:16,323 [Listener at 127.0.0.1/12984] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-14 10:47:16,324 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14596
2021-05-14 10:47:16,326 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1293)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-14 10:47:16,326 [Listener at 127.0.0.1/12984] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-14 10:47:16,327 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14597
2021-05-14 10:47:16,327 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,327 [IPC Server listener on 14596] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14596
2021-05-14 10:47:16,330 [IPC Server listener on 14597] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14597
2021-05-14 10:47:16,331 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1300)) - Stopping Storage Container Manager HTTP server.
2021-05-14 10:47:16,331 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@12b2f8df{scm,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:16,332 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,332 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@232a6455{HTTP/1.1, (http/1.1)}{0.0.0.0:14592}
2021-05-14 10:47:16,332 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:16,333 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@4607ad4c{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:16,333 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@57a66306{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:16,334 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1311)) - Stopping Block Manager Service.
2021-05-14 10:47:16,334 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:16,335 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:16,335 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping SCM Event Queue.
2021-05-14 10:47:16,337 [Listener at 127.0.0.1/12984] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:14594
2021-05-14 10:47:16,338 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:16,338 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:16,338 [Listener at 127.0.0.1/12984] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-14 10:47:16,339 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-05-14 10:47:16,347 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-05-14 10:47:16,347 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-05-14 10:47:16,348 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(295)) - Stopping the StorageContainerManager d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:47:16,348 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1257)) - Stopping Replication Manager Service.
2021-05-14 10:47:16,349 [Listener at 127.0.0.1/12984] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-14 10:47:16,349 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1264)) - Stopping the Datanode Admin Monitor.
2021-05-14 10:47:16,349 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1271)) - Stopping Lease Manager of the command watchers
2021-05-14 10:47:16,349 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1278)) - Stopping datanode service RPC server
2021-05-14 10:47:16,349 [Listener at 127.0.0.1/12984] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-14 10:47:16,349 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14585
2021-05-14 10:47:16,355 [IPC Server listener on 14585] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14585
2021-05-14 10:47:16,357 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:16,681 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at localhost:14595 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "4a783e42cd9e/172.17.0.2"; destination host is: "localhost":14595; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:794)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1880)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1191)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1087)
2021-05-14 10:47:16,681 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at localhost:14585 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "4a783e42cd9e/172.17.0.2"; destination host is: "localhost":14585; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:794)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1880)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1191)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1087)
2021-05-14 10:47:17,017 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-14 10:47:17,018 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1286)) - Stopping block service RPC server
2021-05-14 10:47:17,019 [Listener at 127.0.0.1/12984] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-14 10:47:17,019 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14586
2021-05-14 10:47:17,022 [IPC Server listener on 14586] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14586
2021-05-14 10:47:17,022 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:17,023 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1293)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-14 10:47:17,023 [Listener at 127.0.0.1/12984] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-14 10:47:17,024 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14587
2021-05-14 10:47:17,033 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:17,033 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1300)) - Stopping Storage Container Manager HTTP server.
2021-05-14 10:47:17,033 [IPC Server listener on 14587] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14587
2021-05-14 10:47:17,035 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@382cc1f9{scm,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:17,035 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5761d2b5{HTTP/1.1, (http/1.1)}{0.0.0.0:14582}
2021-05-14 10:47:17,036 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:17,036 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@513f7ecf{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:17,036 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@36ada79e{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:17,037 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1311)) - Stopping Block Manager Service.
2021-05-14 10:47:17,037 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:17,037 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:17,037 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping SCM Event Queue.
2021-05-14 10:47:17,038 [Listener at 127.0.0.1/12984] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:14584
2021-05-14 10:47:17,039 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: close
2021-05-14 10:47:17,039 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: shutdown
2021-05-14 10:47:17,039 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=d1adca7a-4d03-424d-9cfd-1396c845c5d2
2021-05-14 10:47:17,039 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-LeaderStateImpl
2021-05-14 10:47:17,039 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,039 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->908196e8-f253-4a97-92c9-a002cf81f5ec-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->908196e8-f253-4a97-92c9-a002cf81f5ec-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:17,040 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,040 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->c990f7d5-739c-4123-b307-fc4a5a88a567-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->c990f7d5-739c-4123-b307-fc4a5a88a567-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:17,040 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - c990f7d5-739c-4123-b307-fc4a5a88a567: Completed APPEND_ENTRIES, lastRequest: d1adca7a-4d03-424d-9cfd-1396c845c5d2->c990f7d5-739c-4123-b307-fc4a5a88a567#811-t2,previous=(t:2, i:27),leaderCommit=27,initializing? true,entries: size=1, first=(t:2, i:28), METADATAENTRY(c:27)
2021-05-14 10:47:17,040 [Listener at 127.0.0.1/12984] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:17,041 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyNotLeader(179)) - current leader SCM steps down.
2021-05-14 10:47:17,041 [Listener at 127.0.0.1/12984] INFO  ha.SCMContext (SCMContext.java:updateLeaderAndTerm(88)) - update <isLeader,term> from <true,2> to <false,0>
2021-05-14 10:47:17,041 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->c990f7d5-739c-4123-b307-fc4a5a88a567-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:17,047 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71->c990f7d5-739c-4123-b307-fc4a5a88a567: nextIndex: updateUnconditionally 29 -> 28
2021-05-14 10:47:17,048 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,048 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,048 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater: set stopIndex = 28
2021-05-14 10:47:17,048 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (SCMStateMachine.java:takeSnapshot(289)) - Current Snapshot Index 28, takeSnapshot took 0 ms
2021-05-14 10:47:17,048 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater: Took a snapshot at index 28
2021-05-14 10:47:17,048 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 28
2021-05-14 10:47:17,048 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:17,048 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:17,048 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,048 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71: closes. applyIndex: 28
2021-05-14 10:47:17,049 [d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:17,049 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71-SegmentedRaftLogWorker close()
2021-05-14 10:47:17,050 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,050 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,050 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.d1adca7a-4d03-424d-9cfd-1396c845c5d2@group-04363213CD71
2021-05-14 10:47:17,050 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown server with port 14584 now
2021-05-14 10:47:17,052 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - d1adca7a-4d03-424d-9cfd-1396c845c5d2: shutdown server with port 14584 successfully
2021-05-14 10:47:17,052 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4b43533f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-d1adca7a-4d03-424d-9cfd-1396c845c5d2: Stopped
2021-05-14 10:47:17,052 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:17,052 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:17,052 [Listener at 127.0.0.1/12984] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - HddsDatanode metrics system stopped (again)
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(295)) - Stopping the StorageContainerManager c990f7d5-739c-4123-b307-fc4a5a88a567
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1257)) - Stopping Replication Manager Service.
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1264)) - Stopping the Datanode Admin Monitor.
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1271)) - Stopping Lease Manager of the command watchers
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1278)) - Stopping datanode service RPC server
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-14 10:47:17,053 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14605
2021-05-14 10:47:17,055 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:17,055 [IPC Server listener on 14605] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14605
2021-05-14 10:47:17,122 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-14 10:47:17,123 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1286)) - Stopping block service RPC server
2021-05-14 10:47:17,123 [Listener at 127.0.0.1/12984] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-14 10:47:17,123 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14606
2021-05-14 10:47:17,125 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:17,125 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1293)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-14 10:47:17,125 [Listener at 127.0.0.1/12984] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-14 10:47:17,125 [Listener at 127.0.0.1/12984] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 14607
2021-05-14 10:47:17,125 [IPC Server listener on 14606] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14606
2021-05-14 10:47:17,127 [IPC Server listener on 14607] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 14607
2021-05-14 10:47:17,128 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:17,128 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1300)) - Stopping Storage Container Manager HTTP server.
2021-05-14 10:47:17,129 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@3618dd9b{scm,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:17,129 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2420ac4d{HTTP/1.1, (http/1.1)}{0.0.0.0:14602}
2021-05-14 10:47:17,129 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:17,130 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@54b6f0cd{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:17,130 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6d47b6a5{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:17,131 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1311)) - Stopping Block Manager Service.
2021-05-14 10:47:17,131 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:17,131 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:17,131 [Listener at 127.0.0.1/12984] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping SCM Event Queue.
2021-05-14 10:47:17,133 [Listener at 127.0.0.1/12984] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:14604
2021-05-14 10:47:17,133 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - c990f7d5-739c-4123-b307-fc4a5a88a567: close
2021-05-14 10:47:17,133 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: shutdown
2021-05-14 10:47:17,133 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-04363213CD71,id=c990f7d5-739c-4123-b307-fc4a5a88a567
2021-05-14 10:47:17,133 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - c990f7d5-739c-4123-b307-fc4a5a88a567: shutdown c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-FollowerState
2021-05-14 10:47:17,133 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:17,134 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (SCMStateMachine.java:takeSnapshot(289)) - Current Snapshot Index 27, takeSnapshot took 0 ms
2021-05-14 10:47:17,134 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater: Took a snapshot at index 27
2021-05-14 10:47:17,134 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 27
2021-05-14 10:47:17,134 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:17,134 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:17,134 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:47:17,134 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-StateMachineUpdater: set stopIndex = 27
2021-05-14 10:47:17,135 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71: closes. applyIndex: 26
2021-05-14 10:47:17,135 [c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:17,135 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71-SegmentedRaftLogWorker close()
2021-05-14 10:47:17,136 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:47:17,136 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:47:17,136 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.c990f7d5-739c-4123-b307-fc4a5a88a567@group-04363213CD71
2021-05-14 10:47:17,136 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - c990f7d5-739c-4123-b307-fc4a5a88a567: shutdown server with port 14604 now
2021-05-14 10:47:17,137 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - c990f7d5-739c-4123-b307-fc4a5a88a567: shutdown server with port 14604 successfully
2021-05-14 10:47:17,137 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@b0a9d67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-c990f7d5-739c-4123-b307-fc4a5a88a567: Stopped
2021-05-14 10:47:17,137 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:17,137 [Listener at 127.0.0.1/12984] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:17,137 [Listener at 127.0.0.1/12984] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-14 10:47:17,138 [Listener at 127.0.0.1/12984] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - HddsDatanode metrics system stopped (again)
2021-05-14 10:47:17,138 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(458)) - Stopping the Mini Ozone Cluster
2021-05-14 10:47:17,138 [Listener at 127.0.0.1/12984] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(517)) - Stopping the HddsDatanodes
2021-05-14 10:47:17,679 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(411)) - Ozone container server started.
2021-05-14 10:47:17,838 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:17,838 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 127.0.0.1:14605 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "4a783e42cd9e/172.17.0.2"; destination host is: "localhost":14605; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:794)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1880)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1191)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1087)
2021-05-14 10:47:17,838 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:18,025 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:setState(217)) - Ignore disallowed transition from SHUTDOWN to RUNNING
2021-05-14 10:47:18,025 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(411)) - Ozone container server started.
2021-05-14 10:47:18,839 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:18,839 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:19,838 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:19,840 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:19,840 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:20,839 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:20,840 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:20,840 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:21,039 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5010892347ns, electionTimeout:5006ms
2021-05-14 10:47:21,039 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState
2021-05-14 10:47:21,039 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-05-14 10:47:21,040 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:21,040 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11
2021-05-14 10:47:21,041 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11 ELECTION round 0: submit vote requests at term 3 for -1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:21,043 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: receive requestVote(ELECTION, 4d03f151-3ccc-4605-be2a-5144f4a38c21, group-01897B77BDBA, 3, (t:0, i:0))
2021-05-14 10:47:21,044 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FOLLOWER: accept ELECTION from 4d03f151-3ccc-4605-be2a-5144f4a38c21: our priority 0 <= candidate's priority 1
2021-05-14 10:47:21,044 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:21,044 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:21,044 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: start ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:21,044 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:21,045 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA replies to ELECTION vote request: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t3. Peer's state: ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA:t3, leader=null, voted=4d03f151-3ccc-4605-be2a-5144f4a38c21, raftlog=ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|priority:1], old=null
2021-05-14 10:47:21,050 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: receive requestVote(ELECTION, 4d03f151-3ccc-4605-be2a-5144f4a38c21, group-01897B77BDBA, 3, (t:0, i:0))
2021-05-14 10:47:21,050 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FOLLOWER: accept ELECTION from 4d03f151-3ccc-4605-be2a-5144f4a38c21: our priority 0 <= candidate's priority 1
2021-05-14 10:47:21,050 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:21,050 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:21,050 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:21,050 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:21,051 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA replies to ELECTION vote request: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-13bb86f7-b9e3-404e-aacf-f2f14d6d7337#0:OK-t3. Peer's state: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA:t3, leader=null, voted=4d03f151-3ccc-4605-be2a-5144f4a38c21, raftlog=13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:21,053 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-05-14 10:47:21,053 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 4d03f151-3ccc-4605-be2a-5144f4a38c21<-ce1805ff-2dcb-46c6-b498-d5b4f44927c4#0:OK-t3
2021-05-14 10:47:21,053 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11 ELECTION round 0: result PASSED
2021-05-14 10:47:21,053 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11
2021-05-14 10:47:21,054 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2021-05-14 10:47:21,054 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-01897B77BDBA with new leaderId: 4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: change Leader from null to 4d03f151-3ccc-4605-be2a-5144f4a38c21 at term 3 for becomeLeader, leader elected after 15198ms
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:21,058 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:21,059 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:21,059 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-05-14 10:47:21,059 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:21,059 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:21,059 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:21,059 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:21,060 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: start 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderStateImpl
2021-05-14 10:47:21,061 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:21,062 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/current/log_inprogress_0
2021-05-14 10:47:21,064 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-01897B77BDBA with new leaderId: 4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:21,065 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: change Leader from null to 4d03f151-3ccc-4605-be2a-5144f4a38c21 at term 3 for appendEntries, leader elected after 15137ms
2021-05-14 10:47:21,070 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:21,074 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:21,074 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:21,075 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-01897B77BDBA with new leaderId: 4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:21,076 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: change Leader from null to 4d03f151-3ccc-4605-be2a-5144f4a38c21 at term 3 for appendEntries, leader elected after 15164ms
2021-05-14 10:47:21,076 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/current/log_inprogress_0
2021-05-14 10:47:21,078 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: set configuration 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:0, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:1], old=null
2021-05-14 10:47:21,079 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:21,081 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/current/log_inprogress_0
2021-05-14 10:47:21,839 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:21,840 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:21,841 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:22,140 [ForkJoinPool.commonPool-worker-1] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(312)) - Attempting to stop container services.
2021-05-14 10:47:22,140 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(312)) - Attempting to stop container services.
2021-05-14 10:47:22,140 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: close
2021-05-14 10:47:22,140 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: shutdown
2021-05-14 10:47:22,141 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: close
2021-05-14 10:47:22,141 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-14E5070EB3A4,id=4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:22,141 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: shutdown
2021-05-14 10:47:22,141 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-LeaderStateImpl
2021-05-14 10:47:22,141 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-66C1B8DA99B1,id=ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:22,142 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:22,142 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:22,142 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-66C1B8DA99B1: Taking a snapshot at:(t:2, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/sm/snapshot.2_0
2021-05-14 10:47:22,141 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:22,142 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:22,143 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:22,144 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:22,145 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-14E5070EB3A4: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4/sm/snapshot.1_0
2021-05-14 10:47:22,145 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:22,200 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-66C1B8DA99B1: Finished taking a snapshot at:(t:2, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/sm/snapshot.2_0 took: 58 ms
2021-05-14 10:47:22,200 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-14E5070EB3A4: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/d64a3df9-3b8a-4ca8-881d-14e5070eb3a4/sm/snapshot.1_0 took: 55 ms
2021-05-14 10:47:22,201 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:22,201 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:22,201 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:22,201 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:22,202 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:22,202 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:22,202 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4: closes. applyIndex: 0
2021-05-14 10:47:22,202 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1: closes. applyIndex: 0
2021-05-14 10:47:22,202 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:22,203 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:22,203 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1-SegmentedRaftLogWorker close()
2021-05-14 10:47:22,203 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4-SegmentedRaftLogWorker close()
2021-05-14 10:47:22,204 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:22,204 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:22,204 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:22,204 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-14E5070EB3A4
2021-05-14 10:47:22,204 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: shutdown
2021-05-14 10:47:22,205 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-66C1B8DA99B1,id=4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:22,205 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:22,205 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:22,205 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:22,204 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:22,205 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-66C1B8DA99B1
2021-05-14 10:47:22,205 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-66C1B8DA99B1: Taking a snapshot at:(t:2, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/sm/snapshot.2_0
2021-05-14 10:47:22,205 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: shutdown
2021-05-14 10:47:22,206 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01897B77BDBA,id=ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:22,206 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState
2021-05-14 10:47:22,206 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-StateMachineUpdater: set stopIndex = -1
2021-05-14 10:47:22,206 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-66C1B8DA99B1: Finished taking a snapshot at:(t:2, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/sm/snapshot.2_0 took: 1 ms
2021-05-14 10:47:22,206 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:22,206 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:22,206 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:22,206 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:22,207 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA: closes. applyIndex: -1
2021-05-14 10:47:22,206 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:22,207 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:22,207 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1: closes. applyIndex: 0
2021-05-14 10:47:22,207 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA-SegmentedRaftLogWorker close()
2021-05-14 10:47:22,208 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:22,209 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:22,209 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1-SegmentedRaftLogWorker close()
2021-05-14 10:47:22,209 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:22,209 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:22,209 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-01897B77BDBA
2021-05-14 10:47:22,209 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:22,211 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-66C1B8DA99B1
2021-05-14 10:47:22,211 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: shutdown
2021-05-14 10:47:22,211 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01897B77BDBA,id=4d03f151-3ccc-4605-be2a-5144f4a38c21
2021-05-14 10:47:22,211 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-LeaderStateImpl
2021-05-14 10:47:22,211 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,211 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: shutdown
2021-05-14 10:47:22,211 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:22,211 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,213 [ForkJoinPool.commonPool-worker-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:22,211 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B0A66DF5F80F,id=ce1805ff-2dcb-46c6-b498-d5b4f44927c4
2021-05-14 10:47:22,213 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: Completed APPEND_ENTRIES, lastRequest: 4d03f151-3ccc-4605-be2a-5144f4a38c21->ce1805ff-2dcb-46c6-b498-d5b4f44927c4#1-t3,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:3, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:22,213 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->13bb86f7-b9e3-404e-aacf-f2f14d6d7337-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->13bb86f7-b9e3-404e-aacf-f2f14d6d7337-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:22,214 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: Completed APPEND_ENTRIES, lastRequest: 4d03f151-3ccc-4605-be2a-5144f4a38c21->13bb86f7-b9e3-404e-aacf-f2f14d6d7337#1-t3,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:3, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:22,213 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,214 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,214 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-01897B77BDBA: Taking a snapshot at:(t:3, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/sm/snapshot.3_0
2021-05-14 10:47:22,215 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->13bb86f7-b9e3-404e-aacf-f2f14d6d7337-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:22,215 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->13bb86f7-b9e3-404e-aacf-f2f14d6d7337: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:22,213 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-LeaderStateImpl
2021-05-14 10:47:22,215 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:22,214 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:22,215 [Listener at 127.0.0.1/12984] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:22,215 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA->ce1805ff-2dcb-46c6-b498-d5b4f44927c4: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:22,216 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:22,216 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:22,218 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-01897B77BDBA: Finished taking a snapshot at:(t:3, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-0/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/sm/snapshot.3_0 took: 3 ms
2021-05-14 10:47:22,218 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-B0A66DF5F80F: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f/sm/snapshot.1_0
2021-05-14 10:47:22,218 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:22,218 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:22,218 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:22,218 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-B0A66DF5F80F: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-1/data/ratis/6bd13152-f265-4479-a19f-b0a66df5f80f/sm/snapshot.1_0 took: 0 ms
2021-05-14 10:47:22,218 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,218 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA: closes. applyIndex: 0
2021-05-14 10:47:22,219 [4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:22,219 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA-SegmentedRaftLogWorker close()
2021-05-14 10:47:22,218 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:22,219 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,219 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,219 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.4d03f151-3ccc-4605-be2a-5144f4a38c21@group-01897B77BDBA
2021-05-14 10:47:22,219 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown server with port 36481 now
2021-05-14 10:47:22,219 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:22,220 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:22,222 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: installSnapshot onError, lastRequest: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337->4d03f151-3ccc-4605-be2a-5144f4a38c21#1-t2,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-05-14 10:47:22,222 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-05-14 10:47:22,222 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21-GrpcLogAppender: Leader has not got in touch with Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21(c0,m0,n1, attendVote=true, lastRpcSendTime=1333, lastRpcResponseTime=1332) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:22,223 [ForkJoinPool.commonPool-worker-1] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 4d03f151-3ccc-4605-be2a-5144f4a38c21: shutdown server with port 36481 successfully
2021-05-14 10:47:22,224 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@30ea0822] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-4d03f151-3ccc-4605-be2a-5144f4a38c21: Stopped
2021-05-14 10:47:22,223 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F: closes. applyIndex: 0
2021-05-14 10:47:22,225 [ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:22,225 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F-SegmentedRaftLogWorker close()
2021-05-14 10:47:22,225 [ForkJoinPool.commonPool-worker-1] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-05-14 10:47:22,238 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:22,238 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:22,238 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.ce1805ff-2dcb-46c6-b498-d5b4f44927c4@group-B0A66DF5F80F
2021-05-14 10:47:22,238 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown server with port 40837 now
2021-05-14 10:47:22,240 [ForkJoinPool.commonPool-worker-1] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(469)) - Ozone container server stopped.
2021-05-14 10:47:22,242 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: installSnapshot onError, lastRequest: 13bb86f7-b9e3-404e-aacf-f2f14d6d7337->ce1805ff-2dcb-46c6-b498-d5b4f44927c4#1-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2021-05-14 10:47:22,246 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: HTTP/2 error code: CANCEL
Received Rst Stream
2021-05-14 10:47:22,246 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-GrpcLogAppender: Leader has not got in touch with Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4(c0,m0,n1, attendVote=true, lastRpcSendTime=1358, lastRpcResponseTime=1356) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:22,274 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - ce1805ff-2dcb-46c6-b498-d5b4f44927c4: shutdown server with port 40837 successfully
2021-05-14 10:47:22,278 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@23717ac6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-ce1805ff-2dcb-46c6-b498-d5b4f44927c4: Stopped
2021-05-14 10:47:22,278 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-05-14 10:47:22,282 [Listener at 127.0.0.1/12984] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(469)) - Ozone container server stopped.
2021-05-14 10:47:22,292 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@286a58a6{hddsDatanode,/,null,STOPPED}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:22,294 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@2c2dd45{hddsDatanode,/,null,STOPPED}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:22,298 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4c427f3{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-05-14 10:47:22,298 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:22,299 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@32fe1871{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-05-14 10:47:22,299 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@134ae12e{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:22,302 [ForkJoinPool.commonPool-worker-1] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@79c7c6c4{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-05-14 10:47:22,302 [ForkJoinPool.commonPool-worker-1] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:22,302 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@5887ab18{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-05-14 10:47:22,303 [ForkJoinPool.commonPool-worker-1] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6008982e{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:22,838 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:setState(217)) - Ignore disallowed transition from SHUTDOWN to RUNNING
2021-05-14 10:47:22,839 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(411)) - Ozone container server started.
2021-05-14 10:47:22,840 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:22,841 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:22,842 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:23,391 [grpc-default-executor-2] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:47:23,392 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:47:23,392 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21-GrpcLogAppender: Leader has not got in touch with Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21(c0,m0,n1, attendVote=true, lastRpcSendTime=1, lastRpcResponseTime=2502) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:23,393 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-GrpcLogAppender: Leader has not got in touch with Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4(c0,m0,n1, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=2503) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:23,840 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:23,841 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:23,842 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:24,841 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:24,841 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:24,842 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:25,841 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:25,842 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:25,843 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:25,891 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:47:25,892 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21-GrpcLogAppender: Leader has not got in touch with Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21(c0,m0,n1, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=5001) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:25,893 [grpc-default-executor-3] WARN  server.GrpcLogAppender (LogUtils.java:warn(122)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:47:25,893 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(111)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4-GrpcLogAppender: Leader has not got in touch with Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4(c0,m0,n1, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=5004) yet, just keep nextIndex unchanged and retry.
2021-05-14 10:47:26,259 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(944)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 5200ms. In charge for: 10427ms. Conf: 0: [ce1805ff-2dcb-46c6-b498-d5b4f44927c4|rpc:127.0.0.1:40837|dataStream:|priority:0, 13bb86f7-b9e3-404e-aacf-f2f14d6d7337|rpc:127.0.0.1:37743|dataStream:|priority:1, 4d03f151-3ccc-4605-be2a-5144f4a38c21|rpc:127.0.0.1:36481|dataStream:|priority:0], old=null
2021-05-14 10:47:26,259 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$15(948)) - Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->ce1805ff-2dcb-46c6-b498-d5b4f44927c4(c0,m0,n1, attendVote=true, lastRpcSendTime=366, lastRpcResponseTime=5369)
2021-05-14 10:47:26,259 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$15(948)) - Follower 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1->4d03f151-3ccc-4605-be2a-5144f4a38c21(c0,m0,n1, attendVote=true, lastRpcSendTime=368, lastRpcResponseTime=5369)
2021-05-14 10:47:26,259 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2021-05-14 10:47:26,259 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl
2021-05-14 10:47:26,260 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:26,260 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:26,260 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:26,260 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:26,260 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:26,260 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: start 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:26,842 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:26,843 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:26,844 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:27,304 [Listener at 127.0.0.1/12984] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(312)) - Attempting to stop container services.
2021-05-14 10:47:27,306 [Listener at 127.0.0.1/12984] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: close
2021-05-14 10:47:27,306 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: shutdown
2021-05-14 10:47:27,306 [Listener at 127.0.0.1/12984] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-66C1B8DA99B1,id=13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:27,306 [Listener at 127.0.0.1/12984] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState
2021-05-14 10:47:27,307 [Listener at 127.0.0.1/12984] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:27,307 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-66C1B8DA99B1: Taking a snapshot at:(t:2, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/sm/snapshot.2_0
2021-05-14 10:47:27,308 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: shutdown
2021-05-14 10:47:27,308 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01897B77BDBA,id=13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:27,308 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-66C1B8DA99B1: Finished taking a snapshot at:(t:2, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/98aaca59-7b19-4119-bc0e-66c1b8da99b1/sm/snapshot.2_0 took: 1 ms
2021-05-14 10:47:27,308 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:27,308 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState
2021-05-14 10:47:27,309 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:27,309 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-01897B77BDBA: Taking a snapshot at:(t:3, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/sm/snapshot.3_0
2021-05-14 10:47:27,309 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:27,310 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:27,310 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-01897B77BDBA: Finished taking a snapshot at:(t:3, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/a08b9dfd-1385-485f-bff1-01897b77bdba/sm/snapshot.3_0 took: 1 ms
2021-05-14 10:47:27,310 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:27,310 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:27,310 [Listener at 127.0.0.1/12984] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1: closes. applyIndex: 0
2021-05-14 10:47:27,311 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:27,311 [Listener at 127.0.0.1/12984] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1-SegmentedRaftLogWorker close()
2021-05-14 10:47:27,310 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:27,311 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:27,311 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:27,315 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA: closes. applyIndex: 0
2021-05-14 10:47:27,315 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:27,315 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:27,315 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:27,315 [Listener at 127.0.0.1/12984] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-66C1B8DA99B1
2021-05-14 10:47:27,315 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA-SegmentedRaftLogWorker close()
2021-05-14 10:47:27,315 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-01897B77BDBA
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: shutdown
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-ABCE64936FD9,id=13bb86f7-b9e3-404e-aacf-f2f14d6d7337
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-LeaderStateImpl
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:27,316 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:27,317 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-ABCE64936FD9: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9/sm/snapshot.1_0
2021-05-14 10:47:27,317 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:27,317 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-ABCE64936FD9: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-e6b6e712-d708-4355-a3e3-04363213cd71/datanode-2/data/ratis/433111ee-ced4-47c3-aad2-abce64936fd9/sm/snapshot.1_0 took: 1 ms
2021-05-14 10:47:27,318 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:27,318 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:27,318 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:27,318 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9: closes. applyIndex: 0
2021-05-14 10:47:27,318 [13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:27,318 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9-SegmentedRaftLogWorker close()
2021-05-14 10:47:27,319 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:27,319 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:27,319 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.13bb86f7-b9e3-404e-aacf-f2f14d6d7337@group-ABCE64936FD9
2021-05-14 10:47:27,319 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown server with port 37743 now
2021-05-14 10:47:27,321 [Listener at 127.0.0.1/12984] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 13bb86f7-b9e3-404e-aacf-f2f14d6d7337: shutdown server with port 37743 successfully
2021-05-14 10:47:27,321 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4687e47a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-13bb86f7-b9e3-404e-aacf-f2f14d6d7337: Stopped
2021-05-14 10:47:27,321 [Listener at 127.0.0.1/12984] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-05-14 10:47:27,322 [Listener at 127.0.0.1/12984] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(469)) - Ozone container server stopped.
2021-05-14 10:47:27,331 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@47fc8da9{hddsDatanode,/,null,STOPPED}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:27,331 [Listener at 127.0.0.1/12984] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@15c4b2ab{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-05-14 10:47:27,331 [Listener at 127.0.0.1/12984] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:27,332 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@4573e516{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-05-14 10:47:27,332 [Listener at 127.0.0.1/12984] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@d55f41a{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:27,401 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:27,401 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:27,401 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:12560 and Ratis port: 12560
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 127.0.0.1:12561
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12562
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12563
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 12560
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 12564
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:12558
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:12559
2021-05-14 10:47:27,402 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:47:27,403 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:27,403 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:27,403 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:27,404 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12560 (custom)
2021-05-14 10:47:27,404 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:27,404 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12560 (custom)
2021-05-14 10:47:27,404 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12560 (custom)
2021-05-14 10:47:27,404 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:47:27,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:27,404 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:27,404 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:27,405 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:27,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:27,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:27,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha] (custom)
2021-05-14 10:47:27,410 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: addNew group-3787B3FB8CF8:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|priority:0] returns group-3787B3FB8CF8:java.util.concurrent.CompletableFuture@5c4f077e[Not completed]
2021-05-14 10:47:27,410 [pool-167-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: new RaftServerImpl for group-3787B3FB8CF8:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|priority:0] with SCMStateMachine:uninitialized
2021-05-14 10:47:27,410 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:47:27,410 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:27,410 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:27,410 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:27,410 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:27,411 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:27,411 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:27,411 [pool-167-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: ConfigurationManager, init=-1: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:27,411 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha] (custom)
2021-05-14 10:47:27,411 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:27,411 [pool-167-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8 does not exist. Creating ...
2021-05-14 10:47:27,412 [pool-167-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:27,413 [pool-167-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8 has been successfully formatted.
2021-05-14 10:47:27,414 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:47:27,414 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:27,414 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:27,414 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:27,414 [pool-167-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:27,414 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:27,415 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:27,416 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:27,416 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:27,416 [pool-167-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:27,416 [pool-167-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:27,418 [pool-167-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:27,419 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: start as a follower, conf=-1: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|priority:0], old=null
2021-05-14 10:47:27,419 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:27,419 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:27,422 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:27,422 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:27,422 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start RPC server
2021-05-14 10:47:27,423 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: GrpcService started, listening on 12560
2021-05-14 10:47:27,424 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@242abfb3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-8df10fef-55be-4806-8780-dfc1dd1ab112: Started
2021-05-14 10:47:27,843 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:27,843 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:27,844 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:28,844 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:28,844 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:28,845 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:29,844 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:29,844 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:29,845 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:30,845 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:30,845 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:30,845 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:31,846 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:31,846 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:31,846 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:31,847 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at localhost:14585 for past 0 seconds.
java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:14585 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:760)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:534)
	at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:699)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:812)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	... 12 more
2021-05-14 10:47:31,847 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at localhost:14595 for past 0 seconds.
java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:14595 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:760)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:534)
	at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:699)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:812)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	... 12 more
2021-05-14 10:47:32,576 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5157136273ns, electionTimeout:5154ms
2021-05-14 10:47:32,577 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:32,577 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:32,577 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:32,577 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12
2021-05-14 10:47:32,579 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|priority:0], old=null
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: change Leader from null to 8df10fef-55be-4806-8780-dfc1dd1ab112 at term 1 for becomeLeader, leader elected after 5165ms
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:47:32,580 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:32,581 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:32,581 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl
2021-05-14 10:47:32,581 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:32,582 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:32,582 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0
2021-05-14 10:47:32,847 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:32,848 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:32,849 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:33,424 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: close
2021-05-14 10:47:33,425 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: shutdown
2021-05-14 10:47:33,425 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:33,425 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl
2021-05-14 10:47:33,425 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:33,425 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,425 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,425 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:33,426 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:33,426 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:33,426 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,427 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: closes. applyIndex: 0
2021-05-14 10:47:33,427 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:33,427 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker close()
2021-05-14 10:47:33,428 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,428 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,428 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,428 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown server with port 12560 now
2021-05-14 10:47:33,429 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown server with port 12560 successfully
2021-05-14 10:47:33,429 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@242abfb3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-8df10fef-55be-4806-8780-dfc1dd1ab112: Stopped
2021-05-14 10:47:33,431 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:scmInit(962)) - SCM initialization succeeded. Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm; cid=ac43cffd-4173-4f98-855f-3787b3fb8cf8; layoutVersion=0; scmId=8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:33,431 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:33,431 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:33,435 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:12560 and Ratis port: 12560
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 127.0.0.1:12561
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12562
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12563
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 12560
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 12564
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:12558
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:12559
2021-05-14 10:47:33,436 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:47:33,437 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:33,437 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:33,438 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:33,512 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:47:33,512 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:47:33,515 [Time-limited test] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:33,516 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:33,516 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:33,517 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:33,517 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12560 (custom)
2021-05-14 10:47:33,517 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:33,517 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12560 (custom)
2021-05-14 10:47:33,517 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12560 (custom)
2021-05-14 10:47:33,517 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:47:33,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:33,517 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:33,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:33,519 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:33,519 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:33,519 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:33,519 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha] (custom)
2021-05-14 10:47:33,519 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: found a subdirectory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8
2021-05-14 10:47:33,520 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: addNew group-3787B3FB8CF8:[] returns group-3787B3FB8CF8:java.util.concurrent.CompletableFuture@7c139f56[Not completed]
2021-05-14 10:47:33,520 [pool-180-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: new RaftServerImpl for group-3787B3FB8CF8:[] with SCMStateMachine:uninitialized
2021-05-14 10:47:33,520 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:47:33,520 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:33,520 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:33,520 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:33,521 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:33,521 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:33,521 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:33,521 [pool-180-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:33,521 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha] (custom)
2021-05-14 10:47:33,521 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:33,523 [pool-180-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:33,523 [pool-180-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(108)) - Read RaftStorageMetadata{term=1, votedFor=8df10fef-55be-4806-8780-dfc1dd1ab112} from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/raft-meta
2021-05-14 10:47:33,523 [pool-180-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:33,523 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:47:33,523 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:33,524 [pool-180-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:33,525 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:33,526 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:33,526 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:33,527 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:47:33,528 [pool-180-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:33,528 [pool-180-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,528 [pool-180-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,530 [Time-limited test] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:47:33,530 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:33,531 [Time-limited test] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:47:33,532 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:47:33,532 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:47:33,533 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:47:33,533 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:47:33,533 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:47:33,534 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:47:33,534 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:47:33,534 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:47:33,534 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:47:33,534 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:47:33,538 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:47:33,538 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:47:33,539 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:47:33,539 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:47:33,540 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:47:33,540 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:47:33,541 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:33,541 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:47:33,546 [Socket Reader #1 for port 12561] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12561
2021-05-14 10:47:33,546 [Listener at 0.0.0.0/12561] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:33,547 [Socket Reader #1 for port 12562] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12562
2021-05-14 10:47:33,547 [Listener at 0.0.0.0/12562] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:33,554 [Socket Reader #1 for port 12563] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12563
2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:12563
2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:12560
2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: start as a follower, conf=0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:33,559 [Listener at 0.0.0.0/12563] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-05-14 10:47:33,560 [Listener at 0.0.0.0/12563] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:33,560 [Listener at 0.0.0.0/12563] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:33,560 [Listener at 0.0.0.0/12563] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:33,560 [Listener at 0.0.0.0/12563] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start RPC server
2021-05-14 10:47:33,561 [Listener at 0.0.0.0/12563] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: GrpcService started, listening on 12560
2021-05-14 10:47:33,561 [Listener at 0.0.0.0/12563] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(120)) -  scm role is FOLLOWER peers [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:33,561 [Listener at 0.0.0.0/12563] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 12564
2021-05-14 10:47:33,562 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@28d569f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-8df10fef-55be-4806-8780-dfc1dd1ab112: Started
2021-05-14 10:47:33,564 [Listener at 0.0.0.0/12563] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-05-14 10:47:33,566 [Listener at 0.0.0.0/12563] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-14 10:47:33,566 [Listener at 0.0.0.0/12563] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-05-14 10:47:33,588 [Listener at 0.0.0.0/12563] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-14 10:47:33,588 [Listener at 0.0.0.0/12563] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-14 10:47:33,591 [Listener at 0.0.0.0/12563] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:12563
2021-05-14 10:47:33,592 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:33,595 [IPC Server listener on 12563] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12563: starting
2021-05-14 10:47:33,610 [Listener at 0.0.0.0/12563] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:12562
2021-05-14 10:47:33,611 [Listener at 0.0.0.0/12563] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:12562
2021-05-14 10:47:33,611 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:33,611 [IPC Server listener on 12562] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12562: starting
2021-05-14 10:47:33,624 [Listener at 0.0.0.0/12563] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:12561
2021-05-14 10:47:33,625 [Listener at 0.0.0.0/12563] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:12561
2021-05-14 10:47:33,625 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:33,630 [IPC Server listener on 12561] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12561: starting
2021-05-14 10:47:33,644 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@685081b4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:33,650 [Listener at 0.0.0.0/12563] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:12558
2021-05-14 10:47:33,650 [Listener at 0.0.0.0/12563] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:33,652 [Listener at 0.0.0.0/12563] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:33,654 [Listener at 0.0.0.0/12563] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:33,656 [Listener at 0.0.0.0/12563] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:33,657 [Listener at 0.0.0.0/12563] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:47:33,657 [Listener at 0.0.0.0/12563] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:33,657 [Listener at 0.0.0.0/12563] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:33,658 [Listener at 0.0.0.0/12563] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12558
2021-05-14 10:47:33,658 [Listener at 0.0.0.0/12563] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:33,660 [Listener at 0.0.0.0/12563] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:33,660 [Listener at 0.0.0.0/12563] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:33,660 [Listener at 0.0.0.0/12563] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:47:33,660 [Listener at 0.0.0.0/12563] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@3bf85457{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:33,661 [Listener at 0.0.0.0/12563] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7282bd24{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:47:33,664 [Listener at 0.0.0.0/12563] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@41c4fe02{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:33,665 [Listener at 0.0.0.0/12563] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3783c1bf{HTTP/1.1, (http/1.1)}{0.0.0.0:12558}
2021-05-14 10:47:33,665 [Listener at 0.0.0.0/12563] INFO  server.Server (Server.java:doStart(415)) - Started @55333ms
2021-05-14 10:47:33,665 [Listener at 0.0.0.0/12563] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:33,668 [Listener at 0.0.0.0/12563] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:12558
2021-05-14 10:47:33,668 [Listener at 0.0.0.0/12563] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@723f5660
2021-05-14 10:47:33,669 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:33,669 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:12570 and Ratis port: 12570
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 127.0.0.1:12571
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12572
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12573
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 12570
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 12574
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:12568
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:12569
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:47:33,670 [Listener at 0.0.0.0/12563] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:33,672 [Listener at 0.0.0.0/12563] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:33,682 [IPC Server handler 0 on default port 12562] INFO  ipc.Server (Server.java:logException(3018)) - IPC Server handler 0 on default port 12562, call Call#177 Retry#0 org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocol.send from 127.0.0.1:52720
org.apache.hadoop.hdds.ratis.ServerNotLeaderException: Server:8df10fef-55be-4806-8780-dfc1dd1ab112 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.hdds.ratis.ServerNotLeaderException.convertToNotLeaderException(ServerNotLeaderException.java:109)
	at org.apache.hadoop.hdds.scm.ha.RatisUtil.checkRatisException(RatisUtil.java:191)
	at org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocolServerSideTranslatorPB.send(ScmBlockLocationProtocolServerSideTranslatorPB.java:108)
	at org.apache.hadoop.hdds.protocol.proto.ScmBlockLocationProtocolProtos$ScmBlockLocationProtocolService$2.callBlockingMethod(ScmBlockLocationProtocolProtos.java:13874)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
2021-05-14 10:47:33,848 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:33,849 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:33,849 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:34,849 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:34,849 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:34,851 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:35,684 [Listener at 0.0.0.0/12563] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:12572 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy37.send over nodeId=scmNode-2,nodeAddress=/127.0.0.1:12572 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
2021-05-14 10:47:35,850 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:35,850 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:35,852 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:36,851 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:36,851 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:36,853 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:37,686 [Listener at 0.0.0.0/12563] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:12582 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy37.send over nodeId=scmNode-3,nodeAddress=/127.0.0.1:12582 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-05-14 10:47:37,851 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:37,851 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:37,853 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:38,608 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5048422569ns, electionTimeout:5048ms
2021-05-14 10:47:38,608 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:38,608 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:47:38,609 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:38,609 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13
2021-05-14 10:47:38,611 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13 ELECTION round 0: submit vote requests at term 2 for 0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13 ELECTION round 0: result PASSED (term=2)
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(250)) - current SCM becomes leader of term 2.
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  ha.SCMContext (SCMContext.java:updateLeaderAndTerm(88)) - update <isLeader,term> from <false,0> to <true,2>
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(261)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: change Leader from null to 8df10fef-55be-4806-8780-dfc1dd1ab112 at term 2 for becomeLeader, leader elected after 5088ms
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:38,612 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:38,613 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:47:38,613 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:38,613 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:47:38,613 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:38,613 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:38,613 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: start 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl
2021-05-14 10:47:38,614 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:47:38,616 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_0-0
2021-05-14 10:47:38,617 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-1/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_1
2021-05-14 10:47:38,618 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 1: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:38,852 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:38,852 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:38,853 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:39,689 [Listener at 0.0.0.0/12563] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(906)) - SCM BootStrap  is successful for ClusterID ac43cffd-4173-4f98-855f-3787b3fb8cf8, SCMID fb2383b3-d7c6-44db-b6ed-b67b71e95204
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(908)) - Primary SCM Node ID 8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:12570 and Ratis port: 12570
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 127.0.0.1:12571
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12572
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12573
2021-05-14 10:47:39,690 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 12570
2021-05-14 10:47:39,691 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 12574
2021-05-14 10:47:39,691 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:12568
2021-05-14 10:47:39,691 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:12569
2021-05-14 10:47:39,691 [Listener at 0.0.0.0/12563] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:47:39,691 [Listener at 0.0.0.0/12563] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:39,692 [Listener at 0.0.0.0/12563] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:39,693 [Listener at 0.0.0.0/12563] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:39,771 [Listener at 0.0.0.0/12563] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:47:39,771 [Listener at 0.0.0.0/12563] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:47:39,773 [Listener at 0.0.0.0/12563] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:fb2383b3-d7c6-44db-b6ed-b67b71e95204
2021-05-14 10:47:39,774 [Listener at 0.0.0.0/12563] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:39,774 [Listener at 0.0.0.0/12563] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12570 (custom)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12570 (custom)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12570 (custom)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:39,775 [Listener at 0.0.0.0/12563] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:39,776 [Listener at 0.0.0.0/12563] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:39,777 [Listener at 0.0.0.0/12563] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:39,777 [Listener at 0.0.0.0/12563] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:39,777 [Listener at 0.0.0.0/12563] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:39,777 [Listener at 0.0.0.0/12563] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha] (custom)
2021-05-14 10:47:39,781 [Listener at 0.0.0.0/12563] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: addNew group-3787B3FB8CF8:[] returns group-3787B3FB8CF8:java.util.concurrent.CompletableFuture@6fde7e59[Not completed]
2021-05-14 10:47:39,781 [pool-198-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: new RaftServerImpl for group-3787B3FB8CF8:[] with SCMStateMachine:uninitialized
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha] (custom)
2021-05-14 10:47:39,782 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:39,783 [pool-198-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8 does not exist. Creating ...
2021-05-14 10:47:39,784 [pool-198-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:39,785 [pool-198-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8 has been successfully formatted.
2021-05-14 10:47:39,785 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:47:39,785 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:39,785 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:39,785 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:39,785 [pool-198-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:39,786 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:39,787 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:39,787 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:39,787 [pool-198-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:39,787 [pool-198-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:39,788 [pool-198-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:39,789 [Listener at 0.0.0.0/12563] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:47:39,789 [Listener at 0.0.0.0/12563] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:39,790 [Listener at 0.0.0.0/12563] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:47:39,791 [Listener at 0.0.0.0/12563] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:47:39,791 [Listener at 0.0.0.0/12563] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:47:39,791 [Listener at 0.0.0.0/12563] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:47:39,791 [Listener at 0.0.0.0/12563] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:47:39,792 [Listener at 0.0.0.0/12563] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:47:39,792 [Listener at 0.0.0.0/12563] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:47:39,794 [Listener at 0.0.0.0/12563] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:47:39,794 [Listener at 0.0.0.0/12563] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:47:39,795 [Listener at 0.0.0.0/12563] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:47:39,795 [Listener at 0.0.0.0/12563] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:47:39,795 [Listener at 0.0.0.0/12563] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:47:39,795 [Listener at 0.0.0.0/12563] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:47:39,798 [Listener at 0.0.0.0/12563] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:47:39,798 [Listener at 0.0.0.0/12563] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:47:39,799 [Listener at 0.0.0.0/12563] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:47:39,799 [Listener at 0.0.0.0/12563] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:47:39,800 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:47:39,801 [Listener at 0.0.0.0/12563] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:47:39,802 [Listener at 0.0.0.0/12563] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:47:39,803 [Listener at 0.0.0.0/12563] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:39,804 [Listener at 0.0.0.0/12571] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:39,805 [Socket Reader #1 for port 12572] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12572
2021-05-14 10:47:39,806 [Listener at 0.0.0.0/12572] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:39,805 [Socket Reader #1 for port 12571] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12571
2021-05-14 10:47:39,817 [Listener at 0.0.0.0/12573] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:47:39,822 [Listener at 0.0.0.0/12573] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:39,822 [Listener at 0.0.0.0/12573] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:47:39,825 [Listener at 0.0.0.0/12573] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:12573
2021-05-14 10:47:39,826 [Listener at 0.0.0.0/12573] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:12570
2021-05-14 10:47:39,826 [Listener at 0.0.0.0/12573] INFO  server.RaftServer$Division (RaftServerImpl.java:start(298)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: start with initializing state, conf=-1: [], old=null
2021-05-14 10:47:39,826 [Listener at 0.0.0.0/12573] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: changes role from      null to FOLLOWER at term 0 for startInitializing
2021-05-14 10:47:39,826 [Listener at 0.0.0.0/12573] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=fb2383b3-d7c6-44db-b6ed-b67b71e95204
2021-05-14 10:47:39,827 [Listener at 0.0.0.0/12573] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:39,827 [Socket Reader #1 for port 12573] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12573
2021-05-14 10:47:39,830 [Listener at 0.0.0.0/12573] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: start RPC server
2021-05-14 10:47:39,831 [Listener at 0.0.0.0/12573] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: GrpcService started, listening on 12570
2021-05-14 10:47:39,831 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@56781ad0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-fb2383b3-d7c6-44db-b6ed-b67b71e95204: Started
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:39,832 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:39,840 [IPC Server handler 2 on default port 12562] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(278)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: Submitting SetConfiguration request to Ratis server with new SCM peers list: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0]
2021-05-14 10:47:39,840 [IPC Server handler 2 on default port 12562] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(970)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: receive setConfiguration SetConfigurationRequest:client-52DE11F224DA->8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8, cid=0, seq=0, RW, null, peers:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0]
2021-05-14 10:47:39,840 [IPC Server handler 2 on default port 12562] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(345)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-52DE11F224DA->8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8, cid=0, seq=0, RW, null, peers:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0]
2021-05-14 10:47:39,840 [IPC Server handler 2 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:39,840 [IPC Server handler 2 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:39,840 [IPC Server handler 2 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 33554432 (custom)
2021-05-14 10:47:39,950 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:39,950 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:39,954 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:39,976 [IPC Server handler 2 on default port 12562] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:39,977 [IPC Server handler 2 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:39,977 [IPC Server handler 2 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:39,977 [IPC Server handler 2 on default port 12562] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:39,982 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.fb2383b3-d7c6-44db-b6ed-b67b71e95204
2021-05-14 10:47:39,984 [grpc-default-executor-2] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(240)) - leader changed, yet current SCM is still follower.
2021-05-14 10:47:39,984 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: change Leader from null to 8df10fef-55be-4806-8780-dfc1dd1ab112 at term 2 for appendEntries, leader elected after 198ms
2021-05-14 10:47:39,984 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: start fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:39,987 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: set configuration 0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:39,988 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: set configuration 1: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:39,988 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:39,988 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:47:39,989 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0
2021-05-14 10:47:39,990 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_0-0
2021-05-14 10:47:39,992 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-2/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_1
2021-05-14 10:47:39,994 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 3: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0], old=[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:39,997 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: set configuration 3: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:40,001 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 5: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0], old=null
2021-05-14 10:47:40,003 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: set configuration 5: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:40,008 [IPC Server handler 2 on default port 12562] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(289)) - Successfully added new SCM: fb2383b3-d7c6-44db-b6ed-b67b71e95204.
2021-05-14 10:47:40,008 [Listener at 0.0.0.0/12573] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(116)) - Successfully added SCM scmNode-2 to group group-3787B3FB8CF8:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:40,008 [Listener at 0.0.0.0/12573] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 12574
2021-05-14 10:47:40,009 [Listener at 0.0.0.0/12573] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-14 10:47:40,013 [Listener at 0.0.0.0/12573] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:12573
2021-05-14 10:47:40,014 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,014 [IPC Server listener on 12573] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12573: starting
2021-05-14 10:47:40,023 [Listener at 0.0.0.0/12573] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:12572
2021-05-14 10:47:40,024 [Listener at 0.0.0.0/12573] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:12572
2021-05-14 10:47:40,024 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,024 [IPC Server listener on 12572] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12572: starting
2021-05-14 10:47:40,026 [Listener at 0.0.0.0/12573] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:12571
2021-05-14 10:47:40,026 [Listener at 0.0.0.0/12573] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:12571
2021-05-14 10:47:40,026 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,026 [IPC Server listener on 12571] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12571: starting
2021-05-14 10:47:40,031 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@72184d60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:40,034 [Listener at 0.0.0.0/12573] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:12568
2021-05-14 10:47:40,035 [Listener at 0.0.0.0/12573] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:40,036 [Listener at 0.0.0.0/12573] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:40,036 [Listener at 0.0.0.0/12573] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:40,037 [Listener at 0.0.0.0/12573] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:40,038 [Listener at 0.0.0.0/12573] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:47:40,038 [Listener at 0.0.0.0/12573] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:40,038 [Listener at 0.0.0.0/12573] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:40,038 [Listener at 0.0.0.0/12573] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12568
2021-05-14 10:47:40,039 [Listener at 0.0.0.0/12573] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:40,040 [Listener at 0.0.0.0/12573] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:40,040 [Listener at 0.0.0.0/12573] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:40,040 [Listener at 0.0.0.0/12573] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:47:40,041 [Listener at 0.0.0.0/12573] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@11a3fe2c{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:40,041 [Listener at 0.0.0.0/12573] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@84793cf{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:47:40,044 [Listener at 0.0.0.0/12573] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@7bfd6ef{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:40,045 [Listener at 0.0.0.0/12573] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1750adbd{HTTP/1.1, (http/1.1)}{0.0.0.0:12568}
2021-05-14 10:47:40,045 [Listener at 0.0.0.0/12573] INFO  server.Server (Server.java:doStart(415)) - Started @61713ms
2021-05-14 10:47:40,045 [Listener at 0.0.0.0/12573] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:40,049 [Listener at 0.0.0.0/12573] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:12568
2021-05-14 10:47:40,049 [Listener at 0.0.0.0/12573] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@4be4d8f5
2021-05-14 10:47:40,049 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:40,049 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:12580 and Ratis port: 12580
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 127.0.0.1:12581
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12582
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12583
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 12580
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 12584
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:12578
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:12579
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:47:40,050 [Listener at 0.0.0.0/12573] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,051 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,051 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,052 [Listener at 0.0.0.0/12573] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(906)) - SCM BootStrap  is successful for ClusterID ac43cffd-4173-4f98-855f-3787b3fb8cf8, SCMID da94c59a-47d6-4e81-8900-195d40564cf5
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(908)) - Primary SCM Node ID 8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:12580 and Ratis port: 12580
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 127.0.0.1:12581
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12582
2021-05-14 10:47:40,061 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12583
2021-05-14 10:47:40,062 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 12580
2021-05-14 10:47:40,062 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 12584
2021-05-14 10:47:40,062 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:12578
2021-05-14 10:47:40,062 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:12579
2021-05-14 10:47:40,062 [Listener at 0.0.0.0/12573] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:47:40,062 [Listener at 0.0.0.0/12573] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,063 [Listener at 0.0.0.0/12573] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,063 [Listener at 0.0.0.0/12573] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,141 [Listener at 0.0.0.0/12573] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:47:40,141 [Listener at 0.0.0.0/12573] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:47:40,146 [Listener at 0.0.0.0/12573] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:da94c59a-47d6-4e81-8900-195d40564cf5
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12580 (custom)
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12580 (custom)
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12580 (custom)
2021-05-14 10:47:40,147 [Listener at 0.0.0.0/12573] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:47:40,148 [Listener at 0.0.0.0/12573] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,148 [Listener at 0.0.0.0/12573] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:40,148 [Listener at 0.0.0.0/12573] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:40,149 [Listener at 0.0.0.0/12573] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:40,149 [Listener at 0.0.0.0/12573] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:40,149 [Listener at 0.0.0.0/12573] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,149 [Listener at 0.0.0.0/12573] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha] (custom)
2021-05-14 10:47:40,149 [Listener at 0.0.0.0/12573] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - da94c59a-47d6-4e81-8900-195d40564cf5: addNew group-3787B3FB8CF8:[] returns group-3787B3FB8CF8:java.util.concurrent.CompletableFuture@6d085b40[Not completed]
2021-05-14 10:47:40,150 [pool-216-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - da94c59a-47d6-4e81-8900-195d40564cf5: new RaftServerImpl for group-3787B3FB8CF8:[] with SCMStateMachine:uninitialized
2021-05-14 10:47:40,150 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha] (custom)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:40,151 [pool-216-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8 does not exist. Creating ...
2021-05-14 10:47:40,152 [pool-216-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:40,153 [pool-216-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8 has been successfully formatted.
2021-05-14 10:47:40,153 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:47:40,153 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:40,153 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:40,153 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:40,154 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:40,155 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:40,155 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:40,155 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:40,156 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:40,156 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:40,156 [pool-216-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,156 [pool-216-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:40,157 [pool-216-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:40,158 [Listener at 0.0.0.0/12573] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:47:40,158 [Listener at 0.0.0.0/12573] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,158 [Listener at 0.0.0.0/12573] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:47:40,159 [Listener at 0.0.0.0/12573] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:47:40,160 [Listener at 0.0.0.0/12573] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:47:40,160 [Listener at 0.0.0.0/12573] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:47:40,160 [Listener at 0.0.0.0/12573] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:47:40,160 [Listener at 0.0.0.0/12573] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:47:40,160 [Listener at 0.0.0.0/12573] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:47:40,160 [Listener at 0.0.0.0/12573] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:47:40,161 [Listener at 0.0.0.0/12573] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:47:40,161 [Listener at 0.0.0.0/12573] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:47:40,161 [Listener at 0.0.0.0/12573] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:47:40,161 [Listener at 0.0.0.0/12573] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:47:40,162 [Listener at 0.0.0.0/12573] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:47:40,162 [Listener at 0.0.0.0/12573] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:47:40,163 [Listener at 0.0.0.0/12573] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:47:40,163 [Listener at 0.0.0.0/12573] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:47:40,163 [Listener at 0.0.0.0/12573] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:47:40,166 [Listener at 0.0.0.0/12573] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:47:40,167 [Listener at 0.0.0.0/12573] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:47:40,170 [Listener at 0.0.0.0/12573] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:40,174 [Socket Reader #1 for port 12581] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12581
2021-05-14 10:47:40,178 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:47:40,178 [Listener at 0.0.0.0/12581] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:40,180 [Listener at 0.0.0.0/12582] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:40,180 [Socket Reader #1 for port 12582] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12582
2021-05-14 10:47:40,190 [Socket Reader #1 for port 12583] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12583
2021-05-14 10:47:40,192 [Listener at 0.0.0.0/12583] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:47:40,193 [Listener at 0.0.0.0/12583] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:40,193 [Listener at 0.0.0.0/12583] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:47:40,193 [Listener at 0.0.0.0/12583] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:12583
2021-05-14 10:47:40,193 [Listener at 0.0.0.0/12583] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:12580
2021-05-14 10:47:40,193 [Listener at 0.0.0.0/12583] INFO  server.RaftServer$Division (RaftServerImpl.java:start(298)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: start with initializing state, conf=-1: [], old=null
2021-05-14 10:47:40,193 [Listener at 0.0.0.0/12583] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: changes role from      null to FOLLOWER at term 0 for startInitializing
2021-05-14 10:47:40,194 [Listener at 0.0.0.0/12583] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=da94c59a-47d6-4e81-8900-195d40564cf5
2021-05-14 10:47:40,194 [Listener at 0.0.0.0/12583] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:40,199 [Listener at 0.0.0.0/12583] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - da94c59a-47d6-4e81-8900-195d40564cf5: start RPC server
2021-05-14 10:47:40,200 [Listener at 0.0.0.0/12583] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - da94c59a-47d6-4e81-8900-195d40564cf5: GrpcService started, listening on 12580
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,201 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,206 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@23a22b99] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-da94c59a-47d6-4e81-8900-195d40564cf5: Started
2021-05-14 10:47:40,208 [IPC Server handler 9 on default port 12562] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(278)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: Submitting SetConfiguration request to Ratis server with new SCM peers list: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|priority:0]
2021-05-14 10:47:40,208 [IPC Server handler 9 on default port 12562] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(970)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: receive setConfiguration SetConfigurationRequest:client-52DE11F224DA->8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8, cid=1, seq=0, RW, null, peers:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|priority:0]
2021-05-14 10:47:40,208 [IPC Server handler 9 on default port 12562] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(345)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-52DE11F224DA->8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8, cid=1, seq=0, RW, null, peers:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|priority:0]
2021-05-14 10:47:40,208 [IPC Server handler 9 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:40,208 [IPC Server handler 9 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,209 [IPC Server handler 9 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 33554432 (custom)
2021-05-14 10:47:40,242 [IPC Server handler 9 on default port 12562] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:40,242 [IPC Server handler 9 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:40,242 [IPC Server handler 9 on default port 12562] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:40,250 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.da94c59a-47d6-4e81-8900-195d40564cf5
2021-05-14 10:47:40,252 [grpc-default-executor-2] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(240)) - leader changed, yet current SCM is still follower.
2021-05-14 10:47:40,252 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: change Leader from null to 8df10fef-55be-4806-8780-dfc1dd1ab112 at term 2 for appendEntries, leader elected after 98ms
2021-05-14 10:47:40,252 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - da94c59a-47d6-4e81-8900-195d40564cf5: start da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:40,266 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: set configuration 0: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:40,267 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: set configuration 1: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:40,267 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: set configuration 3: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:40,267 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: set configuration 5: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:40,267 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:40,267 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:47:40,269 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0
2021-05-14 10:47:40,271 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_0-0
2021-05-14 10:47:40,271 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/scmNode-3/scm-ha/ac43cffd-4173-4f98-855f-3787b3fb8cf8/current/log_inprogress_1
2021-05-14 10:47:40,274 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 7: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0], old=[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0]
2021-05-14 10:47:40,276 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: set configuration 7: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:40,276 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: set configuration 7: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:40,280 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: set configuration 9: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|priority:0], old=null
2021-05-14 10:47:40,281 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: set configuration 9: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:40,282 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: set configuration 9: [8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:40,287 [IPC Server handler 9 on default port 12562] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(289)) - Successfully added new SCM: da94c59a-47d6-4e81-8900-195d40564cf5.
2021-05-14 10:47:40,287 [Listener at 0.0.0.0/12583] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(116)) - Successfully added SCM scmNode-3 to group group-3787B3FB8CF8:[8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0, da94c59a-47d6-4e81-8900-195d40564cf5|rpc:localhost:12580|admin:|client:|dataStream:|priority:0, fb2383b3-d7c6-44db-b6ed-b67b71e95204|rpc:localhost:12570|admin:|client:|dataStream:|priority:0]
2021-05-14 10:47:40,288 [Listener at 0.0.0.0/12583] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 12584
2021-05-14 10:47:40,288 [Listener at 0.0.0.0/12583] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-14 10:47:40,294 [Listener at 0.0.0.0/12583] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:12583
2021-05-14 10:47:40,299 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,299 [IPC Server listener on 12583] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12583: starting
2021-05-14 10:47:40,307 [Listener at 0.0.0.0/12583] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:12582
2021-05-14 10:47:40,308 [Listener at 0.0.0.0/12583] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:12582
2021-05-14 10:47:40,308 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,310 [IPC Server listener on 12582] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12582: starting
2021-05-14 10:47:40,319 [Listener at 0.0.0.0/12583] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:12581
2021-05-14 10:47:40,319 [Listener at 0.0.0.0/12583] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:12581
2021-05-14 10:47:40,320 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,322 [IPC Server listener on 12581] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12581: starting
2021-05-14 10:47:40,331 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@12504d5e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:40,334 [Listener at 0.0.0.0/12583] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:12578
2021-05-14 10:47:40,334 [Listener at 0.0.0.0/12583] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:40,336 [Listener at 0.0.0.0/12583] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:40,336 [Listener at 0.0.0.0/12583] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:40,337 [Listener at 0.0.0.0/12583] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:40,338 [Listener at 0.0.0.0/12583] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:47:40,338 [Listener at 0.0.0.0/12583] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:40,338 [Listener at 0.0.0.0/12583] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:40,339 [Listener at 0.0.0.0/12583] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12578
2021-05-14 10:47:40,339 [Listener at 0.0.0.0/12583] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:40,340 [Listener at 0.0.0.0/12583] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:40,340 [Listener at 0.0.0.0/12583] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:40,340 [Listener at 0.0.0.0/12583] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:47:40,341 [Listener at 0.0.0.0/12583] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@275985e3{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:40,341 [Listener at 0.0.0.0/12583] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7dd06645{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:47:40,343 [Listener at 0.0.0.0/12583] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@71c6d179{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:40,345 [Listener at 0.0.0.0/12583] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@715d575f{HTTP/1.1, (http/1.1)}{0.0.0.0:12578}
2021-05-14 10:47:40,345 [Listener at 0.0.0.0/12583] INFO  server.Server (Server.java:doStart(415)) - Started @62012ms
2021-05-14 10:47:40,345 [Listener at 0.0.0.0/12583] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:40,347 [Listener at 0.0.0.0/12583] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:12578
2021-05-14 10:47:40,348 [Listener at 0.0.0.0/12583] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@7872a89f
2021-05-14 10:47:40,348 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:47:40,348 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:13768 and Ratis port: 13772
2021-05-14 10:47:40,348 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:13770
2021-05-14 10:47:40,348 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:13771
2021-05-14 10:47:40,348 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:13768
2021-05-14 10:47:40,349 [Listener at 0.0.0.0/12583] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,349 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,349 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,349 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,350 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,350 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,350 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,350 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,350 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,350 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/om;cid=ac43cffd-4173-4f98-855f-3787b3fb8cf8;layoutVersion=0
2021-05-14 10:47:40,362 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:47:40,362 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:13768 and Ratis port: 13772
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:13770
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:13771
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:13768
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,363 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,364 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,365 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,365 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,365 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,365 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,366 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,366 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,366 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,366 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,366 [Listener at 0.0.0.0/12583] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,376 [Listener at 0.0.0.0/12583] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,377 [Listener at 0.0.0.0/12583] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:47:40,377 [Listener at 0.0.0.0/12583] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:47:40,452 [Listener at 0.0.0.0/12583] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:47:40,452 [Listener at 0.0.0.0/12583] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,452 [Listener at 0.0.0.0/12583] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:47:40,452 [Listener at 0.0.0.0/12583] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:47:40,456 [Listener at 0.0.0.0/12583] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,458 [Listener at 0.0.0.0/12583] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:13772, localhost:13778, localhost:13784
2021-05-14 10:47:40,458 [Listener at 0.0.0.0/12583] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:47:40,458 [Listener at 0.0.0.0/12583] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:40,458 [Listener at 0.0.0.0/12583] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13772 (custom)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13772 (custom)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13772 (custom)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:40,459 [Listener at 0.0.0.0/12583] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:40,460 [Listener at 0.0.0.0/12583] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:40,460 [Listener at 0.0.0.0/12583] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:47:40,460 [Listener at 0.0.0.0/12583] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,461 [Listener at 0.0.0.0/12583] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis] (custom)
2021-05-14 10:47:40,461 [Listener at 0.0.0.0/12583] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@71db7790[Not completed]
2021-05-14 10:47:40,461 [Listener at 0.0.0.0/12583] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 13772
2021-05-14 10:47:40,461 [pool-235-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:47:40,470 [Listener at 0.0.0.0/12583] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:40,470 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:47:40,470 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis] (custom)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:40,471 [pool-235-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:47:40,472 [Socket Reader #1 for port 13768] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 13768
2021-05-14 10:47:40,475 [pool-235-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:40,478 [pool-235-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:47:40,478 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:47:40,478 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-1@group-523986131536
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:40,479 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:40,480 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:40,480 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:40,480 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:40,480 [pool-235-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,480 [pool-235-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-1@group-523986131536
2021-05-14 10:47:40,482 [pool-235-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-1@group-523986131536
2021-05-14 10:47:40,489 [Listener at 127.0.0.1/13768] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-14 10:47:40,492 [Listener at 127.0.0.1/13768] INFO  om.OzoneManager (OzoneManager.java:start(1095)) - OzoneManager RPC server is listening at localhost/127.0.0.1:13768
2021-05-14 10:47:40,492 [Listener at 127.0.0.1/13768] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer omNode-1 at port 13772
2021-05-14 10:47:40,493 [Listener at 127.0.0.1/13768] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - omNode-1@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null
2021-05-14 10:47:40,493 [Listener at 127.0.0.1/13768] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-1@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:40,493 [Listener at 127.0.0.1/13768] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-05-14 10:47:40,495 [Listener at 127.0.0.1/13768] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-05-14 10:47:40,496 [Listener at 127.0.0.1/13768] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.omNode-1@group-523986131536
2021-05-14 10:47:40,496 [Listener at 127.0.0.1/13768] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-1: start RPC server
2021-05-14 10:47:40,499 [Listener at 127.0.0.1/13768] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-1: GrpcService started, listening on 13772
2021-05-14 10:47:40,499 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4e2b52ba] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-1: Started
2021-05-14 10:47:40,503 [Listener at 127.0.0.1/13768] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for ozoneManager at: http://0.0.0.0:13770
2021-05-14 10:47:40,503 [Listener at 127.0.0.1/13768] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:40,504 [Listener at 127.0.0.1/13768] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:40,505 [Listener at 127.0.0.1/13768] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:40,506 [Listener at 127.0.0.1/13768] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:40,507 [Listener at 127.0.0.1/13768] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-14 10:47:40,507 [Listener at 127.0.0.1/13768] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:40,507 [Listener at 127.0.0.1/13768] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:40,508 [Listener at 127.0.0.1/13768] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 13770
2021-05-14 10:47:40,508 [Listener at 127.0.0.1/13768] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:40,509 [Listener at 127.0.0.1/13768] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:40,509 [Listener at 127.0.0.1/13768] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:40,509 [Listener at 127.0.0.1/13768] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:47:40,510 [Listener at 127.0.0.1/13768] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@676af191{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:40,510 [Listener at 127.0.0.1/13768] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@22088ca9{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:47:40,513 [Listener at 127.0.0.1/13768] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@c570ee5{ozoneManager,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:40,514 [Listener at 127.0.0.1/13768] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@288cd28a{HTTP/1.1, (http/1.1)}{0.0.0.0:13770}
2021-05-14 10:47:40,514 [Listener at 127.0.0.1/13768] INFO  server.Server (Server.java:doStart(415)) - Started @62182ms
2021-05-14 10:47:40,514 [Listener at 127.0.0.1/13768] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:40,517 [Listener at 127.0.0.1/13768] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of ozoneManager listening at http://0.0.0.0:13770
2021-05-14 10:47:40,518 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,523 [IPC Server listener on 13768] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 13768: starting
2021-05-14 10:47:40,528 [Listener at 127.0.0.1/13768] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1225)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-14 10:47:40,528 [Listener at 127.0.0.1/13768] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(461)) - Started OzoneManager RPC server at localhost/127.0.0.1:13768
2021-05-14 10:47:40,529 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:47:40,529 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:13774 and Ratis port: 13778
2021-05-14 10:47:40,529 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:13776
2021-05-14 10:47:40,529 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:13777
2021-05-14 10:47:40,529 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:13774
2021-05-14 10:47:40,529 [Listener at 127.0.0.1/13768] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,531 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,532 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,532 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,533 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@29c1dde0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/om;cid=ac43cffd-4173-4f98-855f-3787b3fb8cf8;layoutVersion=0
2021-05-14 10:47:40,537 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:47:40,537 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-2, RPC Address: localhost:13774 and Ratis port: 13778
2021-05-14 10:47:40,537 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-2: 127.0.0.1:13776
2021-05-14 10:47:40,537 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-2: 127.0.0.1:13777
2021-05-14 10:47:40,537 [Listener at 127.0.0.1/13768] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-2: 127.0.0.1:13774
2021-05-14 10:47:40,537 [Listener at 127.0.0.1/13768] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,538 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,539 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,540 [Listener at 127.0.0.1/13768] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,545 [Listener at 127.0.0.1/13768] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,545 [Listener at 127.0.0.1/13768] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:47:40,545 [Listener at 127.0.0.1/13768] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:47:40,615 [Listener at 127.0.0.1/13768] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:47:40,615 [Listener at 127.0.0.1/13768] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,616 [Listener at 127.0.0.1/13768] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:47:40,616 [Listener at 127.0.0.1/13768] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:47:40,617 [Listener at 127.0.0.1/13768] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,617 [Listener at 127.0.0.1/13768] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:13778, localhost:13772, localhost:13784
2021-05-14 10:47:40,618 [Listener at 127.0.0.1/13768] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:47:40,618 [Listener at 127.0.0.1/13768] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:40,618 [Listener at 127.0.0.1/13768] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:40,618 [Listener at 127.0.0.1/13768] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13778 (custom)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13778 (custom)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13778 (custom)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:40,619 [Listener at 127.0.0.1/13768] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:40,620 [Listener at 127.0.0.1/13768] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:40,621 [Listener at 127.0.0.1/13768] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:47:40,621 [Listener at 127.0.0.1/13768] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,621 [Listener at 127.0.0.1/13768] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis] (custom)
2021-05-14 10:47:40,621 [Listener at 127.0.0.1/13768] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-2: addNew group-523986131536:[omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@7b7d5bb6[Not completed]
2021-05-14 10:47:40,622 [Listener at 127.0.0.1/13768] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 13778
2021-05-14 10:47:40,623 [Listener at 127.0.0.1/13768] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:40,623 [pool-250-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-2: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-2@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:40,631 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis] (custom)
2021-05-14 10:47:40,632 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:40,632 [pool-250-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:47:40,635 [pool-250-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:40,637 [Socket Reader #1 for port 13774] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 13774
2021-05-14 10:47:40,638 [pool-250-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:47:40,639 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:47:40,639 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:40,639 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:40,639 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,639 [pool-250-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-2@group-523986131536
2021-05-14 10:47:40,639 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-2@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:40,640 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:40,641 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:40,641 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:40,642 [pool-250-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,642 [pool-250-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-2@group-523986131536
2021-05-14 10:47:40,646 [pool-250-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-2@group-523986131536
2021-05-14 10:47:40,658 [Listener at 127.0.0.1/13774] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-14 10:47:40,663 [Listener at 127.0.0.1/13774] INFO  om.OzoneManager (OzoneManager.java:start(1095)) - OzoneManager RPC server is listening at localhost/127.0.0.1:13774
2021-05-14 10:47:40,663 [Listener at 127.0.0.1/13774] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer omNode-2 at port 13778
2021-05-14 10:47:40,663 [Listener at 127.0.0.1/13774] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - omNode-2@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null
2021-05-14 10:47:40,663 [Listener at 127.0.0.1/13774] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-2@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:40,663 [Listener at 127.0.0.1/13774] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-05-14 10:47:40,664 [Listener at 127.0.0.1/13774] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-05-14 10:47:40,664 [Listener at 127.0.0.1/13774] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.omNode-2@group-523986131536
2021-05-14 10:47:40,664 [Listener at 127.0.0.1/13774] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-2: start RPC server
2021-05-14 10:47:40,665 [Listener at 127.0.0.1/13774] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-2: GrpcService started, listening on 13778
2021-05-14 10:47:40,665 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@55dc144b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-2: Started
2021-05-14 10:47:40,669 [Listener at 127.0.0.1/13774] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for ozoneManager at: http://0.0.0.0:13776
2021-05-14 10:47:40,669 [Listener at 127.0.0.1/13774] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:40,670 [Listener at 127.0.0.1/13774] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:40,670 [Listener at 127.0.0.1/13774] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:40,671 [Listener at 127.0.0.1/13774] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:40,672 [Listener at 127.0.0.1/13774] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-14 10:47:40,672 [Listener at 127.0.0.1/13774] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:40,672 [Listener at 127.0.0.1/13774] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:40,672 [Listener at 127.0.0.1/13774] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 13776
2021-05-14 10:47:40,672 [Listener at 127.0.0.1/13774] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:40,674 [Listener at 127.0.0.1/13774] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:40,674 [Listener at 127.0.0.1/13774] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:40,674 [Listener at 127.0.0.1/13774] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:47:40,675 [Listener at 127.0.0.1/13774] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7da0bfa3{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:40,675 [Listener at 127.0.0.1/13774] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@11df24be{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:47:40,678 [Listener at 127.0.0.1/13774] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@69924554{ozoneManager,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:40,683 [Listener at 127.0.0.1/13774] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2ebc4668{HTTP/1.1, (http/1.1)}{0.0.0.0:13776}
2021-05-14 10:47:40,683 [Listener at 127.0.0.1/13774] INFO  server.Server (Server.java:doStart(415)) - Started @62351ms
2021-05-14 10:47:40,683 [Listener at 127.0.0.1/13774] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:40,686 [Listener at 127.0.0.1/13774] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of ozoneManager listening at http://0.0.0.0:13776
2021-05-14 10:47:40,686 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,686 [IPC Server listener on 13774] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 13774: starting
2021-05-14 10:47:40,695 [Listener at 127.0.0.1/13774] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1225)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-14 10:47:40,696 [Listener at 127.0.0.1/13774] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(461)) - Started OzoneManager RPC server at localhost/127.0.0.1:13774
2021-05-14 10:47:40,696 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@3ee6f2ec] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:40,696 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:47:40,697 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:13780 and Ratis port: 13784
2021-05-14 10:47:40,697 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:13782
2021-05-14 10:47:40,697 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:13783
2021-05-14 10:47:40,697 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:13780
2021-05-14 10:47:40,697 [Listener at 127.0.0.1/13774] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,698 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/om;cid=ac43cffd-4173-4f98-855f-3787b3fb8cf8;layoutVersion=0
2021-05-14 10:47:40,713 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:47:40,713 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-3, RPC Address: localhost:13780 and Ratis port: 13784
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-3: 127.0.0.1:13782
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-3: 127.0.0.1:13783
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-3: 127.0.0.1:13780
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,714 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,715 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,716 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,716 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,716 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,716 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,717 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,717 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,717 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,717 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,717 [Listener at 127.0.0.1/13774] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,721 [Listener at 127.0.0.1/13774] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:40,722 [Listener at 127.0.0.1/13774] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:47:40,722 [Listener at 127.0.0.1/13774] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:47:40,796 [Listener at 127.0.0.1/13774] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:47:40,797 [Listener at 127.0.0.1/13774] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,797 [Listener at 127.0.0.1/13774] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:47:40,797 [Listener at 127.0.0.1/13774] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:47:40,798 [Listener at 127.0.0.1/13774] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:47:40,799 [Listener at 127.0.0.1/13774] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:13784, localhost:13772, localhost:13778
2021-05-14 10:47:40,799 [Listener at 127.0.0.1/13774] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:47:40,799 [Listener at 127.0.0.1/13774] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13784 (custom)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13784 (custom)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 13784 (custom)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,800 [Listener at 127.0.0.1/13774] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:47:40,801 [Listener at 127.0.0.1/13774] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:40,802 [Listener at 127.0.0.1/13774] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:40,802 [Listener at 127.0.0.1/13774] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:47:40,802 [Listener at 127.0.0.1/13774] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,802 [Listener at 127.0.0.1/13774] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis] (custom)
2021-05-14 10:47:40,802 [Listener at 127.0.0.1/13774] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-3: addNew group-523986131536:[omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@28e8b414[Not completed]
2021-05-14 10:47:40,802 [pool-265-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-3: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:47:40,803 [Listener at 127.0.0.1/13774] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 13784
2021-05-14 10:47:40,803 [Listener at 127.0.0.1/13774] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:47:40,809 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:47:40,809 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:47:40,809 [Socket Reader #1 for port 13780] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 13780
2021-05-14 10:47:40,809 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:40,811 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:47:40,811 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,811 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:40,811 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:40,811 [pool-265-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-3@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:40,811 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis] (custom)
2021-05-14 10:47:40,812 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:40,812 [pool-265-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:47:40,814 [pool-265-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-3@group-523986131536
2021-05-14 10:47:40,818 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:47:40,819 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:40,819 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:40,819 [pool-265-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-3@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:47:40,819 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:40,819 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:47:40,819 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:47:40,820 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:47:40,820 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:40,820 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:40,820 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:40,820 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:40,821 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:47:40,821 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:47:40,821 [pool-265-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,821 [pool-265-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:40,824 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-05-14 10:47:40,824 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:40,830 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:47:40,830 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:47:40,830 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:47:40,830 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:47:40,830 [pool-265-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:40,830 [pool-265-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-3@group-523986131536
2021-05-14 10:47:40,831 [pool-265-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-3@group-523986131536
2021-05-14 10:47:40,832 [Listener at 127.0.0.1/13780] INFO  om.OzoneManager (OzoneManager.java:start(1095)) - OzoneManager RPC server is listening at localhost/127.0.0.1:13780
2021-05-14 10:47:40,832 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer omNode-3 at port 13784
2021-05-14 10:47:40,832 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - omNode-3@group-523986131536: start as a follower, conf=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null
2021-05-14 10:47:40,832 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-3@group-523986131536: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:40,833 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-FollowerState
2021-05-14 10:47:40,838 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-05-14 10:47:40,838 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.omNode-3@group-523986131536
2021-05-14 10:47:40,838 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - omNode-3: start RPC server
2021-05-14 10:47:40,839 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - omNode-3: GrpcService started, listening on 13784
2021-05-14 10:47:40,840 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@260ed3f7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-omNode-3: Started
2021-05-14 10:47:40,844 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for ozoneManager at: http://0.0.0.0:13782
2021-05-14 10:47:40,845 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:40,846 [Listener at 127.0.0.1/13780] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:40,846 [Listener at 127.0.0.1/13780] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:40,848 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:40,848 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-05-14 10:47:40,849 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:40,849 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:40,849 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 13782
2021-05-14 10:47:40,849 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:40,853 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:40,853 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:40,853 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:47:40,854 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@28e56e60{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:40,854 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@77b8d713{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:47:40,857 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@1251d57a{ozoneManager,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:40,860 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@5a2a1732{HTTP/1.1, (http/1.1)}{0.0.0.0:13782}
2021-05-14 10:47:40,861 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(415)) - Started @62529ms
2021-05-14 10:47:40,861 [Listener at 127.0.0.1/13780] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:40,864 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of ozoneManager listening at http://0.0.0.0:13782
2021-05-14 10:47:40,864 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:47:40,864 [IPC Server listener on 13780] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 13780: starting
2021-05-14 10:47:40,875 [Listener at 127.0.0.1/13780] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1225)) - Trash Interval set to 0. Files deleted will not move to trash
2021-05-14 10:47:40,875 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(461)) - Started OzoneManager RPC server at localhost/127.0.0.1:13780
2021-05-14 10:47:40,875 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@715da4b5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:40,882 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-05-14 10:47:40,888 [Listener at 127.0.0.1/13780] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(220)) - HddsDatanodeService host:4a783e42cd9e ip:172.17.0.2
2021-05-14 10:47:40,906 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,906 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:40,907 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:40,909 [Listener at 127.0.0.1/13780] INFO  volume.HddsVolume (HddsVolume.java:<init>(184)) - Creating Volume: /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data-0/containers/hdds of storage type : DISK and capacity : 9223372036854775807
2021-05-14 10:47:40,909 [Listener at 127.0.0.1/13780] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(195)) - Added Volume : /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data-0/containers/hdds to VolumeSet
2021-05-14 10:47:40,909 [Listener at 127.0.0.1/13780] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data-0/containers/hdds
2021-05-14 10:47:40,909 [Listener at 127.0.0.1/13780] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(200)) - Scheduled health check for volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data-0/containers/hdds
2021-05-14 10:47:40,923 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.ContainerReader (ContainerReader.java:<init>(98)) - Running in upgrade mode:true
2021-05-14 10:47:40,923 [Thread-1578] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data-0/containers/hdds
2021-05-14 10:47:40,923 [Thread-1578] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(174)) - Finish verifying containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data-0/containers/hdds
2021-05-14 10:47:40,924 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(224)) - Build ContainerSet costs 0s
2021-05-14 10:47:40,926 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:40,926 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:40,926 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-05-14 10:47:40,926 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-05-14 10:47:40,926 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-05-14 10:47:40,926 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-05-14 10:47:40,927 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:40,927 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-05-14 10:47:40,927 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:40,928 [Listener at 127.0.0.1/13780] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:40,928 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:40,928 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:40,928 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis] (custom)
2021-05-14 10:47:40,934 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-05-14 10:47:40,934 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:40,935 [Listener at 127.0.0.1/13780] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:40,938 [Listener at 127.0.0.1/13780] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:40,938 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:40,939 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-05-14 10:47:40,939 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:40,939 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:40,940 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 41411
2021-05-14 10:47:40,940 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:40,942 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:40,942 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:40,942 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:47:40,943 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5718c40{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:40,944 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6bce68b4{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-05-14 10:47:40,951 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:40,952 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:40,954 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:41,097 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@9e22df5{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-41411-hadoop-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-1847160024829203870/webapp/,AVAILABLE}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:41,099 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3079c0d3{HTTP/1.1, (http/1.1)}{0.0.0.0:41411}
2021-05-14 10:47:41,099 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(415)) - Started @62767ms
2021-05-14 10:47:41,099 [Listener at 127.0.0.1/13780] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:41,102 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of hddsDatanode listening at http://0.0.0.0:41411
2021-05-14 10:47:41,104 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-05-14 10:47:41,111 [Listener at 127.0.0.1/13780] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(220)) - HddsDatanodeService host:4a783e42cd9e ip:172.17.0.2
2021-05-14 10:47:41,112 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@701e800c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,113 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,118 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/meta/datanode.id
2021-05-14 10:47:41,136 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,136 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,137 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,138 [Listener at 127.0.0.1/13780] INFO  volume.HddsVolume (HddsVolume.java:<init>(184)) - Creating Volume: /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data-0/containers/hdds of storage type : DISK and capacity : 9223372036854775807
2021-05-14 10:47:41,138 [Listener at 127.0.0.1/13780] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(195)) - Added Volume : /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data-0/containers/hdds to VolumeSet
2021-05-14 10:47:41,139 [Listener at 127.0.0.1/13780] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data-0/containers/hdds
2021-05-14 10:47:41,139 [Listener at 127.0.0.1/13780] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(200)) - Scheduled health check for volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data-0/containers/hdds
2021-05-14 10:47:41,153 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.ContainerReader (ContainerReader.java:<init>(98)) - Running in upgrade mode:true
2021-05-14 10:47:41,153 [Thread-1589] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data-0/containers/hdds
2021-05-14 10:47:41,154 [Thread-1589] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(174)) - Finish verifying containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data-0/containers/hdds
2021-05-14 10:47:41,154 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(224)) - Build ContainerSet costs 0s
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-05-14 10:47:41,156 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:41,158 [Listener at 127.0.0.1/13780] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:41,158 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:41,158 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:41,158 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis] (custom)
2021-05-14 10:47:41,163 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-05-14 10:47:41,163 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:41,164 [Listener at 127.0.0.1/13780] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:41,167 [Listener at 127.0.0.1/13780] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:41,168 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:41,169 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-05-14 10:47:41,169 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:41,169 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:41,169 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 41627
2021-05-14 10:47:41,169 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:41,170 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:41,171 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:41,171 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:47:41,171 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@2cde507f{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:41,172 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@3a123423{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-05-14 10:47:41,319 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@3833a907{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-41627-hadoop-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-24825646018139719/webapp/,AVAILABLE}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:41,321 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@34910781{HTTP/1.1, (http/1.1)}{0.0.0.0:41627}
2021-05-14 10:47:41,321 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(415)) - Started @62989ms
2021-05-14 10:47:41,321 [Listener at 127.0.0.1/13780] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:41,324 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of hddsDatanode listening at http://0.0.0.0:41627
2021-05-14 10:47:41,332 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - HddsDatanode metrics system started (again)
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,334 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,338 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1c601304] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:41,344 [Listener at 127.0.0.1/13780] INFO  ozone.HddsDatanodeService (HddsDatanodeService.java:start(220)) - HddsDatanodeService host:4a783e42cd9e ip:172.17.0.2
2021-05-14 10:47:41,354 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/meta/datanode.id
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,366 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:41,367 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:41,370 [Listener at 127.0.0.1/13780] INFO  volume.HddsVolume (HddsVolume.java:<init>(184)) - Creating Volume: /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data-0/containers/hdds of storage type : DISK and capacity : 9223372036854775807
2021-05-14 10:47:41,370 [Listener at 127.0.0.1/13780] INFO  volume.MutableVolumeSet (MutableVolumeSet.java:initializeVolumeSet(195)) - Added Volume : /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data-0/containers/hdds to VolumeSet
2021-05-14 10:47:41,370 [Listener at 127.0.0.1/13780] INFO  volume.ThrottledAsyncChecker (ThrottledAsyncChecker.java:schedule(141)) - Scheduling a check for /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data-0/containers/hdds
2021-05-14 10:47:41,372 [Listener at 127.0.0.1/13780] INFO  volume.HddsVolumeChecker (HddsVolumeChecker.java:checkAllVolumes(200)) - Scheduled health check for volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data-0/containers/hdds
2021-05-14 10:47:42,216 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:42,217 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:42,217 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:42,218 [omNode-3@group-523986131536-FollowerState] WARN  impl.FollowerState (FollowerState.java:run(120)) - Unexpected long sleep: sleep 1018ms but took extra 361565188ns (> threshold = 300ms)
2021-05-14 10:47:42,218 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@56781ad0] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-fb2383b3-d7c6-44db-b6ed-b67b71e95204: Detected pause in JVM or host machine (eg GC): pause of approximately 386672297ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=400ms
GC pool 'PS Scavenge' had collection(s): count=1 time=436ms
2021-05-14 10:47:42,218 [omNode-2@group-523986131536-FollowerState] WARN  impl.FollowerState (FollowerState.java:run(120)) - Unexpected long sleep: sleep 1059ms but took extra 495657587ns (> threshold = 300ms)
2021-05-14 10:47:42,218 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@260ed3f7] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-omNode-3: Detected pause in JVM or host machine (eg GC): pause of approximately 375104397ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=400ms
GC pool 'PS Scavenge' had collection(s): count=1 time=436ms
2021-05-14 10:47:42,218 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@23a22b99] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-da94c59a-47d6-4e81-8900-195d40564cf5: Detected pause in JVM or host machine (eg GC): pause of approximately 509931794ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=400ms
GC pool 'PS Scavenge' had collection(s): count=1 time=436ms
2021-05-14 10:47:42,222 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@55dc144b] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-omNode-2: Detected pause in JVM or host machine (eg GC): pause of approximately 556799926ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=400ms
GC pool 'PS Scavenge' had collection(s): count=1 time=436ms
2021-05-14 10:47:42,227 [omNode-1@group-523986131536-FollowerState] WARN  impl.FollowerState (FollowerState.java:run(120)) - Unexpected long sleep: sleep 1057ms but took extra 673538627ns (> threshold = 300ms)
2021-05-14 10:47:42,227 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@28d569f9] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-8df10fef-55be-4806-8780-dfc1dd1ab112: Detected pause in JVM or host machine (eg GC): pause of approximately 662133591ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=400ms
GC pool 'PS Scavenge' had collection(s): count=1 time=436ms
2021-05-14 10:47:42,227 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4e2b52ba] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-omNode-1: Detected pause in JVM or host machine (eg GC): pause of approximately 727755797ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=400ms
GC pool 'PS Scavenge' had collection(s): count=1 time=436ms
2021-05-14 10:47:42,234 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.ContainerReader (ContainerReader.java:<init>(98)) - Running in upgrade mode:true
2021-05-14 10:47:42,234 [Thread-1600] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(142)) - Start to verify containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data-0/containers/hdds
2021-05-14 10:47:42,234 [Thread-1600] INFO  ozoneimpl.ContainerReader (ContainerReader.java:readVolume(174)) - Finish verifying containers on volume /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data-0/containers/hdds
2021-05-14 10:47:42,234 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:buildContainerSet(224)) - Build ContainerSet costs 0s
2021-05-14 10:47:42,236 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:47:42,236 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:47:42,236 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = 0 (custom)
2021-05-14 10:47:42,236 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = 0 (custom)
2021-05-14 10:47:42,237 [Listener at 127.0.0.1/13780] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 0 (default)
2021-05-14 10:47:42,237 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32MB (=33554432) (custom)
2021-05-14 10:47:42,237 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:42,237 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 5MB (=5242880) (custom)
2021-05-14 10:47:42,237 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:42,238 [Listener at 127.0.0.1/13780] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:47:42,238 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:42,238 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:42,238 [Listener at 127.0.0.1/13780] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis] (custom)
2021-05-14 10:47:42,244 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for hddsDatanode at: http://0.0.0.0:0
2021-05-14 10:47:42,244 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:47:42,245 [Listener at 127.0.0.1/13780] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:47:42,245 [Listener at 127.0.0.1/13780] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:47:42,246 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:47:42,247 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
2021-05-14 10:47:42,247 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:47:42,247 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:47:42,247 [Listener at 127.0.0.1/13780] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 35139
2021-05-14 10:47:42,247 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:47:42,249 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:47:42,249 [Listener at 127.0.0.1/13780] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:47:42,249 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:47:42,250 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@9c51976{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:47:42,250 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@3ff4af1b{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
2021-05-14 10:47:42,390 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@7717ab64{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-35139-hadoop-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-7084259110909417969/webapp/,AVAILABLE}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:42,392 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2bcadbd8{HTTP/1.1, (http/1.1)}{0.0.0.0:35139}
2021-05-14 10:47:42,392 [Listener at 127.0.0.1/13780] INFO  server.Server (Server.java:doStart(415)) - Started @64060ms
2021-05-14 10:47:42,392 [Listener at 127.0.0.1/13780] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:47:42,395 [Listener at 127.0.0.1/13780] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of hddsDatanode listening at http://0.0.0.0:35139
2021-05-14 10:47:42,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:47:42,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:42,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:42,402 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4d70917e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:42,402 [Datanode State Machine Task Thread - 0] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:42,407 [Datanode State Machine Task Thread - 0] INFO  datanode.InitDatanodeState (InitDatanodeState.java:persistContainerDatanodeDetails(145)) - DatanodeDetails is persisted to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/meta/datanode.id
2021-05-14 10:47:43,127 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(291)) - Attempting to start container services.
2021-05-14 10:47:43,127 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(237)) - Background container scanner has been disabled.
2021-05-14 10:47:43,127 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(106)) - ReplicationServer is started using port 36133
2021-05-14 10:47:43,130 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(490)) - Starting XceiverServerRatis 75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:43,132 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start RPC server
2021-05-14 10:47:43,132 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: GrpcService started, listening on 36753
2021-05-14 10:47:43,132 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 75f703fe-c9dd-41a4-960e-85d97e6e4049 is started using port 36753 for RATIS
2021-05-14 10:47:43,132 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@3abc755d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-75f703fe-c9dd-41a4-960e-85d97e6e4049: Started
2021-05-14 10:47:43,132 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 75f703fe-c9dd-41a4-960e-85d97e6e4049 is started using port 36753 for RATIS_ADMIN
2021-05-14 10:47:43,132 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 75f703fe-c9dd-41a4-960e-85d97e6e4049 is started using port 36753 for RATIS_SERVER
2021-05-14 10:47:43,133 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 75f703fe-c9dd-41a4-960e-85d97e6e4049 is started using port 39975
2021-05-14 10:47:43,134 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:43,134 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:43,217 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:43,217 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:43,218 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:43,316 [omNode-3@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - omNode-3@group-523986131536-FollowerState: change to CANDIDATE, lastRpcElapsedTime:2483647677ns, electionTimeout:1098ms
2021-05-14 10:47:43,316 [omNode-3@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-3: shutdown omNode-3@group-523986131536-FollowerState
2021-05-14 10:47:43,317 [omNode-3@group-523986131536-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-3@group-523986131536: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:43,319 [omNode-3@group-523986131536-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:43,319 [omNode-3@group-523986131536-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-LeaderElection14
2021-05-14 10:47:43,326 [omNode-3@group-523986131536-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - omNode-3@group-523986131536-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null
2021-05-14 10:47:43,342 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.omNode-1
2021-05-14 10:47:43,344 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - omNode-1@group-523986131536: receive requestVote(ELECTION, omNode-3, group-523986131536, 1, (t:0, i:~))
2021-05-14 10:47:43,344 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-1@group-523986131536-FOLLOWER: accept ELECTION from omNode-3: our priority 0 <= candidate's priority 0
2021-05-14 10:47:43,344 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-1@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-3
2021-05-14 10:47:43,344 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-05-14 10:47:43,344 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-1: start omNode-1@group-523986131536-FollowerState
2021-05-14 10:47:43,346 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-1@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:43,349 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - omNode-2@group-523986131536: receive requestVote(ELECTION, omNode-3, group-523986131536, 1, (t:0, i:~))
2021-05-14 10:47:43,350 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - omNode-2@group-523986131536-FOLLOWER: accept ELECTION from omNode-3: our priority 0 <= candidate's priority 0
2021-05-14 10:47:43,350 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-2@group-523986131536: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:omNode-3
2021-05-14 10:47:43,350 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-05-14 10:47:43,350 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:43,350 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-2: start omNode-2@group-523986131536-FollowerState
2021-05-14 10:47:43,352 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - omNode-1@group-523986131536 replies to ELECTION vote request: omNode-3<-omNode-1#0:OK-t1. Peer's state: omNode-1@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-1@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null
2021-05-14 10:47:43,353 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(291)) - Attempting to start container services.
2021-05-14 10:47:43,353 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(237)) - Background container scanner has been disabled.
2021-05-14 10:47:43,353 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(106)) - ReplicationServer is started using port 39457
2021-05-14 10:47:43,359 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - omNode-2@group-523986131536 replies to ELECTION vote request: omNode-3<-omNode-2#0:OK-t1. Peer's state: omNode-2@group-523986131536:t1, leader=null, voted=omNode-3, raftlog=omNode-2@group-523986131536-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [omNode-3|rpc:localhost:13784|priority:0, omNode-1|rpc:localhost:13772|priority:0, omNode-2|rpc:localhost:13778|priority:0], old=null
2021-05-14 10:47:43,359 [omNode-3@group-523986131536-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - omNode-3@group-523986131536-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-05-14 10:47:43,359 [omNode-3@group-523986131536-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: omNode-3<-omNode-1#0:OK-t1
2021-05-14 10:47:43,360 [omNode-3@group-523986131536-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - omNode-3@group-523986131536-LeaderElection14 ELECTION round 0: result PASSED
2021-05-14 10:47:43,360 [omNode-3@group-523986131536-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - omNode-3: shutdown omNode-3@group-523986131536-LeaderElection14
2021-05-14 10:47:43,360 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - omNode-3@group-523986131536: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:43,360 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(490)) - Starting XceiverServerRatis fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:43,360 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - omNode-3@group-523986131536: change Leader from null to omNode-3 at term 1 for becomeLeader, leader elected after 2541ms
2021-05-14 10:47:43,360 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:43,366 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start RPC server
2021-05-14 10:47:43,368 [omNode-3@group-523986131536-LeaderElection14] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.omNode-3@group-523986131536
2021-05-14 10:47:43,368 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:47:43,368 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:47:43,368 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: GrpcService started, listening on 35659
2021-05-14 10:47:43,369 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:47:43,369 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:43,369 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:43,369 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:43,369 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:43,369 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-05-14 10:47:43,369 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis fc27fb5e-9d46-4537-8f09-eceea5ced80a is started using port 35659 for RATIS
2021-05-14 10:47:43,369 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis fc27fb5e-9d46-4537-8f09-eceea5ced80a is started using port 35659 for RATIS_ADMIN
2021-05-14 10:47:43,369 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis fc27fb5e-9d46-4537-8f09-eceea5ced80a is started using port 35659 for RATIS_SERVER
2021-05-14 10:47:43,369 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@304e8fea] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-fc27fb5e-9d46-4537-8f09-eceea5ced80a: Started
2021-05-14 10:47:43,370 [omNode-3@group-523986131536-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:43,370 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:43,370 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:43,370 [omNode-3@group-523986131536-LeaderElection14] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.omNode-3@group-523986131536
2021-05-14 10:47:43,371 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:43,371 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:43,371 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1024 (custom)
2021-05-14 10:47:43,371 [omNode-3@group-523986131536-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:43,371 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:47:43,371 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:43,372 [omNode-3@group-523986131536-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - omNode-3: start omNode-3@group-523986131536-LeaderStateImpl
2021-05-14 10:47:43,372 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc fc27fb5e-9d46-4537-8f09-eceea5ced80a is started using port 34773
2021-05-14 10:47:43,372 [omNode-3@group-523986131536-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:43,375 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - omNode-1@group-523986131536: change Leader from null to omNode-3 at term 1 for appendEntries, leader elected after 2896ms
2021-05-14 10:47:43,378 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:43,378 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:43,382 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-3@group-523986131536-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-3/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-05-14 10:47:43,383 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - omNode-1@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:13784|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:13772|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:13778|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:43,382 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - omNode-2@group-523986131536: change Leader from null to omNode-3 at term 1 for appendEntries, leader elected after 2743ms
2021-05-14 10:47:43,382 [omNode-3@group-523986131536-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - omNode-3@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:13784|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:13772|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:13778|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:43,388 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:43,390 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - omNode-2@group-523986131536: set configuration 0: [omNode-3|rpc:localhost:13784|admin:|client:|dataStream:|priority:0, omNode-1|rpc:localhost:13772|admin:|client:|dataStream:|priority:0, omNode-2|rpc:localhost:13778|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:47:43,394 [grpc-default-executor-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:43,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:47:43,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:43,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:43,400 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-05-14 10:47:43,401 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - omNode-2@group-523986131536-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/omNode-2/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/current/log_inprogress_0
2021-05-14 10:47:44,218 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:44,218 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:44,218 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:44,400 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 0 of 3 DN Heartbeats.
2021-05-14 10:47:44,401 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:44,401 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:44,409 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(291)) - Attempting to start container services.
2021-05-14 10:47:44,409 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:startContainerScrub(237)) - Background container scanner has been disabled.
2021-05-14 10:47:44,409 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  replication.ReplicationServer (ReplicationServer.java:start(106)) - ReplicationServer is started using port 40563
2021-05-14 10:47:44,410 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:start(490)) - Starting XceiverServerRatis 349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:44,411 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start RPC server
2021-05-14 10:47:44,412 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 349f1824-1906-4fb5-b35f-b91d13f29657: GrpcService started, listening on 38389
2021-05-14 10:47:44,412 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 349f1824-1906-4fb5-b35f-b91d13f29657 is started using port 38389 for RATIS
2021-05-14 10:47:44,412 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 349f1824-1906-4fb5-b35f-b91d13f29657 is started using port 38389 for RATIS_ADMIN
2021-05-14 10:47:44,412 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:getRealPort(511)) - XceiverServerRatis 349f1824-1906-4fb5-b35f-b91d13f29657 is started using port 38389 for RATIS_SERVER
2021-05-14 10:47:44,412 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@25224202] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-349f1824-1906-4fb5-b35f-b91d13f29657: Started
2021-05-14 10:47:44,412 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  server.XceiverServerGrpc (XceiverServerGrpc.java:start(135)) - XceiverServerGrpc 349f1824-1906-4fb5-b35f-b91d13f29657 is started using port 38697
2021-05-14 10:47:44,413 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:44,414 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:start(287)) - Ignore. OzoneContainer already started.
2021-05-14 10:47:45,114 [IPC Server handler 39 on default port 12561] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:45,116 [IPC Server handler 39 on default port 12561] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:45,116 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:45,117 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2021-05-14 10:47:45,117 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:45,117 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(229)) - All SCM safe mode pre check rules have passed
2021-05-14 10:47:45,117 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:45,117 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-05-14 10:47:45,117 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:45,122 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:45,125 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=4b191b63-efb6-421f-8172-648aecdc2ec0 to datanode:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:45,125 [IPC Server handler 8 on default port 12581] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:45,125 [IPC Server handler 17 on default port 12571] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:45,127 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:45,131 [IPC Server handler 8 on default port 12581] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:45,134 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2021-05-14 10:47:45,134 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:45,134 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(229)) - All SCM safe mode pre check rules have passed
2021-05-14 10:47:45,134 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:45,134 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-05-14 10:47:45,139 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:45,139 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:45,139 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:45,139 [IPC Server handler 17 on default port 12571] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:45,139 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:45,141 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b191b63-efb6-421f-8172-648aecdc2ec0, Nodes: 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:45.125Z].
2021-05-14 10:47:45,142 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (DataNodeSafeModeRule.java:process(71)) - SCM in safe mode. 1 DataNodes registered, 1 required.
2021-05-14 10:47:45,142 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:45,142 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:completePreCheck(229)) - All SCM safe mode pre check rules have passed
2021-05-14 10:47:45,142 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:45,142 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
2021-05-14 10:47:45,147 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:45,147 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 16093.93us
2021-05-14 10:47:45,147 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:45,147 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:45,147 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelinePlacementPolicy (PipelinePlacementPolicy.java:filterViableNodes(149)) - Pipeline creation failed due to no sufficient healthy datanodes. Required 3. Found 1.
2021-05-14 10:47:45,148 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:45,150 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b191b63-efb6-421f-8172-648aecdc2ec0, Nodes: 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:45.125Z].
2021-05-14 10:47:45,151 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b191b63-efb6-421f-8172-648aecdc2ec0, Nodes: 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:45.125Z].
2021-05-14 10:47:45,218 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:45,218 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:45,219 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:45,336 [IPC Server handler 65 on default port 12561] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:45,336 [IPC Server handler 65 on default port 12561] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:45,336 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:45,337 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:45,337 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:45,337 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:45,337 [IPC Server handler 19 on default port 12571] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:45,338 [IPC Server handler 19 on default port 12571] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:45,338 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=652e6a9c-0702-4082-b5c6-38c4a1b9a4e8 to datanode:fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:45,338 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:45,338 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:45,338 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:45,338 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:45,338 [IPC Server handler 6 on default port 12581] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:45,339 [IPC Server handler 6 on default port 12581] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:45,339 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:45,339 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:45,339 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:45,339 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:45,342 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 652e6a9c-0702-4082-b5c6-38c4a1b9a4e8, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:45.338Z].
2021-05-14 10:47:45,342 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 4179.416us
2021-05-14 10:47:45,342 [RatisPipelineUtilsThread - 0] WARN  pipeline.PipelinePlacementPolicy (PipelinePlacementPolicy.java:filterViableNodes(149)) - Pipeline creation failed due to no sufficient healthy datanodes. Required 3. Found 2.
2021-05-14 10:47:45,348 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 652e6a9c-0702-4082-b5c6-38c4a1b9a4e8, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:45.338Z].
2021-05-14 10:47:45,348 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 652e6a9c-0702-4082-b5c6-38c4a1b9a4e8, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:45.338Z].
2021-05-14 10:47:45,401 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-05-14 10:47:45,401 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:45,401 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:46,219 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:46,219 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:46,220 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:46,404 [IPC Server handler 18 on default port 12571] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,404 [IPC Server handler 18 on default port 12571] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:46,404 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:46,404 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:46,404 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:46,404 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:46,404 [IPC Server handler 62 on default port 12561] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,405 [IPC Server handler 62 on default port 12561] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:46,405 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(282)) - trigger a one-shot run on RatisPipelineUtilsThread.
2021-05-14 10:47:46,405 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:46,405 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:46,405 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:46,404 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Waiting for nodes to be ready. Got 2 of 3 DN Heartbeats.
2021-05-14 10:47:46,405 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:46,405 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:46,405 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=4b329845-4753-48e0-9dfb-50f428abeb36 to datanode:349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,405 [IPC Server handler 0 on default port 12581] INFO  net.NetworkTopologyImpl (NetworkTopologyImpl.java:add(112)) - Added a new node: /default-rack/349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,406 [IPC Server handler 0 on default port 12581] INFO  node.SCMNodeManager (SCMNodeManager.java:register(348)) - Registered Data node : 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
2021-05-14 10:47:46,407 [EventQueue-NewNodeForNewNodeHandler] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyEventTriggered(276)) - ignore, not leader SCM.
2021-05-14 10:47:46,407 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - DataNodeSafeModeRule rule is successfully validated
2021-05-14 10:47:46,407 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - ContainerSafeModeRule rule is successfully validated
2021-05-14 10:47:46,407 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:46,410 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b329845-4753-48e0-9dfb-50f428abeb36, Nodes: 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.405Z].
2021-05-14 10:47:46,411 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 4964.856us
2021-05-14 10:47:46,411 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 to datanode:fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:46,411 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 to datanode:349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,411 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 to datanode:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:46,414 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b329845-4753-48e0-9dfb-50f428abeb36, Nodes: 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.405Z].
2021-05-14 10:47:46,416 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.411Z].
2021-05-14 10:47:46,416 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 4743.845us
2021-05-14 10:47:46,416 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=a7617465-8310-42a0-9597-7ddda9cf8eeb to datanode:fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:46,416 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=a7617465-8310-42a0-9597-7ddda9cf8eeb to datanode:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:46,417 [RatisPipelineUtilsThread - 0] INFO  pipeline.RatisPipelineProvider (RatisPipelineProvider.java:lambda$create$0(170)) - Sending CreatePipelineCommand for pipeline:PipelineID=a7617465-8310-42a0-9597-7ddda9cf8eeb to datanode:349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,417 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 4b329845-4753-48e0-9dfb-50f428abeb36, Nodes: 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.405Z].
2021-05-14 10:47:46,422 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.411Z].
2021-05-14 10:47:46,426 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: 985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.411Z].
2021-05-14 10:47:46,428 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a7617465-8310-42a0-9597-7ddda9cf8eeb, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.416Z].
2021-05-14 10:47:46,429 [RatisPipelineUtilsThread - 0] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.addPipeline(org.apache.hadoop.hdds.protocol.proto.HddsProtos$Pipeline) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 11929.515us
2021-05-14 10:47:46,429 [RatisPipelineUtilsThread - 0] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:recordMetricsForPipeline(589)) - Pipeline: PipelineID=a7617465-8310-42a0-9597-7ddda9cf8eeb contains same datanodes as previous pipelines: PipelineID=985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 nodeIds: fc27fb5e-9d46-4537-8f09-eceea5ced80a, 75f703fe-c9dd-41a4-960e-85d97e6e4049, 349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:46,432 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a7617465-8310-42a0-9597-7ddda9cf8eeb, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.416Z].
2021-05-14 10:47:46,434 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:addPipeline(101)) - Created pipeline Pipeline[ Id: a7617465-8310-42a0-9597-7ddda9cf8eeb, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-05-14T10:47:46.416Z].
2021-05-14 10:47:47,220 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:47,220 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:47,220 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:47,221 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at localhost:14595 for past 0 seconds.
java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:14595 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:760)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:534)
	at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:699)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:812)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	... 12 more
2021-05-14 10:47:47,406 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:47,406 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:47,406 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:48,112 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: addNew group-648AECDC2EC0:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1] returns group-648AECDC2EC0:java.util.concurrent.CompletableFuture@29e3b1ac[Not completed]
2021-05-14 10:47:48,114 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: new RaftServerImpl for group-648AECDC2EC0:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis] (custom)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,119 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0 does not exist. Creating ...
2021-05-14 10:47:48,122 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,123 [pool-278-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0 has been successfully formatted.
2021-05-14 10:47:48,124 [pool-278-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-648AECDC2EC0: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,124 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,124 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,124 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,127 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,127 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,126 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 4b191b63-efb6-421f-8172-648aecdc2ec0, Nodes: 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:75f703fe-c9dd-41a4-960e-85d97e6e4049, CreationTimestamp2021-05-14T10:47:45.125Z] moved to OPEN state
2021-05-14 10:47:48,128 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@235164fe, cost 385.92us
2021-05-14 10:47:48,128 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "4b191b63-efb6-421f-8172-648aecdc2ec0"
  uuid128 {
    mostSigBits: 5411386543299772959
    leastSigBits: -9119115747629715776
  }
}
isLeader: false
bytesWritten: 0
 from dn=75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:48,126 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 4b191b63-efb6-421f-8172-648aecdc2ec0, Nodes: 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:75f703fe-c9dd-41a4-960e-85d97e6e4049, CreationTimestamp2021-05-14T10:47:45.125Z] moved to OPEN state
2021-05-14 10:47:48,125 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,125 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 4b191b63-efb6-421f-8172-648aecdc2ec0, Nodes: 75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:75f703fe-c9dd-41a4-960e-85d97e6e4049, CreationTimestamp2021-05-14T10:47:45.125Z] moved to OPEN state
2021-05-14 10:47:48,131 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2a94a56f, cost 305.616us
2021-05-14 10:47:48,128 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,131 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:48,132 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,132 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,131 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "4b191b63-efb6-421f-8172-648aecdc2ec0"
  uuid128 {
    mostSigBits: 5411386543299772959
    leastSigBits: -9119115747629715776
  }
}
isLeader: false
bytesWritten: 0
 from dn=75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,133 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,139 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,141 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 12262.129us
2021-05-14 10:47:48,141 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,142 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,142 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,149 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:48,150 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:48,150 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1], old=null
2021-05-14 10:47:48,150 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,151 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,153 [pool-278-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState
2021-05-14 10:47:48,153 [pool-278-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-648AECDC2EC0,id=75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:48,153 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:48,154 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=4b191b63-efb6-421f-8172-648aecdc2ec0
2021-05-14 10:47:48,154 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=4b191b63-efb6-421f-8172-648aecdc2ec0.
2021-05-14 10:47:48,154 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: addNew group-C21E1A80B8E1:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:0] returns group-C21E1A80B8E1:java.util.concurrent.CompletableFuture@2ddc3048[Not completed]
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: new RaftServerImpl for group-C21E1A80B8E1:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:0] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis] (custom)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,155 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 does not exist. Creating ...
2021-05-14 10:47:48,157 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,158 [pool-278-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 has been successfully formatted.
2021-05-14 10:47:48,159 [pool-278-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C21E1A80B8E1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,160 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,160 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,160 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,164 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,164 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,162 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,162 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,162 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,160 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,166 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,164 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:48,167 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,168 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,169 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,170 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,170 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,170 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:48,174 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:48,175 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:0], old=null
2021-05-14 10:47:48,175 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,175 [pool-278-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:48,179 [pool-278-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C21E1A80B8E1,id=75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:48,179 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:48,180 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1
2021-05-14 10:47:48,181 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-C6974648D07F->fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:48,186 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:48,188 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: addNew group-C21E1A80B8E1:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0] returns group-C21E1A80B8E1:java.util.concurrent.CompletableFuture@290f21d7[Not completed]
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: new RaftServerImpl for group-C21E1A80B8E1:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,189 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,190 [pool-298-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,190 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis] (custom)
2021-05-14 10:47:48,190 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,190 [pool-298-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 does not exist. Creating ...
2021-05-14 10:47:48,191 [pool-298-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,192 [pool-298-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 has been successfully formatted.
2021-05-14 10:47:48,193 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,194 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,194 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,194 [pool-298-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C21E1A80B8E1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,194 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,194 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,194 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,195 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,196 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,196 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,196 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,196 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,197 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,197 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,197 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,197 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:48,198 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:48,199 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:48,199 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,199 [pool-298-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:48,199 [pool-298-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C21E1A80B8E1,id=fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:48,200 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:48,207 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-FCF3A7D47FB8->349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:48,214 [grpc-default-executor-0] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:48,218 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 349f1824-1906-4fb5-b35f-b91d13f29657: addNew group-C21E1A80B8E1:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0] returns group-C21E1A80B8E1:java.util.concurrent.CompletableFuture@7e734924[Not completed]
2021-05-14 10:47:48,219 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 349f1824-1906-4fb5-b35f-b91d13f29657: new RaftServerImpl for group-C21E1A80B8E1:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,219 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,219 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,219 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,219 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,220 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,220 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,220 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,220 [pool-318-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,220 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis] (custom)
2021-05-14 10:47:48,220 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,220 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:48,221 [pool-318-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 does not exist. Creating ...
2021-05-14 10:47:48,222 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:48,221 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:48,224 [pool-318-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,226 [pool-318-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1 has been successfully formatted.
2021-05-14 10:47:48,229 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,240 [pool-318-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-C21E1A80B8E1: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,240 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,241 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,241 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,240 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,240 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,244 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,244 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,245 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,246 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,246 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,246 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,247 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,247 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,247 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,248 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,249 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,249 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,249 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,249 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,249 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,249 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,250 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:47:48,250 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:47:48,251 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:48,251 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,251 [pool-318-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:48,251 [pool-318-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C21E1A80B8E1,id=349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:48,251 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:47:48,259 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1.
2021-05-14 10:47:48,259 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: addNew group-7DDDA9CF8EEB:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1] returns group-7DDDA9CF8EEB:java.util.concurrent.CompletableFuture@56c8d3b3[Not completed]
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: new RaftServerImpl for group-7DDDA9CF8EEB:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis] (custom)
2021-05-14 10:47:48,260 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,261 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb does not exist. Creating ...
2021-05-14 10:47:48,265 [pool-278-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,266 [pool-278-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb has been successfully formatted.
2021-05-14 10:47:48,267 [pool-278-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-7DDDA9CF8EEB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,267 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,268 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,268 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,268 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,268 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,269 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,270 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,270 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,270 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,270 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,270 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,271 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,272 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,274 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,274 [pool-278-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:48,278 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:48,279 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null
2021-05-14 10:47:48,279 [pool-278-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,279 [pool-278-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:48,284 [pool-278-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DDDA9CF8EEB,id=75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:48,285 [pool-278-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:48,285 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=a7617465-8310-42a0-9597-7ddda9cf8eeb
2021-05-14 10:47:48,286 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-BE4D6EB24794->fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:48,292 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: addNew group-7DDDA9CF8EEB:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1] returns group-7DDDA9CF8EEB:java.util.concurrent.CompletableFuture@7186cea2[Not completed]
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: new RaftServerImpl for group-7DDDA9CF8EEB:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,293 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis] (custom)
2021-05-14 10:47:48,294 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,294 [pool-298-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb does not exist. Creating ...
2021-05-14 10:47:48,295 [pool-298-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb has been successfully formatted.
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-7DDDA9CF8EEB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:48,301 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,302 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,303 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,305 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,305 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,306 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,306 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,306 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,307 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,308 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:48,308 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:48,309 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:48,309 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,309 [pool-298-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:48,310 [pool-298-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DDDA9CF8EEB,id=fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:48,310 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:48,320 [Command processor thread] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.client_message_metrics.client-A4F8EE8EFFB6->349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:48,333 [grpc-default-executor-0] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 349f1824-1906-4fb5-b35f-b91d13f29657: addNew group-7DDDA9CF8EEB:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1] returns group-7DDDA9CF8EEB:java.util.concurrent.CompletableFuture@21053f3a[Not completed]
2021-05-14 10:47:48,333 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: addNew group-38C4A1B9A4E8:[fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1] returns group-38C4A1B9A4E8:java.util.concurrent.CompletableFuture@57982180[Not completed]
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 349f1824-1906-4fb5-b35f-b91d13f29657: new RaftServerImpl for group-7DDDA9CF8EEB:[75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,334 [pool-318-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: ConfigurationManager, init=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,335 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis] (custom)
2021-05-14 10:47:48,335 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,335 [pool-318-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb does not exist. Creating ...
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: new RaftServerImpl for group-38C4A1B9A4E8:[fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: ConfigurationManager, init=-1: [fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis] (custom)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:48,336 [pool-298-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8 does not exist. Creating ...
2021-05-14 10:47:48,338 [pool-298-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,338 [pool-318-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8 has been successfully formatted.
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-38C4A1B9A4E8: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,339 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:48,340 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,340 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,341 [pool-318-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb has been successfully formatted.
2021-05-14 10:47:48,341 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 652e6a9c-0702-4082-b5c6-38c4a1b9a4e8, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fc27fb5e-9d46-4537-8f09-eceea5ced80a, CreationTimestamp2021-05-14T10:47:45.338Z] moved to OPEN state
2021-05-14 10:47:48,341 [pool-318-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-7DDDA9CF8EEB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:48,342 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:48,342 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:48,343 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:48,343 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:48,343 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:47:48,343 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 652e6a9c-0702-4082-b5c6-38c4a1b9a4e8, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fc27fb5e-9d46-4537-8f09-eceea5ced80a, CreationTimestamp2021-05-14T10:47:45.338Z] moved to OPEN state
2021-05-14 10:47:48,343 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@235164fe, cost 194.71us
2021-05-14 10:47:48,343 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,344 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8
2021-05-14 10:47:48,344 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,344 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,344 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,346 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,347 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,347 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,347 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,344 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,348 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,344 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "652e6a9c-0702-4082-b5c6-38c4a1b9a4e8"
  uuid128 {
    mostSigBits: 7290882065124442242
    leastSigBits: -5348525090277841688
  }
}
isLeader: false
bytesWritten: 0
 from dn=fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:48,343 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,342 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,348 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:48,342 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 652e6a9c-0702-4082-b5c6-38c4a1b9a4e8, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:fc27fb5e-9d46-4537-8f09-eceea5ced80a, CreationTimestamp2021-05-14T10:47:45.338Z] moved to OPEN state
2021-05-14 10:47:48,348 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2a94a56f, cost 198.51us
2021-05-14 10:47:48,347 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,349 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "652e6a9c-0702-4082-b5c6-38c4a1b9a4e8"
  uuid128 {
    mostSigBits: 7290882065124442242
    leastSigBits: -5348525090277841688
  }
}
isLeader: false
bytesWritten: 0
 from dn=fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:48,348 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/a7617465-8310-42a0-9597-7ddda9cf8eeb
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:48,349 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,349 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:48,354 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,356 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,356 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,356 [pool-298-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,355 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:48,357 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:48,357 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,357 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:48,360 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 18762.163us
2021-05-14 10:47:48,360 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:48,362 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,367 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,367 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,367 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,367 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,367 [pool-298-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,368 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:48,368 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:48,369 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: start as a follower, conf=-1: [fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null
2021-05-14 10:47:48,369 [pool-298-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,369 [pool-298-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState
2021-05-14 10:47:48,369 [pool-298-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-38C4A1B9A4E8,id=fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:48,369 [pool-298-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:48,371 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:48,371 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:48,371 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:48,371 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=652e6a9c-0702-4082-b5c6-38c4a1b9a4e8
2021-05-14 10:47:48,371 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=652e6a9c-0702-4082-b5c6-38c4a1b9a4e8.
2021-05-14 10:47:48,371 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:48,371 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:48,371 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:48,372 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:47:48,372 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:47:48,373 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: start as a follower, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:48,373 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:48,373 [pool-318-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:48,374 [pool-318-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DDDA9CF8EEB,id=349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:48,374 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:47:48,386 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS THREE PipelineID=a7617465-8310-42a0-9597-7ddda9cf8eeb.
2021-05-14 10:47:48,406 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:48,406 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:48,406 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:49,221 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:49,222 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:49,231 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:49,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,269 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,269 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,343 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,343 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,343 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,401 [Command processor thread] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 349f1824-1906-4fb5-b35f-b91d13f29657: addNew group-50F428ABEB36:[349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:1] returns group-50F428ABEB36:java.util.concurrent.CompletableFuture@22461cb3[Not completed]
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 349f1824-1906-4fb5-b35f-b91d13f29657: new RaftServerImpl for group-50F428ABEB36:[349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:1] with ContainerStateMachine:uninitialized
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 300s (custom)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: ConfigurationManager, init=-1: [349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:1], old=null, confs=<EMPTY_MAP>
2021-05-14 10:47:49,402 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis] (custom)
2021-05-14 10:47:49,403 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:47:49,403 [pool-318-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36 does not exist. Creating ...
2021-05-14 10:47:49,404 [pool-318-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:47:49,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:49,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:49,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:49,407 [pool-318-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36 has been successfully formatted.
2021-05-14 10:47:49,407 [pool-318-thread-1] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:loadSnapshot(224)) - group-50F428ABEB36: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
2021-05-14 10:47:49,408 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 300s (custom)
2021-05-14 10:47:49,408 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:47:49,408 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:47:49,409 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,409 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 4b329845-4753-48e0-9dfb-50f428abeb36, Nodes: 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:349f1824-1906-4fb5-b35f-b91d13f29657, CreationTimestamp2021-05-14T10:47:46.405Z] moved to OPEN state
2021-05-14 10:47:49,409 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,409 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 4b329845-4753-48e0-9dfb-50f428abeb36, Nodes: 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:349f1824-1906-4fb5-b35f-b91d13f29657, CreationTimestamp2021-05-14T10:47:46.405Z] moved to OPEN state
2021-05-14 10:47:49,409 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@235164fe, cost 183.909us
2021-05-14 10:47:49,409 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 4b329845-4753-48e0-9dfb-50f428abeb36, Nodes: 349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:349f1824-1906-4fb5-b35f-b91d13f29657, CreationTimestamp2021-05-14T10:47:46.405Z] moved to OPEN state
2021-05-14 10:47:49,410 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "4b329845-4753-48e0-9dfb-50f428abeb36"
  uuid128 {
    mostSigBits: 5418560724996933856
    leastSigBits: -7062962581015893194
  }
}
isLeader: false
bytesWritten: 0
 from dn=349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:49,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:49,410 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2a94a56f, cost 145.108us
2021-05-14 10:47:49,410 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "4b329845-4753-48e0-9dfb-50f428abeb36"
  uuid128 {
    mostSigBits: 5418560724996933856
    leastSigBits: -7062962581015893194
  }
}
isLeader: false
bytesWritten: 0
 from dn=349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:49,410 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:49,410 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 2147483647 (custom)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 1024 (custom)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 1048576 (custom)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:47:49,411 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:47:49,412 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:47:49,412 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:47:49,413 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 1048576 (custom)
2021-05-14 10:47:49,413 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = true (custom)
2021-05-14 10:47:49,414 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:49,414 [pool-318-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:47:49,415 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 6035.909us
2021-05-14 10:47:49,415 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:49,418 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:47:49,418 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
2021-05-14 10:47:49,418 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = 5 (custom)
2021-05-14 10:47:49,418 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:47:49,421 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 600000ms (custom)
2021-05-14 10:47:49,421 [pool-318-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:47:49,421 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:47:49,422 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:47:49,422 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: start as a follower, conf=-1: [349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:1], old=null
2021-05-14 10:47:49,423 [pool-318-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:47:49,423 [pool-318-thread-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState
2021-05-14 10:47:49,424 [pool-318-thread-1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-50F428ABEB36,id=349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:49,424 [pool-318-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:47:49,425 [Command processor thread] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:addGroup(808)) - Created group PipelineID=4b329845-4753-48e0-9dfb-50f428abeb36
2021-05-14 10:47:49,425 [Command processor thread] INFO  commandhandler.CreatePipelineCommandHandler (CreatePipelineCommandHandler.java:handle(106)) - Created Pipeline RATIS ONE PipelineID=4b329845-4753-48e0-9dfb-50f428abeb36.
2021-05-14 10:47:50,228 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:50,231 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:50,231 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:50,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,270 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,270 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,340 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,340 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,340 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,340 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,340 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:50,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:50,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:50,409 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,409 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:50,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:50,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,232 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:51,232 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:51,232 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:51,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,269 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,342 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,342 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,342 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,342 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,407 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:51,408 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:51,408 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:51,409 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:51,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:51,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,232 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:52,232 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:52,233 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:52,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,268 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,268 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,341 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,341 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,342 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,408 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:52,408 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Waiting for cluster to exit safe mode
2021-05-14 10:47:52,408 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:52,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,410 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:52,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:52,410 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:53,203 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5027625944ns, electionTimeout:5023ms
2021-05-14 10:47:53,203 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:53,203 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:53,205 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:53,205 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15
2021-05-14 10:47:53,208 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:0], old=null
2021-05-14 10:47:53,215 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: receive requestVote(ELECTION, 75f703fe-c9dd-41a4-960e-85d97e6e4049, group-C21E1A80B8E1, 1, (t:0, i:0))
2021-05-14 10:47:53,215 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(48)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FOLLOWER: accept ELECTION from 75f703fe-c9dd-41a4-960e-85d97e6e4049: our priority 0 <= candidate's priority 1
2021-05-14 10:47:53,215 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,215 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:53,215 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:53,216 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:53,218 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1 replies to ELECTION vote request: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-349f1824-1906-4fb5-b35f-b91d13f29657#0:OK-t1. Peer's state: 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1:t1, leader=null, voted=75f703fe-c9dd-41a4-960e-85d97e6e4049, raftlog=349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:53,223 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: receive requestVote(ELECTION, 75f703fe-c9dd-41a4-960e-85d97e6e4049, group-C21E1A80B8E1, 1, (t:0, i:0))
2021-05-14 10:47:53,223 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2021-05-14 10:47:53,223 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FOLLOWER: accept ELECTION from 75f703fe-c9dd-41a4-960e-85d97e6e4049: our priority 0 <= candidate's priority 1
2021-05-14 10:47:53,223 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-349f1824-1906-4fb5-b35f-b91d13f29657#0:OK-t1
2021-05-14 10:47:53,223 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15 ELECTION round 0: result PASSED
2021-05-14 10:47:53,224 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15
2021-05-14 10:47:53,223 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,224 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:53,224 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:53,224 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:53,224 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-C21E1A80B8E1 with new leaderId: 75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,224 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:53,235 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: change Leader from null to 75f703fe-c9dd-41a4-960e-85d97e6e4049 at term 1 for becomeLeader, leader elected after 5063ms
2021-05-14 10:47:53,235 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:53,235 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:53,235 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:53,235 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:53,236 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:53,238 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:47:53,238 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:47:53,238 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 1 (custom)
2021-05-14 10:47:53,238 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:53,238 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:75f703fe-c9dd-41a4-960e-85d97e6e4049, CreationTimestamp2021-05-14T10:47:46.411Z] moved to OPEN state
2021-05-14 10:47:53,238 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:53,239 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@235164fe, cost 218.811us
2021-05-14 10:47:53,240 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1"
  uuid128 {
    mostSigBits: -7467993516071236642
    leastSigBits: -6944055715879143199
  }
}
isLeader: true
bytesWritten: 0
 from dn=75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:53,242 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:53,242 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:53,238 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:47:53,238 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:53,238 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:53,238 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:75f703fe-c9dd-41a4-960e-85d97e6e4049, CreationTimestamp2021-05-14T10:47:46.411Z] moved to OPEN state
2021-05-14 10:47:53,243 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1 replies to ELECTION vote request: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-fc27fb5e-9d46-4537-8f09-eceea5ced80a#0:OK-t1. Peer's state: fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1:t1, leader=null, voted=75f703fe-c9dd-41a4-960e-85d97e6e4049, raftlog=fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:53,244 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@2a94a56f, cost 194.509us
2021-05-14 10:47:53,244 [EventQueue-PipelineReportForPipelineReportHandler] ERROR pipeline.PipelineReportHandler (PipelineReportHandler.java:onMessage(93)) - Could not process pipeline report=pipelineID {
  id: "985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1"
  uuid128 {
    mostSigBits: -7467993516071236642
    leastSigBits: -6944055715879143199
  }
}
isLeader: true
bytesWritten: 0
 from dn=75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}.
org.apache.ratis.protocol.exceptions.NotLeaderException: Server da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8 is not the leader 8df10fef-55be-4806-8780-dfc1dd1ab112|rpc:localhost:12560|admin:|client:|dataStream:|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:661)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:626)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:754)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitClientRequestAsync$9(RaftServerProxy.java:417)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$7(RaftServerProxy.java:412)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$submitRequest$8(RaftServerProxy.java:412)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.submitRequest(RaftServerProxy.java:411)
	at org.apache.ratis.server.impl.RaftServerProxy.submitClientRequestAsync(RaftServerProxy.java:417)
	at org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl.submitRequest(SCMRatisServerImpl.java:210)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invokeRatis(SCMHAInvocationHandler.java:110)
	at org.apache.hadoop.hdds.scm.ha.SCMHAInvocationHandler.invoke(SCMHAInvocationHandler.java:67)
	at com.sun.proxy.$Proxy22.updatePipelineState(Unknown Source)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineManagerV2Impl.openPipeline(PipelineManagerV2Impl.java:271)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.processPipelineReport(PipelineReportHandler.java:124)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:91)
	at org.apache.hadoop.hdds.scm.pipeline.PipelineReportHandler.onMessage(PipelineReportHandler.java:50)
	at org.apache.hadoop.hdds.server.events.SingleThreadExecutor.lambda$onMessage$1(SingleThreadExecutor.java:81)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-05-14 10:47:53,243 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 60s (custom)
2021-05-14 10:47:53,244 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:47:53,242 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:53,246 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:53,246 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:53,246 [EventQueue-PipelineReportForPipelineReportHandler] INFO  pipeline.PipelineManagerV2Impl (PipelineManagerV2Impl.java:openPipeline(270)) - Pipeline Pipeline[ Id: 985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1, Nodes: fc27fb5e-9d46-4537-8f09-eceea5ced80a{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=39457, RATIS=35659, RATIS_ADMIN=35659, RATIS_SERVER=35659, STANDALONE=34773], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}349f1824-1906-4fb5-b35f-b91d13f29657{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=40563, RATIS=38389, RATIS_ADMIN=38389, RATIS_SERVER=38389, STANDALONE=38697], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}75f703fe-c9dd-41a4-960e-85d97e6e4049{ip: 127.0.0.1, host: localhost, ports: [REPLICATION=36133, RATIS=36753, RATIS_ADMIN=36753, RATIS_SERVER=36753, STANDALONE=39975], networkLocation: /default-rack, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:75f703fe-c9dd-41a4-960e-85d97e6e4049, CreationTimestamp2021-05-14T10:47:46.411Z] moved to OPEN state
2021-05-14 10:47:53,246 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderStateImpl
2021-05-14 10:47:53,251 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:53,254 [EventQueue-PipelineReportForPipelineReportHandler] INFO  ha.SCMHAInvocationHandler (SCMHAInvocationHandler.java:invokeRatis(113)) - Invoking method public abstract void org.apache.hadoop.hdds.scm.pipeline.StateManager.updatePipelineState(org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineID,org.apache.hadoop.hdds.protocol.proto.HddsProtos$PipelineState) throws java.io.IOException on target org.apache.hadoop.hdds.scm.ha.SCMRatisServerImpl@29c97d4e, cost 7647.09us
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(215)) - ScmSafeModeManager, all rules are successfully validated
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(244)) - SCM exiting safe mode.
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-05-14 10:47:53,254 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  container.ReplicationManager (ReplicationManager.java:notifyStatusChanged(1279)) - Service ReplicationManager transitions to RUNNING.
2021-05-14 10:47:53,255 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/current/log_inprogress_0
2021-05-14 10:47:53,261 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: set configuration 0: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:53,266 [grpc-default-executor-3] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-C21E1A80B8E1 with new leaderId: 75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,266 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: change Leader from null to 75f703fe-c9dd-41a4-960e-85d97e6e4049 at term 1 for appendEntries, leader elected after 5025ms
2021-05-14 10:47:53,269 [grpc-default-executor-2] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-C21E1A80B8E1 with new leaderId: 75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,269 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: change Leader from null to 75f703fe-c9dd-41a4-960e-85d97e6e4049 at term 1 for appendEntries, leader elected after 5074ms
2021-05-14 10:47:53,270 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: set configuration 0: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:53,271 [grpc-default-executor-3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:53,272 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: set configuration 0: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:47:53,272 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:53,273 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/current/log_inprogress_0
2021-05-14 10:47:53,273 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/current/log_inprogress_0
2021-05-14 10:47:53,308 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5155418369ns, electionTimeout:5155ms
2021-05-14 10:47:53,309 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState
2021-05-14 10:47:53,309 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:53,309 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:53,309 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:1], old=null
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-648AECDC2EC0 with new leaderId: 75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: change Leader from null to 75f703fe-c9dd-41a4-960e-85d97e6e4049 at term 1 for becomeLeader, leader elected after 5192ms
2021-05-14 10:47:53,316 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:53,317 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:53,319 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:53,319 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - AtleastOneDatanodeReportedRule rule is successfully validated
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(215)) - ScmSafeModeManager, all rules are successfully validated
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(244)) - SCM exiting safe mode.
2021-05-14 10:47:53,319 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (HealthyPipelineSafeModeRule.java:process(130)) - SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(201)) - HealthyPipelineSafeModeRule rule is successfully validated
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:validateSafeModeExitRules(215)) - ScmSafeModeManager, all rules are successfully validated
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  safemode.SCMSafeModeManager (SCMSafeModeManager.java:exitSafeMode(244)) - SCM exiting safe mode.
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-05-14 10:47:53,320 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:47:53,321 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
2021-05-14 10:47:53,322 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:53,322 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:53,323 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:53,323 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:53,323 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:53,323 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderStateImpl
2021-05-14 10:47:53,323 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:53,325 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0/current/log_inprogress_0
2021-05-14 10:47:53,326 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: set configuration 0: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1], old=null
2021-05-14 10:47:53,338 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5058767092ns, electionTimeout:5053ms
2021-05-14 10:47:53,338 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:53,338 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:53,339 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:53,339 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17
2021-05-14 10:47:53,345 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null
2021-05-14 10:47:53,351 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: receive requestVote(ELECTION, 75f703fe-c9dd-41a4-960e-85d97e6e4049, group-7DDDA9CF8EEB, 1, (t:0, i:0))
2021-05-14 10:47:53,351 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FOLLOWER: accept ELECTION from 75f703fe-c9dd-41a4-960e-85d97e6e4049: our priority 0 <= candidate's priority 0
2021-05-14 10:47:53,351 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,351 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:53,351 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:53,351 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:53,358 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB replies to ELECTION vote request: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-349f1824-1906-4fb5-b35f-b91d13f29657#0:OK-t1. Peer's state: 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB:t1, leader=null, voted=75f703fe-c9dd-41a4-960e-85d97e6e4049, raftlog=349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:53,359 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: receive requestVote(ELECTION, 75f703fe-c9dd-41a4-960e-85d97e6e4049, group-7DDDA9CF8EEB, 1, (t:0, i:0))
2021-05-14 10:47:53,359 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FOLLOWER: reject ELECTION from 75f703fe-c9dd-41a4-960e-85d97e6e4049: our priority 1 > candidate's priority 0
2021-05-14 10:47:53,359 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:53,359 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:53,359 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:53,359 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:53,361 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB replies to ELECTION vote request: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-fc27fb5e-9d46-4537-8f09-eceea5ced80a#0:FAIL-t1. Peer's state: fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB:t1, leader=null, voted=null, raftlog=fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-349f1824-1906-4fb5-b35f-b91d13f29657#0:OK-t1
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-fc27fb5e-9d46-4537-8f09-eceea5ced80a#0:FAIL-t1
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17 ELECTION round 0: result REJECTED
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17
2021-05-14 10:47:53,362 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:53,408 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(224)) - Nodes are ready. Got 3 of 3 DN Heartbeats.
2021-05-14 10:47:53,409 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(227)) - Cluster exits safe mode
2021-05-14 10:47:53,409 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:lambda$waitForClusterToBeReady$0(230)) - SCM became leader
2021-05-14 10:47:53,413 [Listener at 127.0.0.1/13780] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:12580 and Ratis port: 12580
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 0.0.0.0:12581
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 0.0.0.0:12582
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 0.0.0.0:12583
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 12580
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 12584
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:12578
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:12579
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:47:53,416 [Listener at 127.0.0.1/13780] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:53,417 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:47:53,418 [Listener at 127.0.0.1/13780] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:47:53,423 [Listener at 127.0.0.1/13780] ERROR server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(883)) - Could not bootstrap as SCM is already initialized with cluster id 96bb9bb9-1478-488d-96ca-889998040e15 but cluster id for existing leader SCM instance is ac43cffd-4173-4f98-855f-3787b3fb8cf8
2021-05-14 10:47:53,423 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:53,423 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:47:53,423 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:12580 and Ratis port: 12580
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 0.0.0.0:12581
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 0.0.0.0:12582
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 0.0.0.0:12583
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 12580
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 12584
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:12578
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:12579
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(865)) - Skipping clusterId validation during bootstrap command.  ClusterId id 96bb9bb9-1478-488d-96ca-889998040e15, SCM id c58e0bee-06bc-426e-91f2-7c6025823eb0
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:shutdown(443)) - Shutting down the Mini Ozone Cluster
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(287)) - Stopping the OzoneManager omNode-3
2021-05-14 10:47:53,424 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 13780
2021-05-14 10:47:53,434 [IPC Server listener on 13780] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 13780
2021-05-14 10:47:53,435 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-3: close
2021-05-14 10:47:53,435 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - omNode-3@group-523986131536: shutdown
2021-05-14 10:47:53,435 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-3
2021-05-14 10:47:53,435 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - omNode-3: shutdown omNode-3@group-523986131536-LeaderStateImpl
2021-05-14 10:47:53,435 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.omNode-3@group-523986131536
2021-05-14 10:47:53,436 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.omNode-3@group-523986131536
2021-05-14 10:47:53,436 [omNode-3@group-523986131536->omNode-1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-3@group-523986131536->omNode-1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:53,436 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:53,436 [omNode-3@group-523986131536->omNode-2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - omNode-3@group-523986131536->omNode-2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:53,436 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-1: Completed APPEND_ENTRIES, lastRequest: omNode-3->omNode-1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:53,436 [Listener at 127.0.0.1/13780] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - omNode-3@group-523986131536-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:53,437 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.omNode-3@group-523986131536
2021-05-14 10:47:53,437 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-3@group-523986131536
2021-05-14 10:47:53,437 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-3@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:53,436 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - omNode-2: Completed APPEND_ENTRIES, lastRequest: omNode-3->omNode-2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:53,439 [omNode-3@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:0)
2021-05-14 10:47:53,439 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-3@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:53,439 [omNode-3@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-3@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:53,439 [omNode-3@group-523986131536-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.omNode-3@group-523986131536
2021-05-14 10:47:53,439 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - omNode-3@group-523986131536: closes. applyIndex: 0
2021-05-14 10:47:53,440 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-3@group-523986131536->omNode-1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:53,440 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-3@group-523986131536->omNode-1: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:53,440 [omNode-3@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-3@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:53,440 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - omNode-3@group-523986131536->omNode-2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:53,440 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - omNode-3@group-523986131536->omNode-2: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:53,442 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-3@group-523986131536-SegmentedRaftLogWorker close()
2021-05-14 10:47:53,444 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.omNode-3@group-523986131536
2021-05-14 10:47:53,444 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.omNode-3@group-523986131536
2021-05-14 10:47:53,444 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-3@group-523986131536
2021-05-14 10:47:53,444 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-3: shutdown server with port 13784 now
2021-05-14 10:47:53,449 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-3: shutdown server with port 13784 successfully
2021-05-14 10:47:53,449 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@260ed3f7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-3: Stopped
2021-05-14 10:47:53,449 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-14 10:47:53,450 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-14 10:47:53,450 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:53,450 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:53,450 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:53,450 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:53,450 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-14 10:47:53,456 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@1251d57a{ozoneManager,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:53,456 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@5a2a1732{HTTP/1.1, (http/1.1)}{0.0.0.0:13782}
2021-05-14 10:47:53,458 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:53,458 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@77b8d713{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:53,458 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@28e56e60{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:53,463 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(287)) - Stopping the OzoneManager omNode-1
2021-05-14 10:47:53,463 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 13768
2021-05-14 10:47:53,464 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:53,465 [IPC Server listener on 13768] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 13768
2021-05-14 10:47:53,465 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-1: close
2021-05-14 10:47:53,465 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - omNode-1@group-523986131536: shutdown
2021-05-14 10:47:53,465 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-1
2021-05-14 10:47:53,465 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-1: shutdown omNode-1@group-523986131536-FollowerState
2021-05-14 10:47:53,465 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-1@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:53,465 [omNode-1@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-1@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:53,468 [omNode-1@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:0)
2021-05-14 10:47:53,469 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-1@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:53,469 [omNode-1@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-1@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:53,469 [omNode-1@group-523986131536-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.omNode-1@group-523986131536
2021-05-14 10:47:53,469 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - omNode-1@group-523986131536: closes. applyIndex: 0
2021-05-14 10:47:53,470 [omNode-1@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-1@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:53,471 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-1@group-523986131536-SegmentedRaftLogWorker close()
2021-05-14 10:47:53,472 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.omNode-1@group-523986131536
2021-05-14 10:47:53,472 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.omNode-1@group-523986131536
2021-05-14 10:47:53,472 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-1@group-523986131536
2021-05-14 10:47:53,473 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-1: shutdown server with port 13772 now
2021-05-14 10:47:53,474 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-1: shutdown server with port 13772 successfully
2021-05-14 10:47:53,474 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@4e2b52ba] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-1: Stopped
2021-05-14 10:47:53,474 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-14 10:47:53,475 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-14 10:47:53,475 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:53,475 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:53,475 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:53,475 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:53,475 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-14 10:47:53,476 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@c570ee5{ozoneManager,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:53,476 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@288cd28a{HTTP/1.1, (http/1.1)}{0.0.0.0:13770}
2021-05-14 10:47:53,477 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:53,477 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@22088ca9{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:53,477 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@676af191{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:53,478 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(287)) - Stopping the OzoneManager omNode-2
2021-05-14 10:47:53,478 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 13774
2021-05-14 10:47:53,483 [IPC Server listener on 13774] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 13774
2021-05-14 10:47:53,483 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:53,483 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - omNode-2: close
2021-05-14 10:47:53,483 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - omNode-2@group-523986131536: shutdown
2021-05-14 10:47:53,483 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-523986131536,id=omNode-2
2021-05-14 10:47:53,483 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - omNode-2: shutdown omNode-2@group-523986131536-FollowerState
2021-05-14 10:47:53,484 [omNode-2@group-523986131536-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - omNode-2@group-523986131536-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:53,484 [omNode-2@group-523986131536-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:0)
2021-05-14 10:47:53,484 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - omNode-2@group-523986131536-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:53,484 [omNode-2@group-523986131536-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - omNode-2@group-523986131536-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:53,484 [omNode-2@group-523986131536-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.omNode-2@group-523986131536
2021-05-14 10:47:53,485 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - omNode-2@group-523986131536-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:53,485 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - omNode-2@group-523986131536: closes. applyIndex: 0
2021-05-14 10:47:53,485 [omNode-2@group-523986131536-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - omNode-2@group-523986131536-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:53,486 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - omNode-2@group-523986131536-SegmentedRaftLogWorker close()
2021-05-14 10:47:53,488 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.omNode-2@group-523986131536
2021-05-14 10:47:53,488 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.omNode-2@group-523986131536
2021-05-14 10:47:53,488 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.omNode-2@group-523986131536
2021-05-14 10:47:53,488 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - omNode-2: shutdown server with port 13778 now
2021-05-14 10:47:53,491 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - omNode-2: shutdown server with port 13778 successfully
2021-05-14 10:47:53,491 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@55dc144b] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-omNode-2: Stopped
2021-05-14 10:47:53,491 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-05-14 10:47:53,491 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-05-14 10:47:53,491 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:53,491 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:53,492 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:53,492 [Listener at 127.0.0.1/13780] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:53,492 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-05-14 10:47:53,493 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@69924554{ozoneManager,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-05-14 10:47:53,493 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2ebc4668{HTTP/1.1, (http/1.1)}{0.0.0.0:13776}
2021-05-14 10:47:53,494 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:53,494 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@11df24be{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:53,494 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7da0bfa3{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:53,495 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(295)) - Stopping the StorageContainerManager 8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:53,495 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1257)) - Stopping Replication Manager Service.
2021-05-14 10:47:53,495 [Listener at 127.0.0.1/13780] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-14 10:47:53,495 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1264)) - Stopping the Datanode Admin Monitor.
2021-05-14 10:47:53,495 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1271)) - Stopping Lease Manager of the command watchers
2021-05-14 10:47:53,495 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1278)) - Stopping datanode service RPC server
2021-05-14 10:47:53,496 [Listener at 127.0.0.1/13780] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-14 10:47:53,496 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12561
2021-05-14 10:47:53,499 [IPC Server listener on 12561] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12561
2021-05-14 10:47:53,502 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:53,526 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5156992069ns, electionTimeout:5156ms
2021-05-14 10:47:53,526 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState
2021-05-14 10:47:53,526 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:53,527 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:53,527 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18
2021-05-14 10:47:53,535 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: [fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null
2021-05-14 10:47:53,535 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:53,535 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18
2021-05-14 10:47:53,535 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:53,535 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-38C4A1B9A4E8 with new leaderId: fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:53,536 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: change Leader from null to fc27fb5e-9d46-4537-8f09-eceea5ced80a at term 1 for becomeLeader, leader elected after 5196ms
2021-05-14 10:47:53,536 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:53,536 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:53,538 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:53,538 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:53,539 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:53,539 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:53,539 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:53,539 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderStateImpl
2021-05-14 10:47:53,539 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:53,540 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8/current/log_inprogress_0
2021-05-14 10:47:53,537 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 127.0.0.1:12561 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "4a783e42cd9e/172.17.0.2"; destination host is: "localhost":12561; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:794)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1880)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1191)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1087)
2021-05-14 10:47:53,546 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: set configuration 0: [fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:54,243 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:54,243 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:54,245 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:54,534 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-14 10:47:54,535 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1286)) - Stopping block service RPC server
2021-05-14 10:47:54,535 [Listener at 127.0.0.1/13780] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-14 10:47:54,535 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12562
2021-05-14 10:47:54,543 [IPC Server listener on 12562] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12562
2021-05-14 10:47:54,543 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1293)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-14 10:47:54,543 [Listener at 127.0.0.1/13780] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-14 10:47:54,543 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12563
2021-05-14 10:47:54,543 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,550 [IPC Server listener on 12563] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12563
2021-05-14 10:47:54,550 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1300)) - Stopping Storage Container Manager HTTP server.
2021-05-14 10:47:54,550 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,550 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@41c4fe02{scm,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:54,551 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3783c1bf{HTTP/1.1, (http/1.1)}{0.0.0.0:12558}
2021-05-14 10:47:54,551 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:54,551 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7282bd24{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:54,551 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@3bf85457{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:54,552 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1311)) - Stopping Block Manager Service.
2021-05-14 10:47:54,552 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:54,552 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:54,553 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping SCM Event Queue.
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:12560
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: close
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: shutdown
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=8df10fef-55be-4806-8780-dfc1dd1ab112
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-LeaderStateImpl
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,554 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->fb2383b3-d7c6-44db-b6ed-b67b71e95204-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->fb2383b3-d7c6-44db-b6ed-b67b71e95204-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:54,554 [Listener at 127.0.0.1/13780] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:54,555 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyNotLeader(179)) - current leader SCM steps down.
2021-05-14 10:47:54,555 [Listener at 127.0.0.1/13780] INFO  ha.SCMContext (SCMContext.java:updateLeaderAndTerm(88)) - update <isLeader,term> from <true,2> to <false,0>
2021-05-14 10:47:54,555 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->da94c59a-47d6-4e81-8900-195d40564cf5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->da94c59a-47d6-4e81-8900-195d40564cf5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:54,555 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: Completed APPEND_ENTRIES, lastRequest: 8df10fef-55be-4806-8780-dfc1dd1ab112->fb2383b3-d7c6-44db-b6ed-b67b71e95204#903-t2,previous=(t:2, i:27),leaderCommit=27,initializing? true,entries: size=1, first=(t:2, i:28), METADATAENTRY(c:27)
2021-05-14 10:47:54,556 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->fb2383b3-d7c6-44db-b6ed-b67b71e95204-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:54,556 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->fb2383b3-d7c6-44db-b6ed-b67b71e95204: nextIndex: updateUnconditionally 29 -> 28
2021-05-14 10:47:54,556 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - da94c59a-47d6-4e81-8900-195d40564cf5: Completed APPEND_ENTRIES, lastRequest: 8df10fef-55be-4806-8780-dfc1dd1ab112->da94c59a-47d6-4e81-8900-195d40564cf5#872-t2,previous=(t:2, i:27),leaderCommit=27,initializing? true,entries: size=1, first=(t:2, i:28), METADATAENTRY(c:27)
2021-05-14 10:47:54,557 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->da94c59a-47d6-4e81-8900-195d40564cf5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:54,557 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8->da94c59a-47d6-4e81-8900-195d40564cf5: nextIndex: updateUnconditionally 29 -> 28
2021-05-14 10:47:54,558 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,558 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,558 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater: set stopIndex = 28
2021-05-14 10:47:54,558 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (SCMStateMachine.java:takeSnapshot(289)) - Current Snapshot Index 28, takeSnapshot took 0 ms
2021-05-14 10:47:54,558 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater: Took a snapshot at index 28
2021-05-14 10:47:54,558 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 28
2021-05-14 10:47:54,559 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:54,559 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:54,559 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,559 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8: closes. applyIndex: 28
2021-05-14 10:47:54,559 [8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:54,559 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8-SegmentedRaftLogWorker close()
2021-05-14 10:47:54,561 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,562 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,562 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.8df10fef-55be-4806-8780-dfc1dd1ab112@group-3787B3FB8CF8
2021-05-14 10:47:54,562 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown server with port 12560 now
2021-05-14 10:47:54,564 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 8df10fef-55be-4806-8780-dfc1dd1ab112: shutdown server with port 12560 successfully
2021-05-14 10:47:54,564 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@28d569f9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-8df10fef-55be-4806-8780-dfc1dd1ab112: Stopped
2021-05-14 10:47:54,564 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:54,564 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:54,566 [Listener at 127.0.0.1/13780] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-14 10:47:54,567 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping HddsDatanode metrics system...
2021-05-14 10:47:54,582 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - HddsDatanode metrics system stopped.
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(295)) - Stopping the StorageContainerManager da94c59a-47d6-4e81-8900-195d40564cf5
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1257)) - Stopping Replication Manager Service.
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1264)) - Stopping the Datanode Admin Monitor.
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1271)) - Stopping Lease Manager of the command watchers
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1278)) - Stopping datanode service RPC server
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-14 10:47:54,582 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12581
2021-05-14 10:47:54,584 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,584 [IPC Server listener on 12581] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12581
2021-05-14 10:47:54,625 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5202260871ns, electionTimeout:5200ms
2021-05-14 10:47:54,625 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState
2021-05-14 10:47:54,625 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:47:54,626 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:54,626 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19
2021-05-14 10:47:54,633 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: [349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:1], old=null
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  ratis.XceiverServerRatis (XceiverServerRatis.java:handleLeaderChangedNotification(906)) - Leader change notification received for group: group-50F428ABEB36 with new leaderId: 349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: change Leader from null to 349f1824-1906-4fb5-b35f-b91d13f29657 at term 1 for becomeLeader, leader elected after 5226ms
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 1024 (custom)
2021-05-14 10:47:54,634 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 1073741824 (custom)
2021-05-14 10:47:54,635 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 127.0.0.1:12581 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "4a783e42cd9e/172.17.0.2"; destination host is: "localhost":12581; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:794)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1880)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1191)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1087)
2021-05-14 10:47:54,641 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 180s (custom)
2021-05-14 10:47:54,642 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:47:54,642 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:47:54,642 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderStateImpl
2021-05-14 10:47:54,642 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:47:54,643 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36/current/log_inprogress_0
2021-05-14 10:47:54,650 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: set configuration 0: [349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:1], old=null
2021-05-14 10:47:54,656 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-14 10:47:54,656 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1286)) - Stopping block service RPC server
2021-05-14 10:47:54,656 [Listener at 127.0.0.1/13780] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-14 10:47:54,656 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12582
2021-05-14 10:47:54,657 [IPC Server listener on 12582] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12582
2021-05-14 10:47:54,658 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,660 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1293)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-14 10:47:54,660 [Listener at 127.0.0.1/13780] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-14 10:47:54,660 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12583
2021-05-14 10:47:54,661 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1300)) - Stopping Storage Container Manager HTTP server.
2021-05-14 10:47:54,662 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@71c6d179{scm,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:54,661 [IPC Server listener on 12583] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12583
2021-05-14 10:47:54,661 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,663 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@715d575f{HTTP/1.1, (http/1.1)}{0.0.0.0:12578}
2021-05-14 10:47:54,663 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:54,663 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7dd06645{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:54,663 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@275985e3{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:54,665 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1311)) - Stopping Block Manager Service.
2021-05-14 10:47:54,665 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:54,665 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:54,665 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping SCM Event Queue.
2021-05-14 10:47:54,666 [Listener at 127.0.0.1/13780] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:12580
2021-05-14 10:47:54,667 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - da94c59a-47d6-4e81-8900-195d40564cf5: close
2021-05-14 10:47:54,667 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: shutdown
2021-05-14 10:47:54,667 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=da94c59a-47d6-4e81-8900-195d40564cf5
2021-05-14 10:47:54,667 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - da94c59a-47d6-4e81-8900-195d40564cf5: shutdown da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:54,667 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:54,667 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater: set stopIndex = 27
2021-05-14 10:47:54,668 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (SCMStateMachine.java:takeSnapshot(289)) - Current Snapshot Index 27, takeSnapshot took 1 ms
2021-05-14 10:47:54,668 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater: Took a snapshot at index 27
2021-05-14 10:47:54,668 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 27
2021-05-14 10:47:54,668 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:54,668 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:54,668 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:54,669 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8: closes. applyIndex: 26
2021-05-14 10:47:54,669 [da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:54,670 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8-SegmentedRaftLogWorker close()
2021-05-14 10:47:54,670 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:54,670 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:54,670 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.da94c59a-47d6-4e81-8900-195d40564cf5@group-3787B3FB8CF8
2021-05-14 10:47:54,670 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - da94c59a-47d6-4e81-8900-195d40564cf5: shutdown server with port 12580 now
2021-05-14 10:47:54,671 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - da94c59a-47d6-4e81-8900-195d40564cf5: shutdown server with port 12580 successfully
2021-05-14 10:47:54,671 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@23a22b99] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-da94c59a-47d6-4e81-8900-195d40564cf5: Stopped
2021-05-14 10:47:54,671 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:54,671 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:54,674 [Listener at 127.0.0.1/13780] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-14 10:47:54,674 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - HddsDatanode metrics system stopped (again)
2021-05-14 10:47:54,674 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:stop(295)) - Stopping the StorageContainerManager fb2383b3-d7c6-44db-b6ed-b67b71e95204
2021-05-14 10:47:54,674 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1257)) - Stopping Replication Manager Service.
2021-05-14 10:47:54,674 [Listener at 127.0.0.1/13780] INFO  container.ReplicationManager (ReplicationManager.java:stop(267)) - Stopping Replication Monitor Thread.
2021-05-14 10:47:54,675 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1264)) - Stopping the Datanode Admin Monitor.
2021-05-14 10:47:54,675 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1271)) - Stopping Lease Manager of the command watchers
2021-05-14 10:47:54,675 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1278)) - Stopping datanode service RPC server
2021-05-14 10:47:54,675 [Listener at 127.0.0.1/13780] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-05-14 10:47:54,675 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12571
2021-05-14 10:47:54,676 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,677 [IPC Server listener on 12571] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12571
2021-05-14 10:47:54,750 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-05-14 10:47:54,750 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1286)) - Stopping block service RPC server
2021-05-14 10:47:54,751 [Listener at 127.0.0.1/13780] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-05-14 10:47:54,751 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12572
2021-05-14 10:47:54,752 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,753 [IPC Server listener on 12572] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12572
2021-05-14 10:47:54,753 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1293)) - Stopping the StorageContainerLocationProtocol RPC server
2021-05-14 10:47:54,753 [Listener at 127.0.0.1/13780] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(172)) - Stopping the RPC server for Client Protocol
2021-05-14 10:47:54,753 [Listener at 127.0.0.1/13780] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 12573
2021-05-14 10:47:54,754 [IPC Server listener on 12573] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 12573
2021-05-14 10:47:54,756 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-05-14 10:47:54,756 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1300)) - Stopping Storage Container Manager HTTP server.
2021-05-14 10:47:54,756 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@7bfd6ef{scm,/,null,STOPPED}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:47:54,758 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1750adbd{HTTP/1.1, (http/1.1)}{0.0.0.0:12568}
2021-05-14 10:47:54,758 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:54,758 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@84793cf{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-05-14 10:47:54,758 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@11a3fe2c{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:54,759 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1311)) - Stopping Block Manager Service.
2021-05-14 10:47:54,759 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:54,759 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-05-14 10:47:54,760 [Listener at 127.0.0.1/13780] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1338)) - Stopping SCM Event Queue.
2021-05-14 10:47:54,762 [Listener at 127.0.0.1/13780] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:stop(224)) - stopping ratis server 0.0.0.0:12570
2021-05-14 10:47:54,762 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: close
2021-05-14 10:47:54,762 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: shutdown
2021-05-14 10:47:54,762 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3787B3FB8CF8,id=fb2383b3-d7c6-44db-b6ed-b67b71e95204
2021-05-14 10:47:54,762 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: shutdown fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-FollowerState
2021-05-14 10:47:54,762 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:54,763 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (SCMStateMachine.java:takeSnapshot(289)) - Current Snapshot Index 27, takeSnapshot took 1 ms
2021-05-14 10:47:54,763 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater: Took a snapshot at index 27
2021-05-14 10:47:54,763 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 27
2021-05-14 10:47:54,763 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:54,763 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:54,763 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:54,763 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-StateMachineUpdater: set stopIndex = 27
2021-05-14 10:47:54,764 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8: closes. applyIndex: 26
2021-05-14 10:47:54,764 [fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:54,764 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8-SegmentedRaftLogWorker close()
2021-05-14 10:47:54,765 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:54,765 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:54,765 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.fb2383b3-d7c6-44db-b6ed-b67b71e95204@group-3787B3FB8CF8
2021-05-14 10:47:54,765 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: shutdown server with port 12570 now
2021-05-14 10:47:54,765 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - fb2383b3-d7c6-44db-b6ed-b67b71e95204: shutdown server with port 12570 successfully
2021-05-14 10:47:54,766 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@56781ad0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-fb2383b3-d7c6-44db-b6ed-b67b71e95204: Stopped
2021-05-14 10:47:54,766 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-05-14 10:47:54,766 [Listener at 127.0.0.1/13780] INFO  ha.SCMStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-05-14 10:47:54,766 [Listener at 127.0.0.1/13780] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-05-14 10:47:54,766 [Listener at 127.0.0.1/13780] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - HddsDatanode metrics system stopped (again)
2021-05-14 10:47:54,767 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stop(458)) - Stopping the Mini Ozone Cluster
2021-05-14 10:47:54,767 [Listener at 127.0.0.1/13780] INFO  ozone.MiniOzoneClusterImpl (MiniOzoneClusterImpl.java:stopDatanodes(517)) - Stopping the HddsDatanodes
2021-05-14 10:47:55,243 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:55,244 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:55,245 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:55,316 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:setState(217)) - Ignore disallowed transition from SHUTDOWN to RUNNING
2021-05-14 10:47:55,316 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(411)) - Ozone container server started.
2021-05-14 10:47:55,317 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:55,535 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:setState(217)) - Ignore disallowed transition from SHUTDOWN to RUNNING
2021-05-14 10:47:55,535 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(411)) - Ozone container server started.
2021-05-14 10:47:55,634 [Datanode State Machine Thread - 0] ERROR datanode.RunningDatanodeState (RunningDatanodeState.java:computeNextContainerState(199)) - Error in executing end point task.
java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.util.concurrent.FutureTask.get(FutureTask.java:192)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:579)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:233)
	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:410)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	... 1 more
2021-05-14 10:47:55,636 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at 127.0.0.1:12571 for past 0 seconds.
java.io.EOFException: End of File Exception between local host is: "4a783e42cd9e/172.17.0.2"; destination host is: "localhost":12571; : java.io.EOFException; For more details see:  http://wiki.apache.org/hadoop/EOFException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:794)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1880)
	at org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1191)
	at org.apache.hadoop.ipc.Client$Connection.run(Client.java:1087)
2021-05-14 10:47:56,244 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:56,244 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:56,245 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:56,318 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:56,636 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:57,245 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:57,245 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:57,246 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:57,318 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:57,636 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:57,636 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:58,245 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:58,245 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:58,246 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:58,319 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:58,497 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5134335919ns, electionTimeout:5134ms
2021-05-14 10:47:58,497 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:58,497 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:47:58,497 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:58,497 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20
2021-05-14 10:47:58,499 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20 ELECTION round 0: submit vote requests at term 2 for -1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|priority:1], old=null
2021-05-14 10:47:58,506 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: receive requestVote(ELECTION, 75f703fe-c9dd-41a4-960e-85d97e6e4049, group-7DDDA9CF8EEB, 2, (t:0, i:0))
2021-05-14 10:47:58,507 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FOLLOWER: accept ELECTION from 75f703fe-c9dd-41a4-960e-85d97e6e4049: our priority 0 <= candidate's priority 0
2021-05-14 10:47:58,507 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:58,507 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:58,507 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:58,507 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:58,511 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5151849107ns, electionTimeout:5149ms
2021-05-14 10:47:58,511 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:58,511 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:47:58,511 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:47:58,511 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-LeaderElection21
2021-05-14 10:47:58,518 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB replies to ELECTION vote request: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-349f1824-1906-4fb5-b35f-b91d13f29657#0:OK-t2. Peer's state: 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB:t2, leader=null, voted=75f703fe-c9dd-41a4-960e-85d97e6e4049, raftlog=349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:58,519 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1042)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: receive requestVote(ELECTION, 75f703fe-c9dd-41a4-960e-85d97e6e4049, group-7DDDA9CF8EEB, 2, (t:0, i:0))
2021-05-14 10:47:58,519 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-CANDIDATE: reject ELECTION from 75f703fe-c9dd-41a4-960e-85d97e6e4049: our priority 1 > candidate's priority 0
2021-05-14 10:47:58,519 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:58,519 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-LeaderElection21
2021-05-14 10:47:58,519 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: start fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:58,520 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:run(230)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-LeaderElection21: skip running since this is already CLOSING
2021-05-14 10:47:58,522 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1074)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB replies to ELECTION vote request: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-fc27fb5e-9d46-4537-8f09-eceea5ced80a#0:FAIL-t2. Peer's state: fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB:t2, leader=null, voted=null, raftlog=fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-349f1824-1906-4fb5-b35f-b91d13f29657#0:OK-t2
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: 75f703fe-c9dd-41a4-960e-85d97e6e4049<-fc27fb5e-9d46-4537-8f09-eceea5ced80a#0:FAIL-t2
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20 ELECTION round 0: result REJECTED
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20
2021-05-14 10:47:58,525 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: start 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:58,637 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:58,637 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,246 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,246 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,246 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,319 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,637 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,638 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:47:59,768 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(312)) - Attempting to stop container services.
2021-05-14 10:47:59,768 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: close
2021-05-14 10:47:59,768 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: shutdown
2021-05-14 10:47:59,769 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-38C4A1B9A4E8,id=fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:59,769 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-LeaderStateImpl
2021-05-14 10:47:59,769 [Listener at 127.0.0.1/13780] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:59,769 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:59,769 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:59,770 [ForkJoinPool.commonPool-worker-0] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(312)) - Attempting to stop container services.
2021-05-14 10:47:59,770 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-38C4A1B9A4E8: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8/sm/snapshot.1_0
2021-05-14 10:47:59,770 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:59,770 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: close
2021-05-14 10:47:59,771 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: shutdown
2021-05-14 10:47:59,771 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-648AECDC2EC0,id=75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:59,771 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-LeaderStateImpl
2021-05-14 10:47:59,771 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:59,771 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:59,771 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:59,772 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:59,772 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-648AECDC2EC0: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0/sm/snapshot.1_0
2021-05-14 10:47:59,773 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-648AECDC2EC0: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/4b191b63-efb6-421f-8172-648aecdc2ec0/sm/snapshot.1_0 took: 0 ms
2021-05-14 10:47:59,771 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-38C4A1B9A4E8: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/652e6a9c-0702-4082-b5c6-38c4a1b9a4e8/sm/snapshot.1_0 took: 1 ms
2021-05-14 10:47:59,773 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:59,773 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:59,773 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:59,773 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:59,773 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:59,773 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:59,774 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0: closes. applyIndex: 0
2021-05-14 10:47:59,774 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:59,774 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0-SegmentedRaftLogWorker close()
2021-05-14 10:47:59,775 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8: closes. applyIndex: 0
2021-05-14 10:47:59,775 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:59,775 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:59,775 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:59,776 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-648AECDC2EC0
2021-05-14 10:47:59,776 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: shutdown
2021-05-14 10:47:59,776 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DDDA9CF8EEB,id=75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:59,776 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:59,776 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:59,776 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-StateMachineUpdater: set stopIndex = -1
2021-05-14 10:47:59,776 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB: closes. applyIndex: -1
2021-05-14 10:47:59,776 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:59,777 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-SegmentedRaftLogWorker close()
2021-05-14 10:47:59,778 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:59,778 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:59,778 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:59,778 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8-SegmentedRaftLogWorker close()
2021-05-14 10:47:59,779 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-7DDDA9CF8EEB
2021-05-14 10:47:59,780 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:59,780 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: shutdown
2021-05-14 10:47:59,780 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:59,780 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-38C4A1B9A4E8
2021-05-14 10:47:59,780 [ForkJoinPool.commonPool-worker-0] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C21E1A80B8E1,id=75f703fe-c9dd-41a4-960e-85d97e6e4049
2021-05-14 10:47:59,780 [ForkJoinPool.commonPool-worker-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-LeaderStateImpl
2021-05-14 10:47:59,781 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,780 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: shutdown
2021-05-14 10:47:59,781 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DDDA9CF8EEB,id=fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:59,781 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:47:59,781 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-StateMachineUpdater: set stopIndex = -1
2021-05-14 10:47:59,781 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->349f1824-1906-4fb5-b35f-b91d13f29657-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->349f1824-1906-4fb5-b35f-b91d13f29657-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:59,781 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis_grpc.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,782 [ForkJoinPool.commonPool-worker-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-PendingRequests: sendNotLeaderResponses
2021-05-14 10:47:59,782 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - 349f1824-1906-4fb5-b35f-b91d13f29657: Completed APPEND_ENTRIES, lastRequest: 75f703fe-c9dd-41a4-960e-85d97e6e4049->349f1824-1906-4fb5-b35f-b91d13f29657#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:59,781 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:59,781 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:59,782 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB: closes. applyIndex: -1
2021-05-14 10:47:59,783 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->349f1824-1906-4fb5-b35f-b91d13f29657-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:59,783 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:59,783 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB-SegmentedRaftLogWorker close()
2021-05-14 10:47:59,782 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,783 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,782 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->fc27fb5e-9d46-4537-8f09-eceea5ced80a-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(175)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->fc27fb5e-9d46-4537-8f09-eceea5ced80a-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2021-05-14 10:47:59,783 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->349f1824-1906-4fb5-b35f-b91d13f29657: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:59,784 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(140)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: Completed APPEND_ENTRIES, lastRequest: 75f703fe-c9dd-41a4-960e-85d97e6e4049->fc27fb5e-9d46-4537-8f09-eceea5ced80a#1-t1,previous=(t:0, i:0),leaderCommit=0,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY
2021-05-14 10:47:59,785 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(344)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->fc27fb5e-9d46-4537-8f09-eceea5ced80a-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2021-05-14 10:47:59,785 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(46)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1->fc27fb5e-9d46-4537-8f09-eceea5ced80a: nextIndex: updateUnconditionally 1 -> 0
2021-05-14 10:47:59,785 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C21E1A80B8E1: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/sm/snapshot.1_0
2021-05-14 10:47:59,785 [ForkJoinPool.commonPool-worker-0] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:59,786 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:59,786 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C21E1A80B8E1: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-0/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/sm/snapshot.1_0 took: 1 ms
2021-05-14 10:47:59,786 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:59,786 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:59,786 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:59,786 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-7DDDA9CF8EEB
2021-05-14 10:47:59,787 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,787 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: shutdown
2021-05-14 10:47:59,787 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C21E1A80B8E1,id=fc27fb5e-9d46-4537-8f09-eceea5ced80a
2021-05-14 10:47:59,787 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState
2021-05-14 10:47:59,787 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:47:59,787 [ForkJoinPool.commonPool-worker-0] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1: closes. applyIndex: 0
2021-05-14 10:47:59,787 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:47:59,787 [75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:59,787 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C21E1A80B8E1: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/sm/snapshot.1_0
2021-05-14 10:47:59,788 [ForkJoinPool.commonPool-worker-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1-SegmentedRaftLogWorker close()
2021-05-14 10:47:59,789 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,789 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C21E1A80B8E1: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-1/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/sm/snapshot.1_0 took: 2 ms
2021-05-14 10:47:59,789 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,789 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:47:59,789 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:47:59,789 [ForkJoinPool.commonPool-worker-0] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.75f703fe-c9dd-41a4-960e-85d97e6e4049@group-C21E1A80B8E1
2021-05-14 10:47:59,789 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:59,790 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown server with port 36753 now
2021-05-14 10:47:59,790 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1: closes. applyIndex: 0
2021-05-14 10:47:59,790 [fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:47:59,790 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1-SegmentedRaftLogWorker close()
2021-05-14 10:47:59,790 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:59,790 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:59,791 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.fc27fb5e-9d46-4537-8f09-eceea5ced80a@group-C21E1A80B8E1
2021-05-14 10:47:59,791 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown server with port 35659 now
2021-05-14 10:47:59,791 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - fc27fb5e-9d46-4537-8f09-eceea5ced80a: shutdown server with port 35659 successfully
2021-05-14 10:47:59,792 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@304e8fea] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-fc27fb5e-9d46-4537-8f09-eceea5ced80a: Stopped
2021-05-14 10:47:59,793 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-05-14 10:47:59,799 [ForkJoinPool.commonPool-worker-0] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 75f703fe-c9dd-41a4-960e-85d97e6e4049: shutdown server with port 36753 successfully
2021-05-14 10:47:59,800 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@3abc755d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-75f703fe-c9dd-41a4-960e-85d97e6e4049: Stopped
2021-05-14 10:47:59,800 [Listener at 127.0.0.1/13780] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(469)) - Ozone container server stopped.
2021-05-14 10:47:59,802 [ForkJoinPool.commonPool-worker-0] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-05-14 10:47:59,809 [ForkJoinPool.commonPool-worker-0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(469)) - Ozone container server stopped.
2021-05-14 10:47:59,812 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@3833a907{hddsDatanode,/,null,STOPPED}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:59,812 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@34910781{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-05-14 10:47:59,812 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:59,813 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@3a123423{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-05-14 10:47:59,813 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@2cde507f{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:47:59,818 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@9e22df5{hddsDatanode,/,null,STOPPED}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:47:59,818 [ForkJoinPool.commonPool-worker-0] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3079c0d3{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-05-14 10:47:59,818 [ForkJoinPool.commonPool-worker-0] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:47:59,819 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6bce68b4{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-05-14 10:47:59,819 [ForkJoinPool.commonPool-worker-0] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@5718c40{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:48:00,247 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:00,247 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:00,247 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:00,320 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:00,636 [Datanode State Machine Thread - 0] WARN  statemachine.StateContext (StateContext.java:setState(217)) - Ignore disallowed transition from SHUTDOWN to RUNNING
2021-05-14 10:48:00,637 [Datanode State Machine Thread - 0] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:lambda$startDaemon$0(411)) - Ozone container server started.
2021-05-14 10:48:00,638 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:00,638 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:01,247 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:01,247 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:01,248 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:01,321 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:01,638 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:01,639 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:02,248 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:02,248 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:02,248 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:02,321 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:02,639 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:02,639 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:03,249 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:03,249 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:03,249 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:03,322 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:03,412 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5127846243ns, electionTimeout:5015ms
2021-05-14 10:48:03,412 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState
2021-05-14 10:48:03,412 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:48:03,412 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:48:03,412 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22
2021-05-14 10:48:03,413 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: change Leader from 75f703fe-c9dd-41a4-960e-85d97e6e4049 to null at term 1 for ELECTION
2021-05-14 10:48:03,414 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22 ELECTION round 0: submit vote requests at term 2 for 0: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:1, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:0], old=null
2021-05-14 10:48:03,420 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,421 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,421 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-05-14 10:48:03,422 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,422 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,422 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22 ELECTION round 0: result REJECTED
2021-05-14 10:48:03,422 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: changes role from CANDIDATE to FOLLOWER at term 2 for REJECTED
2021-05-14 10:48:03,422 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22
2021-05-14 10:48:03,422 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState
2021-05-14 10:48:03,622 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5104719395ns, electionTimeout:5103ms
2021-05-14 10:48:03,623 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:48:03,623 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2021-05-14 10:48:03,623 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:48:03,623 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23
2021-05-14 10:48:03,625 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23 ELECTION round 0: submit vote requests at term 3 for -1: [75f703fe-c9dd-41a4-960e-85d97e6e4049|rpc:127.0.0.1:36753|dataStream:|priority:0, 349f1824-1906-4fb5-b35f-b91d13f29657|rpc:127.0.0.1:38389|dataStream:|priority:0, fc27fb5e-9d46-4537-8f09-eceea5ced80a|rpc:127.0.0.1:35659|dataStream:|priority:1], old=null
2021-05-14 10:48:03,626 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,626 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23: ELECTION REJECTED received 0 response(s) and 2 exception(s):
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23 ELECTION round 0: result REJECTED
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23
2021-05-14 10:48:03,627 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 349f1824-1906-4fb5-b35f-b91d13f29657: start 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:48:03,640 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:03,640 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,249 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,250 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,250 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,323 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,640 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,640 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:04,815 [Listener at 127.0.0.1/13780] INFO  ozoneimpl.OzoneContainer (OzoneContainer.java:stop(312)) - Attempting to stop container services.
2021-05-14 10:48:04,815 [Listener at 127.0.0.1/13780] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 349f1824-1906-4fb5-b35f-b91d13f29657: close
2021-05-14 10:48:04,815 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: shutdown
2021-05-14 10:48:04,816 [Listener at 127.0.0.1/13780] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-50F428ABEB36,id=349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:48:04,816 [Listener at 127.0.0.1/13780] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-LeaderStateImpl
2021-05-14 10:48:04,816 [Listener at 127.0.0.1/13780] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-PendingRequests: sendNotLeaderResponses
2021-05-14 10:48:04,816 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:48:04,816 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:48:04,817 [Listener at 127.0.0.1/13780] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:48:04,817 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-50F428ABEB36: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36/sm/snapshot.1_0
2021-05-14 10:48:04,816 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: shutdown
2021-05-14 10:48:04,818 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-50F428ABEB36: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/4b329845-4753-48e0-9dfb-50f428abeb36/sm/snapshot.1_0 took: 1 ms
2021-05-14 10:48:04,818 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:48:04,818 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:48:04,818 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:48:04,818 [Listener at 127.0.0.1/13780] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36: closes. applyIndex: 0
2021-05-14 10:48:04,819 [349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:48:04,819 [Listener at 127.0.0.1/13780] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36-SegmentedRaftLogWorker close()
2021-05-14 10:48:04,819 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:48:04,819 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:48:04,819 [Listener at 127.0.0.1/13780] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-50F428ABEB36
2021-05-14 10:48:04,822 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7DDDA9CF8EEB,id=349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:48:04,822 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState
2021-05-14 10:48:04,822 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:48:04,822 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:48:04,823 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-StateMachineUpdater: set stopIndex = -1
2021-05-14 10:48:04,823 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB: closes. applyIndex: -1
2021-05-14 10:48:04,823 [349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:48:04,823 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB-SegmentedRaftLogWorker close()
2021-05-14 10:48:04,823 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:48:04,823 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:48:04,823 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-7DDDA9CF8EEB
2021-05-14 10:48:04,824 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: shutdown
2021-05-14 10:48:04,824 [ForkJoinPool.commonPool-worker-1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C21E1A80B8E1,id=349f1824-1906-4fb5-b35f-b91d13f29657
2021-05-14 10:48:04,824 [ForkJoinPool.commonPool-worker-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState
2021-05-14 10:48:04,824 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-05-14 10:48:04,824 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(292)) - group-C21E1A80B8E1: Taking a snapshot at:(t:1, i:0) file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/sm/snapshot.1_0
2021-05-14 10:48:04,824 [ForkJoinPool.commonPool-worker-1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:48:04,825 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater] INFO  ratis.ContainerStateMachine (ContainerStateMachine.java:takeSnapshot(303)) - group-C21E1A80B8E1: Finished taking a snapshot at:(t:1, i:0) file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ac43cffd-4173-4f98-855f-3787b3fb8cf8/datanode-2/data/ratis/985c5b76-d9a7-4bde-9fa1-c21e1a80b8e1/sm/snapshot.1_0 took: 1 ms
2021-05-14 10:48:04,825 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:48:04,825 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:48:04,825 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:48:04,825 [ForkJoinPool.commonPool-worker-1] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1: closes. applyIndex: 0
2021-05-14 10:48:04,825 [349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:48:04,825 [ForkJoinPool.commonPool-worker-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1-SegmentedRaftLogWorker close()
2021-05-14 10:48:04,825 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:48:04,826 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:48:04,826 [ForkJoinPool.commonPool-worker-1] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.349f1824-1906-4fb5-b35f-b91d13f29657@group-C21E1A80B8E1
2021-05-14 10:48:04,826 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown server with port 38389 now
2021-05-14 10:48:04,832 [Listener at 127.0.0.1/13780] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 349f1824-1906-4fb5-b35f-b91d13f29657: shutdown server with port 38389 successfully
2021-05-14 10:48:04,832 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@25224202] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-349f1824-1906-4fb5-b35f-b91d13f29657: Stopped
2021-05-14 10:48:04,833 [Listener at 127.0.0.1/13780] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service BlockDeletingService
2021-05-14 10:48:04,833 [Listener at 127.0.0.1/13780] INFO  statemachine.DatanodeStateMachine (DatanodeStateMachine.java:stopDaemon(469)) - Ozone container server stopped.
2021-05-14 10:48:04,842 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@7717ab64{hddsDatanode,/,null,STOPPED}{jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
2021-05-14 10:48:04,843 [Listener at 127.0.0.1/13780] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@2bcadbd8{HTTP/1.1, (http/1.1)}{0.0.0.0:0}
2021-05-14 10:48:04,843 [Listener at 127.0.0.1/13780] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-05-14 10:48:04,843 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@3ff4af1b{static,/static,jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-container-service/1.2.0-SNAPSHOT/hadoop-hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,STOPPED}
2021-05-14 10:48:04,843 [Listener at 127.0.0.1/13780] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@9c51976{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-05-14 10:48:04,876 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:12460 and Ratis port: 12460
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 127.0.0.1:12461
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12462
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12463
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 12460
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 12464
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:12458
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:12459
2021-05-14 10:48:04,877 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:48:04,878 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:48:04,878 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:48:04,878 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:48:04,878 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12460 (custom)
2021-05-14 10:48:04,878 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:48:04,879 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12460 (custom)
2021-05-14 10:48:04,879 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12460 (custom)
2021-05-14 10:48:04,879 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:48:04,879 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:04,879 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:48:04,879 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:04,880 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:48:04,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:04,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:04,880 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha] (custom)
2021-05-14 10:48:04,881 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: addNew group-D4E31CEF5B5A:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|priority:0] returns group-D4E31CEF5B5A:java.util.concurrent.CompletableFuture@38218dca[Not completed]
2021-05-14 10:48:04,881 [pool-327-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: new RaftServerImpl for group-D4E31CEF5B5A:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|priority:0] with SCMStateMachine:uninitialized
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: ConfigurationManager, init=-1: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha] (custom)
2021-05-14 10:48:04,882 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:48:04,883 [pool-327-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a does not exist. Creating ...
2021-05-14 10:48:04,884 [pool-327-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:48:04,885 [pool-327-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a has been successfully formatted.
2021-05-14 10:48:04,885 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:48:04,885 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:48:04,885 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:48:04,885 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:04,885 [pool-327-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:48:04,886 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:48:04,887 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:48:04,887 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:48:04,887 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:48:04,888 [pool-327-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:04,889 [pool-327-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:04,890 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: start as a follower, conf=-1: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|priority:0], old=null
2021-05-14 10:48:04,890 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-05-14 10:48:04,890 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState
2021-05-14 10:48:04,891 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4E31CEF5B5A,id=2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:04,891 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:04,891 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start RPC server
2021-05-14 10:48:04,892 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: GrpcService started, listening on 12460
2021-05-14 10:48:04,893 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@35fccd03] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-2d21404d-844d-4e33-9226-105b1ab18ff5: Started
2021-05-14 10:48:05,250 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:05,250 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:05,250 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:05,323 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:05,641 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:05,641 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:06,251 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:06,251 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:06,251 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:06,324 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:06,642 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:06,642 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:07,252 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:07,252 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:07,252 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:07,325 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:07,642 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:07,642 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:08,252 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:08,252 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:08,253 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:08,325 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:08,643 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:08,643 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:09,253 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:09,253 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:09,253 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:09,326 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:09,327 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] WARN  statemachine.EndpointStateMachine (EndpointStateMachine.java:logIfNeeded(236)) - Unable to communicate to SCM server at localhost:12561 for past 0 seconds.
java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:12561 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at org.apache.hadoop.net.NetUtils.wrapWithMessage(NetUtils.java:836)
	at org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:760)
	at org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1566)
	at org.apache.hadoop.ipc.Client.call(Client.java:1508)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy45.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.submitRequest(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:117)
	at org.apache.hadoop.ozone.protocolPB.StorageContainerDatanodeProtocolClientSideTranslatorPB.sendHeartbeat(StorageContainerDatanodeProtocolClientSideTranslatorPB.java:149)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:146)
	at org.apache.hadoop.ozone.container.common.states.endpoint.HeartbeatEndpointTask.call(HeartbeatEndpointTask.java:77)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206)
	at org.apache.hadoop.net.NetUtils.connect(NetUtils.java:534)
	at org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:699)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:812)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	... 12 more
2021-05-14 10:48:09,644 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:09,644 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,033 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5143025154ns, electionTimeout:5142ms
2021-05-14 10:48:10,033 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState
2021-05-14 10:48:10,033 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-05-14 10:48:10,033 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:48:10,033 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24 ELECTION round 0: submit vote requests at term 1 for -1: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|priority:0], old=null
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24 ELECTION round 0: result PASSED (term=1)
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: change Leader from null to 2d21404d-844d-4e33-9226-105b1ab18ff5 at term 1 for becomeLeader, leader elected after 5154ms
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:48:10,039 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl
2021-05-14 10:48:10,040 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:48:10,042 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:10,043 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0
2021-05-14 10:48:10,254 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,254 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,254 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,327 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,644 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,644 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:10,893 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: close
2021-05-14 10:48:10,894 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: shutdown
2021-05-14 10:48:10,894 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4E31CEF5B5A,id=2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:10,894 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl
2021-05-14 10:48:10,894 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-PendingRequests: sendNotLeaderResponses
2021-05-14 10:48:10,894 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,894 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,895 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-StateMachineUpdater: set stopIndex = 0
2021-05-14 10:48:10,895 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-StateMachineUpdater: Took a snapshot at index 0
2021-05-14 10:48:10,895 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 0
2021-05-14 10:48:10,895 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,895 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(405)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: closes. applyIndex: 0
2021-05-14 10:48:10,895 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-05-14 10:48:10,896 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker close()
2021-05-14 10:48:10,896 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,897 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,897 [Time-limited test] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,897 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown server with port 12460 now
2021-05-14 10:48:10,897 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown server with port 12460 successfully
2021-05-14 10:48:10,897 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@35fccd03] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-2d21404d-844d-4e33-9226-105b1ab18ff5: Stopped
2021-05-14 10:48:10,898 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:scmInit(962)) - SCM initialization succeeded. Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm; cid=ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a; layoutVersion=0; scmId=2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:10,898 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-1, RPC Address: localhost:12460 and Ratis port: 12460
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-1: 127.0.0.1:12461
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12462
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-1: 127.0.0.1:12463
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-1: 12460
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-1: 12464
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-1: 127.0.0.1:12458
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-1: 127.0.0.1:12459
2021-05-14 10:48:10,899 [Time-limited test] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-1: 127.0.0.1
2021-05-14 10:48:10,900 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:10,900 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:10,900 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:10,971 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:48:10,971 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:48:10,973 [Time-limited test] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:10,974 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:48:10,974 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:48:10,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:48:10,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12460 (custom)
2021-05-14 10:48:10,974 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:48:10,975 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12460 (custom)
2021-05-14 10:48:10,978 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12460 (custom)
2021-05-14 10:48:10,978 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:48:10,978 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:10,978 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:48:10,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:10,980 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:48:10,980 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:10,980 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:10,981 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha] (custom)
2021-05-14 10:48:10,981 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: found a subdirectory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a
2021-05-14 10:48:10,982 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: addNew group-D4E31CEF5B5A:[] returns group-D4E31CEF5B5A:java.util.concurrent.CompletableFuture@7c4155a2[Not completed]
2021-05-14 10:48:10,982 [pool-340-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: new RaftServerImpl for group-D4E31CEF5B5A:[] with SCMStateMachine:uninitialized
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha] (custom)
2021-05-14 10:48:10,983 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:48:10,985 [pool-340-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:48:10,985 [pool-340-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(108)) - Read RaftStorageMetadata{term=1, votedFor=2d21404d-844d-4e33-9226-105b1ab18ff5} from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/raft-meta
2021-05-14 10:48:10,985 [pool-340-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:10,985 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:48:10,985 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:48:10,986 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:48:10,986 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:10,986 [pool-340-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,986 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:10,986 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:48:10,986 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:48:10,987 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:48:10,988 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:48:10,988 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:48:10,988 [pool-340-thread-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:10,989 [pool-340-thread-1] INFO  segmented.LogSegment (LogSegment.java:loadSegment(173)) - Successfully read 1 entries from segment file /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0
2021-05-14 10:48:10,989 [pool-340-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
2021-05-14 10:48:10,989 [pool-340-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:10,991 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:48:10,991 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:48:10,991 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:48:10,991 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:48:10,991 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:48:10,991 [pool-340-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:48:10,992 [pool-340-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,992 [pool-340-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:10,992 [Time-limited test] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:48:10,993 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:48:10,993 [Time-limited test] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:48:10,994 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:48:10,994 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:48:10,994 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:48:10,994 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:48:10,995 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:48:10,995 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:48:10,995 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:48:10,995 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:48:10,996 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:48:10,996 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:48:10,996 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:48:10,997 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:48:10,997 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:48:10,997 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:48:10,998 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:48:10,998 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:48:10,999 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:10,999 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:48:11,000 [Listener at 0.0.0.0/12461] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:11,000 [Socket Reader #1 for port 12462] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12462
2021-05-14 10:48:11,000 [Listener at 0.0.0.0/12462] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:11,001 [Socket Reader #1 for port 12463] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12463
2021-05-14 10:48:11,003 [Listener at 0.0.0.0/12463] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:48:11,003 [Listener at 0.0.0.0/12463] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:48:11,003 [Listener at 0.0.0.0/12463] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:12463
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:12460
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: start as a follower, conf=0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: changes role from      null to FOLLOWER at term 1 for startAsFollower
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState
2021-05-14 10:48:11,004 [Socket Reader #1 for port 12461] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12461
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4E31CEF5B5A,id=2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:11,004 [Listener at 0.0.0.0/12463] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:11,014 [Listener at 0.0.0.0/12463] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start RPC server
2021-05-14 10:48:11,014 [Listener at 0.0.0.0/12463] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: GrpcService started, listening on 12460
2021-05-14 10:48:11,014 [Listener at 0.0.0.0/12463] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(120)) -  scm role is FOLLOWER peers [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:11,014 [Listener at 0.0.0.0/12463] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 12464
2021-05-14 10:48:11,014 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@3bd5efd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-2d21404d-844d-4e33-9226-105b1ab18ff5: Started
2021-05-14 10:48:11,016 [Listener at 0.0.0.0/12463] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-05-14 10:48:11,016 [Listener at 0.0.0.0/12463] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-05-14 10:48:11,016 [Listener at 0.0.0.0/12463] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-05-14 10:48:11,022 [Listener at 0.0.0.0/12463] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-05-14 10:48:11,022 [Listener at 0.0.0.0/12463] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-05-14 10:48:11,038 [Listener at 0.0.0.0/12463] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:12463
2021-05-14 10:48:11,038 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:11,038 [IPC Server listener on 12463] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12463: starting
2021-05-14 10:48:11,058 [Listener at 0.0.0.0/12463] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:12462
2021-05-14 10:48:11,059 [Listener at 0.0.0.0/12463] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:12462
2021-05-14 10:48:11,059 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:11,064 [IPC Server listener on 12462] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12462: starting
2021-05-14 10:48:11,076 [Listener at 0.0.0.0/12463] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:12461
2021-05-14 10:48:11,076 [Listener at 0.0.0.0/12463] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:12461
2021-05-14 10:48:11,076 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:11,082 [IPC Server listener on 12461] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12461: starting
2021-05-14 10:48:11,095 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4d42ea74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:48:11,099 [Listener at 0.0.0.0/12463] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:12458
2021-05-14 10:48:11,099 [Listener at 0.0.0.0/12463] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:48:11,100 [Listener at 0.0.0.0/12463] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:48:11,100 [Listener at 0.0.0.0/12463] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:48:11,101 [Listener at 0.0.0.0/12463] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:48:11,101 [Listener at 0.0.0.0/12463] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:48:11,101 [Listener at 0.0.0.0/12463] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:48:11,102 [Listener at 0.0.0.0/12463] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:48:11,102 [Listener at 0.0.0.0/12463] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12458
2021-05-14 10:48:11,102 [Listener at 0.0.0.0/12463] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:48:11,103 [Listener at 0.0.0.0/12463] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:48:11,103 [Listener at 0.0.0.0/12463] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:48:11,104 [Listener at 0.0.0.0/12463] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:48:11,105 [Listener at 0.0.0.0/12463] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@25082af{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:48:11,105 [Listener at 0.0.0.0/12463] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@10a51f29{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:48:11,107 [Listener at 0.0.0.0/12463] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@5d728b4f{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:48:11,111 [Listener at 0.0.0.0/12463] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@165d6017{HTTP/1.1, (http/1.1)}{0.0.0.0:12458}
2021-05-14 10:48:11,111 [Listener at 0.0.0.0/12463] INFO  server.Server (Server.java:doStart(415)) - Started @92778ms
2021-05-14 10:48:11,111 [Listener at 0.0.0.0/12463] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:48:11,113 [Listener at 0.0.0.0/12463] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:12458
2021-05-14 10:48:11,113 [Listener at 0.0.0.0/12463] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@7a1a9ff0
2021-05-14 10:48:11,113 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:12470 and Ratis port: 12470
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 127.0.0.1:12471
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12472
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12473
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 12470
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 12474
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:12468
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:12469
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:48:11,114 [Listener at 0.0.0.0/12463] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:11,115 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:11,115 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:11,115 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:11,115 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:11,115 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:11,115 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:11,116 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:11,116 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:11,116 [Listener at 0.0.0.0/12463] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:11,119 [IPC Server handler 0 on default port 12462] INFO  ipc.Server (Server.java:logException(3018)) - IPC Server handler 0 on default port 12462, call Call#314 Retry#0 org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocol.send from 127.0.0.1:42116
org.apache.hadoop.hdds.ratis.ServerNotLeaderException: Server:2d21404d-844d-4e33-9226-105b1ab18ff5 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.hdds.ratis.ServerNotLeaderException.convertToNotLeaderException(ServerNotLeaderException.java:109)
	at org.apache.hadoop.hdds.scm.ha.RatisUtil.checkRatisException(RatisUtil.java:191)
	at org.apache.hadoop.hdds.scm.protocol.ScmBlockLocationProtocolServerSideTranslatorPB.send(ScmBlockLocationProtocolServerSideTranslatorPB.java:108)
	at org.apache.hadoop.hdds.protocol.proto.ScmBlockLocationProtocolProtos$ScmBlockLocationProtocolService$2.callBlockingMethod(ScmBlockLocationProtocolProtos.java:13874)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
2021-05-14 10:48:11,254 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:11,254 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:11,254 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:11,327 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:11,645 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:11,645 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:12,255 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:12,255 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:12,255 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:12,328 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:12,646 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:12,647 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:13,121 [Listener at 0.0.0.0/12463] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:12472 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy37.send over nodeId=scmNode-2,nodeAddress=/127.0.0.1:12472 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
2021-05-14 10:48:13,255 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 8 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:13,256 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:13,256 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:13,329 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:13,646 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:13,647 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:14,256 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 9 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:14,256 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:14,256 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:14,329 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:14,647 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:14,647 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:15,123 [Listener at 0.0.0.0/12463] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: java.net.ConnectException: Call From 4a783e42cd9e/172.17.0.2 to localhost:12482 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy37.send over nodeId=scmNode-3,nodeAddress=/127.0.0.1:12482 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
2021-05-14 10:48:15,257 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 10 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:15,257 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:15,257 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:15,330 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:15,647 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:15,648 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:16,208 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5203840695ns, electionTimeout:5194ms
2021-05-14 10:48:16,208 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState
2021-05-14 10:48:16,208 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2021-05-14 10:48:16,208 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-05-14 10:48:16,208 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25
2021-05-14 10:48:16,211 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25 ELECTION round 0: submit vote requests at term 2 for 0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:16,211 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25 ELECTION round 0: result PASSED (term=2)
2021-05-14 10:48:16,211 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: shutdown 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25
2021-05-14 10:48:16,211 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2021-05-14 10:48:16,211 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(250)) - current SCM becomes leader of term 2.
2021-05-14 10:48:16,211 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  ha.SCMContext (SCMContext.java:updateLeaderAndTerm(88)) - update <isLeader,term> from <false,0> to <true,2>
2021-05-14 10:48:16,212 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:notifyStatusChanged(261)) - Service BackgroundPipelineCreator transitions to RUNNING.
2021-05-14 10:48:16,212 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: change Leader from null to 2d21404d-844d-4e33-9226-105b1ab18ff5 at term 2 for becomeLeader, leader elected after 5226ms
2021-05-14 10:48:16,212 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-05-14 10:48:16,212 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:16,212 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-05-14 10:48:16,213 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:16,213 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-05-14 10:48:16,213 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-05-14 10:48:16,213 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-05-14 10:48:16,213 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: start 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl
2021-05-14 10:48:16,213 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:48:16,214 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_0-0
2021-05-14 10:48:16,215 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 1: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:16,215 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-1/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_1
2021-05-14 10:48:16,257 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 11 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:16,258 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:16,258 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:16,331 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:16,648 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:16,648 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:17,126 [Listener at 0.0.0.0/12463] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(906)) - SCM BootStrap  is successful for ClusterID ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a, SCMID 2020c872-c3ef-4459-8785-7713b8bbeb69
2021-05-14 10:48:17,126 [Listener at 0.0.0.0/12463] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(908)) - Primary SCM Node ID 2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:17,126 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:17,126 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-2, RPC Address: localhost:12470 and Ratis port: 12470
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-2: 127.0.0.1:12471
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12472
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-2: 127.0.0.1:12473
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-2: 12470
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-2: 12474
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-2: 127.0.0.1:12468
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-2: 127.0.0.1:12469
2021-05-14 10:48:17,127 [Listener at 0.0.0.0/12463] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-2: 127.0.0.1
2021-05-14 10:48:17,128 [Listener at 0.0.0.0/12463] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,128 [Listener at 0.0.0.0/12463] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,130 [Listener at 0.0.0.0/12463] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,206 [Listener at 0.0.0.0/12463] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:48:17,207 [Listener at 0.0.0.0/12463] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:48:17,209 [Listener at 0.0.0.0/12463] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:2020c872-c3ef-4459-8785-7713b8bbeb69
2021-05-14 10:48:17,209 [Listener at 0.0.0.0/12463] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12470 (custom)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12470 (custom)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12470 (custom)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:48:17,210 [Listener at 0.0.0.0/12463] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:17,211 [Listener at 0.0.0.0/12463] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:48:17,211 [Listener at 0.0.0.0/12463] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:17,212 [Listener at 0.0.0.0/12463] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:17,212 [Listener at 0.0.0.0/12463] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha] (custom)
2021-05-14 10:48:17,212 [Listener at 0.0.0.0/12463] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 2020c872-c3ef-4459-8785-7713b8bbeb69: addNew group-D4E31CEF5B5A:[] returns group-D4E31CEF5B5A:java.util.concurrent.CompletableFuture@15cceb4d[Not completed]
2021-05-14 10:48:17,212 [pool-358-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 2020c872-c3ef-4459-8785-7713b8bbeb69: new RaftServerImpl for group-D4E31CEF5B5A:[] with SCMStateMachine:uninitialized
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha] (custom)
2021-05-14 10:48:17,213 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:48:17,214 [pool-358-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a does not exist. Creating ...
2021-05-14 10:48:17,217 [pool-358-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a has been successfully formatted.
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:48:17,219 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:48:17,220 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:48:17,221 [pool-358-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A
2021-05-14 10:48:17,222 [pool-358-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A
2021-05-14 10:48:17,222 [Listener at 0.0.0.0/12463] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:48:17,222 [Listener at 0.0.0.0/12463] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:48:17,223 [Listener at 0.0.0.0/12463] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:48:17,224 [Listener at 0.0.0.0/12463] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:48:17,224 [Listener at 0.0.0.0/12463] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:48:17,224 [Listener at 0.0.0.0/12463] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:48:17,224 [Listener at 0.0.0.0/12463] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:48:17,224 [Listener at 0.0.0.0/12463] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:48:17,224 [Listener at 0.0.0.0/12463] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:48:17,225 [Listener at 0.0.0.0/12463] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:48:17,225 [Listener at 0.0.0.0/12463] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:48:17,225 [Listener at 0.0.0.0/12463] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:48:17,225 [Listener at 0.0.0.0/12463] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:48:17,226 [Listener at 0.0.0.0/12463] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:48:17,226 [Listener at 0.0.0.0/12463] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:48:17,226 [Listener at 0.0.0.0/12463] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:48:17,227 [Listener at 0.0.0.0/12463] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:48:17,227 [Listener at 0.0.0.0/12463] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:48:17,227 [Listener at 0.0.0.0/12463] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:48:17,228 [Listener at 0.0.0.0/12463] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:48:17,228 [Listener at 0.0.0.0/12463] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:48:17,237 [Listener at 0.0.0.0/12463] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:17,238 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 1 milliseconds for processing 0 containers.
2021-05-14 10:48:17,238 [Socket Reader #1 for port 12471] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12471
2021-05-14 10:48:17,239 [Listener at 0.0.0.0/12471] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:17,240 [Socket Reader #1 for port 12472] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12472
2021-05-14 10:48:17,240 [Listener at 0.0.0.0/12472] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:17,241 [Socket Reader #1 for port 12473] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12473
2021-05-14 10:48:17,247 [Listener at 0.0.0.0/12473] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:48:17,247 [Listener at 0.0.0.0/12473] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:48:17,247 [Listener at 0.0.0.0/12473] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:48:17,247 [Listener at 0.0.0.0/12473] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:12473
2021-05-14 10:48:17,248 [Listener at 0.0.0.0/12473] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:12470
2021-05-14 10:48:17,248 [Listener at 0.0.0.0/12473] INFO  server.RaftServer$Division (RaftServerImpl.java:start(298)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: start with initializing state, conf=-1: [], old=null
2021-05-14 10:48:17,248 [Listener at 0.0.0.0/12473] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: changes role from      null to FOLLOWER at term 0 for startInitializing
2021-05-14 10:48:17,248 [Listener at 0.0.0.0/12473] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4E31CEF5B5A,id=2020c872-c3ef-4459-8785-7713b8bbeb69
2021-05-14 10:48:17,248 [Listener at 0.0.0.0/12473] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A
2021-05-14 10:48:17,248 [Listener at 0.0.0.0/12473] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 2020c872-c3ef-4459-8785-7713b8bbeb69: start RPC server
2021-05-14 10:48:17,251 [Listener at 0.0.0.0/12473] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 2020c872-c3ef-4459-8785-7713b8bbeb69: GrpcService started, listening on 12470
2021-05-14 10:48:17,251 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,252 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,253 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@66ec95] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-2020c872-c3ef-4459-8785-7713b8bbeb69: Started
2021-05-14 10:48:17,257 [IPC Server handler 1 on default port 12462] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(278)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: Submitting SetConfiguration request to Ratis server with new SCM peers list: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0]
2021-05-14 10:48:17,257 [IPC Server handler 1 on default port 12462] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(970)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: receive setConfiguration SetConfigurationRequest:client-3838B0EFA569->2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A, cid=0, seq=0, RW, null, peers:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0]
2021-05-14 10:48:17,257 [IPC Server handler 1 on default port 12462] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(345)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-3838B0EFA569->2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A, cid=0, seq=0, RW, null, peers:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0]
2021-05-14 10:48:17,257 [IPC Server handler 1 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:48:17,257 [IPC Server handler 1 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:17,258 [IPC Server handler 1 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 33554432 (custom)
2021-05-14 10:48:17,258 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 12 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:17,258 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:17,262 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 14 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:17,290 [IPC Server handler 1 on default port 12462] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:48:17,290 [IPC Server handler 1 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:17,291 [IPC Server handler 1 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:17,291 [IPC Server handler 1 on default port 12462] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis_grpc.log_appender.2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A
2021-05-14 10:48:17,299 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.2020c872-c3ef-4459-8785-7713b8bbeb69
2021-05-14 10:48:17,301 [grpc-default-executor-2] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(240)) - leader changed, yet current SCM is still follower.
2021-05-14 10:48:17,301 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: change Leader from null to 2d21404d-844d-4e33-9226-105b1ab18ff5 at term 2 for appendEntries, leader elected after 82ms
2021-05-14 10:48:17,301 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 2020c872-c3ef-4459-8785-7713b8bbeb69: start 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-FollowerState
2021-05-14 10:48:17,310 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: set configuration 0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:17,310 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: set configuration 1: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:17,311 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:48:17,311 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:48:17,312 [2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0
2021-05-14 10:48:17,313 [2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_0-0
2021-05-14 10:48:17,315 [2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-2/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_1
2021-05-14 10:48:17,317 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 3: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0], old=[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:17,318 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: set configuration 3: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:17,319 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 5: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0], old=null
2021-05-14 10:48:17,320 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: set configuration 5: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:17,322 [IPC Server handler 1 on default port 12462] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(289)) - Successfully added new SCM: 2020c872-c3ef-4459-8785-7713b8bbeb69.
2021-05-14 10:48:17,325 [Listener at 0.0.0.0/12473] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(116)) - Successfully added SCM scmNode-2 to group group-D4E31CEF5B5A:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:17,325 [Listener at 0.0.0.0/12473] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 12474
2021-05-14 10:48:17,326 [Listener at 0.0.0.0/12473] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-14 10:48:17,327 [Listener at 0.0.0.0/12473] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:12473
2021-05-14 10:48:17,328 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:17,330 [IPC Server listener on 12473] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12473: starting
2021-05-14 10:48:17,331 [EndpointStateMachine task thread for /127.0.0.1:12561 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12561. Already tried 7 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:17,333 [Listener at 0.0.0.0/12473] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:12472
2021-05-14 10:48:17,333 [Listener at 0.0.0.0/12473] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:12472
2021-05-14 10:48:17,333 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:17,333 [IPC Server listener on 12472] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12472: starting
2021-05-14 10:48:17,335 [Listener at 0.0.0.0/12473] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:12471
2021-05-14 10:48:17,335 [Listener at 0.0.0.0/12473] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:12471
2021-05-14 10:48:17,335 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:17,335 [IPC Server listener on 12471] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12471: starting
2021-05-14 10:48:17,339 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4e195dca] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:48:17,405 [Listener at 0.0.0.0/12473] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:12468
2021-05-14 10:48:17,405 [Listener at 0.0.0.0/12473] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:48:17,408 [Listener at 0.0.0.0/12473] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:48:17,409 [Listener at 0.0.0.0/12473] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:48:17,410 [Listener at 0.0.0.0/12473] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:48:17,410 [Listener at 0.0.0.0/12473] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:48:17,410 [Listener at 0.0.0.0/12473] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:48:17,410 [Listener at 0.0.0.0/12473] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:48:17,411 [Listener at 0.0.0.0/12473] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12468
2021-05-14 10:48:17,411 [Listener at 0.0.0.0/12473] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:48:17,412 [Listener at 0.0.0.0/12473] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:48:17,412 [Listener at 0.0.0.0/12473] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:48:17,415 [Listener at 0.0.0.0/12473] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-05-14 10:48:17,416 [Listener at 0.0.0.0/12473] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@458f6879{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:48:17,416 [Listener at 0.0.0.0/12473] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@5ae48db1{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:48:17,419 [Listener at 0.0.0.0/12473] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@6c55e1c1{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:48:17,430 [Listener at 0.0.0.0/12473] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@2afbb7a{HTTP/1.1, (http/1.1)}{0.0.0.0:12468}
2021-05-14 10:48:17,430 [Listener at 0.0.0.0/12473] INFO  server.Server (Server.java:doStart(415)) - Started @99098ms
2021-05-14 10:48:17,430 [Listener at 0.0.0.0/12473] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:48:17,433 [Listener at 0.0.0.0/12473] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:12468
2021-05-14 10:48:17,433 [Listener at 0.0.0.0/12473] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@2fdb562d
2021-05-14 10:48:17,433 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:17,433 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:12480 and Ratis port: 12480
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 127.0.0.1:12481
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12482
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12483
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 12480
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 12484
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:12478
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:12479
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:48:17,434 [Listener at 0.0.0.0/12473] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,435 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,436 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,436 [Listener at 0.0.0.0/12473] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(906)) - SCM BootStrap  is successful for ClusterID ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a, SCMID 87d8a532-2b60-4540-84a9-f823ac2a5c15
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  server.StorageContainerManager (StorageContainerManager.java:scmBootstrap(908)) - Primary SCM Node ID 2d21404d-844d-4e33-9226-105b1ab18ff5
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(149)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(160)) - ServiceID for StorageContainerManager is scm-service-test1
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(239)) - Found matching SCM address with SCMServiceId: scm-service-test1, SCMNodeId: scmNode-3, RPC Address: localhost:12480 and Ratis port: 12480
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.datanode.address with value of key ozone.scm.datanode.address.scm-service-test1.scmNode-3: 127.0.0.1:12481
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.block.client.address with value of key ozone.scm.block.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12482
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.client.address with value of key ozone.scm.client.address.scm-service-test1.scmNode-3: 127.0.0.1:12483
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.ratis.port with value of key ozone.scm.ratis.port.scm-service-test1.scmNode-3: 12480
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.grpc.port with value of key ozone.scm.grpc.port.scm-service-test1.scmNode-3: 12484
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.http-address with value of key ozone.scm.http-address.scm-service-test1.scmNode-3: 127.0.0.1:12478
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.https-address with value of key ozone.scm.https-address.scm-service-test1.scmNode-3: 127.0.0.1:12479
2021-05-14 10:48:17,441 [Listener at 0.0.0.0/12473] INFO  ha.SCMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.scm.address with value of key ozone.scm.address.scm-service-test1.scmNode-3: 127.0.0.1
2021-05-14 10:48:17,442 [Listener at 0.0.0.0/12473] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,442 [Listener at 0.0.0.0/12473] WARN  utils.HAUtils (HAUtils.java:getMetaDir(338)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,443 [Listener at 0.0.0.0/12473] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:17,510 [Listener at 0.0.0.0/12473] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-common/1.2.0-SNAPSHOT/hadoop-hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-ozone-ozone-manager/1.2.0-SNAPSHOT/hadoop-ozone-ozone-manager-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml, jar:file:/home/user/.m2/repository/org/apache/hadoop/hadoop-hdds-server-scm/1.2.0-SNAPSHOT/hadoop-hdds-server-scm-1.2.0-SNAPSHOT-tests.jar!/network-topology-default.xml]
2021-05-14 10:48:17,510 [Listener at 0.0.0.0/12473] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-05-14 10:48:17,512 [Listener at 0.0.0.0/12473] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:<init>(87)) - starting Raft server for scm:87d8a532-2b60-4540-84a9-f823ac2a5c15
2021-05-14 10:48:17,512 [Listener at 0.0.0.0/12473] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12480 (custom)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12480 (custom)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12480 (custom)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 32m (=33554432) (custom)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:17,513 [Listener at 0.0.0.0/12473] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:48:17,514 [Listener at 0.0.0.0/12473] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:17,514 [Listener at 0.0.0.0/12473] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:48:17,515 [Listener at 0.0.0.0/12473] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:17,515 [Listener at 0.0.0.0/12473] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:17,515 [Listener at 0.0.0.0/12473] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha] (custom)
2021-05-14 10:48:17,522 [Listener at 0.0.0.0/12473] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15: addNew group-D4E31CEF5B5A:[] returns group-D4E31CEF5B5A:java.util.concurrent.CompletableFuture@11e86a73[Not completed]
2021-05-14 10:48:17,522 [pool-376-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15: new RaftServerImpl for group-D4E31CEF5B5A:[] with SCMStateMachine:uninitialized
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5000ms (custom)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120000ms (custom)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha] (custom)
2021-05-14 10:48:17,523 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:48:17,524 [pool-376-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a does not exist. Creating ...
2021-05-14 10:48:17,525 [pool-376-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:48:17,526 [pool-376-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a has been successfully formatted.
2021-05-14 10:48:17,526 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 60s (default)
2021-05-14 10:48:17,526 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:48:17,526 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:48:17,526 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:17,526 [pool-376-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 16384 (custom)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 16384 (custom)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:48:17,527 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:48:17,528 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:48:17,528 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:48:17,528 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:48:17,528 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:48:17,528 [pool-376-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 1000 (custom)
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = false (default)
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 60000ms (default)
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A
2021-05-14 10:48:17,529 [pool-376-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A
2021-05-14 10:48:17,530 [Listener at 0.0.0.0/12473] INFO  ha.SCMSnapshotProvider (SCMSnapshotProvider.java:<init>(66)) - Initializing SCM Snapshot Provider
2021-05-14 10:48:17,530 [Listener at 0.0.0.0/12473] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:48:17,530 [Listener at 0.0.0.0/12473] WARN  ha.SCMHAUtils (SCMHAUtils.java:getSCMRatisSnapshotDirectory(134)) - SCM snapshot dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:48:17,532 [Listener at 0.0.0.0/12473] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(300)) - upgrade localId to 107544261427200000
2021-05-14 10:48:17,532 [Listener at 0.0.0.0/12473] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(310)) - upgrade delTxnId to 0
2021-05-14 10:48:17,532 [Listener at 0.0.0.0/12473] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(324)) - upgrade containerId to 0
2021-05-14 10:48:17,532 [Listener at 0.0.0.0/12473] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(196)) - Init the HA SequenceIdGenerator.
2021-05-14 10:48:17,532 [Listener at 0.0.0.0/12473] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:48:17,532 [Listener at 0.0.0.0/12473] WARN  server.ServerUtils (ServerUtils.java:sanitizeUserArgs(73)) - ozone.scm.stale.node.interval value = 300000 is larger than max = 100000 based on the key value of ozone.scm.heartbeat.thread.interval, reset to the max value 100000.
2021-05-14 10:48:17,534 [Listener at 0.0.0.0/12473] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-05-14 10:48:17,534 [Listener at 0.0.0.0/12473] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-05-14 10:48:17,534 [Listener at 0.0.0.0/12473] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-05-14 10:48:17,534 [Listener at 0.0.0.0/12473] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-05-14 10:48:17,534 [Listener at 0.0.0.0/12473] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-05-14 10:48:17,534 [Listener at 0.0.0.0/12473] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-05-14 10:48:17,535 [Listener at 0.0.0.0/12473] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-05-14 10:48:17,535 [Listener at 0.0.0.0/12473] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-05-14 10:48:17,536 [Listener at 0.0.0.0/12473] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-05-14 10:48:17,536 [Listener at 0.0.0.0/12473] INFO  container.ReplicationManager (ReplicationManager.java:start(226)) - Starting Replication Monitor Thread.
2021-05-14 10:48:17,537 [Listener at 0.0.0.0/12473] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-05-14 10:48:17,537 [Listener at 0.0.0.0/12473] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-05-14 10:48:17,538 [Listener at 0.0.0.0/12473] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:17,539 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(290)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-05-14 10:48:17,539 [Socket Reader #1 for port 12481] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12481
2021-05-14 10:48:17,540 [Listener at 0.0.0.0/12481] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:17,541 [Socket Reader #1 for port 12482] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12482
2021-05-14 10:48:17,549 [Listener at 0.0.0.0/12482] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:17,549 [Socket Reader #1 for port 12483] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 12483
2021-05-14 10:48:17,551 [Listener at 0.0.0.0/12483] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(416)) - Container Balancer status:
Key                            Value
Running                        false
Container Balancer Configuration values:
Key                            Value
Threshold                      0.100000
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-05-14 10:48:17,551 [Listener at 0.0.0.0/12483] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-05-14 10:48:17,551 [Listener at 0.0.0.0/12483] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(147)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-05-14 10:48:17,552 [Listener at 0.0.0.0/12483] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1169)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:12483
2021-05-14 10:48:17,552 [Listener at 0.0.0.0/12483] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:start(167)) - starting ratis server 0.0.0.0:12480
2021-05-14 10:48:17,552 [Listener at 0.0.0.0/12483] INFO  server.RaftServer$Division (RaftServerImpl.java:start(298)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: start with initializing state, conf=-1: [], old=null
2021-05-14 10:48:17,552 [Listener at 0.0.0.0/12483] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: changes role from      null to FOLLOWER at term 0 for startInitializing
2021-05-14 10:48:17,552 [Listener at 0.0.0.0/12483] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D4E31CEF5B5A,id=87d8a532-2b60-4540-84a9-f823ac2a5c15
2021-05-14 10:48:17,552 [Listener at 0.0.0.0/12483] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A
2021-05-14 10:48:17,554 [Listener at 0.0.0.0/12483] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15: start RPC server
2021-05-14 10:48:17,554 [Listener at 0.0.0.0/12483] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15: GrpcService started, listening on 12480
2021-05-14 10:48:17,555 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@648db0ca] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-87d8a532-2b60-4540-84a9-f823ac2a5c15: Started
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:17,555 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:17,559 [IPC Server handler 9 on default port 12462] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(278)) - 2d21404d-844d-4e33-9226-105b1ab18ff5: Submitting SetConfiguration request to Ratis server with new SCM peers list: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0, 87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|priority:0]
2021-05-14 10:48:17,560 [IPC Server handler 9 on default port 12462] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(970)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: receive setConfiguration SetConfigurationRequest:client-3838B0EFA569->2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A, cid=1, seq=0, RW, null, peers:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0, 87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|priority:0]
2021-05-14 10:48:17,560 [IPC Server handler 9 on default port 12462] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(345)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-3838B0EFA569->2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A, cid=1, seq=0, RW, null, peers:[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0, 87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|priority:0]
2021-05-14 10:48:17,560 [IPC Server handler 9 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2021-05-14 10:48:17,560 [IPC Server handler 9 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:17,560 [IPC Server handler 9 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.element-limit = 33554432 (custom)
2021-05-14 10:48:17,975 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$415/1125547908@66ec95] WARN  util.JvmPauseMonitor (JvmPauseMonitor.java:detectPause(124)) - JvmPauseMonitor-2020c872-c3ef-4459-8785-7713b8bbeb69: Detected pause in JVM or host machine (eg GC): pause of approximately 221764657ns.
GC pool 'PS MarkSweep' had collection(s): count=1 time=245ms
GC pool 'PS Scavenge' had collection(s): count=1 time=164ms
2021-05-14 10:48:17,975 [EndpointStateMachine task thread for /127.0.0.1:12571 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12571. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:17,976 [EndpointStateMachine task thread for /127.0.0.1:12581 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:12581. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:18,008 [IPC Server handler 9 on default port 12462] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2021-05-14 10:48:18,008 [IPC Server handler 9 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:18,008 [IPC Server handler 9 on default port 12462] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:18,018 [grpc-default-executor-2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server_message_metrics.87d8a532-2b60-4540-84a9-f823ac2a5c15
2021-05-14 10:48:18,021 [grpc-default-executor-2] INFO  ha.SCMStateMachine (SCMStateMachine.java:notifyLeaderChanged(240)) - leader changed, yet current SCM is still follower.
2021-05-14 10:48:18,021 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: change Leader from null to 2d21404d-844d-4e33-9226-105b1ab18ff5 at term 2 for appendEntries, leader elected after 494ms
2021-05-14 10:48:18,021 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15: start 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-FollowerState
2021-05-14 10:48:18,023 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: set configuration 0: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:18,023 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: set configuration 1: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:18,023 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: set configuration 3: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:18,023 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: set configuration 5: [2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:18,023 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Starting segment from index:0
2021-05-14 10:48:18,023 [grpc-default-executor-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(399)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2021-05-14 10:48:18,024 [87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0
2021-05-14 10:48:18,025 [87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(558)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: Rolled log segment from /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_0 to /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_0-0
2021-05-14 10:48:18,026 [87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A-SegmentedRaftLogWorker: created new log segment /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/scmNode-3/scm-ha/ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/current/log_inprogress_1
2021-05-14 10:48:18,032 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 7: [87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0], old=[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0]
2021-05-14 10:48:18,034 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: set configuration 7: [87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|admin:|client:|dataStream:|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:18,034 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: set configuration 7: [87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|admin:|client:|dataStream:|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=[2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:18,038 [2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2d21404d-844d-4e33-9226-105b1ab18ff5@group-D4E31CEF5B5A: set configuration 9: [87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|priority:0], old=null
2021-05-14 10:48:18,040 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 2020c872-c3ef-4459-8785-7713b8bbeb69@group-D4E31CEF5B5A: set configuration 9: [87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|admin:|client:|dataStream:|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:18,040 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - 87d8a532-2b60-4540-84a9-f823ac2a5c15@group-D4E31CEF5B5A: set configuration 9: [87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|admin:|client:|dataStream:|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0], old=null
2021-05-14 10:48:18,043 [IPC Server handler 9 on default port 12462] INFO  ha.SCMRatisServerImpl (SCMRatisServerImpl.java:addSCM(289)) - Successfully added new SCM: 87d8a532-2b60-4540-84a9-f823ac2a5c15.
2021-05-14 10:48:18,043 [Listener at 0.0.0.0/12483] INFO  ha.SCMHAManagerImpl (SCMHAManagerImpl.java:start(116)) - Successfully added SCM scmNode-3 to group group-D4E31CEF5B5A:[87d8a532-2b60-4540-84a9-f823ac2a5c15|rpc:localhost:12480|admin:|client:|dataStream:|priority:0, 2d21404d-844d-4e33-9226-105b1ab18ff5|rpc:localhost:12460|admin:|client:|dataStream:|priority:0, 2020c872-c3ef-4459-8785-7713b8bbeb69|rpc:localhost:12470|admin:|client:|dataStream:|priority:0]
2021-05-14 10:48:18,043 [Listener at 0.0.0.0/12483] INFO  ha.InterSCMGrpcService (InterSCMGrpcProtocolService.java:start(94)) - Starting SCM Grpc Service at port 12484
2021-05-14 10:48:18,044 [Listener at 0.0.0.0/12483] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-05-14 10:48:18,052 [Listener at 0.0.0.0/12483] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(163)) - RPC server for Client  is listening at /0.0.0.0:12483
2021-05-14 10:48:18,052 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:18,053 [IPC Server listener on 12483] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12483: starting
2021-05-14 10:48:18,054 [Listener at 0.0.0.0/12483] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1184)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:12482
2021-05-14 10:48:18,054 [Listener at 0.0.0.0/12483] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:12482
2021-05-14 10:48:18,054 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:18,054 [IPC Server listener on 12482] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12482: starting
2021-05-14 10:48:18,058 [Listener at 0.0.0.0/12483] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1190)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:12481
2021-05-14 10:48:18,058 [Listener at 0.0.0.0/12483] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:12481
2021-05-14 10:48:18,062 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-05-14 10:48:18,066 [IPC Server listener on 12481] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 12481: starting
2021-05-14 10:48:18,068 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7a3963df] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-05-14 10:48:18,072 [Listener at 0.0.0.0/12483] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(207)) - Starting Web-server for scm at: http://0.0.0.0:12478
2021-05-14 10:48:18,072 [Listener at 0.0.0.0/12483] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(106)) - Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
2021-05-14 10:48:18,073 [Listener at 0.0.0.0/12483] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-05-14 10:48:18,074 [Listener at 0.0.0.0/12483] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-05-14 10:48:18,074 [Listener at 0.0.0.0/12483] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-05-14 10:48:18,075 [Listener at 0.0.0.0/12483] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-05-14 10:48:18,075 [Listener at 0.0.0.0/12483] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-05-14 10:48:18,075 [Listener at 0.0.0.0/12483] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-05-14 10:48:18,076 [Listener at 0.0.0.0/12483] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 12478
2021-05-14 10:48:18,077 [Listener at 0.0.0.0/12483] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_232-b09
2021-05-14 10:48:18,078 [Listener at 0.0.0.0/12483] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-05-14 10:48:18,078 [Listener at 0.0.0.0/12483] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-05-14 10:48:18,078 [Listener at 0.0.0.0/12483] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-05-14 10:48:18,079 [Listener at 0.0.0.0/12483] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@495b4392{logs,/logs,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-05-14 10:48:18,079 [Listener at 0.0.0.0/12483] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6d42e870{static,/static,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-05-14 10:48:18,081 [Listener at 0.0.0.0/12483] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@25d805a0{scm,/,file:///github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-05-14 10:48:18,083 [Listener at 0.0.0.0/12483] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7779dae9{HTTP/1.1, (http/1.1)}{0.0.0.0:12478}
2021-05-14 10:48:18,083 [Listener at 0.0.0.0/12483] INFO  server.Server (Server.java:doStart(415)) - Started @99751ms
2021-05-14 10:48:18,083 [Listener at 0.0.0.0/12483] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-05-14 10:48:18,086 [Listener at 0.0.0.0/12483] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(327)) - HTTP server of scm listening at http://0.0.0.0:12478
2021-05-14 10:48:18,086 [Listener at 0.0.0.0/12483] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createSCMService(536)) - Started SCM RPC server at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer@6c7dc65a
2021-05-14 10:48:18,086 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:48:18,087 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12464 and Ratis port: 12468
2021-05-14 10:48:18,087 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12466
2021-05-14 10:48:18,087 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12467
2021-05-14 10:48:18,087 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12464
2021-05-14 10:48:18,087 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,088 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
OM initialization succeeded.Current cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/om;cid=ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a;layoutVersion=0
2021-05-14 10:48:18,093 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:48:18,093 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:12464 and Ratis port: 12468
2021-05-14 10:48:18,093 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:12466
2021-05-14 10:48:18,093 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:12467
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:12464
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,094 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,095 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,096 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,096 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,096 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,096 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,096 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,096 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,097 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,097 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,097 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,097 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,101 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,101 [Listener at 0.0.0.0/12483] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:48:18,101 [Listener at 0.0.0.0/12483] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:48:18,170 [Listener at 0.0.0.0/12483] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3726)) - Created Volume s3v With Owner jenkins1001 required for S3Gateway operations.
2021-05-14 10:48:18,170 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:48:18,170 [Listener at 0.0.0.0/12483] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-05-14 10:48:18,170 [Listener at 0.0.0.0/12483] INFO  snapshot.OzoneManagerSnapshotProvider (OzoneManagerSnapshotProvider.java:<init>(77)) - Initializing OM Snapshot Provider
2021-05-14 10:48:18,171 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-05-14 10:48:18,172 [Listener at 0.0.0.0/12483] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: om-service-test1 and Raft Peers: localhost:12468, localhost:12474, localhost:12480
2021-05-14 10:48:18,172 [Listener at 0.0.0.0/12483] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-05-14 10:48:18,172 [Listener at 0.0.0.0/12483] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12468 (custom)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12468 (custom)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 12468 (custom)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-05-14 10:48:18,173 [Listener at 0.0.0.0/12483] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-05-14 10:48:18,174 [Listener at 0.0.0.0/12483] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-05-14 10:48:18,174 [Listener at 0.0.0.0/12483] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:48:18,174 [Listener at 0.0.0.0/12483] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:18,174 [Listener at 0.0.0.0/12483] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/ratis] (custom)
2021-05-14 10:48:18,175 [Listener at 0.0.0.0/12483] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - omNode-1: addNew group-523986131536:[omNode-3|rpc:localhost:12480|priority:0, omNode-1|rpc:localhost:12468|priority:0, omNode-2|rpc:localhost:12474|priority:0] returns group-523986131536:java.util.concurrent.CompletableFuture@653f6ff4[Not completed]
2021-05-14 10:48:18,175 [Listener at 0.0.0.0/12483] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1285)) - OzoneManager Ratis server initialized at port 12468
2021-05-14 10:48:18,176 [Listener at 0.0.0.0/12483] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 2000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-05-14 10:48:18,176 [Listener at 0.0.0.0/12483] INFO  ozone.MiniOzoneHAClusterImpl (MiniOzoneHAClusterImpl.java:createOMService(485)) - MiniOzoneHACluster port conflicts, retried 1 times
2021-05-14 10:48:18,176 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11180 and Ratis port: 11184
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11182
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11183
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11180
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
OM already initialized.Reusing existing cluster id for sd=/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/om;cid=ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a;layoutVersion=0
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(111)) - ServiceID for OzoneManager is om-service-test1
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(187)) - Found matching OM address with OMServiceId: om-service-test1, OMNodeId: omNode-1, RPC Address: localhost:11180 and Ratis port: 11184
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.http-address with value of key ozone.om.http-address.om-service-test1.omNode-1: 127.0.0.1:11182
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.https-address with value of key ozone.om.https-address.om-service-test1.omNode-1: 127.0.0.1:11183
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] INFO  ha.OMHANodeDetails (ConfUtils.java:setNodeSpecificConfigs(105)) - Setting configuration key ozone.om.address with value of key ozone.om.address.om-service-test1.omNode-1: 127.0.0.1:11180
2021-05-14 10:48:18,177 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,178 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,179 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,180 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,181 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,181 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,181 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.block.client.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.block.client.port appended with serviceId and nodeId
2021-05-14 10:48:18,181 [Listener at 0.0.0.0/12483] INFO  ha.SCMNodeInfo (SCMNodeInfo.java:getPort(197)) - ConfigKey ozone.scm.datanode.address is deprecated, For configuring different ports for each SCM use PortConfigKey ozone.scm.datanode.port appended with serviceId and nodeId
2021-05-14 10:48:18,182 [pool-395-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - omNode-1: new RaftServerImpl for group-523986131536:[omNode-3|rpc:localhost:12480|priority:0, omNode-1|rpc:localhost:12468|priority:0, omNode-2|rpc:localhost:12474|priority:0] with OzoneManagerStateMachine:uninitialized
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 1s (custom)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 1200ms (custom)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 2s (custom)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - omNode-1@group-523986131536: ConfigurationManager, init=-1: [omNode-3|rpc:localhost:12480|priority:0, omNode-1|rpc:localhost:12468|priority:0, omNode-2|rpc:localhost:12474|priority:0], old=null, confs=<EMPTY_MAP>
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/ratis] (custom)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-05-14 10:48:18,199 [pool-395-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 does not exist. Creating ...
2021-05-14 10:48:18,201 [pool-395-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536/in_use.lock acquired by nodename 30246@4a783e42cd9e
2021-05-14 10:48:18,202 [pool-395-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536 has been successfully formatted.
2021-05-14 10:48:18,202 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 2s (custom)
2021-05-14 10:48:18,202 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-05-14 10:48:18,202 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-05-14 10:48:18,202 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.omNode-1@group-523986131536
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new omNode-1@group-523986131536-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /github/workspace/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/MiniOzoneClusterImpl-ae7c3056-0ef0-4eb0-8011-d4e31cef5b5a/omNode-1/ratis/c9bc4cf4-3bc3-3c60-a66b-523986131536
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-05-14 10:48:18,203 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-05-14 10:48:18,204 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-05-14 10:48:18,204 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-05-14 10:48:18,204 [pool-395-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:18,204 [pool-395-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - omNode-1@group-523986131536-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-05-14 10:48:18,206 [Listener at 0.0.0.0/12483] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-05-14 10:48:18,206 [Listener at 0.0.0.0/12483] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-05-14 10:48:18,206 [Listener at 0.0.0.0/12483] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100?s (default)
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.omNode-1@group-523986131536
2021-05-14 10:48:18,212 [pool-395-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.omNode-1@group-523986131536
2021-05-14 10:48:18,259 [EndpointStateMachine task thread for /127.0.0.1:14605 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14605. Already tried 13 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:18,263 [EndpointStateMachine task thread for /127.0.0.1:14595 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14595. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
2021-05-14 10:48:18,296 [EndpointStateMachine task thread for /127.0.0.1:14585 - 0 ] INFO  ipc.Client (Client.java:handleConnectionFailure(966)) - Retrying connect to server: localhost/127.0.0.1:14585. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
