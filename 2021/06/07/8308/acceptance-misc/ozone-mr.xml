<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 4.0.3 (Python 3.6.9 on linux)" generated="20210607 14:16:27.449" rpa="false" schemaversion="2">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite id="s1-s1-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:02:49.946" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:02:59.144" level="INFO">${rc} = 255</msg>
<msg timestamp="20210607 14:02:59.144" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:02:49.942" endtime="20210607 14:02:59.144"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:02:59.146" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:02:59.145" endtime="20210607 14:02:59.146"/>
</kw>
<msg timestamp="20210607 14:02:59.146" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:02:49.941" endtime="20210607 14:02:59.146"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:02:59.150" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:01.362" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:01.362" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:02:59.148" endtime="20210607 14:03:01.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:01.363" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:01.363" endtime="20210607 14:03:01.363"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:01.364" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:01.364" endtime="20210607 14:03:01.364"/>
</kw>
<status status="PASS" starttime="20210607 14:02:59.148" endtime="20210607 14:03:01.364"/>
</kw>
<msg timestamp="20210607 14:03:01.365" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:02:59.148" endtime="20210607 14:03:01.367"/>
</kw>
<msg timestamp="20210607 14:03:01.367" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210607 14:02:59.147" endtime="20210607 14:03:01.367"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:03:01.367" endtime="20210607 14:03:01.368"/>
</kw>
<status status="PASS" starttime="20210607 14:02:59.147" endtime="20210607 14:03:01.368"/>
</kw>
<status status="PASS" starttime="20210607 14:02:59.146" endtime="20210607 14:03:01.368"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:01.379" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:03.764" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:03.764" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:01.371" endtime="20210607 14:03:03.764"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:03.765" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:03.764" endtime="20210607 14:03:03.765"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:03.766" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:03.765" endtime="20210607 14:03:03.766"/>
</kw>
<status status="PASS" starttime="20210607 14:03:01.371" endtime="20210607 14:03:03.766"/>
</kw>
<msg timestamp="20210607 14:03:03.766" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:01.370" endtime="20210607 14:03:03.767"/>
</kw>
<status status="PASS" starttime="20210607 14:03:01.369" endtime="20210607 14:03:03.767"/>
</kw>
<status status="PASS" starttime="20210607 14:03:01.369" endtime="20210607 14:03:03.767"/>
</kw>
<status status="PASS" starttime="20210607 14:03:01.368" endtime="20210607 14:03:03.767"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210607 14:03:03.767" endtime="20210607 14:03:03.768"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:03.771" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:06.267" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:06.267" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:03...</msg>
<status status="PASS" starttime="20210607 14:03:03.769" endtime="20210607 14:03:06.267"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:06.269" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:03:03.727Z",
  "modificationTime" : "2021-06-07T14:03:03.727Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210607 14:03:06.268" endtime="20210607 14:03:06.269"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:06.269" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:06.269" endtime="20210607 14:03:06.269"/>
</kw>
<status status="PASS" starttime="20210607 14:03:03.768" endtime="20210607 14:03:06.270"/>
</kw>
<msg timestamp="20210607 14:03:06.270" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:03.768" endtime="20210607 14:03:06.270"/>
</kw>
<msg timestamp="20210607 14:03:06.270" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:03...</msg>
<status status="PASS" starttime="20210607 14:03:03.768" endtime="20210607 14:03:06.270"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:03:06.270" endtime="20210607 14:03:06.271"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:03:06.275" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:03:06.275" endtime="20210607 14:03:06.275"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:03:06.276" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:03:06.275" endtime="20210607 14:03:06.276"/>
</kw>
<status status="PASS" starttime="20210607 14:03:06.274" endtime="20210607 14:03:06.276"/>
</kw>
<msg timestamp="20210607 14:03:06.276" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:03:06.273" endtime="20210607 14:03:06.276"/>
</kw>
<status status="PASS" starttime="20210607 14:03:06.272" endtime="20210607 14:03:06.277"/>
</kw>
<msg timestamp="20210607 14:03:06.277" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210607 14:03:06.272" endtime="20210607 14:03:06.277"/>
</kw>
<msg timestamp="20210607 14:03:06.277" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210607 14:03:06.271" endtime="20210607 14:03:06.277"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:06.281" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:08.438" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:08.438" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:06.279" endtime="20210607 14:03:08.438"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:08.439" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:08.439" endtime="20210607 14:03:08.439"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:08.440" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:08.440" endtime="20210607 14:03:08.440"/>
</kw>
<status status="PASS" starttime="20210607 14:03:06.278" endtime="20210607 14:03:08.441"/>
</kw>
<msg timestamp="20210607 14:03:08.441" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:06.278" endtime="20210607 14:03:08.441"/>
</kw>
<status status="PASS" starttime="20210607 14:03:06.278" endtime="20210607 14:03:08.441"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:08.444" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:13.225" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:13.225" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:08.442" endtime="20210607 14:03:13.225"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:13.227" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:13.226" endtime="20210607 14:03:13.227"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:13.228" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:13.227" endtime="20210607 14:03:13.228"/>
</kw>
<status status="PASS" starttime="20210607 14:03:08.442" endtime="20210607 14:03:13.228"/>
</kw>
<msg timestamp="20210607 14:03:13.228" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:08.442" endtime="20210607 14:03:13.229"/>
</kw>
<status status="PASS" starttime="20210607 14:03:08.441" endtime="20210607 14:03:13.229"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:13.233" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:17.787" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:17.787" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:13.230" endtime="20210607 14:03:17.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:17.788" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:17.787" endtime="20210607 14:03:17.788"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:17.789" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:17.788" endtime="20210607 14:03:17.789"/>
</kw>
<status status="PASS" starttime="20210607 14:03:13.230" endtime="20210607 14:03:17.789"/>
</kw>
<msg timestamp="20210607 14:03:17.789" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:13.230" endtime="20210607 14:03:17.789"/>
</kw>
<status status="PASS" starttime="20210607 14:03:13.229" endtime="20210607 14:03:17.790"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:17.793" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:21.819" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:21.819" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:17.791" endtime="20210607 14:03:21.819"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:21.820" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:21.819" endtime="20210607 14:03:21.820"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:21.821" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:21.821" endtime="20210607 14:03:21.821"/>
</kw>
<status status="PASS" starttime="20210607 14:03:17.791" endtime="20210607 14:03:21.821"/>
</kw>
<msg timestamp="20210607 14:03:21.821" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:17.790" endtime="20210607 14:03:21.822"/>
</kw>
<status status="PASS" starttime="20210607 14:03:17.790" endtime="20210607 14:03:21.822"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210607 14:02:49.941" endtime="20210607 14:03:21.822"/>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:03:21.828" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:03:21.827" endtime="20210607 14:03:21.828"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:03:21.828" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:03:21.828" endtime="20210607 14:03:21.828"/>
</kw>
<status status="PASS" starttime="20210607 14:03:21.827" endtime="20210607 14:03:21.829"/>
</kw>
<msg timestamp="20210607 14:03:21.829" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:03:21.825" endtime="20210607 14:03:21.829"/>
</kw>
<status status="PASS" starttime="20210607 14:03:21.825" endtime="20210607 14:03:21.829"/>
</kw>
<msg timestamp="20210607 14:03:21.829" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:03:21.824" endtime="20210607 14:03:21.829"/>
</kw>
<msg timestamp="20210607 14:03:21.829" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:03:21.823" endtime="20210607 14:03:21.829"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:21.834" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:24.101" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:24.101" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:21.831" endtime="20210607 14:03:24.102"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:24.103" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:24.102" endtime="20210607 14:03:24.103"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:24.104" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:24.104" endtime="20210607 14:03:24.104"/>
</kw>
<status status="PASS" starttime="20210607 14:03:21.830" endtime="20210607 14:03:24.105"/>
</kw>
<msg timestamp="20210607 14:03:24.105" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:21.830" endtime="20210607 14:03:24.105"/>
</kw>
<status status="PASS" starttime="20210607 14:03:21.829" endtime="20210607 14:03:24.105"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:24.108" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:26.291" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:26.291" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:03:24.106" endtime="20210607 14:03:26.291"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:26.293" level="INFO"/>
<status status="PASS" starttime="20210607 14:03:26.292" endtime="20210607 14:03:26.293"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:26.293" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:26.293" endtime="20210607 14:03:26.293"/>
</kw>
<status status="PASS" starttime="20210607 14:03:24.106" endtime="20210607 14:03:26.294"/>
</kw>
<msg timestamp="20210607 14:03:26.294" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:24.106" endtime="20210607 14:03:26.294"/>
</kw>
<status status="PASS" starttime="20210607 14:03:24.105" endtime="20210607 14:03:26.294"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210607 14:03:21.823" endtime="20210607 14:03:26.294"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210607 14:02:49.857" endtime="20210607 14:03:26.296"/>
</suite>
<suite id="s1-s1-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:07.293" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:05:07.292" endtime="20210607 14:05:07.293"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:07.293" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:05:07.293" endtime="20210607 14:05:07.293"/>
</kw>
<status status="PASS" starttime="20210607 14:05:07.292" endtime="20210607 14:05:07.293"/>
</kw>
<msg timestamp="20210607 14:05:07.294" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:05:07.291" endtime="20210607 14:05:07.294"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:05:07.294" endtime="20210607 14:05:07.294"/>
</kw>
<msg timestamp="20210607 14:05:07.295" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:05:07.294" endtime="20210607 14:05:07.295"/>
</kw>
<status status="PASS" starttime="20210607 14:05:07.291" endtime="20210607 14:05:07.295"/>
</kw>
<msg timestamp="20210607 14:05:07.295" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:05:07.290" endtime="20210607 14:05:07.295"/>
</kw>
<msg timestamp="20210607 14:05:07.295" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:05:07.289" endtime="20210607 14:05:07.295"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:05:07.296" level="INFO">${random} = 78953</msg>
<status status="PASS" starttime="20210607 14:05:07.295" endtime="20210607 14:05:07.296"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:05:07.301" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-78953 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:05:10.622" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:05:10.622" level="INFO">${output} = 2021-06-07 14:05:09 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:09 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 ...</msg>
<status status="PASS" starttime="20210607 14:05:07.297" endtime="20210607 14:05:10.622"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:05:10.623" level="INFO">2021-06-07 14:05:09 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:09 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 14:05:09 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-07 14:05:09 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:05:09 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-85A7FE126F42-&gt;1576b68c-27f1-45d2-86b0-d6fb9d88a682
2021-06-07 14:05:09 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210607 14:05:10.622" endtime="20210607 14:05:10.623"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:05:10.624" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:05:10.623" endtime="20210607 14:05:10.624"/>
</kw>
<status status="PASS" starttime="20210607 14:05:07.297" endtime="20210607 14:05:10.624"/>
</kw>
<msg timestamp="20210607 14:05:10.624" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:05:07.296" endtime="20210607 14:05:10.624"/>
</kw>
<msg timestamp="20210607 14:05:10.625" level="INFO">${result} = 2021-06-07 14:05:09 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:09 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 ...</msg>
<status status="PASS" starttime="20210607 14:05:07.296" endtime="20210607 14:05:10.625"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:05:10.628" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:05:12.384" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:05:12.384" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:03 ofs://om/volume1/bucket1/ozone-08224
-rw-...</msg>
<status status="PASS" starttime="20210607 14:05:10.626" endtime="20210607 14:05:12.384"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:05:12.385" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:03 ofs://om/volume1/bucket1/ozone-08224
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:05 ofs://om/volume1/bucket1/ozone-78953
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:04 ofs://om/volume1/bucket1/wordcount-PFlujDa7.txt</msg>
<status status="PASS" starttime="20210607 14:05:12.384" endtime="20210607 14:05:12.385"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:05:12.386" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:05:12.385" endtime="20210607 14:05:12.386"/>
</kw>
<status status="PASS" starttime="20210607 14:05:10.626" endtime="20210607 14:05:12.386"/>
</kw>
<msg timestamp="20210607 14:05:12.386" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:05:10.625" endtime="20210607 14:05:12.386"/>
</kw>
<msg timestamp="20210607 14:05:12.386" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:03 ofs://om/volume1/bucket1/ozone-08224
-rw-...</msg>
<status status="PASS" starttime="20210607 14:05:10.625" endtime="20210607 14:05:12.386"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:05:12.387" endtime="20210607 14:05:12.387"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210607 14:05:07.288" endtime="20210607 14:05:12.387"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210607 14:05:07.236" endtime="20210607 14:05:12.388"/>
</suite>
<suite id="s1-s1-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:03:30.798" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:03:30.798" endtime="20210607 14:03:30.798"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:03:30.799" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:03:30.798" endtime="20210607 14:03:30.799"/>
</kw>
<status status="PASS" starttime="20210607 14:03:30.797" endtime="20210607 14:03:30.799"/>
</kw>
<msg timestamp="20210607 14:03:30.799" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:03:30.797" endtime="20210607 14:03:30.799"/>
</kw>
<status status="PASS" starttime="20210607 14:03:30.796" endtime="20210607 14:03:30.799"/>
</kw>
<msg timestamp="20210607 14:03:30.799" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:03:30.796" endtime="20210607 14:03:30.799"/>
</kw>
<msg timestamp="20210607 14:03:30.800" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:03:30.795" endtime="20210607 14:03:30.800"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:03:30.800" level="INFO">${random} = 08224</msg>
<status status="PASS" starttime="20210607 14:03:30.800" endtime="20210607 14:03:30.800"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:30.805" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-08224 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:34.434" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:34.434" level="INFO">${output} = 2021-06-07 14:03:32 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:03:32 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 ...</msg>
<status status="PASS" starttime="20210607 14:03:30.801" endtime="20210607 14:03:34.434"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:34.435" level="INFO">2021-06-07 14:03:32 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:03:32 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 14:03:32 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-07 14:03:33 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:03:33 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0891A6746B8E-&gt;1576b68c-27f1-45d2-86b0-d6fb9d88a682
2021-06-07 14:03:33 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210607 14:03:34.434" endtime="20210607 14:03:34.435"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:34.436" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:34.435" endtime="20210607 14:03:34.436"/>
</kw>
<status status="PASS" starttime="20210607 14:03:30.801" endtime="20210607 14:03:34.436"/>
</kw>
<msg timestamp="20210607 14:03:34.436" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:30.801" endtime="20210607 14:03:34.436"/>
</kw>
<msg timestamp="20210607 14:03:34.436" level="INFO">${result} = 2021-06-07 14:03:32 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:03:32 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 ...</msg>
<status status="PASS" starttime="20210607 14:03:30.800" endtime="20210607 14:03:34.436"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:34.439" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:36.029" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:36.029" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:03 o3fs://bucket1.volume1.om/ozone-08224
dr...</msg>
<status status="PASS" starttime="20210607 14:03:34.438" endtime="20210607 14:03:36.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:36.031" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:03 o3fs://bucket1.volume1.om/ozone-08224
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:03:36.030" endtime="20210607 14:03:36.031"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:36.031" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:36.031" endtime="20210607 14:03:36.031"/>
</kw>
<status status="PASS" starttime="20210607 14:03:34.437" endtime="20210607 14:03:36.032"/>
</kw>
<msg timestamp="20210607 14:03:36.032" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:34.437" endtime="20210607 14:03:36.032"/>
</kw>
<msg timestamp="20210607 14:03:36.032" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:03 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-07 14:03 o3fs://bucket1.volume1.om/ozone-08224
dr...</msg>
<status status="PASS" starttime="20210607 14:03:34.436" endtime="20210607 14:03:36.032"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:03:36.032" endtime="20210607 14:03:36.032"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210607 14:03:30.794" endtime="20210607 14:03:36.033"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210607 14:03:30.749" endtime="20210607 14:03:36.034"/>
</suite>
<suite id="s1-s1-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:05:17.164" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:05:17.170" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:05:17.171" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:17.160" endtime="20210607 14:05:17.171"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:05:17.172" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:17.171" endtime="20210607 14:05:17.172"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:05:17.172" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:05:17.172" endtime="20210607 14:05:17.172"/>
</kw>
<status status="PASS" starttime="20210607 14:05:17.160" endtime="20210607 14:05:17.173"/>
</kw>
<msg timestamp="20210607 14:05:17.173" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:05:17.160" endtime="20210607 14:05:17.173"/>
</kw>
<msg timestamp="20210607 14:05:17.173" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:17.159" endtime="20210607 14:05:17.173"/>
</kw>
<msg timestamp="20210607 14:05:17.173" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:17.159" endtime="20210607 14:05:17.173"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:17.178" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:05:17.178" endtime="20210607 14:05:17.178"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:17.179" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:05:17.178" endtime="20210607 14:05:17.179"/>
</kw>
<status status="PASS" starttime="20210607 14:05:17.177" endtime="20210607 14:05:17.179"/>
</kw>
<msg timestamp="20210607 14:05:17.179" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:05:17.177" endtime="20210607 14:05:17.179"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:05:17.180" endtime="20210607 14:05:17.180"/>
</kw>
<msg timestamp="20210607 14:05:17.180" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:05:17.179" endtime="20210607 14:05:17.180"/>
</kw>
<status status="PASS" starttime="20210607 14:05:17.176" endtime="20210607 14:05:17.180"/>
</kw>
<msg timestamp="20210607 14:05:17.181" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:05:17.175" endtime="20210607 14:05:17.181"/>
</kw>
<msg timestamp="20210607 14:05:17.181" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:05:17.173" endtime="20210607 14:05:17.181"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:05:17.184" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:05:54.633" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:05:54.633" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:05:19 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:19 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210607 14:05:17.182" endtime="20210607 14:05:54.633"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:05:54.634" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:05:19 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:19 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 14:05:19 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-07 14:05:19 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:05:19 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-1BD32700D23D-&gt;f4a8c49b-7650-4bcc-95d3-435e5a8130ca
2021-06-07 14:05:19 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-07 14:05:20 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-427E78686C0A-&gt;1576b68c-27f1-45d2-86b0-d6fb9d88a682
2021-06-07 14:05:20 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-07 14:05:20 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:05:20 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:05:23 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-07 14:05:23 INFO  JobSubmitter:198 - number of splits:3
2021-06-07 14:05:23 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623074534839_0003
2021-06-07 14:05:23 INFO  YarnClientImpl:273 - Submitted application application_1623074534839_0003
2021-06-07 14:05:23 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623074534839_0003/
2021-06-07 14:05:23 INFO  Job:1339 - Running job: job_1623074534839_0003
2021-06-07 14:05:30 INFO  Job:1360 - Job job_1623074534839_0003 running in uber mode : false
2021-06-07 14:05:30 INFO  Job:1367 -  map 0% reduce 0%
2021-06-07 14:05:37 INFO  Job:1367 -  map 33% reduce 0%
2021-06-07 14:05:41 INFO  Job:1367 -  map 67% reduce 0%
2021-06-07 14:05:46 INFO  Job:1367 -  map 100% reduce 0%
2021-06-07 14:05:50 INFO  Job:1367 -  map 100% reduce 100%
2021-06-07 14:05:53 INFO  Job:1378 - Job job_1623074534839_0003 completed successfully
2021-06-07 14:05:54 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=633757
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37240
		Total time spent by all reduces in occupied slots (ms)=13956
		Total time spent by all map tasks (ms)=9310
		Total time spent by all reduce tasks (ms)=3489
		Total vcore-milliseconds taken by all map tasks=9310
		Total vcore-milliseconds taken by all reduce tasks=3489
		Total megabyte-milliseconds taken by all map tasks=38133760
		Total megabyte-milliseconds taken by all reduce tasks=14290944
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=601
		CPU time spent (ms)=6050
		Physical memory (bytes) snapshot=1300647936
		Virtual memory (bytes) snapshot=15760936960
		Total committed heap usage (bytes)=1072168960
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 33.925 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210607 14:05:54.634" endtime="20210607 14:05:54.635"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:05:54.635" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:05:54.635" endtime="20210607 14:05:54.635"/>
</kw>
<status status="PASS" starttime="20210607 14:05:17.182" endtime="20210607 14:05:54.636"/>
</kw>
<msg timestamp="20210607 14:05:54.636" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:05:17.182" endtime="20210607 14:05:54.636"/>
</kw>
<msg timestamp="20210607 14:05:54.636" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:05:19 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:19 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210607 14:05:17.181" endtime="20210607 14:05:54.637"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:05:54.637" endtime="20210607 14:05:54.637"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:05:17.158" endtime="20210607 14:05:54.637"/>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:05:54.645" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:05:54.650" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:05:54.650" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:54.641" endtime="20210607 14:05:54.650"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:05:54.651" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:54.651" endtime="20210607 14:05:54.651"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:05:54.652" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:05:54.651" endtime="20210607 14:05:54.652"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.640" endtime="20210607 14:05:54.652"/>
</kw>
<msg timestamp="20210607 14:05:54.652" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:05:54.640" endtime="20210607 14:05:54.652"/>
</kw>
<msg timestamp="20210607 14:05:54.653" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:54.640" endtime="20210607 14:05:54.653"/>
</kw>
<msg timestamp="20210607 14:05:54.653" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:05:54.639" endtime="20210607 14:05:54.653"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:05:54.653" level="INFO">${random} = vReuBbpb</msg>
<status status="PASS" starttime="20210607 14:05:54.653" endtime="20210607 14:05:54.653"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:54.657" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:05:54.656" endtime="20210607 14:05:54.657"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:54.657" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:05:54.657" endtime="20210607 14:05:54.657"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.656" endtime="20210607 14:05:54.657"/>
</kw>
<msg timestamp="20210607 14:05:54.658" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:05:54.655" endtime="20210607 14:05:54.658"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:05:54.658" endtime="20210607 14:05:54.658"/>
</kw>
<msg timestamp="20210607 14:05:54.658" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:05:54.658" endtime="20210607 14:05:54.659"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.655" endtime="20210607 14:05:54.659"/>
</kw>
<msg timestamp="20210607 14:05:54.659" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:05:54.654" endtime="20210607 14:05:54.659"/>
</kw>
<msg timestamp="20210607 14:05:54.659" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:05:54.654" endtime="20210607 14:05:54.659"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:54.662" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:05:54.662" endtime="20210607 14:05:54.662"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:54.663" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:05:54.662" endtime="20210607 14:05:54.663"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.661" endtime="20210607 14:05:54.663"/>
</kw>
<msg timestamp="20210607 14:05:54.663" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:05:54.661" endtime="20210607 14:05:54.663"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:54.665" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210607 14:05:54.664" endtime="20210607 14:05:54.665"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:54.665" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210607 14:05:54.665" endtime="20210607 14:05:54.665"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.664" endtime="20210607 14:05:54.665"/>
</kw>
<msg timestamp="20210607 14:05:54.666" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210607 14:05:54.663" endtime="20210607 14:05:54.666"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.660" endtime="20210607 14:05:54.666"/>
</kw>
<msg timestamp="20210607 14:05:54.666" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210607 14:05:54.660" endtime="20210607 14:05:54.666"/>
</kw>
<msg timestamp="20210607 14:05:54.666" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210607 14:05:54.659" endtime="20210607 14:05:54.666"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:54.669" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:05:54.669" endtime="20210607 14:05:54.670"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:54.670" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:05:54.670" endtime="20210607 14:05:54.670"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.669" endtime="20210607 14:05:54.670"/>
</kw>
<msg timestamp="20210607 14:05:54.670" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:05:54.668" endtime="20210607 14:05:54.670"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:05:54.672" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210607 14:05:54.671" endtime="20210607 14:05:54.672"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:05:54.672" level="INFO">${result} = /wordcount-vReuBbpb.txt</msg>
<status status="PASS" starttime="20210607 14:05:54.672" endtime="20210607 14:05:54.672"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.671" endtime="20210607 14:05:54.673"/>
</kw>
<msg timestamp="20210607 14:05:54.673" level="INFO">${path_with_leading} = /wordcount-vReuBbpb.txt</msg>
<status status="PASS" starttime="20210607 14:05:54.671" endtime="20210607 14:05:54.673"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.668" endtime="20210607 14:05:54.673"/>
</kw>
<msg timestamp="20210607 14:05:54.673" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-vReuBbpb.txt</msg>
<status status="PASS" starttime="20210607 14:05:54.667" endtime="20210607 14:05:54.673"/>
</kw>
<msg timestamp="20210607 14:05:54.673" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-vReuBbpb.txt</msg>
<status status="PASS" starttime="20210607 14:05:54.666" endtime="20210607 14:05:54.673"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:05:54.676" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-vReuBbpb.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:06:37.615" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:06:37.615" level="INFO">${output} = 2021-06-07 14:05:56 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:05:56 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210607 14:05:54.675" endtime="20210607 14:06:37.616"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:06:37.617" level="INFO">2021-06-07 14:05:56 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:05:56 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:05:56 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:05:56 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 14:05:56 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-07 14:05:57 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:05:57 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-11C2DD4DF6DD-&gt;f4a8c49b-7650-4bcc-95d3-435e5a8130ca
2021-06-07 14:05:57 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:05:57 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-07 14:05:57 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0EE9A81C356C-&gt;1576b68c-27f1-45d2-86b0-d6fb9d88a682
2021-06-07 14:05:57 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:06:00 INFO  JobSubmitter:198 - number of splits:3
2021-06-07 14:06:00 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623074534839_0004
2021-06-07 14:06:00 INFO  YarnClientImpl:273 - Submitted application application_1623074534839_0004
2021-06-07 14:06:00 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623074534839_0004/
2021-06-07 14:06:00 INFO  Job:1339 - Running job: job_1623074534839_0004
2021-06-07 14:06:07 INFO  Job:1360 - Job job_1623074534839_0004 running in uber mode : false
2021-06-07 14:06:07 INFO  Job:1367 -  map 0% reduce 0%
2021-06-07 14:06:14 INFO  Job:1367 -  map 33% reduce 0%
2021-06-07 14:06:19 INFO  Job:1367 -  map 67% reduce 0%
2021-06-07 14:06:24 INFO  Job:1367 -  map 100% reduce 0%
2021-06-07 14:06:31 INFO  Job:1367 -  map 100% reduce 100%
2021-06-07 14:06:37 INFO  Job:1378 - Job job_1623074534839_0004 completed successfully
2021-06-07 14:06:37 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=696535
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39128
		Total time spent by all reduces in occupied slots (ms)=24216
		Total time spent by all map tasks (ms)=9782
		Total time spent by all reduce tasks (ms)=6054
		Total vcore-milliseconds taken by all map tasks=9782
		Total vcore-milliseconds taken by all reduce tasks=6054
		Total megabyte-milliseconds taken by all map tasks=40067072
		Total megabyte-milliseconds taken by all reduce tasks=24797184
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=619
		CPU time spent (ms)=7260
		Physical memory (bytes) snapshot=1423044608
		Virtual memory (bytes) snapshot=15792222208
		Total committed heap usage (bytes)=1170210816
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210607 14:06:37.616" endtime="20210607 14:06:37.617"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:06:37.618" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:06:37.617" endtime="20210607 14:06:37.618"/>
</kw>
<status status="PASS" starttime="20210607 14:05:54.674" endtime="20210607 14:06:37.618"/>
</kw>
<msg timestamp="20210607 14:06:37.618" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:05:54.674" endtime="20210607 14:06:37.618"/>
</kw>
<msg timestamp="20210607 14:06:37.619" level="INFO">${output} = 2021-06-07 14:05:56 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:05:56 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210607 14:05:54.673" endtime="20210607 14:06:37.619"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:06:37.619" endtime="20210607 14:06:37.619"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:06:37.619" endtime="20210607 14:06:37.620"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:05:54.638" endtime="20210607 14:06:37.620"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210607 14:05:17.107" endtime="20210607 14:06:37.621"/>
</suite>
<suite id="s1-s1-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:40.498" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:03:40.505" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:03:40.505" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:03:40.495" endtime="20210607 14:03:40.505"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:03:40.506" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:03:40.505" endtime="20210607 14:03:40.506"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:03:40.506" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:03:40.506" endtime="20210607 14:03:40.506"/>
</kw>
<status status="PASS" starttime="20210607 14:03:40.494" endtime="20210607 14:03:40.507"/>
</kw>
<msg timestamp="20210607 14:03:40.507" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:40.494" endtime="20210607 14:03:40.507"/>
</kw>
<msg timestamp="20210607 14:03:40.507" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:03:40.493" endtime="20210607 14:03:40.507"/>
</kw>
<msg timestamp="20210607 14:03:40.507" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:03:40.493" endtime="20210607 14:03:40.507"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:03:40.512" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:03:40.511" endtime="20210607 14:03:40.512"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:03:40.512" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:03:40.512" endtime="20210607 14:03:40.512"/>
</kw>
<status status="PASS" starttime="20210607 14:03:40.511" endtime="20210607 14:03:40.512"/>
</kw>
<msg timestamp="20210607 14:03:40.513" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:03:40.510" endtime="20210607 14:03:40.513"/>
</kw>
<status status="PASS" starttime="20210607 14:03:40.510" endtime="20210607 14:03:40.513"/>
</kw>
<msg timestamp="20210607 14:03:40.513" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:03:40.509" endtime="20210607 14:03:40.513"/>
</kw>
<msg timestamp="20210607 14:03:40.513" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:03:40.507" endtime="20210607 14:03:40.513"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:03:40.516" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:04:24.074" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:04:24.074" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:03:42 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:03:42 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210607 14:03:40.515" endtime="20210607 14:04:24.074"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:04:24.075" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:03:42 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:03:42 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 14:03:42 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-07 14:03:42 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:03:42 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-247386AFB1FB-&gt;f4a8c49b-7650-4bcc-95d3-435e5a8130ca
2021-06-07 14:03:42 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-07 14:03:43 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-6244034626CE-&gt;1576b68c-27f1-45d2-86b0-d6fb9d88a682
2021-06-07 14:03:43 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-07 14:03:46 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:03:46 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-07 14:03:49 INFO  JobSubmitter:198 - number of splits:3
2021-06-07 14:03:49 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623074534839_0001
2021-06-07 14:03:49 INFO  YarnClientImpl:273 - Submitted application application_1623074534839_0001
2021-06-07 14:03:49 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623074534839_0001/
2021-06-07 14:03:49 INFO  Job:1339 - Running job: job_1623074534839_0001
2021-06-07 14:03:59 INFO  Job:1360 - Job job_1623074534839_0001 running in uber mode : false
2021-06-07 14:03:59 INFO  Job:1367 -  map 0% reduce 0%
2021-06-07 14:04:06 INFO  Job:1367 -  map 33% reduce 0%
2021-06-07 14:04:11 INFO  Job:1367 -  map 67% reduce 0%
2021-06-07 14:04:15 INFO  Job:1367 -  map 100% reduce 0%
2021-06-07 14:04:20 INFO  Job:1367 -  map 100% reduce 100%
2021-06-07 14:04:23 INFO  Job:1378 - Job job_1623074534839_0001 completed successfully
2021-06-07 14:04:23 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=633973
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39724
		Total time spent by all reduces in occupied slots (ms)=15188
		Total time spent by all map tasks (ms)=9931
		Total time spent by all reduce tasks (ms)=3797
		Total vcore-milliseconds taken by all map tasks=9931
		Total vcore-milliseconds taken by all reduce tasks=3797
		Total megabyte-milliseconds taken by all map tasks=40677376
		Total megabyte-milliseconds taken by all reduce tasks=15552512
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=618
		CPU time spent (ms)=7050
		Physical memory (bytes) snapshot=1308274688
		Virtual memory (bytes) snapshot=15791697920
		Total committed heap usage (bytes)=1106771968
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 37.432 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210607 14:04:24.074" endtime="20210607 14:04:24.075"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:04:24.076" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:04:24.076" endtime="20210607 14:04:24.076"/>
</kw>
<status status="PASS" starttime="20210607 14:03:40.514" endtime="20210607 14:04:24.076"/>
</kw>
<msg timestamp="20210607 14:04:24.076" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:03:40.514" endtime="20210607 14:04:24.077"/>
</kw>
<msg timestamp="20210607 14:04:24.077" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:03:42 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:03:42 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210607 14:03:40.513" endtime="20210607 14:04:24.077"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:04:24.077" endtime="20210607 14:04:24.078"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:03:40.492" endtime="20210607 14:04:24.078"/>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:04:24.083" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:04:24.088" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:04:24.088" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:04:24.081" endtime="20210607 14:04:24.088"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:04:24.089" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:04:24.088" endtime="20210607 14:04:24.089"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:04:24.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:04:24.089" endtime="20210607 14:04:24.090"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.080" endtime="20210607 14:04:24.090"/>
</kw>
<msg timestamp="20210607 14:04:24.090" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:04:24.080" endtime="20210607 14:04:24.090"/>
</kw>
<msg timestamp="20210607 14:04:24.090" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:04:24.080" endtime="20210607 14:04:24.090"/>
</kw>
<msg timestamp="20210607 14:04:24.091" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210607 14:04:24.079" endtime="20210607 14:04:24.091"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:04:24.091" level="INFO">${random} = PFlujDa7</msg>
<status status="PASS" starttime="20210607 14:04:24.091" endtime="20210607 14:04:24.091"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:04:24.095" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:04:24.095" endtime="20210607 14:04:24.095"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:04:24.096" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:04:24.095" endtime="20210607 14:04:24.096"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.094" endtime="20210607 14:04:24.096"/>
</kw>
<msg timestamp="20210607 14:04:24.096" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:04:24.093" endtime="20210607 14:04:24.096"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.093" endtime="20210607 14:04:24.097"/>
</kw>
<msg timestamp="20210607 14:04:24.097" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:04:24.092" endtime="20210607 14:04:24.097"/>
</kw>
<msg timestamp="20210607 14:04:24.097" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:04:24.092" endtime="20210607 14:04:24.097"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:04:24.100" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:04:24.100" endtime="20210607 14:04:24.100"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:04:24.101" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:04:24.100" endtime="20210607 14:04:24.101"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.099" endtime="20210607 14:04:24.101"/>
</kw>
<msg timestamp="20210607 14:04:24.101" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:04:24.099" endtime="20210607 14:04:24.101"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.098" endtime="20210607 14:04:24.101"/>
</kw>
<msg timestamp="20210607 14:04:24.101" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210607 14:04:24.098" endtime="20210607 14:04:24.102"/>
</kw>
<msg timestamp="20210607 14:04:24.102" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210607 14:04:24.097" endtime="20210607 14:04:24.102"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:04:24.105" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:04:24.105" endtime="20210607 14:04:24.105"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:04:24.106" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:04:24.105" endtime="20210607 14:04:24.106"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.104" endtime="20210607 14:04:24.106"/>
</kw>
<msg timestamp="20210607 14:04:24.106" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:04:24.104" endtime="20210607 14:04:24.106"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.103" endtime="20210607 14:04:24.107"/>
</kw>
<msg timestamp="20210607 14:04:24.107" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-PFlujDa7.txt</msg>
<status status="PASS" starttime="20210607 14:04:24.103" endtime="20210607 14:04:24.107"/>
</kw>
<msg timestamp="20210607 14:04:24.107" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-PFlujDa7.txt</msg>
<status status="PASS" starttime="20210607 14:04:24.102" endtime="20210607 14:04:24.107"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:04:24.110" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-PFlujDa7.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:05:02.313" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:05:02.313" level="INFO">${output} = 2021-06-07 14:04:25 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:04:26 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210607 14:04:24.108" endtime="20210607 14:05:02.314"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:05:02.315" level="INFO">2021-06-07 14:04:25 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:04:26 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:04:26 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:04:26 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-07 14:04:26 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-07 14:04:26 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:04:26 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-9138270E80C2-&gt;f4a8c49b-7650-4bcc-95d3-435e5a8130ca
2021-06-07 14:04:26 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:04:27 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-07 14:04:30 INFO  JobSubmitter:198 - number of splits:3
2021-06-07 14:04:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0503F5237F99-&gt;1576b68c-27f1-45d2-86b0-d6fb9d88a682
2021-06-07 14:04:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:04:30 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623074534839_0002
2021-06-07 14:04:30 INFO  YarnClientImpl:273 - Submitted application application_1623074534839_0002
2021-06-07 14:04:30 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623074534839_0002/
2021-06-07 14:04:30 INFO  Job:1339 - Running job: job_1623074534839_0002
2021-06-07 14:04:37 INFO  Job:1360 - Job job_1623074534839_0002 running in uber mode : false
2021-06-07 14:04:37 INFO  Job:1367 -  map 0% reduce 0%
2021-06-07 14:04:43 INFO  Job:1367 -  map 33% reduce 0%
2021-06-07 14:04:48 INFO  Job:1367 -  map 67% reduce 0%
2021-06-07 14:04:53 INFO  Job:1367 -  map 100% reduce 0%
2021-06-07 14:04:58 INFO  Job:1367 -  map 100% reduce 100%
2021-06-07 14:05:01 INFO  Job:1378 - Job job_1623074534839_0002 completed successfully
2021-06-07 14:05:01 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=696619
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=40820
		Total time spent by all reduces in occupied slots (ms)=15104
		Total time spent by all map tasks (ms)=10205
		Total time spent by all reduce tasks (ms)=3776
		Total vcore-milliseconds taken by all map tasks=10205
		Total vcore-milliseconds taken by all reduce tasks=3776
		Total megabyte-milliseconds taken by all map tasks=41799680
		Total megabyte-milliseconds taken by all reduce tasks=15466496
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=589
		CPU time spent (ms)=6190
		Physical memory (bytes) snapshot=1205080064
		Virtual memory (bytes) snapshot=15743512576
		Total committed heap usage (bytes)=1009254400
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210607 14:05:02.314" endtime="20210607 14:05:02.315"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:05:02.316" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:05:02.316" endtime="20210607 14:05:02.316"/>
</kw>
<status status="PASS" starttime="20210607 14:04:24.108" endtime="20210607 14:05:02.317"/>
</kw>
<msg timestamp="20210607 14:05:02.317" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:04:24.108" endtime="20210607 14:05:02.317"/>
</kw>
<msg timestamp="20210607 14:05:02.317" level="INFO">${output} = 2021-06-07 14:04:25 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-07 14:04:26 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210607 14:04:24.107" endtime="20210607 14:05:02.317"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:05:02.317" endtime="20210607 14:05:02.318"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:05:02.319" endtime="20210607 14:05:02.320"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:04:24.078" endtime="20210607 14:05:02.320"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210607 14:03:40.439" endtime="20210607 14:05:02.321"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="209272"/>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite id="s1-s2-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:07:42.100" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:07:50.931" level="INFO">${rc} = 255</msg>
<msg timestamp="20210607 14:07:50.931" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:07:42.095" endtime="20210607 14:07:50.931"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:07:50.933" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:07:50.932" endtime="20210607 14:07:50.933"/>
</kw>
<msg timestamp="20210607 14:07:50.933" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:07:42.094" endtime="20210607 14:07:50.933"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:07:50.938" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:07:53.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:07:53.325" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:07:50.936" endtime="20210607 14:07:53.325"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:07:53.327" level="INFO"/>
<status status="PASS" starttime="20210607 14:07:53.326" endtime="20210607 14:07:53.327"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:07:53.328" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:07:53.327" endtime="20210607 14:07:53.328"/>
</kw>
<status status="PASS" starttime="20210607 14:07:50.935" endtime="20210607 14:07:53.328"/>
</kw>
<msg timestamp="20210607 14:07:53.328" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:07:50.935" endtime="20210607 14:07:53.328"/>
</kw>
<msg timestamp="20210607 14:07:53.330" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210607 14:07:50.935" endtime="20210607 14:07:53.330"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:07:53.330" endtime="20210607 14:07:53.333"/>
</kw>
<status status="PASS" starttime="20210607 14:07:50.934" endtime="20210607 14:07:53.333"/>
</kw>
<status status="PASS" starttime="20210607 14:07:50.934" endtime="20210607 14:07:53.333"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:07:53.340" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:07:55.876" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:07:55.876" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:07:53.337" endtime="20210607 14:07:55.876"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:07:55.877" level="INFO"/>
<status status="PASS" starttime="20210607 14:07:55.877" endtime="20210607 14:07:55.877"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:07:55.878" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:07:55.877" endtime="20210607 14:07:55.878"/>
</kw>
<status status="PASS" starttime="20210607 14:07:53.335" endtime="20210607 14:07:55.879"/>
</kw>
<msg timestamp="20210607 14:07:55.879" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:07:53.335" endtime="20210607 14:07:55.879"/>
</kw>
<status status="PASS" starttime="20210607 14:07:53.334" endtime="20210607 14:07:55.879"/>
</kw>
<status status="PASS" starttime="20210607 14:07:53.334" endtime="20210607 14:07:55.879"/>
</kw>
<status status="PASS" starttime="20210607 14:07:53.333" endtime="20210607 14:07:55.879"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210607 14:07:55.879" endtime="20210607 14:07:55.880"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:07:55.884" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:07:58.267" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:07:58.267" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:07...</msg>
<status status="PASS" starttime="20210607 14:07:55.881" endtime="20210607 14:07:58.267"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:07:58.269" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:07:55.838Z",
  "modificationTime" : "2021-06-07T14:07:55.838Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210607 14:07:58.268" endtime="20210607 14:07:58.269"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:07:58.269" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:07:58.269" endtime="20210607 14:07:58.270"/>
</kw>
<status status="PASS" starttime="20210607 14:07:55.881" endtime="20210607 14:07:58.270"/>
</kw>
<msg timestamp="20210607 14:07:58.270" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:07:55.880" endtime="20210607 14:07:58.270"/>
</kw>
<msg timestamp="20210607 14:07:58.270" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:07...</msg>
<status status="PASS" starttime="20210607 14:07:55.880" endtime="20210607 14:07:58.270"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:07:58.271" endtime="20210607 14:07:58.271"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:07:58.275" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:07:58.275" endtime="20210607 14:07:58.275"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:07:58.276" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:07:58.276" endtime="20210607 14:07:58.276"/>
</kw>
<status status="PASS" starttime="20210607 14:07:58.274" endtime="20210607 14:07:58.277"/>
</kw>
<msg timestamp="20210607 14:07:58.277" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:07:58.273" endtime="20210607 14:07:58.277"/>
</kw>
<status status="PASS" starttime="20210607 14:07:58.272" endtime="20210607 14:07:58.277"/>
</kw>
<msg timestamp="20210607 14:07:58.277" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210607 14:07:58.272" endtime="20210607 14:07:58.277"/>
</kw>
<msg timestamp="20210607 14:07:58.277" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210607 14:07:58.271" endtime="20210607 14:07:58.278"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:07:58.281" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:00.628" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:00.628" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:07:58.279" endtime="20210607 14:08:00.628"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:00.629" level="INFO"/>
<status status="PASS" starttime="20210607 14:08:00.629" endtime="20210607 14:08:00.630"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:00.630" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:00.630" endtime="20210607 14:08:00.630"/>
</kw>
<status status="PASS" starttime="20210607 14:07:58.278" endtime="20210607 14:08:00.631"/>
</kw>
<msg timestamp="20210607 14:08:00.631" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:07:58.278" endtime="20210607 14:08:00.631"/>
</kw>
<status status="PASS" starttime="20210607 14:07:58.278" endtime="20210607 14:08:00.631"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:00.635" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:05.658" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:05.658" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:08:00.633" endtime="20210607 14:08:05.658"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:05.660" level="INFO"/>
<status status="PASS" starttime="20210607 14:08:05.658" endtime="20210607 14:08:05.660"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:05.660" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:05.660" endtime="20210607 14:08:05.661"/>
</kw>
<status status="PASS" starttime="20210607 14:08:00.632" endtime="20210607 14:08:05.661"/>
</kw>
<msg timestamp="20210607 14:08:05.661" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:00.632" endtime="20210607 14:08:05.661"/>
</kw>
<status status="PASS" starttime="20210607 14:08:00.631" endtime="20210607 14:08:05.661"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:05.665" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:09.749" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:09.749" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:08:05.663" endtime="20210607 14:08:09.749"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:09.750" level="INFO"/>
<status status="PASS" starttime="20210607 14:08:09.750" endtime="20210607 14:08:09.751"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:09.751" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:09.751" endtime="20210607 14:08:09.751"/>
</kw>
<status status="PASS" starttime="20210607 14:08:05.662" endtime="20210607 14:08:09.752"/>
</kw>
<msg timestamp="20210607 14:08:09.752" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:05.662" endtime="20210607 14:08:09.752"/>
</kw>
<status status="PASS" starttime="20210607 14:08:05.661" endtime="20210607 14:08:09.752"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:09.755" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:13.955" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:13.955" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:08:09.754" endtime="20210607 14:08:13.955"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:13.956" level="INFO"/>
<status status="PASS" starttime="20210607 14:08:13.955" endtime="20210607 14:08:13.956"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:13.957" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:13.956" endtime="20210607 14:08:13.957"/>
</kw>
<status status="PASS" starttime="20210607 14:08:09.753" endtime="20210607 14:08:13.957"/>
</kw>
<msg timestamp="20210607 14:08:13.957" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:09.753" endtime="20210607 14:08:13.958"/>
</kw>
<status status="PASS" starttime="20210607 14:08:09.752" endtime="20210607 14:08:13.958"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210607 14:07:42.093" endtime="20210607 14:08:13.958"/>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:08:13.964" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:08:13.963" endtime="20210607 14:08:13.964"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:08:13.965" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:08:13.964" endtime="20210607 14:08:13.965"/>
</kw>
<status status="PASS" starttime="20210607 14:08:13.963" endtime="20210607 14:08:13.965"/>
</kw>
<msg timestamp="20210607 14:08:13.965" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:08:13.962" endtime="20210607 14:08:13.965"/>
</kw>
<status status="PASS" starttime="20210607 14:08:13.961" endtime="20210607 14:08:13.965"/>
</kw>
<msg timestamp="20210607 14:08:13.965" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:08:13.960" endtime="20210607 14:08:13.966"/>
</kw>
<msg timestamp="20210607 14:08:13.966" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:08:13.959" endtime="20210607 14:08:13.966"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:13.969" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:16.264" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:16.264" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:08:13.967" endtime="20210607 14:08:16.264"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:16.266" level="INFO"/>
<status status="PASS" starttime="20210607 14:08:16.265" endtime="20210607 14:08:16.266"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:16.267" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:16.266" endtime="20210607 14:08:16.267"/>
</kw>
<status status="PASS" starttime="20210607 14:08:13.967" endtime="20210607 14:08:16.267"/>
</kw>
<msg timestamp="20210607 14:08:16.267" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:13.966" endtime="20210607 14:08:16.267"/>
</kw>
<status status="PASS" starttime="20210607 14:08:13.966" endtime="20210607 14:08:16.268"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:16.271" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:18.408" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:18.408" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:08:16.269" endtime="20210607 14:08:18.408"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:18.410" level="INFO"/>
<status status="PASS" starttime="20210607 14:08:18.409" endtime="20210607 14:08:18.410"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:18.410" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:18.410" endtime="20210607 14:08:18.411"/>
</kw>
<status status="PASS" starttime="20210607 14:08:16.269" endtime="20210607 14:08:18.411"/>
</kw>
<msg timestamp="20210607 14:08:18.411" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:16.268" endtime="20210607 14:08:18.411"/>
</kw>
<status status="PASS" starttime="20210607 14:08:16.268" endtime="20210607 14:08:18.411"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210607 14:08:13.959" endtime="20210607 14:08:18.412"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210607 14:07:42.023" endtime="20210607 14:08:18.413"/>
</suite>
<suite id="s1-s2-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:02.122" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:10:02.122" endtime="20210607 14:10:02.122"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:02.123" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:10:02.122" endtime="20210607 14:10:02.123"/>
</kw>
<status status="PASS" starttime="20210607 14:10:02.121" endtime="20210607 14:10:02.123"/>
</kw>
<msg timestamp="20210607 14:10:02.123" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:10:02.121" endtime="20210607 14:10:02.123"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:10:02.124" endtime="20210607 14:10:02.124"/>
</kw>
<msg timestamp="20210607 14:10:02.124" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:10:02.123" endtime="20210607 14:10:02.124"/>
</kw>
<status status="PASS" starttime="20210607 14:10:02.120" endtime="20210607 14:10:02.124"/>
</kw>
<msg timestamp="20210607 14:10:02.124" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:10:02.119" endtime="20210607 14:10:02.124"/>
</kw>
<msg timestamp="20210607 14:10:02.125" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:10:02.118" endtime="20210607 14:10:02.125"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:10:02.125" level="INFO">${random} = 54636</msg>
<status status="PASS" starttime="20210607 14:10:02.125" endtime="20210607 14:10:02.125"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:10:02.131" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-54636 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:10:08.098" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:10:08.099" level="INFO">${output} = 2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:03 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:10:02.127" endtime="20210607 14:10:08.099"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:10:08.100" level="INFO">2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:04 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-07 14:10:04 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:10:04 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:10:04 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:10:04 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:10:04 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-A081F409855A-&gt;0b5a6b92-c7be-42da-86b8-b3ebc92c3c03
2021-06-07 14:10:04 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:10:07 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:10:08.099" endtime="20210607 14:10:08.100"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:10:08.100" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:10:08.100" endtime="20210607 14:10:08.100"/>
</kw>
<status status="PASS" starttime="20210607 14:10:02.126" endtime="20210607 14:10:08.101"/>
</kw>
<msg timestamp="20210607 14:10:08.101" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:10:02.126" endtime="20210607 14:10:08.101"/>
</kw>
<msg timestamp="20210607 14:10:08.101" level="INFO">${result} = 2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:03 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:10:02.125" endtime="20210607 14:10:08.101"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:10:08.105" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:10:09.980" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:10:09.980" level="INFO">${output} = 2021-06-07 14:10:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:10:08.103" endtime="20210607 14:10:09.980"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:10:09.981" level="INFO">2021-06-07 14:10:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:08 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-07 14:08 ofs://om/volume1/bucket1/ozone-35742
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-07 14:10 ofs://om/volume1/bucket1/ozone-54636
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:08 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:09 ofs://om/volume1/bucket1/wordcount-aON0WnpA.txt
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:10:09.980" endtime="20210607 14:10:09.981"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:10:09.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:10:09.981" endtime="20210607 14:10:09.982"/>
</kw>
<status status="PASS" starttime="20210607 14:10:08.102" endtime="20210607 14:10:09.982"/>
</kw>
<msg timestamp="20210607 14:10:09.982" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:10:08.102" endtime="20210607 14:10:09.982"/>
</kw>
<msg timestamp="20210607 14:10:09.983" level="INFO">${result} = 2021-06-07 14:10:08 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:09 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:10:08.101" endtime="20210607 14:10:09.983"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:10:09.983" endtime="20210607 14:10:09.983"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210607 14:10:02.118" endtime="20210607 14:10:09.983"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210607 14:10:02.065" endtime="20210607 14:10:09.985"/>
</suite>
<suite id="s1-s2-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:08:23.257" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:08:23.256" endtime="20210607 14:08:23.257"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:08:23.257" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:08:23.257" endtime="20210607 14:08:23.257"/>
</kw>
<status status="PASS" starttime="20210607 14:08:23.256" endtime="20210607 14:08:23.258"/>
</kw>
<msg timestamp="20210607 14:08:23.258" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:08:23.255" endtime="20210607 14:08:23.258"/>
</kw>
<status status="PASS" starttime="20210607 14:08:23.255" endtime="20210607 14:08:23.258"/>
</kw>
<msg timestamp="20210607 14:08:23.258" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:08:23.254" endtime="20210607 14:08:23.258"/>
</kw>
<msg timestamp="20210607 14:08:23.258" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:08:23.253" endtime="20210607 14:08:23.258"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:08:23.259" level="INFO">${random} = 35742</msg>
<status status="PASS" starttime="20210607 14:08:23.259" endtime="20210607 14:08:23.259"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:23.264" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-35742 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:29.986" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:29.986" level="INFO">${output} = 2021-06-07 14:08:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:25 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:08:23.260" endtime="20210607 14:08:29.986"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:29.987" level="INFO">2021-06-07 14:08:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:25 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:25 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-07 14:08:25 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:08:25 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:08:25 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:08:25 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:08:25 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-6F9BB579C851-&gt;8999231b-8808-4fe8-a1a0-186d5f6aead6
2021-06-07 14:08:25 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:08:29 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:08:29.987" endtime="20210607 14:08:29.988"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:29.988" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:29.988" endtime="20210607 14:08:29.988"/>
</kw>
<status status="PASS" starttime="20210607 14:08:23.260" endtime="20210607 14:08:29.989"/>
</kw>
<msg timestamp="20210607 14:08:29.989" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:23.260" endtime="20210607 14:08:29.989"/>
</kw>
<msg timestamp="20210607 14:08:29.989" level="INFO">${result} = 2021-06-07 14:08:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:25 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:08:23.259" endtime="20210607 14:08:29.989"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:29.992" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:31.764" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:31.765" level="INFO">${output} = 2021-06-07 14:08:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:31 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:08:29.990" endtime="20210607 14:08:31.765"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:31.766" level="INFO">2021-06-07 14:08:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:31 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:08 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-07 14:08 o3fs://bucket1.volume1.om/ozone-35742
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:08 o3fs://bucket1.volume1.om/user
2021-06-07 14:08:31 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:08:31.765" endtime="20210607 14:08:31.766"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:31.766" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:31.766" endtime="20210607 14:08:31.767"/>
</kw>
<status status="PASS" starttime="20210607 14:08:29.990" endtime="20210607 14:08:31.767"/>
</kw>
<msg timestamp="20210607 14:08:31.767" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:29.990" endtime="20210607 14:08:31.767"/>
</kw>
<msg timestamp="20210607 14:08:31.767" level="INFO">${result} = 2021-06-07 14:08:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:30 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:31 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:08:29.989" endtime="20210607 14:08:31.767"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:08:31.768" endtime="20210607 14:08:31.768"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210607 14:08:23.252" endtime="20210607 14:08:31.768"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210607 14:08:23.200" endtime="20210607 14:08:31.769"/>
</suite>
<suite id="s1-s2-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:10:14.804" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:10:14.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:10:14.811" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:14.801" endtime="20210607 14:10:14.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:10:14.812" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:14.811" endtime="20210607 14:10:14.812"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:10:14.813" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:10:14.812" endtime="20210607 14:10:14.813"/>
</kw>
<status status="PASS" starttime="20210607 14:10:14.800" endtime="20210607 14:10:14.813"/>
</kw>
<msg timestamp="20210607 14:10:14.813" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:10:14.800" endtime="20210607 14:10:14.813"/>
</kw>
<msg timestamp="20210607 14:10:14.813" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:14.799" endtime="20210607 14:10:14.813"/>
</kw>
<msg timestamp="20210607 14:10:14.814" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:14.799" endtime="20210607 14:10:14.814"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:14.818" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:10:14.818" endtime="20210607 14:10:14.818"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:14.819" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:10:14.819" endtime="20210607 14:10:14.819"/>
</kw>
<status status="PASS" starttime="20210607 14:10:14.817" endtime="20210607 14:10:14.819"/>
</kw>
<msg timestamp="20210607 14:10:14.819" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:10:14.817" endtime="20210607 14:10:14.819"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:10:14.820" endtime="20210607 14:10:14.820"/>
</kw>
<msg timestamp="20210607 14:10:14.820" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:10:14.820" endtime="20210607 14:10:14.820"/>
</kw>
<status status="PASS" starttime="20210607 14:10:14.816" endtime="20210607 14:10:14.821"/>
</kw>
<msg timestamp="20210607 14:10:14.821" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:10:14.816" endtime="20210607 14:10:14.821"/>
</kw>
<msg timestamp="20210607 14:10:14.821" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:10:14.814" endtime="20210607 14:10:14.821"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:10:14.824" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:10:49.467" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:10:49.467" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:10:15 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:15 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10...</msg>
<status status="PASS" starttime="20210607 14:10:14.823" endtime="20210607 14:10:49.467"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:10:49.468" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:10:15 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:15 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:16 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:16 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-07 14:10:16 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:10:16 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:10:16 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:10:17 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:10:17 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-5D4AB0C7A110-&gt;8999231b-8808-4fe8-a1a0-186d5f6aead6
2021-06-07 14:10:17 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-06-07 14:10:18 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3DB90338E2F6-&gt;0b5a6b92-c7be-42da-86b8-b3ebc92c3c03
2021-06-07 14:10:18 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-06-07 14:10:18 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:18 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:18 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:18 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.8:8032
2021-06-07 14:10:18 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:18 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:18 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:10:18 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:18 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:10:18 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:10:19 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623074834353_0003
2021-06-07 14:10:19 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:10:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:19 INFO  Configuration:2752 - resource-types.xml not found
2021-06-07 14:10:19 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-07 14:10:19 INFO  YarnClientImpl:324 - Submitted application application_1623074834353_0003
2021-06-07 14:10:19 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623074834353_0003/
2021-06-07 14:10:19 INFO  Job:1619 - Running job: job_1623074834353_0003
2021-06-07 14:10:26 INFO  Job:1640 - Job job_1623074834353_0003 running in uber mode : false
2021-06-07 14:10:26 INFO  Job:1647 -  map 0% reduce 0%
2021-06-07 14:10:32 INFO  Job:1647 -  map 33% reduce 0%
2021-06-07 14:10:38 INFO  Job:1647 -  map 67% reduce 0%
2021-06-07 14:10:43 INFO  Job:1647 -  map 100% reduce 0%
2021-06-07 14:10:48 INFO  Job:1647 -  map 100% reduce 100%
2021-06-07 14:10:48 INFO  Job:1658 - Job job_1623074834353_0003 completed successfully
2021-06-07 14:10:48 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:48 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1042261
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39440
		Total time spent by all reduces in occupied slots (ms)=14396
		Total time spent by all map tasks (ms)=9860
		Total time spent by all reduce tasks (ms)=3599
		Total vcore-milliseconds taken by all map tasks=9860
		Total vcore-milliseconds taken by all reduce tasks=3599
		Total megabyte-milliseconds taken by all map tasks=40386560
		Total megabyte-milliseconds taken by all reduce tasks=14741504
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=591
		CPU time spent (ms)=6440
		Physical memory (bytes) snapshot=1272074240
		Virtual memory (bytes) snapshot=15787139072
		Total committed heap usage (bytes)=1082130432
		Peak Map Physical memory (bytes)=334954496
		Peak Map Virtual memory (bytes)=3955838976
		Peak Reduce Physical memory (bytes)=294387712
		Peak Reduce Virtual memory (bytes)=3951316992
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 30.715 seconds
2021-06-07 14:10:48 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-06-07 14:10:49 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:10:49.468" endtime="20210607 14:10:49.469"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:10:49.469" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:10:49.469" endtime="20210607 14:10:49.469"/>
</kw>
<status status="PASS" starttime="20210607 14:10:14.822" endtime="20210607 14:10:49.469"/>
</kw>
<msg timestamp="20210607 14:10:49.470" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:10:14.822" endtime="20210607 14:10:49.470"/>
</kw>
<msg timestamp="20210607 14:10:49.470" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:10:15 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:15 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10...</msg>
<status status="PASS" starttime="20210607 14:10:14.821" endtime="20210607 14:10:49.470"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:10:49.470" endtime="20210607 14:10:49.471"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:10:14.798" endtime="20210607 14:10:49.471"/>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:10:49.476" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:10:49.482" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:10:49.482" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:49.474" endtime="20210607 14:10:49.482"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:10:49.483" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:49.482" endtime="20210607 14:10:49.483"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:10:49.483" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:10:49.483" endtime="20210607 14:10:49.484"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.473" endtime="20210607 14:10:49.484"/>
</kw>
<msg timestamp="20210607 14:10:49.484" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:10:49.473" endtime="20210607 14:10:49.484"/>
</kw>
<msg timestamp="20210607 14:10:49.484" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:49.473" endtime="20210607 14:10:49.484"/>
</kw>
<msg timestamp="20210607 14:10:49.484" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:10:49.472" endtime="20210607 14:10:49.484"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:10:49.485" level="INFO">${random} = Vnl52lkS</msg>
<status status="PASS" starttime="20210607 14:10:49.485" endtime="20210607 14:10:49.485"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:49.491" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:10:49.491" endtime="20210607 14:10:49.491"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:49.492" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:10:49.491" endtime="20210607 14:10:49.492"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.490" endtime="20210607 14:10:49.492"/>
</kw>
<msg timestamp="20210607 14:10:49.492" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:10:49.490" endtime="20210607 14:10:49.492"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:10:49.493" endtime="20210607 14:10:49.493"/>
</kw>
<msg timestamp="20210607 14:10:49.493" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:10:49.492" endtime="20210607 14:10:49.493"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.489" endtime="20210607 14:10:49.494"/>
</kw>
<msg timestamp="20210607 14:10:49.494" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:10:49.486" endtime="20210607 14:10:49.494"/>
</kw>
<msg timestamp="20210607 14:10:49.494" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:10:49.485" endtime="20210607 14:10:49.494"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:49.498" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:10:49.497" endtime="20210607 14:10:49.498"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:49.498" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:10:49.498" endtime="20210607 14:10:49.498"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.497" endtime="20210607 14:10:49.499"/>
</kw>
<msg timestamp="20210607 14:10:49.499" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:10:49.496" endtime="20210607 14:10:49.499"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:49.500" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210607 14:10:49.500" endtime="20210607 14:10:49.500"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:49.501" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210607 14:10:49.501" endtime="20210607 14:10:49.501"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.499" endtime="20210607 14:10:49.501"/>
</kw>
<msg timestamp="20210607 14:10:49.501" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210607 14:10:49.499" endtime="20210607 14:10:49.501"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.495" endtime="20210607 14:10:49.502"/>
</kw>
<msg timestamp="20210607 14:10:49.502" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210607 14:10:49.495" endtime="20210607 14:10:49.502"/>
</kw>
<msg timestamp="20210607 14:10:49.502" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210607 14:10:49.494" endtime="20210607 14:10:49.502"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:49.507" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:10:49.506" endtime="20210607 14:10:49.507"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:49.507" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:10:49.507" endtime="20210607 14:10:49.507"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.505" endtime="20210607 14:10:49.508"/>
</kw>
<msg timestamp="20210607 14:10:49.508" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:10:49.504" endtime="20210607 14:10:49.508"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:10:49.509" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210607 14:10:49.509" endtime="20210607 14:10:49.509"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:10:49.510" level="INFO">${result} = /wordcount-Vnl52lkS.txt</msg>
<status status="PASS" starttime="20210607 14:10:49.509" endtime="20210607 14:10:49.510"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.508" endtime="20210607 14:10:49.510"/>
</kw>
<msg timestamp="20210607 14:10:49.510" level="INFO">${path_with_leading} = /wordcount-Vnl52lkS.txt</msg>
<status status="PASS" starttime="20210607 14:10:49.508" endtime="20210607 14:10:49.510"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.503" endtime="20210607 14:10:49.510"/>
</kw>
<msg timestamp="20210607 14:10:49.510" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-Vnl52lkS.txt</msg>
<status status="PASS" starttime="20210607 14:10:49.503" endtime="20210607 14:10:49.511"/>
</kw>
<msg timestamp="20210607 14:10:49.511" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-Vnl52lkS.txt</msg>
<status status="PASS" starttime="20210607 14:10:49.502" endtime="20210607 14:10:49.511"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:10:49.514" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-Vnl52lkS.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:11:24.617" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:11:24.617" level="INFO">${output} = 2021-06-07 14:10:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:10:49.512" endtime="20210607 14:11:24.617"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:11:24.618" level="INFO">2021-06-07 14:10:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.8:8032
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-07 14:10:51 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:10:51 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:10:51 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:10:52 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:10:52 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-855136CCD171-&gt;0b5a6b92-c7be-42da-86b8-b3ebc92c3c03
2021-06-07 14:10:52 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:10:52 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:10:52 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-248B97170E85-&gt;8999231b-8808-4fe8-a1a0-186d5f6aead6
2021-06-07 14:10:52 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:10:53 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:10:53 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623074834353_0004
2021-06-07 14:10:53 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:10:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:53 INFO  Configuration:2752 - resource-types.xml not found
2021-06-07 14:10:53 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-07 14:10:53 INFO  YarnClientImpl:324 - Submitted application application_1623074834353_0004
2021-06-07 14:10:53 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623074834353_0004/
2021-06-07 14:10:53 INFO  Job:1619 - Running job: job_1623074834353_0004
2021-06-07 14:11:01 INFO  Job:1640 - Job job_1623074834353_0004 running in uber mode : false
2021-06-07 14:11:01 INFO  Job:1647 -  map 0% reduce 0%
2021-06-07 14:11:08 INFO  Job:1647 -  map 33% reduce 0%
2021-06-07 14:11:14 INFO  Job:1647 -  map 67% reduce 0%
2021-06-07 14:11:19 INFO  Job:1647 -  map 100% reduce 0%
2021-06-07 14:11:23 INFO  Job:1647 -  map 100% reduce 100%
2021-06-07 14:11:24 INFO  Job:1658 - Job job_1623074834353_0004 completed successfully
2021-06-07 14:11:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:11:24 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1104943
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39544
		Total time spent by all reduces in occupied slots (ms)=14496
		Total time spent by all map tasks (ms)=9886
		Total time spent by all reduce tasks (ms)=3624
		Total vcore-milliseconds taken by all map tasks=9886
		Total vcore-milliseconds taken by all reduce tasks=3624
		Total megabyte-milliseconds taken by all map tasks=40493056
		Total megabyte-milliseconds taken by all reduce tasks=14843904
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=645
		CPU time spent (ms)=6950
		Physical memory (bytes) snapshot=1318002688
		Virtual memory (bytes) snapshot=15818985472
		Total committed heap usage (bytes)=1077936128
		Peak Map Physical memory (bytes)=338284544
		Peak Map Virtual memory (bytes)=3950202880
		Peak Reduce Physical memory (bytes)=309919744
		Peak Reduce Virtual memory (bytes)=3970617344
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209
2021-06-07 14:11:24 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:11:24.617" endtime="20210607 14:11:24.618"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:11:24.619" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:11:24.619" endtime="20210607 14:11:24.619"/>
</kw>
<status status="PASS" starttime="20210607 14:10:49.512" endtime="20210607 14:11:24.619"/>
</kw>
<msg timestamp="20210607 14:11:24.619" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:10:49.512" endtime="20210607 14:11:24.619"/>
</kw>
<msg timestamp="20210607 14:11:24.620" level="INFO">${output} = 2021-06-07 14:10:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:10:51 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:10:49.511" endtime="20210607 14:11:24.620"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:11:24.620" endtime="20210607 14:11:24.620"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:11:24.621" endtime="20210607 14:11:24.621"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:10:49.472" endtime="20210607 14:11:24.621"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210607 14:10:14.746" endtime="20210607 14:11:24.622"/>
</suite>
<suite id="s1-s2-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:36.557" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:08:36.564" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:08:36.564" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:08:36.554" endtime="20210607 14:08:36.564"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:08:36.565" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:08:36.564" endtime="20210607 14:08:36.565"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:08:36.565" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:08:36.565" endtime="20210607 14:08:36.566"/>
</kw>
<status status="PASS" starttime="20210607 14:08:36.553" endtime="20210607 14:08:36.566"/>
</kw>
<msg timestamp="20210607 14:08:36.566" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:36.553" endtime="20210607 14:08:36.566"/>
</kw>
<msg timestamp="20210607 14:08:36.566" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:08:36.553" endtime="20210607 14:08:36.566"/>
</kw>
<msg timestamp="20210607 14:08:36.567" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:08:36.552" endtime="20210607 14:08:36.567"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:08:36.571" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:08:36.570" endtime="20210607 14:08:36.571"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:08:36.571" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:08:36.571" endtime="20210607 14:08:36.571"/>
</kw>
<status status="PASS" starttime="20210607 14:08:36.570" endtime="20210607 14:08:36.572"/>
</kw>
<msg timestamp="20210607 14:08:36.572" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:08:36.570" endtime="20210607 14:08:36.572"/>
</kw>
<status status="PASS" starttime="20210607 14:08:36.569" endtime="20210607 14:08:36.572"/>
</kw>
<msg timestamp="20210607 14:08:36.572" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:08:36.568" endtime="20210607 14:08:36.572"/>
</kw>
<msg timestamp="20210607 14:08:36.572" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:08:36.567" endtime="20210607 14:08:36.572"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:08:36.575" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:09:18.109" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:09:18.109" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08...</msg>
<status status="PASS" starttime="20210607 14:08:36.574" endtime="20210607 14:09:18.109"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:09:18.111" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:38 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-07 14:08:38 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:08:38 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:08:38 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:08:38 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:08:38 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-BCD4E06DB6E4-&gt;8999231b-8808-4fe8-a1a0-186d5f6aead6
2021-06-07 14:08:38 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-07 14:08:39 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-6F27E8B362E4-&gt;0b5a6b92-c7be-42da-86b8-b3ebc92c3c03
2021-06-07 14:08:39 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-07 14:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:40 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.8:8032
2021-06-07 14:08:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:40 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:40 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:08:43 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:08:43 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623074834353_0001
2021-06-07 14:08:43 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:08:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:43 INFO  Configuration:2752 - resource-types.xml not found
2021-06-07 14:08:43 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-07 14:08:43 INFO  YarnClientImpl:324 - Submitted application application_1623074834353_0001
2021-06-07 14:08:44 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623074834353_0001/
2021-06-07 14:08:44 INFO  Job:1619 - Running job: job_1623074834353_0001
2021-06-07 14:08:53 INFO  Job:1640 - Job job_1623074834353_0001 running in uber mode : false
2021-06-07 14:08:53 INFO  Job:1647 -  map 0% reduce 0%
2021-06-07 14:09:00 INFO  Job:1647 -  map 33% reduce 0%
2021-06-07 14:09:06 INFO  Job:1647 -  map 67% reduce 0%
2021-06-07 14:09:11 INFO  Job:1647 -  map 100% reduce 0%
2021-06-07 14:09:16 INFO  Job:1647 -  map 100% reduce 100%
2021-06-07 14:09:17 INFO  Job:1658 - Job job_1623074834353_0001 completed successfully
2021-06-07 14:09:17 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:17 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1042465
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=42940
		Total time spent by all reduces in occupied slots (ms)=14944
		Total time spent by all map tasks (ms)=10735
		Total time spent by all reduce tasks (ms)=3736
		Total vcore-milliseconds taken by all map tasks=10735
		Total vcore-milliseconds taken by all reduce tasks=3736
		Total megabyte-milliseconds taken by all map tasks=43970560
		Total megabyte-milliseconds taken by all reduce tasks=15302656
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=689
		CPU time spent (ms)=6390
		Physical memory (bytes) snapshot=1271205888
		Virtual memory (bytes) snapshot=15780306944
		Total committed heap usage (bytes)=1094713344
		Peak Map Physical memory (bytes)=337911808
		Peak Map Virtual memory (bytes)=3951259648
		Peak Reduce Physical memory (bytes)=290713600
		Peak Reduce Virtual memory (bytes)=3950837760
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 37.582 seconds
2021-06-07 14:09:17 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:17 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-06-07 14:09:17 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:09:18.110" endtime="20210607 14:09:18.111"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:09:18.112" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:09:18.111" endtime="20210607 14:09:18.112"/>
</kw>
<status status="PASS" starttime="20210607 14:08:36.573" endtime="20210607 14:09:18.112"/>
</kw>
<msg timestamp="20210607 14:09:18.112" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:08:36.573" endtime="20210607 14:09:18.112"/>
</kw>
<msg timestamp="20210607 14:09:18.113" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:08...</msg>
<status status="PASS" starttime="20210607 14:08:36.572" endtime="20210607 14:09:18.113"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:09:18.113" endtime="20210607 14:09:18.113"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:08:36.552" endtime="20210607 14:09:18.114"/>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:09:18.119" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:09:18.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:09:18.125" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:09:18.117" endtime="20210607 14:09:18.126"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:09:18.126" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:09:18.126" endtime="20210607 14:09:18.127"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:09:18.127" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:09:18.127" endtime="20210607 14:09:18.128"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.117" endtime="20210607 14:09:18.128"/>
</kw>
<msg timestamp="20210607 14:09:18.128" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:09:18.117" endtime="20210607 14:09:18.128"/>
</kw>
<msg timestamp="20210607 14:09:18.128" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:09:18.116" endtime="20210607 14:09:18.128"/>
</kw>
<msg timestamp="20210607 14:09:18.128" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210607 14:09:18.116" endtime="20210607 14:09:18.128"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:09:18.129" level="INFO">${random} = aON0WnpA</msg>
<status status="PASS" starttime="20210607 14:09:18.129" endtime="20210607 14:09:18.129"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:09:18.132" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:09:18.132" endtime="20210607 14:09:18.132"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:09:18.133" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:09:18.132" endtime="20210607 14:09:18.133"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.131" endtime="20210607 14:09:18.133"/>
</kw>
<msg timestamp="20210607 14:09:18.133" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:09:18.131" endtime="20210607 14:09:18.133"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.130" endtime="20210607 14:09:18.134"/>
</kw>
<msg timestamp="20210607 14:09:18.134" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:09:18.130" endtime="20210607 14:09:18.134"/>
</kw>
<msg timestamp="20210607 14:09:18.134" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:09:18.129" endtime="20210607 14:09:18.134"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:09:18.137" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:09:18.137" endtime="20210607 14:09:18.137"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:09:18.138" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:09:18.137" endtime="20210607 14:09:18.138"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.136" endtime="20210607 14:09:18.138"/>
</kw>
<msg timestamp="20210607 14:09:18.138" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:09:18.136" endtime="20210607 14:09:18.138"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.135" endtime="20210607 14:09:18.138"/>
</kw>
<msg timestamp="20210607 14:09:18.139" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210607 14:09:18.135" endtime="20210607 14:09:18.139"/>
</kw>
<msg timestamp="20210607 14:09:18.139" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210607 14:09:18.134" endtime="20210607 14:09:18.139"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:09:18.142" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:09:18.142" endtime="20210607 14:09:18.142"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:09:18.143" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:09:18.142" endtime="20210607 14:09:18.143"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.141" endtime="20210607 14:09:18.143"/>
</kw>
<msg timestamp="20210607 14:09:18.143" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:09:18.141" endtime="20210607 14:09:18.143"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.140" endtime="20210607 14:09:18.143"/>
</kw>
<msg timestamp="20210607 14:09:18.143" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-aON0WnpA.txt</msg>
<status status="PASS" starttime="20210607 14:09:18.140" endtime="20210607 14:09:18.143"/>
</kw>
<msg timestamp="20210607 14:09:18.144" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-aON0WnpA.txt</msg>
<status status="PASS" starttime="20210607 14:09:18.139" endtime="20210607 14:09:18.144"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:09:18.147" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-aON0WnpA.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:09:57.314" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:09:57.314" level="INFO">${output} = 2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:09:18.145" endtime="20210607 14:09:57.314"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:09:57.315" level="INFO">2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.8:8032
2021-06-07 14:09:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:20 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:09:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:20 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-07 14:09:20 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-07 14:09:20 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:09:20 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:09:20 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:09:20 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-41825F32BA57-&gt;0b5a6b92-c7be-42da-86b8-b3ebc92c3c03
2021-06-07 14:09:20 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:09:21 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:09:21 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F9557257B9D5-&gt;8999231b-8808-4fe8-a1a0-186d5f6aead6
2021-06-07 14:09:21 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:09:21 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:09:22 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623074834353_0002
2021-06-07 14:09:22 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:09:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:22 INFO  Configuration:2752 - resource-types.xml not found
2021-06-07 14:09:22 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-07 14:09:22 INFO  YarnClientImpl:324 - Submitted application application_1623074834353_0002
2021-06-07 14:09:22 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623074834353_0002/
2021-06-07 14:09:22 INFO  Job:1619 - Running job: job_1623074834353_0002
2021-06-07 14:09:29 INFO  Job:1640 - Job job_1623074834353_0002 running in uber mode : false
2021-06-07 14:09:29 INFO  Job:1647 -  map 0% reduce 0%
2021-06-07 14:09:36 INFO  Job:1647 -  map 33% reduce 0%
2021-06-07 14:09:41 INFO  Job:1647 -  map 67% reduce 0%
2021-06-07 14:09:46 INFO  Job:1647 -  map 100% reduce 0%
2021-06-07 14:09:52 INFO  Job:1647 -  map 100% reduce 100%
2021-06-07 14:09:56 INFO  Job:1658 - Job job_1623074834353_0002 completed successfully
2021-06-07 14:09:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:56 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1105027
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39936
		Total time spent by all reduces in occupied slots (ms)=24208
		Total time spent by all map tasks (ms)=9984
		Total time spent by all reduce tasks (ms)=6052
		Total vcore-milliseconds taken by all map tasks=9984
		Total vcore-milliseconds taken by all reduce tasks=6052
		Total megabyte-milliseconds taken by all map tasks=40894464
		Total megabyte-milliseconds taken by all reduce tasks=24788992
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=557
		CPU time spent (ms)=6980
		Physical memory (bytes) snapshot=1322602496
		Virtual memory (bytes) snapshot=15822987264
		Total committed heap usage (bytes)=1077936128
		Peak Map Physical memory (bytes)=338698240
		Peak Map Virtual memory (bytes)=3953799168
		Peak Reduce Physical memory (bytes)=314781696
		Peak Reduce Virtual memory (bytes)=3972587520
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209
2021-06-07 14:09:56 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210607 14:09:57.314" endtime="20210607 14:09:57.315"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:09:57.316" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:09:57.315" endtime="20210607 14:09:57.316"/>
</kw>
<status status="PASS" starttime="20210607 14:09:18.145" endtime="20210607 14:09:57.316"/>
</kw>
<msg timestamp="20210607 14:09:57.316" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:09:18.145" endtime="20210607 14:09:57.316"/>
</kw>
<msg timestamp="20210607 14:09:57.317" level="INFO">${output} = 2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-07 14:09:19 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210607 14:09:18.144" endtime="20210607 14:09:57.317"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:09:57.317" endtime="20210607 14:09:57.318"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:09:57.318" endtime="20210607 14:09:57.318"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:09:18.115" endtime="20210607 14:09:57.318"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210607 14:08:36.501" endtime="20210607 14:09:57.320"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="203574"/>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite id="s1-s3-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:12:38.955" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:12:42.900" level="INFO">${rc} = 255</msg>
<msg timestamp="20210607 14:12:42.900" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:12:38.952" endtime="20210607 14:12:42.901"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:12:42.902" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:12:42.901" endtime="20210607 14:12:42.902"/>
</kw>
<msg timestamp="20210607 14:12:42.902" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210607 14:12:38.951" endtime="20210607 14:12:42.902"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:12:42.907" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:12:46.120" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:12:46.120" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:12:42.905" endtime="20210607 14:12:46.120"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:12:46.121" level="INFO"/>
<status status="PASS" starttime="20210607 14:12:46.121" endtime="20210607 14:12:46.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:12:46.122" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:12:46.122" endtime="20210607 14:12:46.122"/>
</kw>
<status status="PASS" starttime="20210607 14:12:42.904" endtime="20210607 14:12:46.123"/>
</kw>
<msg timestamp="20210607 14:12:46.123" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:12:42.904" endtime="20210607 14:12:46.123"/>
</kw>
<msg timestamp="20210607 14:12:46.123" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210607 14:12:42.903" endtime="20210607 14:12:46.123"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:12:46.123" endtime="20210607 14:12:46.124"/>
</kw>
<status status="PASS" starttime="20210607 14:12:42.903" endtime="20210607 14:12:46.124"/>
</kw>
<status status="PASS" starttime="20210607 14:12:42.903" endtime="20210607 14:12:46.124"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:12:46.129" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:12:49.090" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:12:49.090" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:12:46.126" endtime="20210607 14:12:49.090"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:12:49.091" level="INFO"/>
<status status="PASS" starttime="20210607 14:12:49.090" endtime="20210607 14:12:49.091"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:12:49.092" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:12:49.091" endtime="20210607 14:12:49.092"/>
</kw>
<status status="PASS" starttime="20210607 14:12:46.126" endtime="20210607 14:12:49.092"/>
</kw>
<msg timestamp="20210607 14:12:49.092" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:12:46.125" endtime="20210607 14:12:49.092"/>
</kw>
<status status="PASS" starttime="20210607 14:12:46.125" endtime="20210607 14:12:49.093"/>
</kw>
<status status="PASS" starttime="20210607 14:12:46.124" endtime="20210607 14:12:49.093"/>
</kw>
<status status="PASS" starttime="20210607 14:12:46.124" endtime="20210607 14:12:49.093"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210607 14:12:49.093" endtime="20210607 14:12:49.094"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:12:49.097" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:12:52.284" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:12:52.284" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:12...</msg>
<status status="PASS" starttime="20210607 14:12:49.095" endtime="20210607 14:12:52.285"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:12:52.286" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:12:49.009Z",
  "modificationTime" : "2021-06-07T14:12:49.009Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210607 14:12:52.285" endtime="20210607 14:12:52.286"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:12:52.286" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:12:52.286" endtime="20210607 14:12:52.287"/>
</kw>
<status status="PASS" starttime="20210607 14:12:49.095" endtime="20210607 14:12:52.287"/>
</kw>
<msg timestamp="20210607 14:12:52.287" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:12:49.094" endtime="20210607 14:12:52.287"/>
</kw>
<msg timestamp="20210607 14:12:52.287" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-07T14:12...</msg>
<status status="PASS" starttime="20210607 14:12:49.094" endtime="20210607 14:12:52.287"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:12:52.288" endtime="20210607 14:12:52.288"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:12:52.292" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:12:52.292" endtime="20210607 14:12:52.292"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:12:52.293" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:12:52.293" endtime="20210607 14:12:52.293"/>
</kw>
<status status="PASS" starttime="20210607 14:12:52.291" endtime="20210607 14:12:52.293"/>
</kw>
<msg timestamp="20210607 14:12:52.294" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:12:52.290" endtime="20210607 14:12:52.294"/>
</kw>
<status status="PASS" starttime="20210607 14:12:52.290" endtime="20210607 14:12:52.294"/>
</kw>
<msg timestamp="20210607 14:12:52.294" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210607 14:12:52.289" endtime="20210607 14:12:52.294"/>
</kw>
<msg timestamp="20210607 14:12:52.294" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210607 14:12:52.288" endtime="20210607 14:12:52.295"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:12:52.298" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:12:55.551" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:12:55.551" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:12:52.296" endtime="20210607 14:12:55.551"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:12:55.552" level="INFO"/>
<status status="PASS" starttime="20210607 14:12:55.551" endtime="20210607 14:12:55.552"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:12:55.553" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:12:55.552" endtime="20210607 14:12:55.553"/>
</kw>
<status status="PASS" starttime="20210607 14:12:52.295" endtime="20210607 14:12:55.553"/>
</kw>
<msg timestamp="20210607 14:12:55.553" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:12:52.295" endtime="20210607 14:12:55.554"/>
</kw>
<status status="PASS" starttime="20210607 14:12:52.295" endtime="20210607 14:12:55.554"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:12:55.557" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:02.056" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:02.056" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:12:55.555" endtime="20210607 14:13:02.056"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:02.058" level="INFO"/>
<status status="PASS" starttime="20210607 14:13:02.056" endtime="20210607 14:13:02.058"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:02.059" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:02.059" endtime="20210607 14:13:02.059"/>
</kw>
<status status="PASS" starttime="20210607 14:12:55.555" endtime="20210607 14:13:02.060"/>
</kw>
<msg timestamp="20210607 14:13:02.060" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:12:55.555" endtime="20210607 14:13:02.060"/>
</kw>
<status status="PASS" starttime="20210607 14:12:55.554" endtime="20210607 14:13:02.060"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:02.064" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:07.171" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:07.171" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:13:02.062" endtime="20210607 14:13:07.171"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:07.172" level="INFO"/>
<status status="PASS" starttime="20210607 14:13:07.171" endtime="20210607 14:13:07.172"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:07.173" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:07.172" endtime="20210607 14:13:07.173"/>
</kw>
<status status="PASS" starttime="20210607 14:13:02.061" endtime="20210607 14:13:07.173"/>
</kw>
<msg timestamp="20210607 14:13:07.173" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:02.061" endtime="20210607 14:13:07.173"/>
</kw>
<status status="PASS" starttime="20210607 14:13:02.060" endtime="20210607 14:13:07.174"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:07.177" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:12.208" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:12.208" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:13:07.175" endtime="20210607 14:13:12.208"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:12.209" level="INFO"/>
<status status="PASS" starttime="20210607 14:13:12.208" endtime="20210607 14:13:12.209"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:12.210" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:12.209" endtime="20210607 14:13:12.210"/>
</kw>
<status status="PASS" starttime="20210607 14:13:07.175" endtime="20210607 14:13:12.210"/>
</kw>
<msg timestamp="20210607 14:13:12.210" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:07.174" endtime="20210607 14:13:12.210"/>
</kw>
<status status="PASS" starttime="20210607 14:13:07.174" endtime="20210607 14:13:12.210"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210607 14:12:38.950" endtime="20210607 14:13:12.211"/>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:13:12.217" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:13:12.217" endtime="20210607 14:13:12.217"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:13:12.218" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:13:12.218" endtime="20210607 14:13:12.218"/>
</kw>
<status status="PASS" starttime="20210607 14:13:12.216" endtime="20210607 14:13:12.219"/>
</kw>
<msg timestamp="20210607 14:13:12.219" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:13:12.215" endtime="20210607 14:13:12.219"/>
</kw>
<status status="PASS" starttime="20210607 14:13:12.214" endtime="20210607 14:13:12.219"/>
</kw>
<msg timestamp="20210607 14:13:12.219" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:13:12.214" endtime="20210607 14:13:12.219"/>
</kw>
<msg timestamp="20210607 14:13:12.220" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:13:12.212" endtime="20210607 14:13:12.220"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:12.223" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:15.365" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:15.365" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:13:12.221" endtime="20210607 14:13:15.366"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:15.367" level="INFO"/>
<status status="PASS" starttime="20210607 14:13:15.366" endtime="20210607 14:13:15.368"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:15.368" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:15.368" endtime="20210607 14:13:15.368"/>
</kw>
<status status="PASS" starttime="20210607 14:13:12.220" endtime="20210607 14:13:15.369"/>
</kw>
<msg timestamp="20210607 14:13:15.369" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:12.220" endtime="20210607 14:13:15.369"/>
</kw>
<status status="PASS" starttime="20210607 14:13:12.220" endtime="20210607 14:13:15.369"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:15.373" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:18.449" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:18.449" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210607 14:13:15.371" endtime="20210607 14:13:18.449"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:18.451" level="INFO"/>
<status status="PASS" starttime="20210607 14:13:18.450" endtime="20210607 14:13:18.451"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:18.451" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:18.451" endtime="20210607 14:13:18.451"/>
</kw>
<status status="PASS" starttime="20210607 14:13:15.370" endtime="20210607 14:13:18.452"/>
</kw>
<msg timestamp="20210607 14:13:18.452" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:15.370" endtime="20210607 14:13:18.452"/>
</kw>
<status status="PASS" starttime="20210607 14:13:15.369" endtime="20210607 14:13:18.452"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210607 14:13:12.211" endtime="20210607 14:13:18.452"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210607 14:12:38.896" endtime="20210607 14:13:18.454"/>
</suite>
<suite id="s1-s3-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:14:58.858" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:14:58.857" endtime="20210607 14:14:58.858"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:14:58.859" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:14:58.858" endtime="20210607 14:14:58.859"/>
</kw>
<status status="PASS" starttime="20210607 14:14:58.857" endtime="20210607 14:14:58.859"/>
</kw>
<msg timestamp="20210607 14:14:58.859" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:14:58.857" endtime="20210607 14:14:58.859"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:14:58.859" endtime="20210607 14:14:58.860"/>
</kw>
<msg timestamp="20210607 14:14:58.860" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:14:58.859" endtime="20210607 14:14:58.860"/>
</kw>
<status status="PASS" starttime="20210607 14:14:58.856" endtime="20210607 14:14:58.860"/>
</kw>
<msg timestamp="20210607 14:14:58.860" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:14:58.855" endtime="20210607 14:14:58.860"/>
</kw>
<msg timestamp="20210607 14:14:58.861" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:14:58.854" endtime="20210607 14:14:58.861"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:14:58.861" level="INFO">${random} = 78433</msg>
<status status="PASS" starttime="20210607 14:14:58.861" endtime="20210607 14:14:58.861"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:14:58.867" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-78433 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:15:02.304" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:15:02.304" level="INFO">${output} = 2021-06-07 14:15:00 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:00 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210607 14:14:58.862" endtime="20210607 14:15:02.304"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:15:02.306" level="INFO">2021-06-07 14:15:00 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:00 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:15:00 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:15:01 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:15:01 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-A89F8236B7F4-&gt;dd29be54-4288-4ba6-aa05-3f730c6a90c5
2021-06-07 14:15:01 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210607 14:15:02.305" endtime="20210607 14:15:02.306"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:15:02.306" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:15:02.306" endtime="20210607 14:15:02.306"/>
</kw>
<status status="PASS" starttime="20210607 14:14:58.862" endtime="20210607 14:15:02.307"/>
</kw>
<msg timestamp="20210607 14:15:02.307" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:14:58.862" endtime="20210607 14:15:02.307"/>
</kw>
<msg timestamp="20210607 14:15:02.307" level="INFO">${result} = 2021-06-07 14:15:00 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:00 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210607 14:14:58.861" endtime="20210607 14:15:02.307"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:15:02.311" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:15:04.193" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:15:04.193" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:12 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:15 ofs://om/volume1/bucket1/ozone-78433
-rw-...</msg>
<status status="PASS" starttime="20210607 14:15:02.309" endtime="20210607 14:15:04.193"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:15:04.194" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:12 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:15 ofs://om/volume1/bucket1/ozone-78433
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:13 ofs://om/volume1/bucket1/ozone-93189
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:13 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:14 ofs://om/volume1/bucket1/wordcount-beLr739r.txt</msg>
<status status="PASS" starttime="20210607 14:15:04.193" endtime="20210607 14:15:04.194"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:15:04.195" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:15:04.194" endtime="20210607 14:15:04.195"/>
</kw>
<status status="PASS" starttime="20210607 14:15:02.308" endtime="20210607 14:15:04.195"/>
</kw>
<msg timestamp="20210607 14:15:04.195" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:15:02.308" endtime="20210607 14:15:04.195"/>
</kw>
<msg timestamp="20210607 14:15:04.195" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:12 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:15 ofs://om/volume1/bucket1/ozone-78433
-rw-...</msg>
<status status="PASS" starttime="20210607 14:15:02.307" endtime="20210607 14:15:04.196"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:15:04.196" endtime="20210607 14:15:04.196"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210607 14:14:58.853" endtime="20210607 14:15:04.196"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210607 14:14:58.802" endtime="20210607 14:15:04.197"/>
</suite>
<suite id="s1-s3-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:13:23.181" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:13:23.181" endtime="20210607 14:13:23.181"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:13:23.182" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:13:23.182" endtime="20210607 14:13:23.182"/>
</kw>
<status status="PASS" starttime="20210607 14:13:23.181" endtime="20210607 14:13:23.182"/>
</kw>
<msg timestamp="20210607 14:13:23.182" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:13:23.180" endtime="20210607 14:13:23.183"/>
</kw>
<status status="PASS" starttime="20210607 14:13:23.180" endtime="20210607 14:13:23.183"/>
</kw>
<msg timestamp="20210607 14:13:23.183" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:13:23.179" endtime="20210607 14:13:23.183"/>
</kw>
<msg timestamp="20210607 14:13:23.183" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:13:23.178" endtime="20210607 14:13:23.183"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:13:23.184" level="INFO">${random} = 93189</msg>
<status status="PASS" starttime="20210607 14:13:23.183" endtime="20210607 14:13:23.184"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:23.189" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-93189 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:27.030" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:27.030" level="INFO">${output} = 2021-06-07 14:13:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:13:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210607 14:13:23.185" endtime="20210607 14:13:27.030"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:27.032" level="INFO">2021-06-07 14:13:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:13:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:13:25 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:13:25 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:13:25 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7B49B339ABB8-&gt;1eb172a5-3c90-4fb6-af74-a70c38f72d8e
2021-06-07 14:13:25 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210607 14:13:27.031" endtime="20210607 14:13:27.032"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:27.032" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:27.032" endtime="20210607 14:13:27.032"/>
</kw>
<status status="PASS" starttime="20210607 14:13:23.185" endtime="20210607 14:13:27.033"/>
</kw>
<msg timestamp="20210607 14:13:27.033" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:23.184" endtime="20210607 14:13:27.033"/>
</kw>
<msg timestamp="20210607 14:13:27.033" level="INFO">${result} = 2021-06-07 14:13:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:13:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210607 14:13:23.184" endtime="20210607 14:13:27.033"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:27.037" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:28.811" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:28.811" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:12 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:13 o3fs://bucket1.volume1.om/ozone-93189
dr...</msg>
<status status="PASS" starttime="20210607 14:13:27.035" endtime="20210607 14:13:28.811"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:28.813" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:12 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:13 o3fs://bucket1.volume1.om/ozone-93189
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:13 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210607 14:13:28.812" endtime="20210607 14:13:28.813"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:28.814" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:28.813" endtime="20210607 14:13:28.814"/>
</kw>
<status status="PASS" starttime="20210607 14:13:27.034" endtime="20210607 14:13:28.814"/>
</kw>
<msg timestamp="20210607 14:13:28.814" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:27.034" endtime="20210607 14:13:28.814"/>
</kw>
<msg timestamp="20210607 14:13:28.814" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-07 14:12 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-07 14:13 o3fs://bucket1.volume1.om/ozone-93189
dr...</msg>
<status status="PASS" starttime="20210607 14:13:27.033" endtime="20210607 14:13:28.814"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:13:28.815" endtime="20210607 14:13:28.815"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210607 14:13:23.177" endtime="20210607 14:13:28.815"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210607 14:13:23.125" endtime="20210607 14:13:28.816"/>
</suite>
<suite id="s1-s3-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:15:08.677" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:15:08.683" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:15:08.684" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:08.674" endtime="20210607 14:15:08.684"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:15:08.685" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:08.684" endtime="20210607 14:15:08.685"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:15:08.685" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:15:08.685" endtime="20210607 14:15:08.685"/>
</kw>
<status status="PASS" starttime="20210607 14:15:08.673" endtime="20210607 14:15:08.686"/>
</kw>
<msg timestamp="20210607 14:15:08.686" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:15:08.673" endtime="20210607 14:15:08.686"/>
</kw>
<msg timestamp="20210607 14:15:08.686" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:08.673" endtime="20210607 14:15:08.687"/>
</kw>
<msg timestamp="20210607 14:15:08.687" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:08.672" endtime="20210607 14:15:08.687"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:15:08.691" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:15:08.690" endtime="20210607 14:15:08.691"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:15:08.691" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:15:08.691" endtime="20210607 14:15:08.691"/>
</kw>
<status status="PASS" starttime="20210607 14:15:08.690" endtime="20210607 14:15:08.691"/>
</kw>
<msg timestamp="20210607 14:15:08.692" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:15:08.689" endtime="20210607 14:15:08.692"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:15:08.692" endtime="20210607 14:15:08.692"/>
</kw>
<msg timestamp="20210607 14:15:08.693" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:15:08.692" endtime="20210607 14:15:08.693"/>
</kw>
<status status="PASS" starttime="20210607 14:15:08.689" endtime="20210607 14:15:08.693"/>
</kw>
<msg timestamp="20210607 14:15:08.693" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:15:08.688" endtime="20210607 14:15:08.693"/>
</kw>
<msg timestamp="20210607 14:15:08.693" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:15:08.688" endtime="20210607 14:15:08.693"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:15:08.696" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:15:47.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:15:47.006" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:15:10 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:10 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210607 14:15:08.695" endtime="20210607 14:15:47.007"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:15:47.008" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:15:10 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:10 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:15:10 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:15:10 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:15:10 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-8A817F4A1D75-&gt;1eb172a5-3c90-4fb6-af74-a70c38f72d8e
2021-06-07 14:15:10 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-07 14:15:13 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-318BEA490D32-&gt;dd29be54-4288-4ba6-aa05-3f730c6a90c5
2021-06-07 14:15:13 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-07 14:15:14 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:15:14 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:15:14 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:15:14 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:15:17 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623075126286_0003
2021-06-07 14:15:17 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:15:17 INFO  Configuration:2795 - resource-types.xml not found
2021-06-07 14:15:17 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-07 14:15:17 INFO  YarnClientImpl:329 - Submitted application application_1623075126286_0003
2021-06-07 14:15:17 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623075126286_0003/
2021-06-07 14:15:17 INFO  Job:1614 - Running job: job_1623075126286_0003
2021-06-07 14:15:25 INFO  Job:1635 - Job job_1623075126286_0003 running in uber mode : false
2021-06-07 14:15:25 INFO  Job:1642 -  map 0% reduce 0%
2021-06-07 14:15:31 INFO  Job:1642 -  map 33% reduce 0%
2021-06-07 14:15:36 INFO  Job:1642 -  map 67% reduce 0%
2021-06-07 14:15:41 INFO  Job:1642 -  map 100% reduce 0%
2021-06-07 14:15:45 INFO  Job:1642 -  map 100% reduce 100%
2021-06-07 14:15:46 INFO  Job:1653 - Job job_1623075126286_0003 completed successfully
2021-06-07 14:15:46 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1117645
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=753
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37108
		Total time spent by all reduces in occupied slots (ms)=13828
		Total time spent by all map tasks (ms)=9277
		Total time spent by all reduce tasks (ms)=3457
		Total vcore-milliseconds taken by all map tasks=9277
		Total vcore-milliseconds taken by all reduce tasks=3457
		Total megabyte-milliseconds taken by all map tasks=37998592
		Total megabyte-milliseconds taken by all reduce tasks=14159872
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=399
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=598
		CPU time spent (ms)=6410
		Physical memory (bytes) snapshot=1365426176
		Virtual memory (bytes) snapshot=15809282048
		Total committed heap usage (bytes)=1415053312
		Peak Map Physical memory (bytes)=370503680
		Peak Map Virtual memory (bytes)=3946504192
		Peak Reduce Physical memory (bytes)=315387904
		Peak Reduce Virtual memory (bytes)=3972972544
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 32.197 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210607 14:15:47.007" endtime="20210607 14:15:47.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:15:47.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:15:47.008" endtime="20210607 14:15:47.008"/>
</kw>
<status status="PASS" starttime="20210607 14:15:08.694" endtime="20210607 14:15:47.009"/>
</kw>
<msg timestamp="20210607 14:15:47.009" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:15:08.694" endtime="20210607 14:15:47.009"/>
</kw>
<msg timestamp="20210607 14:15:47.009" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:15:10 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:10 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210607 14:15:08.693" endtime="20210607 14:15:47.009"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:15:47.010" endtime="20210607 14:15:47.010"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:15:08.671" endtime="20210607 14:15:47.010"/>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:15:47.016" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:15:47.021" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:15:47.021" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:47.014" endtime="20210607 14:15:47.021"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:15:47.022" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:47.021" endtime="20210607 14:15:47.022"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:15:47.022" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:15:47.022" endtime="20210607 14:15:47.022"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.013" endtime="20210607 14:15:47.023"/>
</kw>
<msg timestamp="20210607 14:15:47.023" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:15:47.013" endtime="20210607 14:15:47.023"/>
</kw>
<msg timestamp="20210607 14:15:47.023" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:47.012" endtime="20210607 14:15:47.023"/>
</kw>
<msg timestamp="20210607 14:15:47.023" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:15:47.012" endtime="20210607 14:15:47.023"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:15:47.024" level="INFO">${random} = Q3x2I8TH</msg>
<status status="PASS" starttime="20210607 14:15:47.023" endtime="20210607 14:15:47.024"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:15:47.027" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:15:47.027" endtime="20210607 14:15:47.027"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:15:47.028" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:15:47.027" endtime="20210607 14:15:47.028"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.026" endtime="20210607 14:15:47.028"/>
</kw>
<msg timestamp="20210607 14:15:47.028" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:15:47.026" endtime="20210607 14:15:47.028"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210607 14:15:47.029" endtime="20210607 14:15:47.029"/>
</kw>
<msg timestamp="20210607 14:15:47.029" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210607 14:15:47.028" endtime="20210607 14:15:47.029"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.025" endtime="20210607 14:15:47.030"/>
</kw>
<msg timestamp="20210607 14:15:47.030" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:15:47.025" endtime="20210607 14:15:47.030"/>
</kw>
<msg timestamp="20210607 14:15:47.030" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210607 14:15:47.024" endtime="20210607 14:15:47.030"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:15:47.033" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:15:47.033" endtime="20210607 14:15:47.033"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:15:47.034" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:15:47.033" endtime="20210607 14:15:47.034"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.032" endtime="20210607 14:15:47.034"/>
</kw>
<msg timestamp="20210607 14:15:47.034" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:15:47.032" endtime="20210607 14:15:47.034"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:15:47.035" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210607 14:15:47.035" endtime="20210607 14:15:47.036"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:15:47.036" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210607 14:15:47.036" endtime="20210607 14:15:47.036"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.035" endtime="20210607 14:15:47.036"/>
</kw>
<msg timestamp="20210607 14:15:47.036" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210607 14:15:47.034" endtime="20210607 14:15:47.036"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.031" endtime="20210607 14:15:47.037"/>
</kw>
<msg timestamp="20210607 14:15:47.037" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210607 14:15:47.031" endtime="20210607 14:15:47.037"/>
</kw>
<msg timestamp="20210607 14:15:47.037" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210607 14:15:47.030" endtime="20210607 14:15:47.037"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:15:47.040" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210607 14:15:47.040" endtime="20210607 14:15:47.040"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:15:47.041" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210607 14:15:47.041" endtime="20210607 14:15:47.041"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.039" endtime="20210607 14:15:47.041"/>
</kw>
<msg timestamp="20210607 14:15:47.041" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210607 14:15:47.039" endtime="20210607 14:15:47.041"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:15:47.043" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210607 14:15:47.042" endtime="20210607 14:15:47.043"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:15:47.043" level="INFO">${result} = /wordcount-Q3x2I8TH.txt</msg>
<status status="PASS" starttime="20210607 14:15:47.043" endtime="20210607 14:15:47.043"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.042" endtime="20210607 14:15:47.044"/>
</kw>
<msg timestamp="20210607 14:15:47.044" level="INFO">${path_with_leading} = /wordcount-Q3x2I8TH.txt</msg>
<status status="PASS" starttime="20210607 14:15:47.041" endtime="20210607 14:15:47.044"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.038" endtime="20210607 14:15:47.044"/>
</kw>
<msg timestamp="20210607 14:15:47.044" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-Q3x2I8TH.txt</msg>
<status status="PASS" starttime="20210607 14:15:47.038" endtime="20210607 14:15:47.044"/>
</kw>
<msg timestamp="20210607 14:15:47.044" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-Q3x2I8TH.txt</msg>
<status status="PASS" starttime="20210607 14:15:47.037" endtime="20210607 14:15:47.044"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:15:47.048" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-Q3x2I8TH.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:16:20.499" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:16:20.499" level="INFO">${output} = 2021-06-07 14:15:48 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:15:48 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210607 14:15:47.046" endtime="20210607 14:16:20.499"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:16:20.501" level="INFO">2021-06-07 14:15:48 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:15:48 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:15:49 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:15:49 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:15:49 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:15:49 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:15:49 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-E2D6A305D249-&gt;1eb172a5-3c90-4fb6-af74-a70c38f72d8e
2021-06-07 14:15:49 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:15:50 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:15:50 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-5484B23A03D0-&gt;dd29be54-4288-4ba6-aa05-3f730c6a90c5
2021-06-07 14:15:50 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:15:50 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:15:50 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623075126286_0004
2021-06-07 14:15:50 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:15:50 INFO  Configuration:2795 - resource-types.xml not found
2021-06-07 14:15:50 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-07 14:15:50 INFO  YarnClientImpl:329 - Submitted application application_1623075126286_0004
2021-06-07 14:15:50 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623075126286_0004/
2021-06-07 14:15:50 INFO  Job:1614 - Running job: job_1623075126286_0004
2021-06-07 14:15:58 INFO  Job:1635 - Job job_1623075126286_0004 running in uber mode : false
2021-06-07 14:15:58 INFO  Job:1642 -  map 0% reduce 0%
2021-06-07 14:16:04 INFO  Job:1642 -  map 33% reduce 0%
2021-06-07 14:16:09 INFO  Job:1642 -  map 67% reduce 0%
2021-06-07 14:16:14 INFO  Job:1642 -  map 100% reduce 0%
2021-06-07 14:16:19 INFO  Job:1642 -  map 100% reduce 100%
2021-06-07 14:16:20 INFO  Job:1653 - Job job_1623075126286_0004 completed successfully
2021-06-07 14:16:20 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1180327
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39468
		Total time spent by all reduces in occupied slots (ms)=14768
		Total time spent by all map tasks (ms)=9867
		Total time spent by all reduce tasks (ms)=3692
		Total vcore-milliseconds taken by all map tasks=9867
		Total vcore-milliseconds taken by all reduce tasks=3692
		Total megabyte-milliseconds taken by all map tasks=40415232
		Total megabyte-milliseconds taken by all reduce tasks=15122432
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=610
		CPU time spent (ms)=7050
		Physical memory (bytes) snapshot=1371758592
		Virtual memory (bytes) snapshot=15822737408
		Total committed heap usage (bytes)=1237843968
		Peak Map Physical memory (bytes)=326172672
		Peak Map Virtual memory (bytes)=3958501376
		Peak Reduce Physical memory (bytes)=394887168
		Peak Reduce Virtual memory (bytes)=3970392064
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210607 14:16:20.500" endtime="20210607 14:16:20.501"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:16:20.501" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:16:20.501" endtime="20210607 14:16:20.501"/>
</kw>
<status status="PASS" starttime="20210607 14:15:47.045" endtime="20210607 14:16:20.502"/>
</kw>
<msg timestamp="20210607 14:16:20.502" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:15:47.045" endtime="20210607 14:16:20.502"/>
</kw>
<msg timestamp="20210607 14:16:20.502" level="INFO">${output} = 2021-06-07 14:15:48 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:15:48 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210607 14:15:47.044" endtime="20210607 14:16:20.502"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:16:20.502" endtime="20210607 14:16:20.503"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:16:20.503" endtime="20210607 14:16:20.503"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:15:47.011" endtime="20210607 14:16:20.504"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210607 14:15:08.621" endtime="20210607 14:16:20.505"/>
</suite>
<suite id="s1-s3-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:33.415" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:13:33.421" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:13:33.421" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:13:33.412" endtime="20210607 14:13:33.421"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:13:33.422" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:13:33.421" endtime="20210607 14:13:33.422"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:13:33.422" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:13:33.422" endtime="20210607 14:13:33.423"/>
</kw>
<status status="PASS" starttime="20210607 14:13:33.411" endtime="20210607 14:13:33.423"/>
</kw>
<msg timestamp="20210607 14:13:33.423" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:33.411" endtime="20210607 14:13:33.423"/>
</kw>
<msg timestamp="20210607 14:13:33.423" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:13:33.410" endtime="20210607 14:13:33.424"/>
</kw>
<msg timestamp="20210607 14:13:33.424" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:13:33.410" endtime="20210607 14:13:33.424"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:13:33.428" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:13:33.427" endtime="20210607 14:13:33.428"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:13:33.428" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:13:33.428" endtime="20210607 14:13:33.428"/>
</kw>
<status status="PASS" starttime="20210607 14:13:33.427" endtime="20210607 14:13:33.429"/>
</kw>
<msg timestamp="20210607 14:13:33.429" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:13:33.427" endtime="20210607 14:13:33.429"/>
</kw>
<status status="PASS" starttime="20210607 14:13:33.426" endtime="20210607 14:13:33.429"/>
</kw>
<msg timestamp="20210607 14:13:33.429" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:13:33.425" endtime="20210607 14:13:33.429"/>
</kw>
<msg timestamp="20210607 14:13:33.429" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:13:33.425" endtime="20210607 14:13:33.429"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:13:33.432" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:14:16.120" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:14:16.120" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:13:35 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:13:35 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210607 14:13:33.431" endtime="20210607 14:14:16.120"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:14:16.121" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:13:35 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:13:35 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:13:35 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:13:35 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:13:35 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-AC5F668A22E1-&gt;dd29be54-4288-4ba6-aa05-3f730c6a90c5
2021-06-07 14:13:35 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-07 14:13:36 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0CB77273BBD4-&gt;1eb172a5-3c90-4fb6-af74-a70c38f72d8e
2021-06-07 14:13:36 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-07 14:13:36 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:13:37 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:13:37 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:13:37 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623075126286_0001
2021-06-07 14:13:37 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:13:37 INFO  Configuration:2795 - resource-types.xml not found
2021-06-07 14:13:37 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-07 14:13:38 INFO  YarnClientImpl:329 - Submitted application application_1623075126286_0001
2021-06-07 14:13:38 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623075126286_0001/
2021-06-07 14:13:38 INFO  Job:1614 - Running job: job_1623075126286_0001
2021-06-07 14:13:48 INFO  Job:1635 - Job job_1623075126286_0001 running in uber mode : false
2021-06-07 14:13:48 INFO  Job:1642 -  map 0% reduce 0%
2021-06-07 14:13:54 INFO  Job:1642 -  map 33% reduce 0%
2021-06-07 14:13:59 INFO  Job:1642 -  map 67% reduce 0%
2021-06-07 14:14:04 INFO  Job:1642 -  map 100% reduce 0%
2021-06-07 14:14:10 INFO  Job:1642 -  map 100% reduce 100%
2021-06-07 14:14:15 INFO  Job:1653 - Job job_1623075126286_0001 completed successfully
2021-06-07 14:14:15 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1117865
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=39844
		Total time spent by all reduces in occupied slots (ms)=19880
		Total time spent by all map tasks (ms)=9961
		Total time spent by all reduce tasks (ms)=4970
		Total vcore-milliseconds taken by all map tasks=9961
		Total vcore-milliseconds taken by all reduce tasks=4970
		Total megabyte-milliseconds taken by all map tasks=40800256
		Total megabyte-milliseconds taken by all reduce tasks=20357120
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=691
		CPU time spent (ms)=6640
		Physical memory (bytes) snapshot=1310044160
		Virtual memory (bytes) snapshot=15815729152
		Total committed heap usage (bytes)=1244135424
		Peak Map Physical memory (bytes)=351256576
		Peak Map Virtual memory (bytes)=3956281344
		Peak Reduce Physical memory (bytes)=315879424
		Peak Reduce Virtual memory (bytes)=3972239360
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 38.802 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210607 14:14:16.120" endtime="20210607 14:14:16.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:14:16.122" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:14:16.122" endtime="20210607 14:14:16.122"/>
</kw>
<status status="PASS" starttime="20210607 14:13:33.430" endtime="20210607 14:14:16.122"/>
</kw>
<msg timestamp="20210607 14:14:16.123" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:13:33.430" endtime="20210607 14:14:16.123"/>
</kw>
<msg timestamp="20210607 14:14:16.123" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-07 14:13:35 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:13:35 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210607 14:13:33.429" endtime="20210607 14:14:16.123"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:14:16.123" endtime="20210607 14:14:16.124"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:13:33.409" endtime="20210607 14:14:16.124"/>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:14:16.129" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:14:16.135" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:14:16.135" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:14:16.127" endtime="20210607 14:14:16.135"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:14:16.137" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:14:16.136" endtime="20210607 14:14:16.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:14:16.137" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:14:16.137" endtime="20210607 14:14:16.137"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.127" endtime="20210607 14:14:16.137"/>
</kw>
<msg timestamp="20210607 14:14:16.138" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:14:16.127" endtime="20210607 14:14:16.138"/>
</kw>
<msg timestamp="20210607 14:14:16.138" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:14:16.126" endtime="20210607 14:14:16.138"/>
</kw>
<msg timestamp="20210607 14:14:16.138" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210607 14:14:16.126" endtime="20210607 14:14:16.138"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210607 14:14:16.139" level="INFO">${random} = beLr739r</msg>
<status status="PASS" starttime="20210607 14:14:16.138" endtime="20210607 14:14:16.139"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:14:16.142" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:14:16.142" endtime="20210607 14:14:16.142"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:14:16.143" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:14:16.143" endtime="20210607 14:14:16.143"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.141" endtime="20210607 14:14:16.143"/>
</kw>
<msg timestamp="20210607 14:14:16.143" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:14:16.141" endtime="20210607 14:14:16.143"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.140" endtime="20210607 14:14:16.144"/>
</kw>
<msg timestamp="20210607 14:14:16.144" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:14:16.140" endtime="20210607 14:14:16.144"/>
</kw>
<msg timestamp="20210607 14:14:16.144" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210607 14:14:16.139" endtime="20210607 14:14:16.144"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:14:16.147" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:14:16.147" endtime="20210607 14:14:16.147"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:14:16.148" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:14:16.147" endtime="20210607 14:14:16.148"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.146" endtime="20210607 14:14:16.148"/>
</kw>
<msg timestamp="20210607 14:14:16.148" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:14:16.146" endtime="20210607 14:14:16.148"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.145" endtime="20210607 14:14:16.148"/>
</kw>
<msg timestamp="20210607 14:14:16.149" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210607 14:14:16.145" endtime="20210607 14:14:16.149"/>
</kw>
<msg timestamp="20210607 14:14:16.149" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210607 14:14:16.144" endtime="20210607 14:14:16.149"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210607 14:14:16.152" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210607 14:14:16.152" endtime="20210607 14:14:16.152"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210607 14:14:16.153" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210607 14:14:16.152" endtime="20210607 14:14:16.153"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.151" endtime="20210607 14:14:16.153"/>
</kw>
<msg timestamp="20210607 14:14:16.153" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210607 14:14:16.151" endtime="20210607 14:14:16.153"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.150" endtime="20210607 14:14:16.153"/>
</kw>
<msg timestamp="20210607 14:14:16.153" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-beLr739r.txt</msg>
<status status="PASS" starttime="20210607 14:14:16.150" endtime="20210607 14:14:16.153"/>
</kw>
<msg timestamp="20210607 14:14:16.154" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-beLr739r.txt</msg>
<status status="PASS" starttime="20210607 14:14:16.149" endtime="20210607 14:14:16.154"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210607 14:14:16.157" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-beLr739r.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210607 14:14:54.180" level="INFO">${rc} = 0</msg>
<msg timestamp="20210607 14:14:54.180" level="INFO">${output} = 2021-06-07 14:14:17 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:14:18 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210607 14:14:16.155" endtime="20210607 14:14:54.180"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210607 14:14:54.181" level="INFO">2021-06-07 14:14:17 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:14:18 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-07 14:14:18 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-07 14:14:18 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-07 14:14:18 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-07 14:14:18 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-07 14:14:18 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-90A4D0F6EB71-&gt;dd29be54-4288-4ba6-aa05-3f730c6a90c5
2021-06-07 14:14:18 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:14:19 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-07 14:14:19 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-06C9C56B811F-&gt;1eb172a5-3c90-4fb6-af74-a70c38f72d8e
2021-06-07 14:14:19 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-07 14:14:19 INFO  JobSubmitter:202 - number of splits:3
2021-06-07 14:14:19 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623075126286_0002
2021-06-07 14:14:19 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-07 14:14:20 INFO  Configuration:2795 - resource-types.xml not found
2021-06-07 14:14:20 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-07 14:14:20 INFO  YarnClientImpl:329 - Submitted application application_1623075126286_0002
2021-06-07 14:14:20 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623075126286_0002/
2021-06-07 14:14:20 INFO  Job:1614 - Running job: job_1623075126286_0002
2021-06-07 14:14:28 INFO  Job:1635 - Job job_1623075126286_0002 running in uber mode : false
2021-06-07 14:14:28 INFO  Job:1642 -  map 0% reduce 0%
2021-06-07 14:14:35 INFO  Job:1642 -  map 33% reduce 0%
2021-06-07 14:14:40 INFO  Job:1642 -  map 67% reduce 0%
2021-06-07 14:14:45 INFO  Job:1642 -  map 100% reduce 0%
2021-06-07 14:14:49 INFO  Job:1642 -  map 100% reduce 100%
2021-06-07 14:14:53 INFO  Job:1653 - Job job_1623075126286_0002 completed successfully
2021-06-07 14:14:53 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1180411
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=40112
		Total time spent by all reduces in occupied slots (ms)=14392
		Total time spent by all map tasks (ms)=10028
		Total time spent by all reduce tasks (ms)=3598
		Total vcore-milliseconds taken by all map tasks=10028
		Total vcore-milliseconds taken by all reduce tasks=3598
		Total megabyte-milliseconds taken by all map tasks=41074688
		Total megabyte-milliseconds taken by all reduce tasks=14737408
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=657
		CPU time spent (ms)=7050
		Physical memory (bytes) snapshot=1283174400
		Virtual memory (bytes) snapshot=15827320832
		Total committed heap usage (bytes)=1063256064
		Peak Map Physical memory (bytes)=326270976
		Peak Map Virtual memory (bytes)=3957526528
		Peak Reduce Physical memory (bytes)=314490880
		Peak Reduce Virtual memory (bytes)=3972542464
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210607 14:14:54.180" endtime="20210607 14:14:54.181"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210607 14:14:54.182" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210607 14:14:54.182" endtime="20210607 14:14:54.182"/>
</kw>
<status status="PASS" starttime="20210607 14:14:16.155" endtime="20210607 14:14:54.183"/>
</kw>
<msg timestamp="20210607 14:14:54.183" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210607 14:14:16.154" endtime="20210607 14:14:54.183"/>
</kw>
<msg timestamp="20210607 14:14:54.183" level="INFO">${output} = 2021-06-07 14:14:17 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.9:8032
2021-06-07 14:14:18 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210607 14:14:16.154" endtime="20210607 14:14:54.183"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:14:54.184" endtime="20210607 14:14:54.184"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210607 14:14:54.184" endtime="20210607 14:14:54.184"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210607 14:14:16.125" endtime="20210607 14:14:54.185"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210607 14:13:33.359" endtime="20210607 14:14:54.186"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="203355"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="616201"/>
</suite>
<statistics>
<total>
<stat pass="24" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="24" fail="0" skip="0" id="s1" name="ozone-mr">ozone-mr</stat>
<stat pass="8" fail="0" skip="0" id="s1-s1" name="hadoop27">ozone-mr.hadoop27</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1" name="Createmrenv">ozone-mr.hadoop27.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s2" name="hadoopfs-ofs">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s3" name="hadoopfs-o3fs">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s4" name="mapreduce-ofs">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s5" name="mapreduce-o3fs">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s2" name="hadoop31">ozone-mr.hadoop31</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s1" name="Createmrenv">ozone-mr.hadoop31.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s2" name="hadoopfs-ofs">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s3" name="hadoopfs-o3fs">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s4" name="mapreduce-ofs">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s5" name="mapreduce-o3fs">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s3" name="hadoop32">ozone-mr.hadoop32</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s1" name="Createmrenv">ozone-mr.hadoop32.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s2" name="hadoopfs-ofs">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s3" name="hadoopfs-o3fs">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s4" name="mapreduce-ofs">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s5" name="mapreduce-o3fs">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
