Attaching to ozone-topology_datanode_1_1, ozone-topology_datanode_5_1, ozone-topology_om_1, ozone-topology_datanode_3_1, ozone-topology_datanode_6_1, ozone-topology_datanode_4_1, ozone-topology_scm_1, ozone-topology_datanode_2_1
datanode_2_1  | Enabled profiling in kernel
datanode_2_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_2_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_2_1  | 2021-06-29 13:21:55,443 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_2_1  | /************************************************************
datanode_2_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_2_1  | STARTUP_MSG:   host = e0e286044653/10.5.0.5
datanode_2_1  | STARTUP_MSG:   args = []
datanode_2_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_2_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_2_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_2_1  | STARTUP_MSG:   java = 11.0.10
datanode_2_1  | ************************************************************/
datanode_2_1  | 2021-06-29 13:21:55,666 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_2_1  | 2021-06-29 13:21:58,127 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_2_1  | 2021-06-29 13:21:58,774 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_2_1  | 2021-06-29 13:21:59,832 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_2_1  | 2021-06-29 13:21:59,836 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_2_1  | 2021-06-29 13:22:00,546 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:e0e286044653 ip:10.5.0.5
datanode_2_1  | 2021-06-29 13:22:04,353 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_2_1  | 2021-06-29 13:22:04,398 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_2_1  | 2021-06-29 13:22:04,458 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_2_1  | 2021-06-29 13:22:04,492 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:22:04,856 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:22:05,166 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_2_1  | 2021-06-29 13:22:05,214 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
datanode_2_1  | 2021-06-29 13:22:05,214 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_2_1  | 2021-06-29 13:22:05,612 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_2_1  | 2021-06-29 13:22:05,658 [Thread-7] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:22:05,661 [Thread-7] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:22:05,663 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_2_1  | 2021-06-29 13:22:16,778 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_2_1  | 2021-06-29 13:22:17,261 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_2_1  | 2021-06-29 13:22:17,817 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_2_1  | 2021-06-29 13:22:17,859 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_2_1  | 2021-06-29 13:22:17,871 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_2_1  | 2021-06-29 13:22:17,875 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_2_1  | 2021-06-29 13:22:17,899 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:22:17,907 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_2_1  | 2021-06-29 13:22:17,911 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_2_1  | 2021-06-29 13:22:20,903 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_2_1  | 2021-06-29 13:22:20,911 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:20,911 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:22:21,056 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:22:22,493 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_2_1  | 2021-06-29 13:22:22,688 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_2_1  | 2021-06-29 13:22:22,941 [main] INFO util.log: Logging initialized @32770ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_2_1  | 2021-06-29 13:22:24,154 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_2_1  | 2021-06-29 13:22:24,191 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_2_1  | 2021-06-29 13:22:24,266 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_2_1  | 2021-06-29 13:22:24,281 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_2_1  | 2021-06-29 13:22:24,303 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_2_1  | 2021-06-29 13:22:24,304 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_2_1  | 2021-06-29 13:22:24,719 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_2_1  | 2021-06-29 13:22:24,764 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_2_1  | 2021-06-29 13:22:24,785 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_2_1  | 2021-06-29 13:22:25,046 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_2_1  | 2021-06-29 13:22:25,046 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_2_1  | 2021-06-29 13:22:25,077 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_2_1  | 2021-06-29 13:22:25,214 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@785d6a98{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_2_1  | 2021-06-29 13:22:25,227 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@1ba7db2a{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_2_1  | 2021-06-29 13:22:26,190 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@25e796fe{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-17966643066255828739/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_2_1  | 2021-06-29 13:22:26,260 [main] INFO server.AbstractConnector: Started ServerConnector@51468039{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_2_1  | 2021-06-29 13:22:26,261 [main] INFO server.Server: Started @36089ms
datanode_1_1  | Enabled profiling in kernel
datanode_1_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_1_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_1_1  | 2021-06-29 13:22:01,917 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_1_1  | /************************************************************
datanode_1_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_1_1  | STARTUP_MSG:   host = 5b184bd580b3/10.5.0.4
datanode_1_1  | STARTUP_MSG:   args = []
datanode_1_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_2_1  | 2021-06-29 13:22:26,290 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_2_1  | 2021-06-29 13:22:26,290 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_2_1  | 2021-06-29 13:22:26,295 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_2_1  | 2021-06-29 13:22:26,495 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6a1fbd6d] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_2_1  | 2021-06-29 13:22:27,697 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_2_1  | 2021-06-29 13:22:30,107 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:31,108 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:32,109 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:33,109 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:34,111 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:35,112 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 5 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:36,112 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 6 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_2_1  | 2021-06-29 13:22:37,098 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_2_1  | 2021-06-29 13:22:37,112 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_2_1  | 2021-06-29 13:22:37,482 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:37,663 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start RPC server
datanode_2_1  | 2021-06-29 13:22:37,710 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: GrpcService started, listening on 9856
datanode_2_1  | 2021-06-29 13:22:37,724 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: GrpcService started, listening on 9857
datanode_2_1  | 2021-06-29 13:22:37,727 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: GrpcService started, listening on 9858
datanode_2_1  | 2021-06-29 13:22:37,751 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf is started using port 9858 for RATIS
datanode_2_1  | 2021-06-29 13:22:37,751 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf is started using port 9857 for RATIS_ADMIN
datanode_2_1  | 2021-06-29 13:22:37,756 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/0x0000000840492040@27ad1670] INFO util.JvmPauseMonitor: JvmPauseMonitor-7cde1fe5-f110-4ac5-8a71-921fbb989fcf: Started
datanode_2_1  | 2021-06-29 13:22:37,756 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf is started using port 9856 for RATIS_SERVER
datanode_2_1  | 2021-06-29 13:22:41,439 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/0x0000000840492040@27ad1670] WARN util.JvmPauseMonitor: JvmPauseMonitor-7cde1fe5-f110-4ac5-8a71-921fbb989fcf: Detected pause in JVM or host machine (eg GC): pause of approximately 133553318ns.
datanode_2_1  | GC pool 'ParNew' had collection(s): count=1 time=165ms
datanode_2_1  | 2021-06-29 13:22:41,862 [Command processor thread] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: addNew group-3FE17345405C:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1] returns group-3FE17345405C:java.util.concurrent.CompletableFuture@21080a06[Not completed]
datanode_2_1  | 2021-06-29 13:22:42,139 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: new RaftServerImpl for group-3FE17345405C:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_2_1  | 2021-06-29 13:22:42,140 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2_1  | 2021-06-29 13:22:42,149 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2_1  | 2021-06-29 13:22:42,149 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2_1  | 2021-06-29 13:22:42,149 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:42,155 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:22:42,155 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_2_1  | 2021-06-29 13:22:42,157 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:22:42,180 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_2_1  | 2021-06-29 13:22:42,195 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:22:42,219 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2_1  | 2021-06-29 13:22:42,220 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c does not exist. Creating ...
datanode_2_1  | 2021-06-29 13:22:42,262 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/in_use.lock acquired by nodename 7@e0e286044653
datanode_2_1  | 2021-06-29 13:22:42,297 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c has been successfully formatted.
datanode_2_1  | 2021-06-29 13:22:42,392 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-3FE17345405C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2_1  | 2021-06-29 13:22:42,400 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:42,405 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2_1  | 2021-06-29 13:22:42,519 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2_1  | 2021-06-29 13:22:42,524 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:22:42,610 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:22:42,699 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:42,763 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2_1  | 2021-06-29 13:22:42,768 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_2_1  | 2021-06-29 13:22:42,807 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_2_1  | 2021-06-29 13:22:42,810 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2_1  | 2021-06-29 13:22:42,815 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:22:42,819 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:42,831 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2_1  | 2021-06-29 13:22:42,835 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2_1  | 2021-06-29 13:22:42,842 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2_1  | 2021-06-29 13:22:42,843 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2_1  | 2021-06-29 13:22:42,846 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2_1  | 2021-06-29 13:22:42,976 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:42,977 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:22:43,022 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:22:43,022 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:22:43,064 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:22:43,071 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2_1  | 2021-06-29 13:22:43,085 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2_1  | 2021-06-29 13:22:43,124 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2_1  | 2021-06-29 13:22:43,134 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2_1  | 2021-06-29 13:22:43,134 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_2_1  | 2021-06-29 13:22:43,314 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:22:43,375 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:22:43,416 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_2_1  | 2021-06-29 13:22:43,417 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_2_1  | 2021-06-29 13:22:43,418 [pool-22-thread-1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState
datanode_2_1  | 2021-06-29 13:22:43,480 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3FE17345405C,id=7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:43,482 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:22:43,619 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c
datanode_2_1  | 2021-06-29 13:22:43,989 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-450F3EED8FBE->8234872e-ae3b-48df-b771-2dd228a42719
datanode_2_1  | 2021-06-29 13:22:47,400 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-FC7FD30D4345->e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_2_1  | 2021-06-29 13:22:47,951 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c.
datanode_2_1  | 2021-06-29 13:22:47,953 [Command processor thread] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: addNew group-F2D82F52F507:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:0] returns group-F2D82F52F507:java.util.concurrent.CompletableFuture@1ea458d0[Not completed]
datanode_2_1  | 2021-06-29 13:22:47,954 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: new RaftServerImpl for group-F2D82F52F507:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:0] with ContainerStateMachine:uninitialized
datanode_2_1  | 2021-06-29 13:22:47,960 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:0], old=null, confs=<EMPTY_MAP>
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2_1  | 2021-06-29 13:22:47,961 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507 does not exist. Creating ...
datanode_2_1  | 2021-06-29 13:22:47,973 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/in_use.lock acquired by nodename 7@e0e286044653
datanode_2_1  | 2021-06-29 13:22:47,975 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507 has been successfully formatted.
datanode_2_1  | 2021-06-29 13:22:47,984 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-F2D82F52F507: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2_1  | 2021-06-29 13:22:47,984 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:47,987 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2_1  | 2021-06-29 13:22:47,988 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2_1  | 2021-06-29 13:22:47,988 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:22:47,989 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:22:47,990 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:47,991 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2_1  | 2021-06-29 13:22:47,993 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_2_1  | 2021-06-29 13:22:47,994 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_2_1  | 2021-06-29 13:22:47,995 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2_1  | 2021-06-29 13:22:47,996 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:22:47,996 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:47,999 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2_1  | 2021-06-29 13:22:48,000 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2_1  | 2021-06-29 13:22:48,001 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2_1  | 2021-06-29 13:22:48,001 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2_1  | 2021-06-29 13:22:48,003 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2_1  | 2021-06-29 13:22:48,005 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:48,012 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:22:48,016 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:22:48,019 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:22:48,020 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:22:48,021 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2_1  | 2021-06-29 13:22:48,027 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2_1  | 2021-06-29 13:22:48,027 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2_1  | 2021-06-29 13:22:48,027 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2_1  | 2021-06-29 13:22:48,028 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_2_1  | 2021-06-29 13:22:48,028 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:22:48,029 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_1_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_1_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_1_1  | STARTUP_MSG:   java = 11.0.10
datanode_1_1  | ************************************************************/
datanode_1_1  | 2021-06-29 13:22:02,027 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_1_1  | 2021-06-29 13:22:04,223 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_1_1  | 2021-06-29 13:22:04,983 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_1_1  | 2021-06-29 13:22:06,040 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_1_1  | 2021-06-29 13:22:06,055 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_1_1  | 2021-06-29 13:22:06,816 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:5b184bd580b3 ip:10.5.0.4
datanode_1_1  | 2021-06-29 13:22:10,426 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_1_1  | 2021-06-29 13:22:10,513 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_1_1  | 2021-06-29 13:22:10,517 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_1_1  | 2021-06-29 13:22:10,604 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:22:10,874 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:22:11,164 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_1_1  | 2021-06-29 13:22:11,179 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
datanode_1_1  | 2021-06-29 13:22:11,245 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_1_1  | 2021-06-29 13:22:11,697 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_1_1  | 2021-06-29 13:22:11,720 [Thread-7] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:22:11,721 [Thread-7] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:22:11,721 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_1_1  | 2021-06-29 13:22:22,196 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_1_1  | 2021-06-29 13:22:22,798 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_1_1  | 2021-06-29 13:22:23,695 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_1_1  | 2021-06-29 13:22:23,711 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_1_1  | 2021-06-29 13:22:23,716 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_1_1  | 2021-06-29 13:22:23,722 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_1_1  | 2021-06-29 13:22:23,737 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:22:23,738 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_1_1  | 2021-06-29 13:22:23,751 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_1_1  | 2021-06-29 13:22:26,093 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_1_1  | 2021-06-29 13:22:26,115 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:22:26,128 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:22:26,211 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:22:27,382 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_1_1  | 2021-06-29 13:22:27,580 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_1_1  | 2021-06-29 13:22:27,900 [main] INFO util.log: Logging initialized @34155ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_1_1  | 2021-06-29 13:22:28,747 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_1_1  | 2021-06-29 13:22:28,792 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_1_1  | 2021-06-29 13:22:28,871 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_1_1  | 2021-06-29 13:22:28,873 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_1_1  | 2021-06-29 13:22:28,880 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_1_1  | 2021-06-29 13:22:28,880 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_1_1  | 2021-06-29 13:22:29,177 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_1_1  | 2021-06-29 13:22:29,210 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_1_1  | 2021-06-29 13:22:29,224 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_1_1  | 2021-06-29 13:22:29,484 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_1_1  | 2021-06-29 13:22:29,484 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_1_1  | 2021-06-29 13:22:29,519 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_1_1  | 2021-06-29 13:22:29,614 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@60a99f3d{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_1_1  | 2021-06-29 13:22:29,621 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@537451d5{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_1_1  | 2021-06-29 13:22:30,222 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@511d568f{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-11210945168379005367/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_1_1  | 2021-06-29 13:22:30,296 [main] INFO server.AbstractConnector: Started ServerConnector@4888425d{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_1_1  | 2021-06-29 13:22:30,296 [main] INFO server.Server: Started @36551ms
datanode_1_1  | 2021-06-29 13:22:30,314 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_1_1  | 2021-06-29 13:22:30,314 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_2_1  | 2021-06-29 13:22:48,036 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:0], old=null
datanode_2_1  | 2021-06-29 13:22:48,039 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_2_1  | 2021-06-29 13:22:48,039 [pool-22-thread-1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState
datanode_2_1  | 2021-06-29 13:22:48,056 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2D82F52F507,id=7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:48,057 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:22:48,088 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=2970c030-f85a-428b-adcb-f2d82f52f507
datanode_2_1  | 2021-06-29 13:22:48,109 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-C5502EB32E01->e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_2_1  | 2021-06-29 13:22:48,575 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO impl.FollowerState: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5152651406ns, electionTimeout:5106ms
datanode_2_1  | 2021-06-29 13:22:48,575 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState
datanode_2_1  | 2021-06-29 13:22:48,588 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_2_1  | 2021-06-29 13:22:48,593 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_2_1  | 2021-06-29 13:22:48,598 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1
datanode_2_1  | 2021-06-29 13:22:48,623 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_2_1  | 2021-06-29 13:22:48,716 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-850BE82E07FD->8234872e-ae3b-48df-b771-2dd228a42719
datanode_2_1  | 2021-06-29 13:22:49,050 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:49,121 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=2970c030-f85a-428b-adcb-f2d82f52f507.
datanode_2_1  | 2021-06-29 13:22:49,128 [Command processor thread] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: addNew group-FE1988833322:[7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1] returns group-FE1988833322:java.util.concurrent.CompletableFuture@3e1b6f74[Not completed]
datanode_2_1  | 2021-06-29 13:22:49,131 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: new RaftServerImpl for group-FE1988833322:[7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_2_1  | 2021-06-29 13:22:49,154 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2_1  | 2021-06-29 13:22:49,155 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2_1  | 2021-06-29 13:22:49,155 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2_1  | 2021-06-29 13:22:49,156 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:49,156 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:22:49,157 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_2_1  | 2021-06-29 13:22:49,158 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:22:49,158 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: ConfigurationManager, init=-1: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_2_1  | 2021-06-29 13:22:49,158 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:22:49,159 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2_1  | 2021-06-29 13:22:49,160 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322 does not exist. Creating ...
datanode_2_1  | 2021-06-29 13:22:49,173 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: receive requestVote(ELECTION, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, group-3FE17345405C, 1, (t:0, i:0))
datanode_2_1  | 2021-06-29 13:22:49,296 [grpc-default-executor-0] INFO impl.VoteContext: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-CANDIDATE: reject ELECTION from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: already has voted for 7cde1fe5-f110-4ac5-8a71-921fbb989fcf at current term 1
datanode_2_1  | 2021-06-29 13:22:49,330 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/in_use.lock acquired by nodename 7@e0e286044653
datanode_2_1  | 2021-06-29 13:22:49,344 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322 has been successfully formatted.
datanode_2_1  | 2021-06-29 13:22:49,353 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-FE1988833322: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2_1  | 2021-06-29 13:22:49,357 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:22:49,358 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2_1  | 2021-06-29 13:22:49,371 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2_1  | 2021-06-29 13:22:49,371 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:22:49,372 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:22:49,373 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:30,323 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_1_1  | 2021-06-29 13:22:30,400 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6a1fbd6d] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_1_1  | 2021-06-29 13:22:31,612 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_1_1  | 2021-06-29 13:22:33,887 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1_1  | 2021-06-29 13:22:34,888 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1_1  | 2021-06-29 13:22:35,890 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_1_1  | 2021-06-29 13:22:36,516 [Datanode State Machine Thread - 0] ERROR datanode.RunningDatanodeState: Error in executing end point task.
datanode_1_1  | java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
datanode_1_1  | 	at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)
datanode_1_1  | 	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:629)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:244)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:429)
datanode_1_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_1_1  | Caused by: java.util.concurrent.TimeoutException
datanode_1_1  | 	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:204)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
datanode_1_1  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_1_1  | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
datanode_1_1  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_1_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_1_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_1_1  | 	... 1 more
datanode_1_1  | 2021-06-29 13:22:36,844 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_1_1  | 2021-06-29 13:22:36,848 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_1_1  | 2021-06-29 13:22:37,304 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:22:37,386 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: start RPC server
datanode_1_1  | 2021-06-29 13:22:37,409 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 8234872e-ae3b-48df-b771-2dd228a42719: GrpcService started, listening on 9856
datanode_1_1  | 2021-06-29 13:22:37,410 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 8234872e-ae3b-48df-b771-2dd228a42719: GrpcService started, listening on 9857
datanode_1_1  | 2021-06-29 13:22:37,411 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 8234872e-ae3b-48df-b771-2dd228a42719: GrpcService started, listening on 9858
datanode_1_1  | 2021-06-29 13:22:37,437 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719 is started using port 9858 for RATIS
datanode_1_1  | 2021-06-29 13:22:37,437 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719 is started using port 9857 for RATIS_ADMIN
datanode_1_1  | 2021-06-29 13:22:37,437 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719 is started using port 9856 for RATIS_SERVER
datanode_1_1  | 2021-06-29 13:22:37,437 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/0x0000000840492040@5dc202a7] INFO util.JvmPauseMonitor: JvmPauseMonitor-8234872e-ae3b-48df-b771-2dd228a42719: Started
datanode_1_1  | 2021-06-29 13:22:46,523 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:22:46,537 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:22:46,880 [grpc-default-executor-0] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: addNew group-3FE17345405C:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1] returns group-3FE17345405C:java.util.concurrent.CompletableFuture@781ede17[Not completed]
datanode_1_1  | 2021-06-29 13:22:47,081 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719: new RaftServerImpl for group-3FE17345405C:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1] with ContainerStateMachine:uninitialized
datanode_1_1  | 2021-06-29 13:22:47,113 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1_1  | 2021-06-29 13:22:47,123 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1_1  | 2021-06-29 13:22:47,123 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1_1  | 2021-06-29 13:22:47,123 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:22:47,123 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:22:47,124 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_1_1  | 2021-06-29 13:22:47,124 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1_1  | 2021-06-29 13:22:47,183 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null, confs=<EMPTY_MAP>
datanode_1_1  | 2021-06-29 13:22:47,234 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:22:47,259 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1_1  | 2021-06-29 13:22:47,278 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c does not exist. Creating ...
datanode_1_1  | 2021-06-29 13:22:47,345 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/in_use.lock acquired by nodename 7@5b184bd580b3
datanode_1_1  | 2021-06-29 13:22:47,548 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c has been successfully formatted.
datanode_1_1  | 2021-06-29 13:22:47,627 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-3FE17345405C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1_1  | 2021-06-29 13:22:47,628 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:22:47,630 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 2021-06-29 13:22:47,727 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1_1  | 2021-06-29 13:22:47,727 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:22:47,729 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:22:47,749 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:47,807 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1_1  | 2021-06-29 13:22:47,807 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_1_1  | 2021-06-29 13:22:47,854 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_1_1  | 2021-06-29 13:22:47,860 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1_1  | 2021-06-29 13:22:47,863 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:22:47,864 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:47,874 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1_1  | 2021-06-29 13:22:47,885 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1_1  | 2021-06-29 13:22:47,886 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1_1  | 2021-06-29 13:22:47,886 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1_1  | 2021-06-29 13:22:47,921 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1_1  | 2021-06-29 13:22:47,999 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:48,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:22:48,086 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:22:48,086 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:22:48,117 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:22:48,133 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 2021-06-29 13:22:48,134 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 2021-06-29 13:22:48,134 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:22:48,173 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:22:48,173 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:22:48,327 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:22:48,357 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:22:48,425 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:22:48,443 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_1_1  | 2021-06-29 13:22:48,456 [pool-22-thread-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_1_1  | 2021-06-29 13:22:48,495 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3FE17345405C,id=8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:22:48,496 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:22:48,699 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: receive requestVote(ELECTION, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, group-3FE17345405C, 1, (t:0, i:0))
datanode_1_1  | 2021-06-29 13:22:48,742 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FOLLOWER: accept ELECTION from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: our priority 0 <= candidate's priority 1
datanode_2_1  | 2021-06-29 13:22:49,377 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2_1  | 2021-06-29 13:22:49,382 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_2_1  | 2021-06-29 13:22:49,384 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322
datanode_2_1  | 2021-06-29 13:22:49,396 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2_1  | 2021-06-29 13:22:49,396 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C replies to ELECTION vote request: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-7cde1fe5-f110-4ac5-8a71-921fbb989fcf#0:FAIL-t1. Peer's state: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C:t1, leader=null, voted=7cde1fe5-f110-4ac5-8a71-921fbb989fcf, raftlog=7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_2_1  | 2021-06-29 13:22:49,404 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:22:49,406 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:49,406 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2_1  | 2021-06-29 13:22:49,407 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2_1  | 2021-06-29 13:22:49,407 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2_1  | 2021-06-29 13:22:49,408 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2_1  | 2021-06-29 13:22:49,409 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2_1  | 2021-06-29 13:22:49,413 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:22:49,429 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:22:49,440 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:22:49,449 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:22:49,497 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:22:49,497 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2_1  | 2021-06-29 13:22:49,497 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2_1  | 2021-06-29 13:22:49,498 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2_1  | 2021-06-29 13:22:49,498 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2_1  | 2021-06-29 13:22:49,498 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_2_1  | 2021-06-29 13:22:49,498 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:22:49,499 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:22:49,500 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: start as a follower, conf=-1: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1], old=null
datanode_2_1  | 2021-06-29 13:22:49,506 [pool-22-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_2_1  | 2021-06-29 13:22:49,506 [pool-22-thread-1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState
datanode_2_1  | 2021-06-29 13:22:49,553 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE1988833322,id=7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:49,554 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:22:49,594 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=dfdd0685-e751-48ba-b9d2-fe1988833322
datanode_2_1  | 2021-06-29 13:22:49,607 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=dfdd0685-e751-48ba-b9d2-fe1988833322.
datanode_2_1  | 2021-06-29 13:22:50,245 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
datanode_2_1  | 2021-06-29 13:22:50,245 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection:   Response 0: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t1
datanode_2_1  | 2021-06-29 13:22:50,245 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection:   Response 1: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4#0:FAIL-t1
datanode_2_1  | 2021-06-29 13:22:50,246 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1 ELECTION round 0: result REJECTED
datanode_2_1  | 2021-06-29 13:22:50,247 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
datanode_2_1  | 2021-06-29 13:22:50,247 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1
datanode_2_1  | 2021-06-29 13:22:50,251 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState
datanode_2_1  | 2021-06-29 13:22:50,310 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-3FE17345405C with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:22:48,745 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:22:48,774 [grpc-default-executor-0] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: addNew group-F2D82F52F507:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0] returns group-F2D82F52F507:java.util.concurrent.CompletableFuture@10365d53[Not completed]
datanode_1_1  | 2021-06-29 13:22:48,775 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719: new RaftServerImpl for group-F2D82F52F507:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
datanode_1_1  | 2021-06-29 13:22:48,777 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_1_1  | 2021-06-29 13:22:48,796 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1_1  | 2021-06-29 13:22:48,799 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState was interrupted: {}
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_1_1  | 2021-06-29 13:22:48,823 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1_1  | 2021-06-29 13:22:48,824 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1_1  | 2021-06-29 13:22:48,824 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:22:48,824 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_1_1  | 2021-06-29 13:22:48,824 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:22:48,836 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_1_1  | 2021-06-29 13:22:48,841 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1_1  | 2021-06-29 13:22:48,843 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
datanode_1_1  | 2021-06-29 13:22:48,843 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:22:48,843 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1_1  | 2021-06-29 13:22:48,843 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507 does not exist. Creating ...
datanode_1_1  | 2021-06-29 13:22:48,845 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/in_use.lock acquired by nodename 7@5b184bd580b3
datanode_1_1  | 2021-06-29 13:22:48,853 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507 has been successfully formatted.
datanode_1_1  | 2021-06-29 13:22:48,863 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-F2D82F52F507: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1_1  | 2021-06-29 13:22:48,868 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:22:48,868 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 2021-06-29 13:22:48,869 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1_1  | 2021-06-29 13:22:48,870 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:22:48,870 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:22:48,873 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:48,875 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1_1  | 2021-06-29 13:22:48,875 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_1_1  | 2021-06-29 13:22:48,880 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_1_1  | 2021-06-29 13:22:48,880 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1_1  | 2021-06-29 13:22:48,883 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:22:48,883 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:48,884 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1_1  | 2021-06-29 13:22:48,884 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1_1  | 2021-06-29 13:22:48,885 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1_1  | 2021-06-29 13:22:48,885 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1_1  | 2021-06-29 13:22:48,885 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1_1  | 2021-06-29 13:22:48,886 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:22:48,928 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_3_1  | Enabled profiling in kernel
datanode_3_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_3_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_3_1  | 2021-06-29 13:22:02,432 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_3_1  | /************************************************************
datanode_3_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_3_1  | STARTUP_MSG:   host = a217807dff76/10.5.0.6
datanode_3_1  | STARTUP_MSG:   args = []
datanode_3_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_3_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_3_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_3_1  | STARTUP_MSG:   java = 11.0.10
datanode_3_1  | ************************************************************/
datanode_3_1  | 2021-06-29 13:22:02,523 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_3_1  | 2021-06-29 13:22:04,624 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_3_1  | 2021-06-29 13:22:05,409 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_3_1  | 2021-06-29 13:22:06,427 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_3_1  | 2021-06-29 13:22:06,448 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_3_1  | 2021-06-29 13:22:07,237 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:a217807dff76 ip:10.5.0.6
datanode_3_1  | 2021-06-29 13:22:11,372 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_3_1  | 2021-06-29 13:22:11,404 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_3_1  | 2021-06-29 13:22:11,452 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_3_1  | 2021-06-29 13:22:11,512 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_3_1  | 2021-06-29 13:22:11,875 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_3_1  | 2021-06-29 13:22:12,158 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_3_1  | 2021-06-29 13:22:12,182 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
datanode_3_1  | 2021-06-29 13:22:12,202 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_3_1  | 2021-06-29 13:22:12,671 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_3_1  | 2021-06-29 13:22:12,676 [Thread-7] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_3_1  | 2021-06-29 13:22:12,683 [Thread-7] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_3_1  | 2021-06-29 13:22:12,687 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_3_1  | 2021-06-29 13:22:22,732 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_3_1  | 2021-06-29 13:22:23,169 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_3_1  | 2021-06-29 13:22:23,621 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_3_1  | 2021-06-29 13:22:23,637 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_3_1  | 2021-06-29 13:22:23,643 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_3_1  | 2021-06-29 13:22:23,647 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_3_1  | 2021-06-29 13:22:23,659 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:22:23,660 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_3_1  | 2021-06-29 13:22:23,660 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3_1  | 2021-06-29 13:22:26,008 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_3_1  | 2021-06-29 13:22:26,019 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:26,039 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_3_1  | 2021-06-29 13:22:26,160 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3_1  | 2021-06-29 13:22:27,650 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_3_1  | 2021-06-29 13:22:27,864 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_3_1  | 2021-06-29 13:22:28,073 [main] INFO util.log: Logging initialized @34075ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_3_1  | 2021-06-29 13:22:29,066 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_3_1  | 2021-06-29 13:22:29,090 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_3_1  | 2021-06-29 13:22:29,142 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_3_1  | 2021-06-29 13:22:29,160 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_3_1  | 2021-06-29 13:22:29,167 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_3_1  | 2021-06-29 13:22:29,167 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_3_1  | 2021-06-29 13:22:29,392 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_3_1  | 2021-06-29 13:22:29,429 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_3_1  | 2021-06-29 13:22:29,445 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_3_1  | 2021-06-29 13:22:29,671 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_3_1  | 2021-06-29 13:22:29,672 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_3_1  | 2021-06-29 13:22:29,707 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_3_1  | 2021-06-29 13:22:29,841 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@785d6a98{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_3_1  | 2021-06-29 13:22:29,871 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@1ba7db2a{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_3_1  | 2021-06-29 13:22:30,473 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@25e796fe{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-4239964503546668839/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_3_1  | 2021-06-29 13:22:30,522 [main] INFO server.AbstractConnector: Started ServerConnector@51468039{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_3_1  | 2021-06-29 13:22:30,531 [main] INFO server.Server: Started @36533ms
datanode_3_1  | 2021-06-29 13:22:30,541 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_3_1  | 2021-06-29 13:22:30,541 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_2_1  | 2021-06-29 13:22:50,310 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 1 for appendEntries, leader elected after 7909ms
datanode_2_1  | 2021-06-29 13:22:50,513 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:22:50,561 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker: Starting segment from index:0
datanode_2_1  | 2021-06-29 13:22:50,946 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0
datanode_2_1  | 2021-06-29 13:22:53,115 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5075622708ns, electionTimeout:5053ms
datanode_2_1  | 2021-06-29 13:22:53,116 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState
datanode_2_1  | 2021-06-29 13:22:53,116 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_2_1  | 2021-06-29 13:22:53,116 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_2_1  | 2021-06-29 13:22:53,116 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2
datanode_2_1  | 2021-06-29 13:22:53,122 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:0], old=null
datanode_2_1  | 2021-06-29 13:22:53,169 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
datanode_2_1  | 2021-06-29 13:22:53,169 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO impl.LeaderElection:   Response 0: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4#0:OK-t1
datanode_2_1  | 2021-06-29 13:22:53,169 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2 ELECTION round 0: result PASSED
datanode_2_1  | 2021-06-29 13:22:53,170 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2
datanode_2_1  | 2021-06-29 13:22:53,170 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_2_1  | 2021-06-29 13:22:53,170 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-F2D82F52F507 with new leaderId: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:53,170 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: change Leader from null to 7cde1fe5-f110-4ac5-8a71-921fbb989fcf at term 1 for becomeLeader, leader elected after 5185ms
datanode_2_1  | 2021-06-29 13:22:53,185 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_2_1  | 2021-06-29 13:22:53,188 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:22:53,202 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:22:53,208 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_2_1  | 2021-06-29 13:22:53,217 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_2_1  | 2021-06-29 13:22:53,218 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_2_1  | 2021-06-29 13:22:53,218 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_2_1  | 2021-06-29 13:22:53,252 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_2_1  | 2021-06-29 13:22:53,253 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:22:53,253 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_2_1  | 2021-06-29 13:22:53,258 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_2_1  | 2021-06-29 13:22:53,258 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_2_1  | 2021-06-29 13:22:53,259 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:22:53,260 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:22:53,266 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_2_1  | 2021-06-29 13:22:53,266 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:22:53,268 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_2_1  | 2021-06-29 13:22:53,269 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_2_1  | 2021-06-29 13:22:53,270 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_2_1  | 2021-06-29 13:22:53,270 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:22:53,273 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderStateImpl
datanode_2_1  | 2021-06-29 13:22:53,279 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker: Starting segment from index:0
datanode_2_1  | 2021-06-29 13:22:53,282 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0
datanode_2_1  | 2021-06-29 13:22:53,313 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection2] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_2_1  | 2021-06-29 13:22:54,714 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO impl.FollowerState: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5207889094ns, electionTimeout:5161ms
datanode_2_1  | 2021-06-29 13:22:54,715 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState
datanode_2_1  | 2021-06-29 13:22:54,715 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_2_1  | 2021-06-29 13:22:54,715 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_2_1  | 2021-06-29 13:22:54,715 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3
datanode_2_1  | 2021-06-29 13:22:54,721 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:1], old=null
datanode_2_1  | 2021-06-29 13:22:54,723 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3 ELECTION round 0: result PASSED (term=1)
datanode_2_1  | 2021-06-29 13:22:54,723 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3
datanode_2_1  | 2021-06-29 13:22:54,724 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_2_1  | 2021-06-29 13:22:54,724 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-FE1988833322 with new leaderId: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:22:54,727 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: change Leader from null to 7cde1fe5-f110-4ac5-8a71-921fbb989fcf at term 1 for becomeLeader, leader elected after 5367ms
datanode_2_1  | 2021-06-29 13:22:54,735 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_2_1  | 2021-06-29 13:22:54,736 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:22:54,739 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:22:54,739 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_2_1  | 2021-06-29 13:22:54,740 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_2_1  | 2021-06-29 13:22:54,741 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_2_1  | 2021-06-29 13:22:54,743 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_2_1  | 2021-06-29 13:22:54,743 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderStateImpl
datanode_2_1  | 2021-06-29 13:22:54,744 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: Starting segment from index:0
datanode_2_1  | 2021-06-29 13:22:54,754 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/current/log_inprogress_0
datanode_2_1  | 2021-06-29 13:22:54,765 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection3] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: set configuration 0: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:24:40,092 [SIGTERM handler] ERROR ozone.HddsDatanodeService: RECEIVED SIGNAL 15: SIGTERM
datanode_2_1  | 2021-06-29 13:24:40,143 [shutdown-hook-0] INFO ozone.HddsDatanodeService: SHUTDOWN_MSG: 
datanode_2_1  | /************************************************************
datanode_2_1  | SHUTDOWN_MSG: Shutting down HddsDatanodeService at e0e286044653/10.5.0.5
datanode_2_1  | ************************************************************/
datanode_2_1  | Enabled profiling in kernel
datanode_2_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_2_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_2_1  | 2021-06-29 13:25:47,602 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_2_1  | /************************************************************
datanode_2_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_2_1  | STARTUP_MSG:   host = e0e286044653/10.5.0.5
datanode_2_1  | STARTUP_MSG:   args = []
datanode_2_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_5_1  | Enabled profiling in kernel
datanode_5_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_5_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_5_1  | 2021-06-29 13:22:04,883 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_5_1  | /************************************************************
datanode_5_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_5_1  | STARTUP_MSG:   host = 78242b036d99/10.5.0.8
datanode_5_1  | STARTUP_MSG:   args = []
datanode_5_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_5_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_5_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_5_1  | STARTUP_MSG:   java = 11.0.10
datanode_5_1  | ************************************************************/
datanode_5_1  | 2021-06-29 13:22:04,964 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_5_1  | 2021-06-29 13:22:07,171 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_5_1  | 2021-06-29 13:22:08,018 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_5_1  | 2021-06-29 13:22:09,107 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_5_1  | 2021-06-29 13:22:09,107 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_5_1  | 2021-06-29 13:22:09,740 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:78242b036d99 ip:10.5.0.8
datanode_5_1  | 2021-06-29 13:22:14,414 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_5_1  | 2021-06-29 13:22:14,519 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_5_1  | 2021-06-29 13:22:14,534 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_5_1  | 2021-06-29 13:22:14,606 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_5_1  | 2021-06-29 13:22:14,884 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_5_1  | 2021-06-29 13:22:15,171 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_5_1  | 2021-06-29 13:22:15,177 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
datanode_5_1  | 2021-06-29 13:22:15,191 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_5_1  | 2021-06-29 13:22:15,467 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_5_1  | 2021-06-29 13:22:15,513 [Thread-7] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_5_1  | 2021-06-29 13:22:15,531 [Thread-7] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_5_1  | 2021-06-29 13:22:15,531 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_5_1  | 2021-06-29 13:22:26,566 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_5_1  | 2021-06-29 13:22:26,997 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_5_1  | 2021-06-29 13:22:27,515 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_5_1  | 2021-06-29 13:22:27,516 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_5_1  | 2021-06-29 13:22:27,516 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_5_1  | 2021-06-29 13:22:27,517 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_5_1  | 2021-06-29 13:22:27,517 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:22:27,518 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_5_1  | 2021-06-29 13:22:27,518 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_5_1  | 2021-06-29 13:22:29,827 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_5_1  | 2021-06-29 13:22:29,829 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:22:29,837 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_5_1  | 2021-06-29 13:22:29,932 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_5_1  | 2021-06-29 13:22:30,773 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_5_1  | 2021-06-29 13:22:30,872 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_5_1  | 2021-06-29 13:22:31,062 [main] INFO util.log: Logging initialized @34333ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_5_1  | 2021-06-29 13:22:31,756 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_5_1  | 2021-06-29 13:22:31,778 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_5_1  | 2021-06-29 13:22:31,807 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_5_1  | 2021-06-29 13:22:31,819 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_5_1  | 2021-06-29 13:22:31,825 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_5_1  | 2021-06-29 13:22:31,831 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_5_1  | 2021-06-29 13:22:32,008 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_5_1  | 2021-06-29 13:22:32,048 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_5_1  | 2021-06-29 13:22:32,051 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_5_1  | 2021-06-29 13:22:32,240 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_5_1  | 2021-06-29 13:22:32,247 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_5_1  | 2021-06-29 13:22:32,249 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_5_1  | 2021-06-29 13:22:32,351 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@785d6a98{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_5_1  | 2021-06-29 13:22:32,351 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@1ba7db2a{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_5_1  | 2021-06-29 13:22:32,839 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@25e796fe{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-13518086797464345843/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_5_1  | 2021-06-29 13:22:32,871 [main] INFO server.AbstractConnector: Started ServerConnector@51468039{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_5_1  | 2021-06-29 13:22:32,871 [main] INFO server.Server: Started @36142ms
datanode_5_1  | 2021-06-29 13:22:32,879 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_5_1  | 2021-06-29 13:22:32,879 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_5_1  | 2021-06-29 13:22:32,886 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_5_1  | 2021-06-29 13:22:32,943 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4715a11e] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_5_1  | 2021-06-29 13:22:33,436 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_5_1  | 2021-06-29 13:22:36,095 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_5_1  | 2021-06-29 13:22:37,215 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_5_1  | 2021-06-29 13:22:37,219 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_5_1  | 2021-06-29 13:22:37,707 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:37,844 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start RPC server
datanode_5_1  | 2021-06-29 13:22:37,871 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: GrpcService started, listening on 9856
datanode_5_1  | 2021-06-29 13:22:37,872 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: GrpcService started, listening on 9857
datanode_5_1  | 2021-06-29 13:22:37,882 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: GrpcService started, listening on 9858
datanode_5_1  | 2021-06-29 13:22:37,889 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 is started using port 9858 for RATIS
datanode_5_1  | 2021-06-29 13:22:37,896 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 is started using port 9857 for RATIS_ADMIN
datanode_5_1  | 2021-06-29 13:22:37,896 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 is started using port 9856 for RATIS_SERVER
datanode_5_1  | 2021-06-29 13:22:37,908 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$297/0x0000000840492c40@3a2c0ed9] INFO util.JvmPauseMonitor: JvmPauseMonitor-e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: Started
datanode_5_1  | 2021-06-29 13:22:42,148 [Command processor thread] INFO server.RaftServer: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: addNew group-3FE17345405C:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1] returns group-3FE17345405C:java.util.concurrent.CompletableFuture@204d05f8[Not completed]
datanode_5_1  | 2021-06-29 13:22:42,283 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: new RaftServerImpl for group-3FE17345405C:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_5_1  | 2021-06-29 13:22:42,305 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_5_1  | 2021-06-29 13:22:42,311 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_5_1  | 2021-06-29 13:22:42,311 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_5_1  | 2021-06-29 13:22:42,311 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:22:42,311 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_5_1  | 2021-06-29 13:22:42,312 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_5_1  | 2021-06-29 13:22:42,312 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:22:42,317 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_5_1  | 2021-06-29 13:22:42,324 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_5_1  | 2021-06-29 13:22:42,354 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_5_1  | 2021-06-29 13:22:42,378 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c does not exist. Creating ...
datanode_5_1  | 2021-06-29 13:22:42,436 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/in_use.lock acquired by nodename 7@78242b036d99
datanode_1_1  | 2021-06-29 13:22:48,941 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:22:48,941 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:22:48,943 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:22:48,943 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 2021-06-29 13:22:48,944 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 2021-06-29 13:22:48,944 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:22:48,947 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:22:48,953 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:22:48,953 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:22:48,962 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:22:48,963 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:22:48,973 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_1_1  | 2021-06-29 13:22:48,983 [pool-22-thread-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:22:48,972 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C replies to ELECTION vote request: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t1. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C:t1, leader=null, voted=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:22:49,029 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2D82F52F507,id=8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:22:49,054 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:22:49,392 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-3FE17345405C, 1, (t:0, i:0))
datanode_1_1  | 2021-06-29 13:22:49,397 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FOLLOWER: reject ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: already has voted for e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at current term 1
datanode_1_1  | 2021-06-29 13:22:49,397 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t1. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C:t1, leader=null, voted=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:22:50,441 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-3FE17345405C with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:22:50,442 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 1 for appendEntries, leader elected after 2813ms
datanode_1_1  | 2021-06-29 13:22:50,512 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:22:50,556 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: Starting segment from index:0
datanode_1_1  | 2021-06-29 13:22:50,933 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0
datanode_1_1  | 2021-06-29 13:22:53,127 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-F2D82F52F507, 1, (t:0, i:0))
datanode_1_1  | 2021-06-29 13:22:53,127 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FOLLOWER: accept ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: our priority 0 <= candidate's priority 1
datanode_1_1  | 2021-06-29 13:22:53,127 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_1_1  | 2021-06-29 13:22:53,127 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:22:53,127 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState was interrupted: {}
datanode_5_1  | 2021-06-29 13:22:42,502 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c has been successfully formatted.
datanode_5_1  | 2021-06-29 13:22:42,536 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-3FE17345405C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_5_1  | 2021-06-29 13:22:42,540 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:22:42,585 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_5_1  | 2021-06-29 13:22:42,660 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_5_1  | 2021-06-29 13:22:42,676 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:22:42,729 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:22:42,772 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:42,839 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_5_1  | 2021-06-29 13:22:42,846 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_5_1  | 2021-06-29 13:22:42,877 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_1_1  | 2021-06-29 13:22:53,128 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:22:53,173 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507 replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t1. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507:t1, leader=null, voted=7cde1fe5-f110-4ac5-8a71-921fbb989fcf, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:22:53,348 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-F2D82F52F507 with new leaderId: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_1_1  | 2021-06-29 13:22:53,348 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: change Leader from null to 7cde1fe5-f110-4ac5-8a71-921fbb989fcf at term 1 for appendEntries, leader elected after 4480ms
datanode_1_1  | 2021-06-29 13:22:53,402 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:22:53,402 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: Starting segment from index:0
datanode_1_1  | 2021-06-29 13:22:53,404 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0
datanode_1_1  | 2021-06-29 13:23:11,519 [Command processor thread] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: addNew group-9832F6BAD3F4:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:1] returns group-9832F6BAD3F4:java.util.concurrent.CompletableFuture@12085387[Not completed]
datanode_1_1  | 2021-06-29 13:23:11,521 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719: new RaftServerImpl for group-9832F6BAD3F4:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_1_1  | 2021-06-29 13:23:11,522 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1_1  | 2021-06-29 13:23:11,524 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1_1  | 2021-06-29 13:23:11,524 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1_1  | 2021-06-29 13:23:11,525 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:23:11,525 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:23:11,525 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_1_1  | 2021-06-29 13:23:11,526 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1_1  | 2021-06-29 13:23:11,526 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_1_1  | 2021-06-29 13:23:11,526 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:23:11,529 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1_1  | 2021-06-29 13:23:11,530 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4 does not exist. Creating ...
datanode_1_1  | 2021-06-29 13:23:11,535 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/in_use.lock acquired by nodename 7@5b184bd580b3
datanode_1_1  | 2021-06-29 13:23:11,541 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4 has been successfully formatted.
datanode_1_1  | 2021-06-29 13:23:11,543 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-9832F6BAD3F4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1_1  | 2021-06-29 13:23:11,555 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:23:11,555 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 2021-06-29 13:23:11,555 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1_1  | 2021-06-29 13:23:11,555 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:23:11,555 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:23:11,556 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:23:11,556 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1_1  | 2021-06-29 13:23:11,556 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_1_1  | 2021-06-29 13:23:11,556 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4
datanode_1_1  | 2021-06-29 13:23:11,556 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1_1  | 2021-06-29 13:23:11,556 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:23:11,557 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:23:11,557 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1_1  | 2021-06-29 13:23:11,557 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1_1  | 2021-06-29 13:23:11,557 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1_1  | 2021-06-29 13:23:11,557 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1_1  | 2021-06-29 13:23:11,557 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1_1  | 2021-06-29 13:23:11,558 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:23:11,564 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:23:11,565 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:23:11,567 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:23:11,574 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:23:11,575 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 2021-06-29 13:23:11,575 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 2021-06-29 13:23:11,578 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:23:11,578 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:23:11,579 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:23:11,579 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:23:11,580 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:23:11,581 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:1], old=null
datanode_1_1  | 2021-06-29 13:23:11,588 [pool-22-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_1_1  | 2021-06-29 13:23:11,593 [pool-22-thread-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState
datanode_1_1  | 2021-06-29 13:23:11,599 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9832F6BAD3F4,id=8234872e-ae3b-48df-b771-2dd228a42719
datanode_2_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_2_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_2_1  | STARTUP_MSG:   java = 11.0.10
datanode_2_1  | ************************************************************/
datanode_2_1  | 2021-06-29 13:25:47,642 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_2_1  | 2021-06-29 13:25:49,162 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_2_1  | 2021-06-29 13:25:49,461 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_2_1  | 2021-06-29 13:25:49,890 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_2_1  | 2021-06-29 13:25:49,890 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_2_1  | 2021-06-29 13:25:50,757 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:e0e286044653 ip:10.5.0.5
datanode_2_1  | 2021-06-29 13:25:52,973 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 4096 at 2021-06-29T13:24:40.117Z
datanode_2_1  | 2021-06-29 13:25:53,055 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_2_1  | 2021-06-29 13:25:53,089 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_2_1  | 2021-06-29 13:25:53,110 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:25:53,339 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:25:53,474 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_2_1  | 2021-06-29 13:25:53,488 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/metadata/ratis/scmUsed: 4096 at 2021-06-29T13:24:40.142Z
datanode_2_1  | 2021-06-29 13:25:53,488 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_2_1  | 2021-06-29 13:25:53,538 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_2_1  | 2021-06-29 13:25:53,554 [Thread-5] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:25:54,215 [Thread-5] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:25:54,220 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_2_1  | 2021-06-29 13:26:00,831 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_2_1  | 2021-06-29 13:26:01,523 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_2_1  | 2021-06-29 13:26:02,019 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_2_1  | 2021-06-29 13:26:02,020 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_2_1  | 2021-06-29 13:26:02,020 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_2_1  | 2021-06-29 13:26:02,036 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_2_1  | 2021-06-29 13:26:02,043 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:26:02,047 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_2_1  | 2021-06-29 13:26:02,047 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_2_1  | 2021-06-29 13:26:02,944 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_2_1  | 2021-06-29 13:26:02,953 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:02,967 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:26:03,032 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:26:03,048 [main] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: found a subdirectory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_2_1  | 2021-06-29 13:26:03,095 [main] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: addNew group-F2D82F52F507:[] returns group-F2D82F52F507:java.util.concurrent.CompletableFuture@39e3ea78[Not completed]
datanode_2_1  | 2021-06-29 13:26:03,096 [main] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: found a subdirectory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_2_1  | 2021-06-29 13:26:03,096 [main] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: addNew group-3FE17345405C:[] returns group-3FE17345405C:java.util.concurrent.CompletableFuture@35e689a0[Not completed]
datanode_2_1  | 2021-06-29 13:26:03,096 [main] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: found a subdirectory /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322
datanode_2_1  | 2021-06-29 13:26:03,103 [main] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: addNew group-FE1988833322:[] returns group-FE1988833322:java.util.concurrent.CompletableFuture@43b6cb1c[Not completed]
datanode_2_1  | 2021-06-29 13:26:03,487 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: new RaftServerImpl for group-F2D82F52F507:[] with ContainerStateMachine:uninitialized
datanode_2_1  | 2021-06-29 13:26:03,527 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2_1  | 2021-06-29 13:26:03,545 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2_1  | 2021-06-29 13:26:03,545 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2_1  | 2021-06-29 13:26:03,545 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:03,546 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:26:03,546 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_2_1  | 2021-06-29 13:26:03,555 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:26:03,629 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_2_1  | 2021-06-29 13:26:03,629 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:26:03,634 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_5_1  | 2021-06-29 13:22:42,885 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_5_1  | 2021-06-29 13:22:42,891 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:22:42,893 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:42,894 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_5_1  | 2021-06-29 13:22:42,902 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_5_1  | 2021-06-29 13:22:42,908 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_5_1  | 2021-06-29 13:22:42,920 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_5_1  | 2021-06-29 13:22:42,923 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_5_1  | 2021-06-29 13:22:42,990 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:42,991 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:22:43,051 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:22:43,059 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:22:43,082 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:22:43,112 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_5_1  | 2021-06-29 13:22:43,115 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_5_1  | 2021-06-29 13:22:43,118 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_5_1  | 2021-06-29 13:22:43,119 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_5_1  | 2021-06-29 13:22:43,127 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_5_1  | 2021-06-29 13:22:43,269 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:22:43,287 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:22:43,315 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_5_1  | 2021-06-29 13:22:43,324 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_5_1  | 2021-06-29 13:22:43,325 [pool-22-thread-1] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_5_1  | 2021-06-29 13:22:43,357 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3FE17345405C,id=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:43,358 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:22:43,399 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c
datanode_5_1  | 2021-06-29 13:22:43,606 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-A154B1BA2BA6->8234872e-ae3b-48df-b771-2dd228a42719
datanode_5_1  | 2021-06-29 13:22:47,620 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:48,167 [grpc-default-executor-0] INFO server.RaftServer: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: addNew group-F2D82F52F507:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0] returns group-F2D82F52F507:java.util.concurrent.CompletableFuture@68660121[Not completed]
datanode_5_1  | 2021-06-29 13:22:48,169 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: new RaftServerImpl for group-F2D82F52F507:[8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
datanode_5_1  | 2021-06-29 13:22:48,170 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_5_1  | 2021-06-29 13:22:48,173 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_5_1  | 2021-06-29 13:22:48,173 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_5_1  | 2021-06-29 13:22:48,175 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:22:48,175 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_5_1  | 2021-06-29 13:22:48,176 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_5_1  | 2021-06-29 13:22:48,176 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:22:48,176 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: ConfigurationManager, init=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
datanode_5_1  | 2021-06-29 13:22:48,176 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_5_1  | 2021-06-29 13:22:48,177 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_4_1  | Enabled profiling in kernel
datanode_4_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_4_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_4_1  | 2021-06-29 13:21:58,502 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_4_1  | /************************************************************
datanode_4_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_4_1  | STARTUP_MSG:   host = e28b31ca8462/10.5.0.7
datanode_4_1  | STARTUP_MSG:   args = []
datanode_4_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_5_1  | 2021-06-29 13:22:48,177 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507 does not exist. Creating ...
datanode_5_1  | 2021-06-29 13:22:48,197 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/in_use.lock acquired by nodename 7@78242b036d99
datanode_5_1  | 2021-06-29 13:22:48,213 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507 has been successfully formatted.
datanode_5_1  | 2021-06-29 13:22:48,214 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-F2D82F52F507: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_5_1  | 2021-06-29 13:22:48,219 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:22:48,219 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_5_1  | 2021-06-29 13:22:48,219 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_5_1  | 2021-06-29 13:22:48,220 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:22:48,220 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507
datanode_5_1  | 2021-06-29 13:22:48,220 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:48,221 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_5_1  | 2021-06-29 13:22:48,221 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_5_1  | 2021-06-29 13:22:48,222 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_5_1  | 2021-06-29 13:22:48,222 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_5_1  | 2021-06-29 13:22:48,224 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:22:48,224 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:48,224 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_5_1  | 2021-06-29 13:22:48,224 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_5_1  | 2021-06-29 13:22:48,224 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_5_1  | 2021-06-29 13:22:48,225 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_5_1  | 2021-06-29 13:22:48,225 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_5_1  | 2021-06-29 13:22:48,226 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:48,227 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:22:48,255 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:22:48,256 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:22:48,265 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:22:48,266 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_5_1  | 2021-06-29 13:22:48,266 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_5_1  | 2021-06-29 13:22:48,266 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_5_1  | 2021-06-29 13:22:48,267 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_5_1  | 2021-06-29 13:22:48,276 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_5_1  | 2021-06-29 13:22:48,276 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507
datanode_5_1  | 2021-06-29 13:22:48,277 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507
datanode_5_1  | 2021-06-29 13:22:48,278 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: start as a follower, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:22:48,278 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_5_1  | 2021-06-29 13:22:48,290 [pool-22-thread-1] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:22:48,291 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2D82F52F507,id=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:48,293 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507
datanode_5_1  | 2021-06-29 13:22:48,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5034136341ns, electionTimeout:5001ms
datanode_5_1  | 2021-06-29 13:22:48,380 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_5_1  | 2021-06-29 13:22:48,383 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_5_1  | 2021-06-29 13:22:48,391 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:22:48,397 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1
datanode_3_1  | 2021-06-29 13:22:30,546 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_3_1  | 2021-06-29 13:22:30,628 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4d8cc933] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_3_1  | 2021-06-29 13:22:31,964 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_3_1  | 2021-06-29 13:22:34,031 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_3_1  | 2021-06-29 13:22:35,032 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_3_1  | 2021-06-29 13:22:36,033 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_3_1  | 2021-06-29 13:22:36,889 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_3_1  | 2021-06-29 13:22:36,893 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_3_1  | 2021-06-29 13:22:37,353 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:37,529 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: start RPC server
datanode_3_1  | 2021-06-29 13:22:37,555 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 497430bc-ef01-4983-8299-c4c845566cf5: GrpcService started, listening on 9856
datanode_3_1  | 2021-06-29 13:22:37,560 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 497430bc-ef01-4983-8299-c4c845566cf5: GrpcService started, listening on 9857
datanode_3_1  | 2021-06-29 13:22:37,572 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 497430bc-ef01-4983-8299-c4c845566cf5: GrpcService started, listening on 9858
datanode_3_1  | 2021-06-29 13:22:37,598 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5 is started using port 9858 for RATIS
datanode_3_1  | 2021-06-29 13:22:37,598 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5 is started using port 9857 for RATIS_ADMIN
datanode_3_1  | 2021-06-29 13:22:37,598 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5 is started using port 9856 for RATIS_SERVER
datanode_3_1  | 2021-06-29 13:22:37,598 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/0x0000000840492040@7dfdb92c] INFO util.JvmPauseMonitor: JvmPauseMonitor-497430bc-ef01-4983-8299-c4c845566cf5: Started
datanode_3_1  | 2021-06-29 13:22:41,913 [Command processor thread] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: addNew group-27F3C9A95319:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0] returns group-27F3C9A95319:java.util.concurrent.CompletableFuture@7c5b5981[Not completed]
datanode_3_1  | 2021-06-29 13:22:42,100 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5: new RaftServerImpl for group-27F3C9A95319:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0] with ContainerStateMachine:uninitialized
datanode_3_1  | 2021-06-29 13:22:42,108 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_3_1  | 2021-06-29 13:22:42,127 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_3_1  | 2021-06-29 13:22:42,127 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_3_1  | 2021-06-29 13:22:42,129 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:42,130 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_3_1  | 2021-06-29 13:22:42,130 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_3_1  | 2021-06-29 13:22:42,135 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:22:42,157 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null, confs=<EMPTY_MAP>
datanode_3_1  | 2021-06-29 13:22:42,169 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3_1  | 2021-06-29 13:22:42,196 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3_1  | 2021-06-29 13:22:42,211 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 does not exist. Creating ...
datanode_3_1  | 2021-06-29 13:22:42,263 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/in_use.lock acquired by nodename 7@a217807dff76
datanode_3_1  | 2021-06-29 13:22:42,298 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 has been successfully formatted.
datanode_3_1  | 2021-06-29 13:22:42,376 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-27F3C9A95319: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_3_1  | 2021-06-29 13:22:42,399 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:42,402 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_3_1  | 2021-06-29 13:22:42,479 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_3_1  | 2021-06-29 13:22:42,480 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:22:42,501 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_3_1  | 2021-06-29 13:22:42,544 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:03,796 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/in_use.lock acquired by nodename 7@e0e286044653
datanode_2_1  | 2021-06-29 13:26:03,862 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=7cde1fe5-f110-4ac5-8a71-921fbb989fcf} from /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/raft-meta
datanode_2_1  | 2021-06-29 13:26:04,084 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-F2D82F52F507: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2_1  | 2021-06-29 13:26:04,308 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_2_1  | 2021-06-29 13:26:04,309 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:04,333 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2_1  | 2021-06-29 13:26:04,416 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2_1  | 2021-06-29 13:26:04,420 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:26:04,439 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:26:04,439 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_2_1  | 2021-06-29 13:26:04,551 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:04,577 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_2_1  | 2021-06-29 13:26:04,594 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2_1  | 2021-06-29 13:26:04,603 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_2_1  | 2021-06-29 13:26:04,634 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_2_1  | 2021-06-29 13:26:04,637 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2_1  | 2021-06-29 13:26:04,639 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:26:04,646 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:04,647 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2_1  | 2021-06-29 13:26:04,652 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2_1  | 2021-06-29 13:26:04,653 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2_1  | 2021-06-29 13:26:04,663 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2_1  | 2021-06-29 13:26:04,663 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2_1  | 2021-06-29 13:26:04,722 [main] INFO util.log: Logging initialized @22108ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_2_1  | 2021-06-29 13:26:04,727 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:04,732 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:26:04,896 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_2_1  | 2021-06-29 13:26:05,001 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 119 entries from segment file /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0
datanode_2_1  | 2021-06-29 13:26:05,068 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 118
datanode_2_1  | 2021-06-29 13:26:05,077 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:26:05,500 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_2_1  | 2021-06-29 13:26:05,559 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_2_1  | 2021-06-29 13:26:05,625 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_2_1  | 2021-06-29 13:26:05,657 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_2_1  | 2021-06-29 13:26:05,657 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_2_1  | 2021-06-29 13:26:05,659 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_2_1  | 2021-06-29 13:26:05,968 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_2_1  | 2021-06-29 13:26:05,974 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_2_1  | 2021-06-29 13:26:05,975 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_2_1  | 2021-06-29 13:26:05,996 [pool-30-thread-1] INFO raftlog.RaftLog: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=117, updated? true
datanode_2_1  | 2021-06-29 13:26:06,006 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:26:06,019 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2_1  | 2021-06-29 13:26:06,023 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2_1  | 2021-06-29 13:26:06,027 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2_1  | 2021-06-29 13:26:06,034 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2_1  | 2021-06-29 13:26:06,034 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_4_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_4_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_4_1  | STARTUP_MSG:   java = 11.0.10
datanode_4_1  | ************************************************************/
datanode_4_1  | 2021-06-29 13:21:58,591 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_4_1  | 2021-06-29 13:22:00,533 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_4_1  | 2021-06-29 13:22:01,400 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_4_1  | 2021-06-29 13:22:02,423 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_4_1  | 2021-06-29 13:22:02,424 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_4_1  | 2021-06-29 13:22:03,271 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:e28b31ca8462 ip:10.5.0.7
datanode_4_1  | 2021-06-29 13:22:07,185 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_4_1  | 2021-06-29 13:22:07,232 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_4_1  | 2021-06-29 13:22:07,274 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_4_1  | 2021-06-29 13:22:07,305 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_4_1  | 2021-06-29 13:22:07,579 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_4_1  | 2021-06-29 13:22:07,863 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_4_1  | 2021-06-29 13:22:07,899 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
datanode_4_1  | 2021-06-29 13:22:07,900 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_4_1  | 2021-06-29 13:22:08,247 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_4_1  | 2021-06-29 13:22:08,276 [Thread-7] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_4_1  | 2021-06-29 13:22:08,292 [Thread-7] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_4_1  | 2021-06-29 13:22:08,293 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_4_1  | 2021-06-29 13:22:19,381 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_4_1  | 2021-06-29 13:22:20,027 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_4_1  | 2021-06-29 13:22:20,799 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_4_1  | 2021-06-29 13:22:20,800 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_4_1  | 2021-06-29 13:22:20,807 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_4_1  | 2021-06-29 13:22:20,818 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_4_1  | 2021-06-29 13:22:20,824 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_4_1  | 2021-06-29 13:22:20,831 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_4_1  | 2021-06-29 13:22:20,851 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_4_1  | 2021-06-29 13:22:23,613 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_4_1  | 2021-06-29 13:22:23,647 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:23,648 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_4_1  | 2021-06-29 13:22:23,780 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_4_1  | 2021-06-29 13:22:25,332 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_4_1  | 2021-06-29 13:22:25,563 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_4_1  | 2021-06-29 13:22:25,845 [main] INFO util.log: Logging initialized @34503ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_4_1  | 2021-06-29 13:22:26,880 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_4_1  | 2021-06-29 13:22:26,902 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_4_1  | 2021-06-29 13:22:26,947 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_4_1  | 2021-06-29 13:22:26,949 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_4_1  | 2021-06-29 13:22:26,959 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_4_1  | 2021-06-29 13:22:26,959 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_4_1  | 2021-06-29 13:22:27,300 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_4_1  | 2021-06-29 13:22:27,365 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_4_1  | 2021-06-29 13:22:27,381 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_4_1  | 2021-06-29 13:22:27,935 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_4_1  | 2021-06-29 13:22:27,935 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_4_1  | 2021-06-29 13:22:27,937 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_4_1  | 2021-06-29 13:22:28,025 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@e171f93{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_4_1  | 2021-06-29 13:22:28,038 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@924f3f1{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_4_1  | 2021-06-29 13:22:28,909 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@516b84d1{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-6083310476931176225/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_4_1  | 2021-06-29 13:22:28,983 [main] INFO server.AbstractConnector: Started ServerConnector@7e94de5f{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_4_1  | 2021-06-29 13:22:28,991 [main] INFO server.Server: Started @37649ms
datanode_4_1  | 2021-06-29 13:22:29,011 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_4_1  | 2021-06-29 13:22:29,011 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_5_1  | 2021-06-29 13:22:48,457 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_5_1  | 2021-06-29 13:22:49,252 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:22:49,266 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection:   Response 0: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t1
datanode_5_1  | 2021-06-29 13:22:49,267 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1 ELECTION round 0: result PASSED
datanode_5_1  | 2021-06-29 13:22:49,269 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1
datanode_5_1  | 2021-06-29 13:22:49,275 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_5_1  | 2021-06-29 13:22:49,276 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-3FE17345405C with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:49,279 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 1 for becomeLeader, leader elected after 6736ms
datanode_5_1  | 2021-06-29 13:22:49,324 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_5_1  | 2021-06-29 13:22:49,364 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-D64B83CD17C3->7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_5_1  | 2021-06-29 13:22:49,414 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-3FE17345405C, 1, (t:0, i:0))
datanode_5_1  | 2021-06-29 13:22:49,425 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:22:49,455 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:22:49,528 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_5_1  | 2021-06-29 13:22:49,570 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_5_1  | 2021-06-29 13:22:49,601 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_5_1  | 2021-06-29 13:22:49,605 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_5_1  | 2021-06-29 13:22:49,739 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_5_1  | 2021-06-29 13:22:49,761 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:22:49,766 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_5_1  | 2021-06-29 13:22:49,760 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c.
datanode_5_1  | 2021-06-29 13:22:49,773 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: new RaftServerImpl for group-A6977E8481AB:[e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_5_1  | 2021-06-29 13:22:49,778 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_5_1  | 2021-06-29 13:22:49,778 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_5_1  | 2021-06-29 13:22:49,779 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_5_1  | 2021-06-29 13:22:49,779 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:22:49,779 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_5_1  | 2021-06-29 13:22:49,785 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_5_1  | 2021-06-29 13:22:49,785 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:22:49,785 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: ConfigurationManager, init=-1: [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_5_1  | 2021-06-29 13:22:49,786 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_5_1  | 2021-06-29 13:22:49,786 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_5_1  | 2021-06-29 13:22:49,786 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/10e72fba-8814-427e-ad69-a6977e8481ab does not exist. Creating ...
datanode_5_1  | 2021-06-29 13:22:49,791 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/10e72fba-8814-427e-ad69-a6977e8481ab/in_use.lock acquired by nodename 7@78242b036d99
datanode_5_1  | 2021-06-29 13:22:49,799 [Command processor thread] INFO server.RaftServer: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: addNew group-A6977E8481AB:[e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1] returns group-A6977E8481AB:java.util.concurrent.CompletableFuture@3543fe50[Not completed]
datanode_5_1  | 2021-06-29 13:22:49,803 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/10e72fba-8814-427e-ad69-a6977e8481ab has been successfully formatted.
datanode_5_1  | 2021-06-29 13:22:49,807 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-A6977E8481AB: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_5_1  | 2021-06-29 13:22:49,811 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:42,613 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_3_1  | 2021-06-29 13:22:42,615 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_3_1  | 2021-06-29 13:22:42,650 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
datanode_3_1  | 2021-06-29 13:22:42,650 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_3_1  | 2021-06-29 13:22:42,655 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:22:42,656 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:42,663 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_3_1  | 2021-06-29 13:22:42,667 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_3_1  | 2021-06-29 13:22:42,676 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_3_1  | 2021-06-29 13:22:42,676 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_3_1  | 2021-06-29 13:22:42,690 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_3_1  | 2021-06-29 13:22:42,758 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:42,809 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_3_1  | 2021-06-29 13:22:42,871 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:42,871 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:42,901 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_3_1  | 2021-06-29 13:22:42,914 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_3_1  | 2021-06-29 13:22:42,927 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_3_1  | 2021-06-29 13:22:42,930 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_3_1  | 2021-06-29 13:22:42,936 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3_1  | 2021-06-29 13:22:42,939 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_3_1  | 2021-06-29 13:22:43,074 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_3_1  | 2021-06-29 13:22:43,117 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_3_1  | 2021-06-29 13:22:43,174 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:43,192 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_3_1  | 2021-06-29 13:22:43,200 [pool-22-thread-1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_3_1  | 2021-06-29 13:22:43,267 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27F3C9A95319,id=497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:43,268 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_3_1  | 2021-06-29 13:22:43,431 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
datanode_3_1  | 2021-06-29 13:22:43,647 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-577576B7D2E2->aaf0680a-66c1-4277-8808-e83a9401de63
datanode_3_1  | 2021-06-29 13:22:48,237 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:48,441 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5241560204ns, electionTimeout:5177ms
datanode_3_1  | 2021-06-29 13:22:48,456 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_3_1  | 2021-06-29 13:22:48,474 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_3_1  | 2021-06-29 13:22:48,505 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | 2021-06-29 13:22:48,512 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1
datanode_3_1  | 2021-06-29 13:22:48,564 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:49,243 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-24657DBA3C44->d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_3_1  | 2021-06-29 13:22:49,684 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: receive requestVote(ELECTION, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, group-27F3C9A95319, 1, (t:0, i:0))
datanode_5_1  | 2021-06-29 13:22:49,812 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_5_1  | 2021-06-29 13:22:49,812 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_5_1  | 2021-06-29 13:22:49,812 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:22:49,813 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB
datanode_5_1  | 2021-06-29 13:22:49,813 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:49,813 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_5_1  | 2021-06-29 13:22:49,819 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_5_1  | 2021-06-29 13:22:49,819 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/10e72fba-8814-427e-ad69-a6977e8481ab
datanode_5_1  | 2021-06-29 13:22:49,819 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_5_1  | 2021-06-29 13:22:49,819 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:22:49,819 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:49,819 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_5_1  | 2021-06-29 13:22:49,820 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_5_1  | 2021-06-29 13:22:49,820 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_5_1  | 2021-06-29 13:22:49,821 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_5_1  | 2021-06-29 13:22:49,822 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_5_1  | 2021-06-29 13:22:49,826 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:22:49,852 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:22:49,864 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:22:49,867 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:22:49,854 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_5_1  | 2021-06-29 13:22:49,867 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:22:49,868 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_5_1  | 2021-06-29 13:22:49,868 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:22:49,869 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:22:49,870 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_5_1  | 2021-06-29 13:22:49,870 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_5_1  | 2021-06-29 13:22:49,870 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_5_1  | 2021-06-29 13:22:49,871 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_5_1  | 2021-06-29 13:22:49,872 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_5_1  | 2021-06-29 13:22:49,872 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB
datanode_5_1  | 2021-06-29 13:22:49,872 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB
datanode_5_1  | 2021-06-29 13:22:49,873 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: start as a follower, conf=-1: [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_5_1  | 2021-06-29 13:22:49,880 [pool-22-thread-1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_5_1  | 2021-06-29 13:22:49,884 [pool-22-thread-1] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState
datanode_5_1  | 2021-06-29 13:22:49,886 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_5_1  | 2021-06-29 13:22:49,900 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:22:49,902 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_5_1  | 2021-06-29 13:22:49,902 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_5_1  | 2021-06-29 13:22:49,903 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_5_1  | 2021-06-29 13:22:49,904 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:22:49,904 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A6977E8481AB,id=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:49,904 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB
datanode_5_1  | 2021-06-29 13:22:49,912 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=10e72fba-8814-427e-ad69-a6977e8481ab
datanode_5_1  | 2021-06-29 13:22:49,913 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=10e72fba-8814-427e-ad69-a6977e8481ab.
datanode_1_1  | 2021-06-29 13:23:11,600 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:23:11,610 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=ba356189-667a-4bf8-a21e-9832f6bad3f4
datanode_1_1  | 2021-06-29 13:23:11,613 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=ba356189-667a-4bf8-a21e-9832f6bad3f4.
datanode_1_1  | 2021-06-29 13:23:11,960 [grpc-default-executor-1] INFO keyvalue.KeyValueHandler: Operation: GetBlock , Trace ID:  , Message: Unable to find the block with bcsID 2 .Container 2 bcsId is 0. , Result: UNKNOWN_BCSID , StorageContainerException Occurred.
datanode_1_1  | org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Unable to find the block with bcsID 2 .Container 2 bcsId is 0.
datanode_1_1  | 	at org.apache.hadoop.ozone.container.keyvalue.impl.BlockManagerImpl.getBlock(BlockManagerImpl.java:215)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handleGetBlock(KeyValueHandler.java:476)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.dispatchRequest(KeyValueHandler.java:196)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handle(KeyValueHandler.java:170)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:307)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.lambda$dispatch$0(HddsDispatcher.java:169)
datanode_1_1  | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:168)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:57)
datanode_1_1  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:50)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:255)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33)
datanode_1_1  | 	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:49)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:782)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
datanode_1_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
datanode_1_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_1_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_1_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_1_1  | 2021-06-29 13:23:16,625 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5036502296ns, electionTimeout:5024ms
datanode_1_1  | 2021-06-29 13:23:16,625 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState
datanode_1_1  | 2021-06-29 13:23:16,628 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_2_1  | 2021-06-29 13:26:06,228 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:26:06,236 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_2_1  | 2021-06-29 13:26:06,237 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_2_1  | 2021-06-29 13:26:06,237 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:26:06,241 [main] INFO server.session: node0 Scavenging every 600000ms
datanode_2_1  | 2021-06-29 13:26:06,253 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: new RaftServerImpl for group-3FE17345405C:[] with ContainerStateMachine:uninitialized
datanode_2_1  | 2021-06-29 13:26:06,254 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2_1  | 2021-06-29 13:26:06,254 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2_1  | 2021-06-29 13:26:06,254 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2_1  | 2021-06-29 13:26:06,254 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:06,254 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:26:06,254 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_2_1  | 2021-06-29 13:26:06,255 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:26:06,255 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_2_1  | 2021-06-29 13:26:06,255 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:26:06,255 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2_1  | 2021-06-29 13:26:06,263 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/in_use.lock acquired by nodename 7@e0e286044653
datanode_2_1  | 2021-06-29 13:26:06,270 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=7cde1fe5-f110-4ac5-8a71-921fbb989fcf} from /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/raft-meta
datanode_2_1  | 2021-06-29 13:26:06,272 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-3FE17345405C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2_1  | 2021-06-29 13:26:06,273 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:06,273 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:06,275 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2_1  | 2021-06-29 13:26:06,275 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2_1  | 2021-06-29 13:26:06,276 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:26:06,276 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:26:06,283 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:06,286 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2_1  | 2021-06-29 13:26:06,287 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2_1  | 2021-06-29 13:26:06,288 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2_1  | 2021-06-29 13:26:06,288 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2_1  | 2021-06-29 13:26:06,288 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:06,289 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:26:06,290 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:06,295 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@6d7bb5cc{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_2_1  | 2021-06-29 13:26:06,297 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@43ee1cf7{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_2_1  | 2021-06-29 13:26:06,319 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 131 entries from segment file /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0
datanode_2_1  | 2021-06-29 13:26:06,327 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 130
datanode_2_1  | 2021-06-29 13:26:06,327 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:49,685 [grpc-default-executor-0] INFO impl.VoteContext: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-CANDIDATE: reject ELECTION from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: already has voted for 497430bc-ef01-4983-8299-c4c845566cf5 at current term 1
datanode_3_1  | 2021-06-29 13:22:49,696 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319 replies to ELECTION vote request: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-497430bc-ef01-4983-8299-c4c845566cf5#0:FAIL-t1. Peer's state: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319:t1, leader=null, voted=497430bc-ef01-4983-8299-c4c845566cf5, raftlog=497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:49,755 [grpc-default-executor-0] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: addNew group-8A5594AF1C29:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0] returns group-8A5594AF1C29:java.util.concurrent.CompletableFuture@2091199d[Not completed]
datanode_3_1  | 2021-06-29 13:22:49,757 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5: new RaftServerImpl for group-8A5594AF1C29:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
datanode_3_1  | 2021-06-29 13:22:49,770 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_3_1  | 2021-06-29 13:22:49,778 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_3_1  | 2021-06-29 13:22:49,778 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_3_1  | 2021-06-29 13:22:49,778 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:49,796 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_3_1  | 2021-06-29 13:22:49,797 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_3_1  | 2021-06-29 13:22:49,797 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:22:49,797 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
datanode_3_1  | 2021-06-29 13:22:49,797 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3_1  | 2021-06-29 13:22:49,798 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3_1  | 2021-06-29 13:22:49,798 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29 does not exist. Creating ...
datanode_3_1  | 2021-06-29 13:22:49,799 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
datanode_3_1  | 2021-06-29 13:22:49,804 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection:   Response 0: 497430bc-ef01-4983-8299-c4c845566cf5<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:FAIL-t1
datanode_3_1  | 2021-06-29 13:22:49,805 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection:   Response 1: 497430bc-ef01-4983-8299-c4c845566cf5<-aaf0680a-66c1-4277-8808-e83a9401de63#0:OK-t1
datanode_3_1  | 2021-06-29 13:22:49,805 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1 ELECTION round 0: result REJECTED
datanode_3_1  | 2021-06-29 13:22:49,812 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
datanode_3_1  | 2021-06-29 13:22:49,821 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1
datanode_3_1  | 2021-06-29 13:22:49,821 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_3_1  | 2021-06-29 13:22:49,824 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/in_use.lock acquired by nodename 7@a217807dff76
datanode_3_1  | 2021-06-29 13:22:49,886 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29 has been successfully formatted.
datanode_3_1  | 2021-06-29 13:22:49,891 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-8A5594AF1C29: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_3_1  | 2021-06-29 13:22:49,894 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:49,895 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_3_1  | 2021-06-29 13:22:49,895 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_3_1  | 2021-06-29 13:22:49,895 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:22:49,895 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:22:49,896 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:49,898 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_3_1  | 2021-06-29 13:22:49,903 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_3_1  | 2021-06-29 13:22:49,903 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29
datanode_3_1  | 2021-06-29 13:22:49,903 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_5_1  | 2021-06-29 13:22:49,927 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl
datanode_5_1  | 2021-06-29 13:22:50,064 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: Starting segment from index:0
datanode_5_1  | 2021-06-29 13:22:50,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection1] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:22:50,192 [grpc-default-executor-0] INFO impl.VoteContext: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LEADER: reject ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: already has voted for e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at current term 1
datanode_5_1  | 2021-06-29 13:22:50,194 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4#0:FAIL-t1. Peer's state: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C:t1, leader=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, voted=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, raftlog=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:22:50,569 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:22:53,146 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-F2D82F52F507, 1, (t:0, i:0))
datanode_5_1  | 2021-06-29 13:22:53,146 [grpc-default-executor-0] INFO impl.VoteContext: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FOLLOWER: accept ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: our priority 0 <= candidate's priority 1
datanode_5_1  | 2021-06-29 13:22:53,147 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_5_1  | 2021-06-29 13:22:53,148 [grpc-default-executor-0] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:22:53,149 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState was interrupted: {}
datanode_5_1  | java.lang.InterruptedException: sleep interrupted
datanode_5_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_5_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_5_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_5_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_5_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_5_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_5_1  | 2021-06-29 13:22:53,154 [grpc-default-executor-0] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:22:53,162 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507 replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4#0:OK-t1. Peer's state: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507:t1, leader=null, voted=7cde1fe5-f110-4ac5-8a71-921fbb989fcf, raftlog=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:22:53,337 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-F2D82F52F507 with new leaderId: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_5_1  | 2021-06-29 13:22:53,343 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: change Leader from null to 7cde1fe5-f110-4ac5-8a71-921fbb989fcf at term 1 for appendEntries, leader elected after 5118ms
datanode_5_1  | 2021-06-29 13:22:53,412 [grpc-default-executor-0] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:22:53,429 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: Starting segment from index:0
datanode_5_1  | 2021-06-29 13:22:53,435 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:22:54,958 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5074252495ns, electionTimeout:5052ms
datanode_5_1  | 2021-06-29 13:22:54,959 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState
datanode_5_1  | 2021-06-29 13:22:54,959 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_5_1  | 2021-06-29 13:22:54,959 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:22:54,959 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2
datanode_5_1  | 2021-06-29 13:22:54,962 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|priority:1], old=null
datanode_5_1  | 2021-06-29 13:22:54,962 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2 ELECTION round 0: result PASSED (term=1)
datanode_5_1  | 2021-06-29 13:22:54,962 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2
datanode_5_1  | 2021-06-29 13:22:54,963 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_5_1  | 2021-06-29 13:22:54,963 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-A6977E8481AB with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_5_1  | 2021-06-29 13:22:54,963 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 1 for becomeLeader, leader elected after 5151ms
datanode_5_1  | 2021-06-29 13:22:54,963 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_5_1  | 2021-06-29 13:22:54,963 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB
datanode_5_1  | 2021-06-29 13:22:54,971 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:22:54,973 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_5_1  | 2021-06-29 13:22:54,973 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_5_1  | 2021-06-29 13:22:54,974 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_5_1  | 2021-06-29 13:22:54,974 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_5_1  | 2021-06-29 13:22:54,974 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderStateImpl
datanode_5_1  | 2021-06-29 13:22:54,974 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-SegmentedRaftLogWorker: Starting segment from index:0
datanode_5_1  | 2021-06-29 13:22:54,981 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/10e72fba-8814-427e-ad69-a6977e8481ab/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:22:54,988 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB-LeaderElection2] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-A6977E8481AB: set configuration 0: [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:24:40,582 [grpc-default-executor-2] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason
datanode_5_1  | 2021-06-29 13:24:40,584 [grpc-default-executor-2] INFO leader.FollowerInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719: nextIndex: updateUnconditionally 131 -> 130
datanode_5_1  | 2021-06-29 13:24:40,606 [grpc-default-executor-0] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:24:40,607 [grpc-default-executor-0] INFO leader.FollowerInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719: nextIndex: updateUnconditionally 131 -> 130
datanode_5_1  | 2021-06-29 13:24:40,652 [grpc-default-executor-2] WARN server.GrpcServerProtocolService: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: installSnapshot onError, lastRequest: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf->e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4#2842-t1,previous=(t:1, i:117),leaderCommit=117,initializing? true,entries: size=1, first=(t:1, i:118), METADATAENTRY(c:117): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_5_1  | 2021-06-29 13:24:40,673 [grpc-default-executor-2] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason
datanode_5_1  | 2021-06-29 13:24:40,674 [grpc-default-executor-2] INFO leader.FollowerInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf: nextIndex: updateUnconditionally 131 -> 130
datanode_5_1  | 2021-06-29 13:24:40,683 [grpc-default-executor-2] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:24:40,686 [grpc-default-executor-2] INFO leader.FollowerInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf: nextIndex: updateUnconditionally 131 -> 130
datanode_5_1  | 2021-06-29 13:24:40,688 [grpc-default-executor-2] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:24:40,689 [grpc-default-executor-2] INFO leader.FollowerInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf: nextIndex: updateUnconditionally 131 -> 130
datanode_5_1  | 2021-06-29 13:24:45,301 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5181933684ns, electionTimeout:5129ms
datanode_5_1  | 2021-06-29 13:24:45,301 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:23:16,633 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_1_1  | 2021-06-29 13:23:16,637 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1
datanode_1_1  | 2021-06-29 13:23:16,654 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.LeaderElection: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|priority:1], old=null
datanode_1_1  | 2021-06-29 13:23:16,655 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.LeaderElection: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1 ELECTION round 0: result PASSED (term=1)
datanode_1_1  | 2021-06-29 13:23:16,657 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1
datanode_1_1  | 2021-06-29 13:23:16,659 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_1_1  | 2021-06-29 13:23:16,660 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-9832F6BAD3F4 with new leaderId: 8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:23:16,668 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: change Leader from null to 8234872e-ae3b-48df-b771-2dd228a42719 at term 1 for becomeLeader, leader elected after 5113ms
datanode_1_1  | 2021-06-29 13:23:16,673 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_1_1  | 2021-06-29 13:23:16,703 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:23:16,714 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:23:16,732 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_1_1  | 2021-06-29 13:23:16,757 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_1_1  | 2021-06-29 13:23:16,774 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_1_1  | 2021-06-29 13:23:16,783 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_1_1  | 2021-06-29 13:23:16,826 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderStateImpl
datanode_1_1  | 2021-06-29 13:23:16,845 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: Starting segment from index:0
datanode_1_1  | 2021-06-29 13:23:16,855 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/current/log_inprogress_0
datanode_1_1  | 2021-06-29 13:23:16,857 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:24:40,104 [SIGTERM handler] ERROR ozone.HddsDatanodeService: RECEIVED SIGNAL 15: SIGTERM
datanode_1_1  | 2021-06-29 13:24:40,136 [shutdown-hook-0] INFO ozone.HddsDatanodeService: SHUTDOWN_MSG: 
datanode_1_1  | /************************************************************
datanode_1_1  | SHUTDOWN_MSG: Shutting down HddsDatanodeService at 5b184bd580b3/10.5.0.4
datanode_1_1  | ************************************************************/
datanode_1_1  | Enabled profiling in kernel
datanode_1_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_1_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_1_1  | 2021-06-29 13:25:45,284 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_1_1  | /************************************************************
datanode_1_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_1_1  | STARTUP_MSG:   host = 5b184bd580b3/10.5.0.4
datanode_1_1  | STARTUP_MSG:   args = []
datanode_1_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_1_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_1_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_1_1  | STARTUP_MSG:   java = 11.0.10
datanode_1_1  | ************************************************************/
datanode_1_1  | 2021-06-29 13:25:45,334 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_1_1  | 2021-06-29 13:25:46,703 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_1_1  | 2021-06-29 13:25:47,280 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_1_1  | 2021-06-29 13:25:47,860 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_1_1  | 2021-06-29 13:25:47,860 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_1_1  | 2021-06-29 13:25:48,921 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:5b184bd580b3 ip:10.5.0.4
datanode_1_1  | 2021-06-29 13:25:51,018 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-06-29T13:24:40.131Z
datanode_1_1  | 2021-06-29 13:25:51,049 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_1_1  | 2021-06-29 13:25:51,060 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_1_1  | 2021-06-29 13:25:51,107 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:25:51,377 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:25:51,546 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_1_1  | 2021-06-29 13:25:51,561 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/metadata/ratis/scmUsed: 4096 at 2021-06-29T13:24:40.118Z
datanode_1_1  | 2021-06-29 13:25:51,567 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_1_1  | 2021-06-29 13:25:51,670 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_1_1  | 2021-06-29 13:25:51,689 [Thread-5] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_1_1  | 2021-06-29 13:25:52,419 [Thread-5] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_2_1  | 2021-06-29 13:26:06,328 [pool-30-thread-1] INFO raftlog.RaftLog: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=129, updated? true
datanode_2_1  | 2021-06-29 13:26:06,328 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:26:06,328 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2_1  | 2021-06-29 13:26:06,329 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2_1  | 2021-06-29 13:26:06,329 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2_1  | 2021-06-29 13:26:06,329 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2_1  | 2021-06-29 13:26:06,329 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_2_1  | 2021-06-29 13:26:06,329 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:26:06,330 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: new RaftServerImpl for group-FE1988833322:[] with ContainerStateMachine:uninitialized
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_2_1  | 2021-06-29 13:26:06,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_2_1  | 2021-06-29 13:26:06,336 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_2_1  | 2021-06-29 13:26:06,336 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_2_1  | 2021-06-29 13:26:06,336 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_2_1  | 2021-06-29 13:26:06,336 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_2_1  | 2021-06-29 13:26:06,338 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/in_use.lock acquired by nodename 7@e0e286044653
datanode_2_1  | 2021-06-29 13:26:06,339 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=7cde1fe5-f110-4ac5-8a71-921fbb989fcf} from /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/current/raft-meta
datanode_2_1  | 2021-06-29 13:26:06,339 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-FE1988833322: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_2_1  | 2021-06-29 13:26:06,339 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: set configuration 0: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:06,347 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_2_1  | 2021-06-29 13:26:06,347 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_2_1  | 2021-06-29 13:26:06,347 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_2_1  | 2021-06-29 13:26:06,347 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_2_1  | 2021-06-29 13:26:06,347 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:26:06,348 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:06,348 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_2_1  | 2021-06-29 13:26:06,349 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_2_1  | 2021-06-29 13:26:06,349 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322
datanode_2_1  | 2021-06-29 13:26:06,349 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_2_1  | 2021-06-29 13:26:06,349 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:26:06,349 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:06,351 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_2_1  | 2021-06-29 13:26:06,352 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_2_1  | 2021-06-29 13:26:06,352 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_2_1  | 2021-06-29 13:26:06,352 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_2_1  | 2021-06-29 13:26:06,352 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_2_1  | 2021-06-29 13:26:06,353 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_2_1  | 2021-06-29 13:26:06,354 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:26:06,358 [pool-30-thread-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: set configuration 0: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:06,362 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/current/log_inprogress_0
datanode_2_1  | 2021-06-29 13:26:06,364 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
datanode_2_1  | 2021-06-29 13:26:06,364 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_2_1  | 2021-06-29 13:26:06,373 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_2_1  | 2021-06-29 13:26:06,373 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_2_1  | 2021-06-29 13:26:06,374 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_2_1  | 2021-06-29 13:26:06,374 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_2_1  | 2021-06-29 13:26:06,374 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_2_1  | 2021-06-29 13:26:06,374 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_2_1  | 2021-06-29 13:26:06,374 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:26:06,376 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:26:06,527 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@7bdb4d69{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-5102622710555687595/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_2_1  | 2021-06-29 13:26:06,540 [main] INFO server.AbstractConnector: Started ServerConnector@72b10258{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_2_1  | 2021-06-29 13:26:06,543 [main] INFO server.Server: Started @23929ms
datanode_2_1  | 2021-06-29 13:26:06,550 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_2_1  | 2021-06-29 13:26:06,550 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_2_1  | 2021-06-29 13:26:06,552 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_2_1  | 2021-06-29 13:26:06,595 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1c67a309] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_2_1  | 2021-06-29 13:26:09,288 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_2_1  | 2021-06-29 13:26:09,292 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_2_1  | 2021-06-29 13:26:09,694 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:26:09,720 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: start as a follower, conf=0: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:09,764 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_2_1  | 2021-06-29 13:26:09,766 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState
datanode_2_1  | 2021-06-29 13:26:09,723 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: start as a follower, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_2_1  | 2021-06-29 13:26:09,766 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_2_1  | 2021-06-29 13:26:09,766 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState
datanode_2_1  | 2021-06-29 13:26:09,822 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE1988833322,id=7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:26:09,830 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:26:09,842 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: start as a follower, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:09,858 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_2_1  | 2021-06-29 13:26:09,846 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2D82F52F507,id=7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:26:09,871 [ForkJoinPool.commonPool-worker-3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507
datanode_2_1  | 2021-06-29 13:26:09,878 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState
datanode_2_1  | 2021-06-29 13:26:09,879 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3FE17345405C,id=7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:26:09,879 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C
datanode_2_1  | 2021-06-29 13:26:09,907 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start RPC server
datanode_2_1  | 2021-06-29 13:26:09,955 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: GrpcService started, listening on 9856
datanode_2_1  | 2021-06-29 13:26:09,963 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: GrpcService started, listening on 9857
datanode_2_1  | 2021-06-29 13:26:10,006 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: GrpcService started, listening on 9858
datanode_2_1  | 2021-06-29 13:26:10,031 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf is started using port 9858 for RATIS
datanode_5_1  | 2021-06-29 13:24:45,302 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_5_1  | 2021-06-29 13:24:45,302 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:24:45,302 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3
datanode_5_1  | 2021-06-29 13:24:45,307 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: change Leader from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf to null at term 1 for ELECTION
datanode_5_1  | 2021-06-29 13:24:45,315 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 0: submit vote requests at term 2 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:24:49,238 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] WARN server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 5200ms. In charge for: 119961ms. Conf: 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:24:49,239 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] WARN server.RaftServer$Division: Follower e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719(c130,m130,n131, attendVote=true, lastRpcSendTime=1135, lastRpcResponseTime=9272)
datanode_5_1  | 2021-06-29 13:24:49,239 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] WARN server.RaftServer$Division: Follower e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf(c130,m130,n131, attendVote=true, lastRpcSendTime=1048, lastRpcResponseTime=9207)
datanode_5_1  | 2021-06-29 13:24:49,239 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
datanode_5_1  | 2021-06-29 13:24:49,239 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl
datanode_5_1  | 2021-06-29 13:24:49,239 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO metrics.RatisMetrics: Unregistering Metrics Registry : ratis_grpc.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:24:49,240 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
datanode_5_1  | 2021-06-29 13:24:49,242 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO metrics.RatisMetrics: Unregistering Metrics Registry : ratis_grpc.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:24:49,242 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender-LogAppenderDaemon] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
datanode_5_1  | 2021-06-29 13:24:49,243 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO impl.PendingRequests: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-PendingRequests: sendNotLeaderResponses
datanode_5_1  | 2021-06-29 13:24:49,243 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO metrics.RatisMetrics: Unregistering Metrics Registry : ratis.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:24:49,243 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO metrics.RatisMetrics: Unregistering Metrics Registry : ratis.server.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_5_1  | 2021-06-29 13:24:49,244 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_5_1  | 2021-06-29 13:24:50,370 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:24:50,370 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 0: result TIMEOUT
datanode_5_1  | 2021-06-29 13:24:50,372 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 1: submit vote requests at term 3 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:24:54,399 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: Skipping leader election since it stepped down recently (elapsed = 5154ms < waitTime = 10s)
datanode_5_1  | 2021-06-29 13:24:55,472 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:24:55,472 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 1: result TIMEOUT
datanode_5_1  | 2021-06-29 13:24:55,474 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 2: submit vote requests at term 4 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:24:59,459 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:10215353153ns, electionTimeout:5060ms
datanode_5_1  | 2021-06-29 13:24:59,459 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_5_1  | 2021-06-29 13:24:59,459 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_5_1  | 2021-06-29 13:24:59,460 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:24:59,460 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4
datanode_5_1  | 2021-06-29 13:24:59,461 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: change Leader from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 to null at term 1 for ELECTION
datanode_5_1  | 2021-06-29 13:24:59,463 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:25:00,549 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:25:00,549 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 2: result TIMEOUT
datanode_5_1  | 2021-06-29 13:25:00,551 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 3: submit vote requests at term 5 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:25:04,616 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:25:04,617 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 ELECTION round 0: result TIMEOUT
datanode_5_1  | 2021-06-29 13:25:04,619 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 ELECTION round 1: submit vote requests at term 3 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:25:05,737 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:25:05,738 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 3: result TIMEOUT
datanode_5_1  | 2021-06-29 13:25:05,739 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 4: submit vote requests at term 6 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:25:09,775 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:25:09,775 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 ELECTION round 1: result TIMEOUT
datanode_5_1  | 2021-06-29 13:25:09,778 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 ELECTION round 2: submit vote requests at term 4 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:25:10,933 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:25:10,934 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 4: result TIMEOUT
datanode_5_1  | 2021-06-29 13:25:10,937 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 5: submit vote requests at term 7 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:25:52,419 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_1_1  | 2021-06-29 13:25:58,725 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_1_1  | 2021-06-29 13:25:59,385 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_1_1  | 2021-06-29 13:25:59,831 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_1_1  | 2021-06-29 13:25:59,833 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_1_1  | 2021-06-29 13:25:59,835 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_1_1  | 2021-06-29 13:25:59,838 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_1_1  | 2021-06-29 13:25:59,851 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:25:59,853 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_1_1  | 2021-06-29 13:25:59,853 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_1_1  | 2021-06-29 13:26:01,262 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_1_1  | 2021-06-29 13:26:01,288 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:01,305 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:26:01,362 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:26:01,378 [main] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: found a subdirectory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_1_1  | 2021-06-29 13:26:01,422 [main] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: addNew group-F2D82F52F507:[] returns group-F2D82F52F507:java.util.concurrent.CompletableFuture@72001c71[Not completed]
datanode_1_1  | 2021-06-29 13:26:01,426 [main] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: found a subdirectory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_1_1  | 2021-06-29 13:26:01,447 [main] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: addNew group-3FE17345405C:[] returns group-3FE17345405C:java.util.concurrent.CompletableFuture@e7b0bec[Not completed]
datanode_1_1  | 2021-06-29 13:26:01,459 [main] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: found a subdirectory /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4
datanode_1_1  | 2021-06-29 13:26:01,459 [main] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: addNew group-9832F6BAD3F4:[] returns group-9832F6BAD3F4:java.util.concurrent.CompletableFuture@1e5aacd9[Not completed]
datanode_1_1  | 2021-06-29 13:26:01,828 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719: new RaftServerImpl for group-F2D82F52F507:[] with ContainerStateMachine:uninitialized
datanode_1_1  | 2021-06-29 13:26:01,854 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1_1  | 2021-06-29 13:26:01,878 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1_1  | 2021-06-29 13:26:01,879 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1_1  | 2021-06-29 13:26:01,879 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:01,879 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:26:01,880 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_1_1  | 2021-06-29 13:26:01,892 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1_1  | 2021-06-29 13:26:01,969 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_1_1  | 2021-06-29 13:26:01,972 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:26:01,988 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1_1  | 2021-06-29 13:26:02,148 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/in_use.lock acquired by nodename 7@5b184bd580b3
datanode_1_1  | 2021-06-29 13:26:02,192 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=7cde1fe5-f110-4ac5-8a71-921fbb989fcf} from /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/raft-meta
datanode_1_1  | 2021-06-29 13:26:02,423 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-F2D82F52F507: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1_1  | 2021-06-29 13:26:02,572 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:02,573 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:02,584 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 2021-06-29 13:26:02,590 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_1_1  | 2021-06-29 13:26:02,612 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1_1  | 2021-06-29 13:26:02,618 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:26:02,645 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:26:02,678 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_1_1  | 2021-06-29 13:26:02,700 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:02,760 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1_1  | 2021-06-29 13:26:02,761 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_1_1  | 2021-06-29 13:26:02,782 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507
datanode_1_1  | 2021-06-29 13:26:02,783 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1_1  | 2021-06-29 13:26:02,784 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:26:02,786 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:25:11,569 [grpc-default-executor-2] INFO server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender is stopped
datanode_5_1  | 2021-06-29 13:25:11,570 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,572 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,851 [grpc-default-executor-2] INFO server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender is stopped
datanode_5_1  | 2021-06-29 13:25:11,852 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,852 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_5_1  | 2021-06-29 13:25:11,855 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,855 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,856 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4 ELECTION round 2: result REJECTED
datanode_5_1  | 2021-06-29 13:25:11,856 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 4 for REJECTED
datanode_5_1  | 2021-06-29 13:25:11,856 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,856 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_5_1  | 2021-06-29 13:25:11,856 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,857 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:11,857 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3 ELECTION round 5: result REJECTED
datanode_5_1  | 2021-06-29 13:25:11,857 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
datanode_5_1  | 2021-06-29 13:25:11,857 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3
datanode_5_1  | 2021-06-29 13:25:11,857 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection3] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:25:11,857 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4
datanode_5_1  | 2021-06-29 13:25:11,858 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection4] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_5_1  | 2021-06-29 13:25:16,909 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5051897475ns, electionTimeout:5051ms
datanode_5_1  | 2021-06-29 13:25:16,910 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_5_1  | 2021-06-29 13:25:16,910 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
datanode_5_1  | 2021-06-29 13:25:16,910 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:25:16,910 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5
datanode_5_1  | 2021-06-29 13:25:16,940 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 ELECTION round 0: submit vote requests at term 5 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:25:17,027 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5169789622ns, electionTimeout:5169ms
datanode_5_1  | 2021-06-29 13:25:17,027 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:25:17,028 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
datanode_4_1  | 2021-06-29 13:22:29,019 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_4_1  | 2021-06-29 13:22:29,120 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7b9d10a8] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_4_1  | 2021-06-29 13:22:30,084 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_4_1  | 2021-06-29 13:22:32,760 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:33,761 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:34,762 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:35,344 [Datanode State Machine Thread - 0] ERROR datanode.RunningDatanodeState: Error in executing end point task.
datanode_4_1  | java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException
datanode_4_1  | 	at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)
datanode_4_1  | 	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.computeNextContainerState(RunningDatanodeState.java:191)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:231)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.await(RunningDatanodeState.java:50)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.statemachine.StateContext.execute(StateContext.java:629)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.start(DatanodeStateMachine.java:244)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.statemachine.DatanodeStateMachine.lambda$startDaemon$0(DatanodeStateMachine.java:429)
datanode_4_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_4_1  | Caused by: java.util.concurrent.TimeoutException
datanode_4_1  | 	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:204)
datanode_4_1  | 	at org.apache.hadoop.ozone.container.common.states.datanode.RunningDatanodeState.lambda$execute$0(RunningDatanodeState.java:149)
datanode_4_1  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_4_1  | 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
datanode_4_1  | 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
datanode_4_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
datanode_4_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
datanode_4_1  | 	... 1 more
datanode_4_1  | 2021-06-29 13:22:35,763 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:37,146 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_4_1  | 2021-06-29 13:22:37,153 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_4_1  | 2021-06-29 13:22:37,491 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_4_1  | 2021-06-29 13:22:37,597 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start RPC server
datanode_4_1  | 2021-06-29 13:22:37,603 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: GrpcService started, listening on 9856
datanode_4_1  | 2021-06-29 13:22:37,604 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: GrpcService started, listening on 9857
datanode_4_1  | 2021-06-29 13:22:37,605 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: GrpcService started, listening on 9858
datanode_4_1  | 2021-06-29 13:22:37,628 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 is started using port 9858 for RATIS
datanode_4_1  | 2021-06-29 13:22:37,628 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 is started using port 9857 for RATIS_ADMIN
datanode_4_1  | 2021-06-29 13:22:37,628 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 is started using port 9856 for RATIS_SERVER
datanode_4_1  | 2021-06-29 13:22:37,639 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/0x0000000840492040@500fba5f] INFO util.JvmPauseMonitor: JvmPauseMonitor-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: Started
datanode_4_1  | 2021-06-29 13:22:42,424 [Command processor thread] INFO server.RaftServer: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: addNew group-27F3C9A95319:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0] returns group-27F3C9A95319:java.util.concurrent.CompletableFuture@3e677a72[Not completed]
datanode_4_1  | 2021-06-29 13:22:42,615 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: new RaftServerImpl for group-27F3C9A95319:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0] with ContainerStateMachine:uninitialized
datanode_4_1  | 2021-06-29 13:22:42,627 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_4_1  | 2021-06-29 13:22:42,629 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_4_1  | 2021-06-29 13:22:42,630 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_4_1  | 2021-06-29 13:22:42,630 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:42,630 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_4_1  | 2021-06-29 13:22:42,635 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_4_1  | 2021-06-29 13:22:42,639 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_4_1  | 2021-06-29 13:22:42,676 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null, confs=<EMPTY_MAP>
datanode_4_1  | 2021-06-29 13:22:42,677 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_4_1  | 2021-06-29 13:22:42,698 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_4_1  | 2021-06-29 13:22:42,700 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 does not exist. Creating ...
datanode_4_1  | 2021-06-29 13:22:42,735 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/in_use.lock acquired by nodename 7@e28b31ca8462
datanode_4_1  | 2021-06-29 13:22:42,775 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 has been successfully formatted.
datanode_4_1  | 2021-06-29 13:22:42,855 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-27F3C9A95319: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_4_1  | 2021-06-29 13:22:42,868 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:42,892 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_4_1  | 2021-06-29 13:22:42,987 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_4_1  | 2021-06-29 13:22:42,993 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_4_1  | 2021-06-29 13:22:43,029 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319
datanode_4_1  | 2021-06-29 13:22:43,078 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:43,167 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_4_1  | 2021-06-29 13:22:43,168 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_4_1  | 2021-06-29 13:22:43,203 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
datanode_4_1  | 2021-06-29 13:22:43,212 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_4_1  | 2021-06-29 13:22:43,213 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_4_1  | 2021-06-29 13:22:43,215 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:43,215 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_4_1  | 2021-06-29 13:22:43,216 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_4_1  | 2021-06-29 13:22:43,229 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_4_1  | 2021-06-29 13:22:43,230 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_4_1  | 2021-06-29 13:22:43,230 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_4_1  | 2021-06-29 13:22:43,297 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:43,323 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_4_1  | 2021-06-29 13:22:43,373 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:22:43,373 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:22:43,430 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_4_1  | 2021-06-29 13:22:43,433 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_4_1  | 2021-06-29 13:22:43,434 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_4_1  | 2021-06-29 13:22:43,436 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_4_1  | 2021-06-29 13:22:43,462 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_4_1  | 2021-06-29 13:22:43,462 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_4_1  | 2021-06-29 13:22:43,598 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319
datanode_4_1  | 2021-06-29 13:22:43,629 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319
datanode_4_1  | 2021-06-29 13:22:43,667 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_4_1  | 2021-06-29 13:22:43,668 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_4_1  | 2021-06-29 13:22:43,687 [pool-22-thread-1] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState
datanode_4_1  | 2021-06-29 13:22:43,726 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27F3C9A95319,id=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_4_1  | 2021-06-29 13:22:43,728 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319
datanode_4_1  | 2021-06-29 13:22:43,907 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
datanode_4_1  | 2021-06-29 13:22:44,423 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-0CD53F7E89CF->aaf0680a-66c1-4277-8808-e83a9401de63
datanode_4_1  | 2021-06-29 13:22:47,958 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-3612B828C1D6->497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:49,904 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:22:49,904 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:49,905 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_3_1  | 2021-06-29 13:22:49,905 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_3_1  | 2021-06-29 13:22:49,906 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_3_1  | 2021-06-29 13:22:49,906 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_3_1  | 2021-06-29 13:22:49,911 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_3_1  | 2021-06-29 13:22:49,912 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:49,915 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_3_1  | 2021-06-29 13:22:49,917 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:49,919 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:49,931 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_3_1  | 2021-06-29 13:22:49,936 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_3_1  | 2021-06-29 13:22:49,937 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_3_1  | 2021-06-29 13:22:49,937 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_3_1  | 2021-06-29 13:22:49,937 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3_1  | 2021-06-29 13:22:49,937 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_3_1  | 2021-06-29 13:22:49,938 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:22:49,946 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:22:49,946 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319.
datanode_3_1  | 2021-06-29 13:22:49,955 [Command processor thread] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: addNew group-69F99F37BAD9:[497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1] returns group-69F99F37BAD9:java.util.concurrent.CompletableFuture@2ce2f756[Not completed]
datanode_3_1  | 2021-06-29 13:22:49,963 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5: new RaftServerImpl for group-69F99F37BAD9:[497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_3_1  | 2021-06-29 13:22:49,963 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_3_1  | 2021-06-29 13:22:49,963 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_3_1  | 2021-06-29 13:22:49,964 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_3_1  | 2021-06-29 13:22:49,964 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:49,964 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_3_1  | 2021-06-29 13:22:49,964 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_3_1  | 2021-06-29 13:22:49,965 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:22:49,967 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: ConfigurationManager, init=-1: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_3_1  | 2021-06-29 13:22:49,967 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3_1  | 2021-06-29 13:22:49,971 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3_1  | 2021-06-29 13:22:49,975 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9 does not exist. Creating ...
datanode_3_1  | 2021-06-29 13:22:49,976 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/in_use.lock acquired by nodename 7@a217807dff76
datanode_3_1  | 2021-06-29 13:22:49,979 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9 has been successfully formatted.
datanode_3_1  | 2021-06-29 13:22:49,980 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-69F99F37BAD9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_3_1  | 2021-06-29 13:22:49,980 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:22:49,980 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_3_1  | 2021-06-29 13:22:49,983 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_3_1  | 2021-06-29 13:22:49,983 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:22:49,987 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_3_1  | 2021-06-29 13:22:49,987 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:49,987 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_3_1  | 2021-06-29 13:22:49,988 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_3_1  | 2021-06-29 13:22:49,988 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9
datanode_3_1  | 2021-06-29 13:22:50,012 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:48,786 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319.
datanode_4_1  | 2021-06-29 13:22:48,786 [Command processor thread] INFO server.RaftServer: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: addNew group-95D4001C9069:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1] returns group-95D4001C9069:java.util.concurrent.CompletableFuture@43a9300d[Not completed]
datanode_4_1  | 2021-06-29 13:22:48,788 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: new RaftServerImpl for group-95D4001C9069:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_4_1  | 2021-06-29 13:22:48,791 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_4_1  | 2021-06-29 13:22:48,795 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_4_1  | 2021-06-29 13:22:48,795 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_4_1  | 2021-06-29 13:22:48,795 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:48,795 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_4_1  | 2021-06-29 13:22:48,795 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_4_1  | 2021-06-29 13:22:48,796 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_4_1  | 2021-06-29 13:22:48,796 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1], old=null, confs=<EMPTY_MAP>
datanode_4_1  | 2021-06-29 13:22:48,797 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_4_1  | 2021-06-29 13:22:48,797 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_4_1  | 2021-06-29 13:22:48,799 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/f68a8046-a727-4284-a11c-95d4001c9069 does not exist. Creating ...
datanode_4_1  | 2021-06-29 13:22:48,803 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/f68a8046-a727-4284-a11c-95d4001c9069/in_use.lock acquired by nodename 7@e28b31ca8462
datanode_4_1  | 2021-06-29 13:22:48,811 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/f68a8046-a727-4284-a11c-95d4001c9069 has been successfully formatted.
datanode_4_1  | 2021-06-29 13:22:48,819 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-95D4001C9069: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_4_1  | 2021-06-29 13:22:48,821 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:48,822 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_4_1  | 2021-06-29 13:22:48,822 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_4_1  | 2021-06-29 13:22:48,822 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_4_1  | 2021-06-29 13:22:48,822 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069
datanode_4_1  | 2021-06-29 13:22:48,823 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:48,823 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_4_1  | 2021-06-29 13:22:48,824 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_4_1  | 2021-06-29 13:22:48,824 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/f68a8046-a727-4284-a11c-95d4001c9069
datanode_4_1  | 2021-06-29 13:22:48,828 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_4_1  | 2021-06-29 13:22:48,831 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_4_1  | 2021-06-29 13:22:48,834 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:48,834 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_4_1  | 2021-06-29 13:22:48,835 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_4_1  | 2021-06-29 13:22:48,835 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_4_1  | 2021-06-29 13:22:48,835 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_4_1  | 2021-06-29 13:22:48,835 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_4_1  | 2021-06-29 13:22:48,836 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:48,841 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_4_1  | 2021-06-29 13:22:48,847 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:22:48,847 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:22:48,848 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_4_1  | 2021-06-29 13:22:48,851 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5164344530ns, electionTimeout:5132ms
datanode_4_1  | 2021-06-29 13:22:48,851 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_4_1  | 2021-06-29 13:22:48,857 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_4_1  | 2021-06-29 13:22:48,857 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_4_1  | 2021-06-29 13:22:48,859 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_4_1  | 2021-06-29 13:22:48,867 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_4_1  | 2021-06-29 13:22:48,868 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069
datanode_4_1  | 2021-06-29 13:22:48,870 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_3_1  | 2021-06-29 13:22:50,013 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_3_1  | 2021-06-29 13:22:50,014 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:22:50,015 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_3_1  | 2021-06-29 13:22:50,015 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:50,015 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_3_1  | 2021-06-29 13:22:50,016 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_3_1  | 2021-06-29 13:22:50,016 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_3_1  | 2021-06-29 13:22:50,016 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_3_1  | 2021-06-29 13:22:50,016 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_3_1  | 2021-06-29 13:22:50,016 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3_1  | 2021-06-29 13:22:50,017 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_3_1  | 2021-06-29 13:22:50,018 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_3_1  | 2021-06-29 13:22:50,019 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_3_1  | 2021-06-29 13:22:50,024 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:50,028 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_3_1  | 2021-06-29 13:22:50,029 [pool-22-thread-1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState
datanode_3_1  | 2021-06-29 13:22:50,031 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5594AF1C29,id=497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:50,031 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:22:50,067 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: start as a follower, conf=-1: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1], old=null
datanode_3_1  | 2021-06-29 13:22:50,067 [pool-22-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_3_1  | 2021-06-29 13:22:50,068 [pool-22-thread-1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState
datanode_3_1  | 2021-06-29 13:22:50,071 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-69F99F37BAD9,id=497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:50,071 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_3_1  | 2021-06-29 13:22:50,117 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9
datanode_3_1  | 2021-06-29 13:22:50,135 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9.
datanode_3_1  | 2021-06-29 13:22:54,699 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: receive requestVote(ELECTION, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, group-8A5594AF1C29, 1, (t:0, i:0))
datanode_3_1  | 2021-06-29 13:22:54,700 [grpc-default-executor-0] INFO impl.VoteContext: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FOLLOWER: reject ELECTION from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: our priority 1 > candidate's priority 0
datanode_3_1  | 2021-06-29 13:22:54,700 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_3_1  | 2021-06-29 13:22:54,700 [grpc-default-executor-0] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState
datanode_3_1  | 2021-06-29 13:22:54,700 [grpc-default-executor-0] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState
datanode_3_1  | 2021-06-29 13:22:54,701 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState was interrupted: {}
datanode_3_1  | java.lang.InterruptedException: sleep interrupted
datanode_3_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_3_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_3_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_3_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_3_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_3_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_1_1  | 2021-06-29 13:26:02,789 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1_1  | 2021-06-29 13:26:02,792 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1_1  | 2021-06-29 13:26:02,794 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1_1  | 2021-06-29 13:26:02,797 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1_1  | 2021-06-29 13:26:02,798 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1_1  | 2021-06-29 13:26:02,836 [main] INFO util.log: Logging initialized @21912ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_1_1  | 2021-06-29 13:26:02,845 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:02,861 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:26:03,063 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:03,273 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 119 entries from segment file /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0
datanode_1_1  | 2021-06-29 13:26:03,390 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 118
datanode_1_1  | 2021-06-29 13:26:03,396 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:26:03,759 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_1_1  | 2021-06-29 13:26:03,782 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_1_1  | 2021-06-29 13:26:03,811 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_1_1  | 2021-06-29 13:26:03,813 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_1_1  | 2021-06-29 13:26:03,813 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_1_1  | 2021-06-29 13:26:03,813 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_1_1  | 2021-06-29 13:26:03,942 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_1_1  | 2021-06-29 13:26:04,050 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_1_1  | 2021-06-29 13:26:04,051 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_1_1  | 2021-06-29 13:26:04,093 [pool-30-thread-1] INFO raftlog.RaftLog: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=117, updated? true
datanode_1_1  | 2021-06-29 13:26:04,124 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:26:04,131 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 2021-06-29 13:26:04,135 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 2021-06-29 13:26:04,141 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:26:04,204 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:26:04,208 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:26:04,237 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:26:04,241 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:26:04,276 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719: new RaftServerImpl for group-3FE17345405C:[] with ContainerStateMachine:uninitialized
datanode_1_1  | 2021-06-29 13:26:04,283 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1_1  | 2021-06-29 13:26:04,285 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1_1  | 2021-06-29 13:26:04,286 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1_1  | 2021-06-29 13:26:04,286 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:04,286 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:26:04,286 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_1_1  | 2021-06-29 13:26:04,286 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1_1  | 2021-06-29 13:26:04,286 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_1_1  | 2021-06-29 13:26:04,293 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:26:04,296 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1_1  | 2021-06-29 13:26:04,299 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/in_use.lock acquired by nodename 7@5b184bd580b3
datanode_1_1  | 2021-06-29 13:26:04,299 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4} from /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/raft-meta
datanode_1_1  | 2021-06-29 13:26:04,300 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_1_1  | 2021-06-29 13:26:04,300 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_1_1  | 2021-06-29 13:26:04,303 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_1_1  | 2021-06-29 13:26:04,309 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-3FE17345405C: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1_1  | 2021-06-29 13:26:04,315 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:04,316 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:04,318 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 2021-06-29 13:26:04,319 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1_1  | 2021-06-29 13:26:04,319 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:26:04,319 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:26:04,320 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:04,326 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1_1  | 2021-06-29 13:26:04,331 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_1_1  | 2021-06-29 13:26:04,331 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c
datanode_1_1  | 2021-06-29 13:26:04,335 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1_1  | 2021-06-29 13:26:04,344 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:26:04,345 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:04,345 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1_1  | 2021-06-29 13:26:04,346 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1_1  | 2021-06-29 13:26:04,347 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1_1  | 2021-06-29 13:26:04,347 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1_1  | 2021-06-29 13:26:04,349 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1_1  | 2021-06-29 13:26:04,350 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:04,360 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:26:04,364 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:04,436 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 131 entries from segment file /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0
datanode_1_1  | 2021-06-29 13:26:04,443 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 130
datanode_2_1  | 2021-06-29 13:26:10,031 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf is started using port 9857 for RATIS_ADMIN
datanode_2_1  | 2021-06-29 13:26:10,031 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 7cde1fe5-f110-4ac5-8a71-921fbb989fcf is started using port 9856 for RATIS_SERVER
datanode_2_1  | 2021-06-29 13:26:10,055 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$445/0x00000008404f9440@451facd1] INFO util.JvmPauseMonitor: JvmPauseMonitor-7cde1fe5-f110-4ac5-8a71-921fbb989fcf: Started
datanode_2_1  | 2021-06-29 13:26:13,332 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:26:13,631 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-F2D82F52F507 with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_2_1  | 2021-06-29 13:26:13,631 [grpc-default-executor-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 18 for appendEntries, leader elected after 9322ms
datanode_2_1  | 2021-06-29 13:26:13,638 [grpc-default-executor-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: Failed appendEntries as previous log entry ((t:18, i:119)) is not found
datanode_2_1  | 2021-06-29 13:26:13,682 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-3FE17345405C with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_2_1  | 2021-06-29 13:26:13,682 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 15 for appendEntries, leader elected after 7409ms
datanode_2_1  | 2021-06-29 13:26:13,683 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: Failed appendEntries as previous log entry ((t:15, i:131)) is not found
datanode_2_1  | 2021-06-29 13:26:13,726 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: inconsistency entries. Reply:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-7cde1fe5-f110-4ac5-8a71-921fbb989fcf#13756:FAIL-t1,INCONSISTENCY,nextIndex=131,followerCommit=129
datanode_2_1  | 2021-06-29 13:26:13,726 [grpc-default-executor-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: inconsistency entries. Reply:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-7cde1fe5-f110-4ac5-8a71-921fbb989fcf#15367:FAIL-t1,INCONSISTENCY,nextIndex=119,followerCommit=117
datanode_2_1  | 2021-06-29 13:26:13,852 [grpc-default-executor-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: Failed appendEntries as previous log entry ((t:15, i:132)) is not found
datanode_2_1  | 2021-06-29 13:26:13,858 [grpc-default-executor-1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: inconsistency entries. Reply:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-7cde1fe5-f110-4ac5-8a71-921fbb989fcf#13757:FAIL-t15,INCONSISTENCY,nextIndex=131,followerCommit=129
datanode_2_1  | 2021-06-29 13:26:13,866 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: Failed appendEntries as previous log entry ((t:18, i:120)) is not found
datanode_2_1  | 2021-06-29 13:26:13,866 [grpc-default-executor-0] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: inconsistency entries. Reply:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-7cde1fe5-f110-4ac5-8a71-921fbb989fcf#15368:FAIL-t18,INCONSISTENCY,nextIndex=119,followerCommit=117
datanode_2_1  | 2021-06-29 13:26:14,270 [grpc-default-executor-0] WARN server.GrpcServerProtocolService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: installSnapshot onError, lastRequest: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4->7cde1fe5-f110-4ac5-8a71-921fbb989fcf#13756-t15,previous=(t:15, i:131),leaderCommit=131,initializing? true,entries: size=1, first=(t:15, i:132), METADATAENTRY(c:131): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_2_1  | 2021-06-29 13:26:14,270 [grpc-default-executor-1] WARN server.GrpcServerProtocolService: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: installSnapshot onError, lastRequest: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4->7cde1fe5-f110-4ac5-8a71-921fbb989fcf#15367-t18,previous=(t:18, i:119),leaderCommit=119,initializing? true,entries: size=1, first=(t:18, i:120), METADATAENTRY(c:119): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_2_1  | 2021-06-29 13:26:14,878 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO impl.FollowerState: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5113353377ns, electionTimeout:5087ms
datanode_2_1  | 2021-06-29 13:26:14,879 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState
datanode_2_1  | 2021-06-29 13:26:14,879 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_2_1  | 2021-06-29 13:26:14,882 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_2_1  | 2021-06-29 13:26:14,882 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1
datanode_2_1  | 2021-06-29 13:26:14,896 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for 0: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:14,902 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1 ELECTION round 0: result PASSED (term=2)
datanode_2_1  | 2021-06-29 13:26:14,903 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1
datanode_2_1  | 2021-06-29 13:26:14,903 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
datanode_2_1  | 2021-06-29 13:26:14,903 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-FE1988833322 with new leaderId: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_2_1  | 2021-06-29 13:26:14,904 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: change Leader from null to 7cde1fe5-f110-4ac5-8a71-921fbb989fcf at term 2 for becomeLeader, leader elected after 8563ms
datanode_2_1  | 2021-06-29 13:26:14,912 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_2_1  | 2021-06-29 13:26:14,921 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322
datanode_2_1  | 2021-06-29 13:26:14,931 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_2_1  | 2021-06-29 13:26:14,931 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_2_1  | 2021-06-29 13:26:14,948 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_2_1  | 2021-06-29 13:26:14,948 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_2_1  | 2021-06-29 13:26:14,949 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_2_1  | 2021-06-29 13:26:14,963 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderStateImpl
datanode_2_1  | 2021-06-29 13:26:14,973 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
datanode_2_1  | 2021-06-29 13:26:14,976 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/current/log_inprogress_0 to /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/current/log_0-0
datanode_2_1  | 2021-06-29 13:26:14,979 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/dfdd0685-e751-48ba-b9d2-fe1988833322/current/log_inprogress_1
datanode_2_1  | 2021-06-29 13:26:14,991 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322-LeaderElection1] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-FE1988833322: set configuration 1: [7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:20,189 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO impl.FollowerState: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:6331478150ns, electionTimeout:5149ms
datanode_2_1  | 2021-06-29 13:26:20,190 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState
datanode_2_1  | 2021-06-29 13:26:20,190 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 15 for changeToCandidate
datanode_2_1  | 2021-06-29 13:26:20,191 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_2_1  | 2021-06-29 13:26:20,191 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2
datanode_2_1  | 2021-06-29 13:26:20,195 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C: change Leader from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 to null at term 15 for ELECTION
datanode_2_1  | 2021-06-29 13:26:20,197 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2 ELECTION round 0: submit vote requests at term 16 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:20,201 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:6334159256ns, electionTimeout:5159ms
datanode_2_1  | 2021-06-29 13:26:20,201 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: shutdown 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState
datanode_2_1  | 2021-06-29 13:26:20,201 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 18 for changeToCandidate
datanode_2_1  | 2021-06-29 13:26:20,202 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_2_1  | 2021-06-29 13:26:20,202 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: start 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3
datanode_2_1  | 2021-06-29 13:26:20,220 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3] INFO server.RaftServer$Division: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507: change Leader from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 to null at term 18 for ELECTION
datanode_2_1  | 2021-06-29 13:26:20,223 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3 ELECTION round 0: submit vote requests at term 19 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_2_1  | 2021-06-29 13:26:25,280 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2: ELECTION TIMEOUT received 1 response(s) and 0 exception(s):
datanode_2_1  | 2021-06-29 13:26:25,281 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2] INFO impl.LeaderElection:   Response 0: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t16
datanode_2_1  | 2021-06-29 13:26:25,281 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2 ELECTION round 0: result TIMEOUT
datanode_4_1  | 2021-06-29 13:22:48,871 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1], old=null
datanode_4_1  | 2021-06-29 13:22:48,851 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState
datanode_4_1  | 2021-06-29 13:22:48,880 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_4_1  | 2021-06-29 13:22:48,907 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_4_1  | 2021-06-29 13:22:48,909 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1
datanode_4_1  | 2021-06-29 13:22:48,991 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_4_1  | 2021-06-29 13:22:48,991 [pool-22-thread-1] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState
datanode_4_1  | 2021-06-29 13:22:49,034 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-95D4001C9069,id=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_4_1  | 2021-06-29 13:22:49,035 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069
datanode_4_1  | 2021-06-29 13:22:49,037 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=f68a8046-a727-4284-a11c-95d4001c9069
datanode_4_1  | 2021-06-29 13:22:49,037 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=f68a8046-a727-4284-a11c-95d4001c9069.
datanode_4_1  | 2021-06-29 13:22:49,041 [Command processor thread] INFO server.RaftServer: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: addNew group-8A5594AF1C29:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0] returns group-8A5594AF1C29:java.util.concurrent.CompletableFuture@3c89f7b1[Not completed]
datanode_4_1  | 2021-06-29 13:22:49,046 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: new RaftServerImpl for group-8A5594AF1C29:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0] with ContainerStateMachine:uninitialized
datanode_4_1  | 2021-06-29 13:22:49,127 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_4_1  | 2021-06-29 13:22:49,127 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_4_1  | 2021-06-29 13:22:49,128 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_4_1  | 2021-06-29 13:22:49,128 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:49,115 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_4_1  | 2021-06-29 13:22:49,151 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_4_1  | 2021-06-29 13:22:49,151 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_4_1  | 2021-06-29 13:22:49,154 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_4_1  | 2021-06-29 13:22:49,163 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0], old=null, confs=<EMPTY_MAP>
datanode_4_1  | 2021-06-29 13:22:49,163 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_4_1  | 2021-06-29 13:22:49,164 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_4_1  | 2021-06-29 13:22:49,171 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29 does not exist. Creating ...
datanode_4_1  | 2021-06-29 13:22:49,196 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/in_use.lock acquired by nodename 7@e28b31ca8462
datanode_4_1  | 2021-06-29 13:22:49,229 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29 has been successfully formatted.
datanode_4_1  | 2021-06-29 13:22:49,231 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-8A5594AF1C29: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_4_1  | 2021-06-29 13:22:49,267 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_4_1  | 2021-06-29 13:22:49,269 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_4_1  | 2021-06-29 13:22:49,269 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_4_1  | 2021-06-29 13:22:49,270 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_4_1  | 2021-06-29 13:22:49,270 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29
datanode_4_1  | 2021-06-29 13:22:49,270 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:49,274 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_4_1  | 2021-06-29 13:22:49,302 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_4_1  | 2021-06-29 13:22:49,302 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29
datanode_6_1  | Enabled profiling in kernel
datanode_6_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_6_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_6_1  | 2021-06-29 13:21:59,177 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_6_1  | /************************************************************
datanode_6_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_6_1  | STARTUP_MSG:   host = fd0f7a65317d/10.5.0.9
datanode_6_1  | STARTUP_MSG:   args = []
datanode_6_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_1_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:26:04,445 [pool-30-thread-1] INFO raftlog.RaftLog: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=129, updated? true
datanode_1_1  | 2021-06-29 13:26:04,445 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:26:04,445 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 2021-06-29 13:26:04,445 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 2021-06-29 13:26:04,445 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:26:04,448 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:26:04,449 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:26:04,450 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:26:04,453 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:26:04,441 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@2dd2ff87{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_1_1  | 2021-06-29 13:26:04,469 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@51297528{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_1_1  | 2021-06-29 13:26:04,487 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719: new RaftServerImpl for group-9832F6BAD3F4:[] with ContainerStateMachine:uninitialized
datanode_1_1  | 2021-06-29 13:26:04,487 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_1_1  | 2021-06-29 13:26:04,487 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_1_1  | 2021-06-29 13:26:04,487 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_1_1  | 2021-06-29 13:26:04,487 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:04,488 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_1_1  | 2021-06-29 13:26:04,488 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_1_1  | 2021-06-29 13:26:04,488 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_1_1  | 2021-06-29 13:26:04,490 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_1_1  | 2021-06-29 13:26:04,491 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_1_1  | 2021-06-29 13:26:04,491 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_1_1  | 2021-06-29 13:26:04,495 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/in_use.lock acquired by nodename 7@5b184bd580b3
datanode_1_1  | 2021-06-29 13:26:04,496 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=8234872e-ae3b-48df-b771-2dd228a42719} from /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/current/raft-meta
datanode_1_1  | 2021-06-29 13:26:04,497 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-9832F6BAD3F4: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_1_1  | 2021-06-29 13:26:04,498 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:04,500 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_1_1  | 2021-06-29 13:26:04,504 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 2021-06-29 13:26:04,504 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_1_1  | 2021-06-29 13:26:04,504 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_1_1  | 2021-06-29 13:26:04,504 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:26:04,504 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:04,505 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_1_1  | 2021-06-29 13:26:04,507 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_1_1  | 2021-06-29 13:26:04,508 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_1_1  | 2021-06-29 13:26:04,508 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_1_1  | 2021-06-29 13:26:04,508 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_1_1  | 2021-06-29 13:26:04,510 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | 2021-06-29 13:26:04,521 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:26:04,533 [pool-30-thread-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: set configuration 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:04,547 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/current/log_inprogress_0
datanode_1_1  | 2021-06-29 13:26:04,547 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
datanode_1_1  | 2021-06-29 13:26:04,550 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 2021-06-29 13:26:04,552 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 2021-06-29 13:26:04,555 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 2021-06-29 13:26:04,559 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 2021-06-29 13:26:04,559 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:26:04,559 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:26:04,565 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:26:04,567 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:26:04,567 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:26:04,943 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@583030bd{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-11985492811807597991/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_1_1  | 2021-06-29 13:26:04,978 [main] INFO server.AbstractConnector: Started ServerConnector@3b8b4846{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_1_1  | 2021-06-29 13:26:04,978 [main] INFO server.Server: Started @24054ms
datanode_1_1  | 2021-06-29 13:26:04,987 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_1_1  | 2021-06-29 13:26:04,987 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_1_1  | 2021-06-29 13:26:04,995 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_1_1  | 2021-06-29 13:26:05,093 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@24902253] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_1_1  | 2021-06-29 13:26:07,640 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_1_1  | 2021-06-29 13:26:07,645 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_1_1  | 2021-06-29 13:26:07,933 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719
datanode_6_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
datanode_6_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_6_1  | STARTUP_MSG:   java = 11.0.10
datanode_6_1  | ************************************************************/
datanode_6_1  | 2021-06-29 13:21:59,282 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_6_1  | 2021-06-29 13:22:01,272 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_6_1  | 2021-06-29 13:22:02,026 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_6_1  | 2021-06-29 13:22:03,083 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_6_1  | 2021-06-29 13:22:03,084 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
datanode_6_1  | 2021-06-29 13:22:03,866 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:fd0f7a65317d ip:10.5.0.9
datanode_6_1  | 2021-06-29 13:22:07,364 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/hdds/scmUsed not found
datanode_6_1  | 2021-06-29 13:22:07,415 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
datanode_6_1  | 2021-06-29 13:22:07,438 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
datanode_6_1  | 2021-06-29 13:22:07,471 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
datanode_6_1  | 2021-06-29 13:22:07,849 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
datanode_6_1  | 2021-06-29 13:22:08,067 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_6_1  | 2021-06-29 13:22:08,073 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info file /data/metadata/ratis/scmUsed not found
datanode_6_1  | 2021-06-29 13:22:08,106 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
datanode_6_1  | 2021-06-29 13:22:08,514 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
datanode_6_1  | 2021-06-29 13:22:08,526 [Thread-7] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
datanode_6_1  | 2021-06-29 13:22:08,539 [Thread-7] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
datanode_6_1  | 2021-06-29 13:22:08,540 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_6_1  | 2021-06-29 13:22:19,819 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_6_1  | 2021-06-29 13:22:20,622 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_6_1  | 2021-06-29 13:22:21,448 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_6_1  | 2021-06-29 13:22:21,467 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_6_1  | 2021-06-29 13:22:21,467 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_6_1  | 2021-06-29 13:22:21,472 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_6_1  | 2021-06-29 13:22:21,483 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_6_1  | 2021-06-29 13:22:21,487 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_6_1  | 2021-06-29 13:22:21,495 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_6_1  | 2021-06-29 13:22:23,748 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_6_1  | 2021-06-29 13:22:23,774 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_6_1  | 2021-06-29 13:22:23,784 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_6_1  | 2021-06-29 13:22:23,915 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_6_1  | 2021-06-29 13:22:24,944 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_6_1  | 2021-06-29 13:22:25,068 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_6_1  | 2021-06-29 13:22:25,285 [main] INFO util.log: Logging initialized @33395ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_6_1  | 2021-06-29 13:22:26,010 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_6_1  | 2021-06-29 13:22:26,045 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_6_1  | 2021-06-29 13:22:26,136 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_6_1  | 2021-06-29 13:22:26,138 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_6_1  | 2021-06-29 13:22:26,146 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_6_1  | 2021-06-29 13:22:26,155 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_6_1  | 2021-06-29 13:22:26,465 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_6_1  | 2021-06-29 13:22:26,532 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_6_1  | 2021-06-29 13:22:26,542 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_6_1  | 2021-06-29 13:22:26,838 [main] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_6_1  | 2021-06-29 13:22:26,838 [main] INFO server.session: No SessionScavenger set, using defaults
datanode_6_1  | 2021-06-29 13:22:26,863 [main] INFO server.session: node0 Scavenging every 600000ms
datanode_6_1  | 2021-06-29 13:22:26,942 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@2fa47368{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_6_1  | 2021-06-29 13:22:26,950 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@6c06b1bc{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_6_1  | 2021-06-29 13:22:27,882 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@3134b261{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-15631976621197651778/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
datanode_6_1  | 2021-06-29 13:22:27,982 [main] INFO server.AbstractConnector: Started ServerConnector@5da3f32a{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
datanode_6_1  | 2021-06-29 13:22:27,991 [main] INFO server.Server: Started @36092ms
datanode_2_1  | 2021-06-29 13:26:25,283 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-3FE17345405C-LeaderElection2 ELECTION round 1: submit vote requests at term 17 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_2_1  | 2021-06-29 13:26:25,421 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3: ELECTION TIMEOUT received 1 response(s) and 0 exception(s):
datanode_2_1  | 2021-06-29 13:26:25,422 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection:   Response 0: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t19
datanode_2_1  | 2021-06-29 13:26:25,422 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3 ELECTION round 0: result TIMEOUT
datanode_2_1  | 2021-06-29 13:26:25,425 [7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3] INFO impl.LeaderElection: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf@group-F2D82F52F507-LeaderElection3 ELECTION round 1: submit vote requests at term 20 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:08,062 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: start as a follower, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:08,076 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_3_1  | 2021-06-29 13:22:54,712 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29 replies to ELECTION vote request: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-497430bc-ef01-4983-8299-c4c845566cf5#0:FAIL-t1. Peer's state: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29:t1, leader=null, voted=null, raftlog=497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:54,867 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: receive requestVote(ELECTION, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, group-27F3C9A95319, 2, (t:0, i:0))
datanode_3_1  | 2021-06-29 13:22:54,867 [grpc-default-executor-0] INFO impl.VoteContext: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FOLLOWER: accept ELECTION from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: our priority 0 <= candidate's priority 1
datanode_3_1  | 2021-06-29 13:22:54,867 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_3_1  | 2021-06-29 13:22:54,867 [grpc-default-executor-0] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_3_1  | 2021-06-29 13:22:54,867 [grpc-default-executor-0] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_3_1  | 2021-06-29 13:22:54,867 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState was interrupted: {}
datanode_3_1  | java.lang.InterruptedException: sleep interrupted
datanode_3_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_3_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_3_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_3_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_3_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_3_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_3_1  | 2021-06-29 13:22:54,872 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319 replies to ELECTION vote request: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-497430bc-ef01-4983-8299-c4c845566cf5#0:OK-t2. Peer's state: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319:t2, leader=null, voted=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, raftlog=497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:55,018 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-27F3C9A95319 with new leaderId: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_3_1  | 2021-06-29 13:22:55,018 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: change Leader from null to d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 at term 2 for appendEntries, leader elected after 12619ms
datanode_3_1  | 2021-06-29 13:22:55,070 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:22:55,097 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker: Starting segment from index:0
datanode_3_1  | 2021-06-29 13:22:55,123 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5054874351ns, electionTimeout:5051ms
datanode_3_1  | 2021-06-29 13:22:55,129 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState
datanode_3_1  | 2021-06-29 13:22:55,130 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_3_1  | 2021-06-29 13:22:55,131 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | 2021-06-29 13:22:55,131 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2
datanode_3_1  | 2021-06-29 13:22:55,171 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1], old=null
datanode_3_1  | 2021-06-29 13:22:55,176 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2 ELECTION round 0: result PASSED (term=1)
datanode_3_1  | 2021-06-29 13:22:55,176 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2
datanode_3_1  | 2021-06-29 13:22:55,176 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_3_1  | 2021-06-29 13:22:55,177 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-69F99F37BAD9 with new leaderId: 497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:22:55,177 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: change Leader from null to 497430bc-ef01-4983-8299-c4c845566cf5 at term 1 for becomeLeader, leader elected after 5196ms
datanode_3_1  | 2021-06-29 13:22:55,208 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_3_1  | 2021-06-29 13:22:55,234 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_3_1  | 2021-06-29 13:22:55,238 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:22:55,262 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_3_1  | 2021-06-29 13:22:55,302 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_1_1  | 2021-06-29 13:26:08,078 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState
datanode_1_1  | 2021-06-29 13:26:08,063 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: start as a follower, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:08,078 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_1_1  | 2021-06-29 13:26:08,078 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:26:08,123 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F2D82F52F507,id=8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:26:08,127 [ForkJoinPool.commonPool-worker-3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507
datanode_1_1  | 2021-06-29 13:26:08,131 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9832F6BAD3F4,id=8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:26:08,131 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:26:08,138 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: start as a follower, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:08,138 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_1_1  | 2021-06-29 13:26:08,138 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_1_1  | 2021-06-29 13:26:08,140 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3FE17345405C,id=8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:26:08,140 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C
datanode_1_1  | 2021-06-29 13:26:08,174 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: 8234872e-ae3b-48df-b771-2dd228a42719: start RPC server
datanode_1_1  | 2021-06-29 13:26:08,214 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 8234872e-ae3b-48df-b771-2dd228a42719: GrpcService started, listening on 9856
datanode_1_1  | 2021-06-29 13:26:08,215 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 8234872e-ae3b-48df-b771-2dd228a42719: GrpcService started, listening on 9857
datanode_1_1  | 2021-06-29 13:26:08,217 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 8234872e-ae3b-48df-b771-2dd228a42719: GrpcService started, listening on 9858
datanode_1_1  | 2021-06-29 13:26:08,225 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719 is started using port 9858 for RATIS
datanode_1_1  | 2021-06-29 13:26:08,225 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719 is started using port 9857 for RATIS_ADMIN
datanode_1_1  | 2021-06-29 13:26:08,225 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 8234872e-ae3b-48df-b771-2dd228a42719 is started using port 9856 for RATIS_SERVER
datanode_1_1  | 2021-06-29 13:26:08,259 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$447/0x0000000840528440@23f2005a] INFO util.JvmPauseMonitor: JvmPauseMonitor-8234872e-ae3b-48df-b771-2dd228a42719: Started
datanode_1_1  | 2021-06-29 13:26:12,795 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:26:12,796 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:26:12,832 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: receive requestVote(ELECTION, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, group-3FE17345405C, 15, (t:1, i:130))
datanode_1_1  | 2021-06-29 13:26:12,837 [grpc-default-executor-0] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: receive requestVote(ELECTION, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, group-F2D82F52F507, 18, (t:1, i:118))
datanode_1_1  | 2021-06-29 13:26:12,846 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FOLLOWER: accept ELECTION from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: our priority 0 <= candidate's priority 1
datanode_1_1  | 2021-06-29 13:26:12,847 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: changes role from  FOLLOWER to FOLLOWER at term 15 for candidate:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:26:12,847 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_1_1  | 2021-06-29 13:26:12,848 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState was interrupted: {}
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_1_1  | 2021-06-29 13:26:12,846 [grpc-default-executor-0] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FOLLOWER: accept ELECTION from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: our priority 0 <= candidate's priority 0
datanode_1_1  | 2021-06-29 13:26:12,861 [grpc-default-executor-0] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: changes role from  FOLLOWER to FOLLOWER at term 18 for candidate:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:26:12,861 [grpc-default-executor-0] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:26:12,861 [grpc-default-executor-0] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_1_1  | 2021-06-29 13:26:12,855 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_1_1  | 2021-06-29 13:26:12,861 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState was interrupted: {}
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_1_1  | 2021-06-29 13:26:12,915 [grpc-default-executor-0] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507 replies to ELECTION vote request: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t18. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507:t18, leader=null, voted=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLog:OPENED:c117,f118,i118, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:12,941 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C replies to ELECTION vote request: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t15. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C:t15, leader=null, voted=e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLog:OPENED:c129,f130,i130, conf=0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:13,048 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-F2D82F52F507 with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:26:13,052 [grpc-default-executor-0] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 18 for appendEntries, leader elected after 10475ms
datanode_1_1  | 2021-06-29 13:26:13,065 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-3FE17345405C with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_1_1  | 2021-06-29 13:26:13,066 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 15 for appendEntries, leader elected after 8749ms
datanode_1_1  | 2021-06-29 13:26:13,096 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: set configuration 131: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:13,104 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: Rolling segment log-0_130 to index:130
datanode_1_1  | 2021-06-29 13:26:13,147 [grpc-default-executor-0] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: set configuration 119: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:13,164 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: Rolling segment log-0_118 to index:118
datanode_1_1  | 2021-06-29 13:26:13,170 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0 to /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_0-130
datanode_1_1  | 2021-06-29 13:26:13,171 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0 to /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_0-118
datanode_1_1  | 2021-06-29 13:26:13,186 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_131
datanode_1_1  | 2021-06-29 13:26:13,192 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_119
datanode_1_1  | 2021-06-29 13:26:13,259 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5181971523ns, electionTimeout:5130ms
datanode_1_1  | 2021-06-29 13:26:13,259 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState
datanode_1_1  | 2021-06-29 13:26:13,260 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_1_1  | 2021-06-29 13:26:13,262 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_1_1  | 2021-06-29 13:26:13,262 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-FollowerState] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1
datanode_1_1  | 2021-06-29 13:26:13,296 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.LeaderElection: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:1], old=null
datanode_1_1  | 2021-06-29 13:26:13,325 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.LeaderElection: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1 ELECTION round 0: result PASSED (term=2)
datanode_1_1  | 2021-06-29 13:26:13,326 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1
datanode_1_1  | 2021-06-29 13:26:13,326 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
datanode_1_1  | 2021-06-29 13:26:13,326 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-9832F6BAD3F4 with new leaderId: 8234872e-ae3b-48df-b771-2dd228a42719
datanode_1_1  | 2021-06-29 13:26:13,368 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: change Leader from null to 8234872e-ae3b-48df-b771-2dd228a42719 at term 2 for becomeLeader, leader elected after 8828ms
datanode_1_1  | 2021-06-29 13:26:13,373 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_1_1  | 2021-06-29 13:26:13,379 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4
datanode_1_1  | 2021-06-29 13:26:13,385 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:25:17,028 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:22:28,015 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_6_1  | 2021-06-29 13:22:28,015 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
om_1          | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om_1          | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_1_1  | 2021-06-29 13:26:13,410 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_5_1  | 2021-06-29 13:25:17,028 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6
datanode_6_1  | 2021-06-29 13:22:28,019 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
datanode_4_1  | 2021-06-29 13:22:49,302 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
om_1          | 2021-06-29 13:22:04,473 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
datanode_3_1  | 2021-06-29 13:22:55,303 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1         | WARNING: HDFS_STORAGECONTAINERMANAGER_OPTS has been deprecated by OZONE_SCM_OPTS.
datanode_1_1  | 2021-06-29 13:26:13,444 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_5_1  | 2021-06-29 13:25:17,032 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 ELECTION round 0: submit vote requests at term 8 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:28,169 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4715a11e] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_4_1  | 2021-06-29 13:22:49,303 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
om_1          | /************************************************************
datanode_3_1  | 2021-06-29 13:22:55,303 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1         | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_1_1  | 2021-06-29 13:26:13,470 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_5_1  | 2021-06-29 13:25:22,049 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_6_1  | 2021-06-29 13:22:29,796 [Datanode State Machine Task Thread - 0] INFO datanode.InitDatanodeState: DatanodeDetails is persisted to /data/datanode.id
datanode_4_1  | 2021-06-29 13:22:49,303 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
om_1          | STARTUP_MSG: Starting OzoneManager
datanode_3_1  | 2021-06-29 13:22:55,355 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderStateImpl
scm_1         | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
scm_1         | 2021-06-29 13:21:54,007 [main] INFO server.StorageContainerManagerStarter: STARTUP_MSG: 
datanode_5_1  | 2021-06-29 13:25:22,049 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 ELECTION round 0: result TIMEOUT
datanode_6_1  | 2021-06-29 13:22:31,862 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 0 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:49,319 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_3_1  | 2021-06-29 13:22:55,375 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: Starting segment from index:0
datanode_5_1  | 2021-06-29 13:25:22,050 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 ELECTION round 1: submit vote requests at term 6 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_6_1  | 2021-06-29 13:22:32,863 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 1 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:49,325 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
om_1          | STARTUP_MSG:   host = de30c0549039/10.5.0.70
scm_1         | /************************************************************
datanode_1_1  | 2021-06-29 13:26:13,483 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_3_1  | 2021-06-29 13:22:55,393 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection2] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: set configuration 0: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:25:22,105 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_6_1  | 2021-06-29 13:22:33,864 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 2 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:49,325 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om_1          | STARTUP_MSG:   args = [--init]
scm_1         | STARTUP_MSG: Starting StorageContainerManager
datanode_1_1  | 2021-06-29 13:26:13,530 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderStateImpl
datanode_3_1  | 2021-06-29 13:22:55,443 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:25:22,106 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 ELECTION round 0: result TIMEOUT
datanode_6_1  | 2021-06-29 13:22:34,865 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 3 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:49,325 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om_1          | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
scm_1         | STARTUP_MSG:   host = beed6d40af4a/10.5.0.71
datanode_1_1  | 2021-06-29 13:26:13,578 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
datanode_3_1  | 2021-06-29 13:22:55,447 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:25:22,108 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 ELECTION round 1: submit vote requests at term 9 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:35,866 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ipc.Client: Retrying connect to server: scm/10.5.0.71:9861. Already tried 4 time(s); retry policy is RetryUpToMaximumCountWithFixedSleep(maxRetries=15, sleepTime=1000 MILLISECONDS)
datanode_4_1  | 2021-06-29 13:22:49,325 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om_1          | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
scm_1         | STARTUP_MSG:   args = [--init]
datanode_1_1  | 2021-06-29 13:26:13,583 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/current/log_inprogress_0 to /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/current/log_0-0
datanode_3_1  | 2021-06-29 13:22:59,904 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5203921457ns, electionTimeout:5200ms
datanode_5_1  | 2021-06-29 13:25:27,159 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_6_1  | 2021-06-29 13:22:37,117 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_4_1  | 2021-06-29 13:22:49,337 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
om_1          | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
scm_1         | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_1_1  | 2021-06-29 13:26:13,587 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/ba356189-667a-4bf8-a21e-9832f6bad3f4/current/log_inprogress_1
datanode_3_1  | 2021-06-29 13:22:59,905 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState
datanode_5_1  | 2021-06-29 13:25:27,160 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 ELECTION round 1: result TIMEOUT
datanode_6_1  | 2021-06-29 13:22:37,125 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_4_1  | 2021-06-29 13:22:49,338 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
om_1          | STARTUP_MSG:   java = 11.0.10
scm_1         | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar
datanode_1_1  | 2021-06-29 13:26:13,626 [8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4-LeaderElection1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-9832F6BAD3F4: set configuration 1: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:1], old=null
datanode_3_1  | 2021-06-29 13:22:59,905 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_5_1  | 2021-06-29 13:25:27,161 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 ELECTION round 2: submit vote requests at term 7 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_6_1  | 2021-06-29 13:22:37,553 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis aaf0680a-66c1-4277-8808-e83a9401de63
datanode_4_1  | 2021-06-29 13:22:49,344 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
om_1          | ************************************************************/
scm_1         | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_1_1  | 2021-06-29 13:26:14,181 [grpc-default-executor-0] WARN server.GrpcServerProtocolService: 8234872e-ae3b-48df-b771-2dd228a42719: installSnapshot onError, lastRequest: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4->8234872e-ae3b-48df-b771-2dd228a42719#2-t15,previous=(t:15, i:131),leaderCommit=131,initializing? true,entries: size=1, first=(t:15, i:132), METADATAENTRY(c:131): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_3_1  | 2021-06-29 13:22:59,906 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:25:27,210 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_6_1  | 2021-06-29 13:22:37,713 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: aaf0680a-66c1-4277-8808-e83a9401de63: start RPC server
datanode_4_1  | 2021-06-29 13:22:49,355 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
om_1          | 2021-06-29 13:22:04,530 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
scm_1         | STARTUP_MSG:   java = 11.0.10
datanode_1_1  | 2021-06-29 13:26:14,182 [grpc-default-executor-1] WARN server.GrpcServerProtocolService: 8234872e-ae3b-48df-b771-2dd228a42719: installSnapshot onError, lastRequest: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4->8234872e-ae3b-48df-b771-2dd228a42719#2-t18,previous=(t:18, i:119),leaderCommit=119,initializing? true,entries: size=1, first=(t:18, i:120), METADATAENTRY(c:119): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_3_1  | 2021-06-29 13:22:59,906 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3
datanode_5_1  | 2021-06-29 13:25:27,212 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 ELECTION round 1: result TIMEOUT
datanode_6_1  | 2021-06-29 13:22:37,726 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: aaf0680a-66c1-4277-8808-e83a9401de63: GrpcService started, listening on 9856
datanode_4_1  | 2021-06-29 13:22:49,356 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
om_1          | 2021-06-29 13:22:15,465 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
scm_1         | ************************************************************/
datanode_1_1  | 2021-06-29 13:26:20,446 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-F2D82F52F507, 19, (t:1, i:118))
datanode_3_1  | 2021-06-29 13:22:59,911 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3 ELECTION round 0: submit vote requests at term 2 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:25:27,214 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 ELECTION round 2: submit vote requests at term 10 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:37,731 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: aaf0680a-66c1-4277-8808-e83a9401de63: GrpcService started, listening on 9857
datanode_4_1  | 2021-06-29 13:22:49,357 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
om_1          | 2021-06-29 13:22:16,267 [main] INFO ha.OMHANodeDetails: Configuration does not have ozone.om.address set. Falling back to the default OM address om/10.5.0.70:9862
scm_1         | 2021-06-29 13:21:54,051 [main] INFO server.StorageContainerManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_1_1  | 2021-06-29 13:26:20,446 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FOLLOWER: reject ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: our last entry (t:18, i:120) > candidate's last entry (t:1, i:118)
datanode_3_1  | 2021-06-29 13:22:59,964 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3: ELECTION PASSED received 2 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:25:29,893 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:37,740 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: aaf0680a-66c1-4277-8808-e83a9401de63: GrpcService started, listening on 9858
datanode_4_1  | 2021-06-29 13:22:49,357 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
om_1          | 2021-06-29 13:22:16,269 [main] INFO ha.OMHANodeDetails: OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
scm_1         | 2021-06-29 13:21:54,710 [main] WARN server.ServerUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_1_1  | 2021-06-29 13:26:20,446 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: change Leader from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 to null at term 19 for updateCurrentTerm
datanode_3_1  | 2021-06-29 13:22:59,965 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection:   Response 0: 497430bc-ef01-4983-8299-c4c845566cf5<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:OK-t2
datanode_5_1  | 2021-06-29 13:25:29,894 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:37,742 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis aaf0680a-66c1-4277-8808-e83a9401de63 is started using port 9858 for RATIS
datanode_4_1  | 2021-06-29 13:22:49,359 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
om_1          | 2021-06-29 13:22:16,275 [main] INFO ha.OMHANodeDetails: OM Node ID is not set. Setting it to the default ID: om1
scm_1         | 2021-06-29 13:21:54,936 [main] INFO ha.SCMHANodeDetails: ServiceID for StorageContainerManager is null
datanode_1_1  | 2021-06-29 13:26:20,446 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: changes role from  FOLLOWER to FOLLOWER at term 19 for candidate:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_3_1  | 2021-06-29 13:22:59,965 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection:   Response 1: 497430bc-ef01-4983-8299-c4c845566cf5<-aaf0680a-66c1-4277-8808-e83a9401de63#0:FAIL-t2
datanode_5_1  | 2021-06-29 13:25:30,405 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:37,749 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis aaf0680a-66c1-4277-8808-e83a9401de63 is started using port 9857 for RATIS_ADMIN
datanode_4_1  | 2021-06-29 13:22:49,359 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
om_1          | 2021-06-29 13:22:16,544 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
scm_1         | 2021-06-29 13:21:54,936 [main] INFO ha.SCMHANodeDetails: ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
datanode_1_1  | 2021-06-29 13:26:20,446 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_3_1  | 2021-06-29 13:22:59,965 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3 ELECTION round 0: result PASSED
datanode_5_1  | 2021-06-29 13:25:30,405 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_6_1  | 2021-06-29 13:22:37,749 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis aaf0680a-66c1-4277-8808-e83a9401de63 is started using port 9856 for RATIS_SERVER
datanode_4_1  | 2021-06-29 13:22:49,360 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
om_1          | 2021-06-29 13:22:22,551 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 1 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1         | 2021-06-29 13:21:55,626 [main] INFO server.StorageContainerManager: SCM initialization succeeded. Current cluster id for sd=/data/metadata/scm; cid=CID-1eaef4a2-1fbb-4964-82b8-6993eedb848e; layoutVersion=0; scmId=7fe4d8a1-c4a8-4757-95fe-3bde54d5cbdf
datanode_1_1  | 2021-06-29 13:26:20,447 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_3_1  | 2021-06-29 13:22:59,965 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3
datanode_5_1  | 2021-06-29 13:25:30,405 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:37,775 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$298/0x0000000840492040@27612e6d] INFO util.JvmPauseMonitor: JvmPauseMonitor-aaf0680a-66c1-4277-8808-e83a9401de63: Started
datanode_4_1  | 2021-06-29 13:22:49,388 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29
om_1          | 2021-06-29 13:22:24,552 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 2 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1         | 2021-06-29 13:21:55,727 [shutdown-hook-0] INFO server.StorageContainerManagerStarter: SHUTDOWN_MSG: 
datanode_1_1  | 2021-06-29 13:26:20,447 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState was interrupted: {}
datanode_3_1  | 2021-06-29 13:22:59,965 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
datanode_5_1  | 2021-06-29 13:25:30,405 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:46,713 [grpc-default-executor-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.aaf0680a-66c1-4277-8808-e83a9401de63
datanode_4_1  | 2021-06-29 13:22:49,462 [grpc-default-executor-2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
om_1          | 2021-06-29 13:22:26,554 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 3 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1         | /************************************************************
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_3_1  | 2021-06-29 13:22:59,965 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-8A5594AF1C29 with new leaderId: 497430bc-ef01-4983-8299-c4c845566cf5
datanode_5_1  | 2021-06-29 13:25:30,406 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5 ELECTION round 2: result REJECTED
datanode_6_1  | 2021-06-29 13:22:46,715 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.aaf0680a-66c1-4277-8808-e83a9401de63
datanode_4_1  | 2021-06-29 13:22:49,431 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
om_1          | 2021-06-29 13:22:28,556 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 4 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1         | SHUTDOWN_MSG: Shutting down StorageContainerManager at beed6d40af4a/10.5.0.71
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_3_1  | 2021-06-29 13:22:59,966 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: change Leader from null to 497430bc-ef01-4983-8299-c4c845566cf5 at term 2 for becomeLeader, leader elected after 10071ms
datanode_5_1  | 2021-06-29 13:25:30,406 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 7 for REJECTED
datanode_6_1  | 2021-06-29 13:22:47,081 [grpc-default-executor-0] INFO server.RaftServer: aaf0680a-66c1-4277-8808-e83a9401de63: addNew group-27F3C9A95319:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0] returns group-27F3C9A95319:java.util.concurrent.CompletableFuture@3ec6dfb3[Not completed]
datanode_4_1  | 2021-06-29 13:22:49,478 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29
om_1          | 2021-06-29 13:22:30,557 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 5 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1         | ************************************************************/
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_3_1  | 2021-06-29 13:22:59,966 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_6_1  | 2021-06-29 13:22:47,302 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63: new RaftServerImpl for group-27F3C9A95319:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
datanode_5_1  | 2021-06-29 13:25:30,406 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5
datanode_4_1  | 2021-06-29 13:22:49,494 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0], old=null
om_1          | 2021-06-29 13:22:32,559 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 6 failover attempts. Trying to failover after sleeping for 2000ms.
scm_1         | Enabled profiling in kernel
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_3_1  | 2021-06-29 13:22:59,966 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:22:59,967 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:22:59,967 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_3_1  | 2021-06-29 13:22:59,968 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_3_1  | 2021-06-29 13:22:59,975 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_3_1  | 2021-06-29 13:22:59,975 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_3_1  | 2021-06-29 13:23:00,012 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_3_1  | 2021-06-29 13:23:00,013 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:23:00,013 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_3_1  | 2021-06-29 13:23:00,024 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_3_1  | 2021-06-29 13:23:00,033 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3_1  | 2021-06-29 13:23:00,037 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:23:00,038 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:23:00,067 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_3_1  | 2021-06-29 13:23:00,067 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:23:00,067 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_3_1  | 2021-06-29 13:23:00,068 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_3_1  | 2021-06-29 13:23:00,071 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3_1  | 2021-06-29 13:23:00,071 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:23:00,076 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderStateImpl
datanode_3_1  | 2021-06-29 13:23:00,077 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: Starting segment from index:0
datanode_3_1  | 2021-06-29 13:23:00,083 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0
datanode_3_1  | 2021-06-29 13:23:00,111 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:23:00,282 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: receive requestVote(ELECTION, aaf0680a-66c1-4277-8808-e83a9401de63, group-8A5594AF1C29, 2, (t:0, i:0))
datanode_3_1  | 2021-06-29 13:23:00,282 [grpc-default-executor-0] INFO impl.VoteContext: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LEADER: reject ELECTION from aaf0680a-66c1-4277-8808-e83a9401de63: already has voted for 497430bc-ef01-4983-8299-c4c845566cf5 at current term 2
datanode_3_1  | 2021-06-29 13:23:00,283 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29 replies to ELECTION vote request: aaf0680a-66c1-4277-8808-e83a9401de63<-497430bc-ef01-4983-8299-c4c845566cf5#0:FAIL-t2. Peer's state: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29:t2, leader=497430bc-ef01-4983-8299-c4c845566cf5, voted=497430bc-ef01-4983-8299-c4c845566cf5, raftlog=497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:23:07,886 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29->d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2-GrpcLogAppender-LogAppenderDaemon] ERROR raftlog.RaftLog: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLog: Timeout readStateMachineData for (t:2, i:1), STATEMACHINELOGENTRY, cmdType: WriteChunk traceID: "" containerID: 1 datanodeUuid: "497430bc-ef01-4983-8299-c4c845566cf5" pipelineID: "6e538fba-de29-4913-87ba-8a5594af1c29" writeChunk { blockID { containerID: 1 localID: 107544261427200001 blockCommitSequenceId: 0 } chunkData { chunkName: "107544261427200001_chunk_1" offset: 0 len: 10240 checksumData { type: CRC32 bytesPerChecksum: 1048576 checksums: "5\"\257\270" } } }, container path=/data/hdds/hdds/CID-1eaef4a2-1fbb-4964-82b8-6993eedb848e/current/containerDir0/1
datanode_3_1  | java.util.concurrent.TimeoutException
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)
datanode_3_1  | 	at org.apache.ratis.server.raftlog.RaftLogBase$EntryWithDataImpl.getEntry(RaftLogBase.java:393)
datanode_3_1  | 	at org.apache.ratis.util.DataQueue.pollList(DataQueue.java:134)
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderBase.newAppendEntriesRequest(LogAppenderBase.java:150)
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:211)
om_1          | 2021-06-29 13:22:34,561 [main] INFO retry.RetryInvocationHandler: com.google.protobuf.ServiceException: java.net.ConnectException: Call From de30c0549039/10.5.0.70 to scm:9863 failed on connection exception: java.net.ConnectException: Connection refused; For more details see:  http://wiki.apache.org/hadoop/ConnectionRefused, while invoking $Proxy32.send over nodeId=scmNodeId,nodeAddress=scm/10.5.0.71:9863 after 7 failover attempts. Trying to failover after sleeping for 2000ms.
om_1          | OM initialization succeeded.Current cluster id for sd=/data/metadata/om;cid=CID-1eaef4a2-1fbb-4964-82b8-6993eedb848e;layoutVersion=0
om_1          | 2021-06-29 13:22:37,988 [shutdown-hook-0] INFO om.OzoneManagerStarter: SHUTDOWN_MSG: 
om_1          | /************************************************************
om_1          | SHUTDOWN_MSG: Shutting down OzoneManager at de30c0549039/10.5.0.70
om_1          | ************************************************************/
om_1          | Enabled profiling in kernel
om_1          | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
om_1          | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
om_1          | 2021-06-29 13:22:45,673 [main] INFO om.OzoneManagerStarter: STARTUP_MSG: 
om_1          | /************************************************************
om_1          | STARTUP_MSG: Starting OzoneManager
om_1          | STARTUP_MSG:   host = de30c0549039/10.5.0.70
om_1          | STARTUP_MSG:   args = []
om_1          | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
om_1          | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/ozone-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/ozone-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ozone-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/ozone-interface-storage-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar
om_1          | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
datanode_4_1  | 2021-06-29 13:22:49,508 [pool-22-thread-1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: changes role from      null to FOLLOWER at term 0 for startAsFollower
om_1          | STARTUP_MSG:   java = 11.0.10
datanode_6_1  | 2021-06-29 13:22:47,362 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_5_1  | 2021-06-29 13:25:30,406 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection5] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:145)
scm_1         | WARNING: HDFS_STORAGECONTAINERMANAGER_OPTS has been deprecated by OZONE_SCM_OPTS.
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_4_1  | 2021-06-29 13:22:49,509 [pool-22-thread-1] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
datanode_4_1  | 2021-06-29 13:22:49,523 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5594AF1C29,id=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
om_1          | ************************************************************/
datanode_6_1  | 2021-06-29 13:22:47,381 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_5_1  | 2021-06-29 13:25:30,407 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
scm_1         | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_4_1  | 2021-06-29 13:22:49,533 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
om_1          | 2021-06-29 13:22:45,720 [main] INFO om.OzoneManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
datanode_6_1  | 2021-06-29 13:22:47,381 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_6_1  | 2021-06-29 13:22:47,381 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_3_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
scm_1         | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_4_1  | 2021-06-29 13:22:49,550 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: receive requestVote(ELECTION, 497430bc-ef01-4983-8299-c4c845566cf5, group-27F3C9A95319, 1, (t:0, i:0))
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om_1          | 2021-06-29 13:22:51,889 [main] INFO ha.OMHANodeDetails: ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
datanode_6_1  | 2021-06-29 13:22:47,381 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_5_1  | 2021-06-29 13:25:30,407 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_3_1  | 2021-06-29 13:23:07,889 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29->d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2-GrpcLogAppender-LogAppenderDaemon] WARN leader.LogAppender: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29->d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: Failed to get (t:2, i:1), STATEMACHINELOGENTRY, cmdType: WriteChunk traceID: "" containerID: 1 datanodeUuid: "497430bc-ef01-4983-8299-c4c845566cf5" pipelineID: "6e538fba-de29-4913-87ba-8a5594af1c29" writeChunk { blockID { containerID: 1 localID: 107544261427200001 blockCommitSequenceId: 0 } chunkData { chunkName: "107544261427200001_chunk_1" offset: 0 len: 10240 checksumData { type: CRC32 bytesPerChecksum: 1048576 checksums: "5\"\257\270" } } }, container path=/data/hdds/hdds/CID-1eaef4a2-1fbb-4964-82b8-6993eedb848e/current/containerDir0/1 in 179998600ns: {}
scm_1         | 2021-06-29 13:22:17,034 [main] INFO server.StorageContainerManagerStarter: STARTUP_MSG: 
datanode_4_1  | 2021-06-29 13:22:49,564 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=6e538fba-de29-4913-87ba-8a5594af1c29
datanode_1_1  | 2021-06-29 13:26:20,458 [grpc-default-executor-2] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-3FE17345405C, 16, (t:1, i:130))
om_1          | 2021-06-29 13:22:52,032 [main] INFO ha.OMHANodeDetails: Configuration does not have ozone.om.address set. Falling back to the default OM address om/10.5.0.70:9862
datanode_6_1  | 2021-06-29 13:22:47,382 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_5_1  | 2021-06-29 13:25:30,407 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | java.util.concurrent.TimeoutException
scm_1         | /************************************************************
datanode_4_1  | 2021-06-29 13:22:49,584 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-86C7D87CD858->497430bc-ef01-4983-8299-c4c845566cf5
datanode_1_1  | 2021-06-29 13:26:20,458 [grpc-default-executor-2] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FOLLOWER: reject ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: our last entry (t:15, i:132) > candidate's last entry (t:1, i:130)
om_1          | 2021-06-29 13:22:52,032 [main] INFO ha.OMHANodeDetails: OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
datanode_6_1  | 2021-06-29 13:22:47,437 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:25:30,407 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)
scm_1         | STARTUP_MSG: Starting StorageContainerManager
datanode_4_1  | 2021-06-29 13:22:49,639 [grpc-default-executor-2] INFO impl.VoteContext: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-CANDIDATE: reject ELECTION from 497430bc-ef01-4983-8299-c4c845566cf5: already has voted for d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 at current term 1
datanode_1_1  | 2021-06-29 13:26:20,458 [grpc-default-executor-2] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: change Leader from e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 to null at term 16 for updateCurrentTerm
om_1          | 2021-06-29 13:22:52,032 [main] INFO ha.OMHANodeDetails: OM Node ID is not set. Setting it to the default ID: om1
datanode_6_1  | 2021-06-29 13:22:47,561 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
datanode_5_1  | 2021-06-29 13:25:30,409 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6 ELECTION round 2: result REJECTED
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)
scm_1         | STARTUP_MSG:   host = beed6d40af4a/10.5.0.71
datanode_4_1  | 2021-06-29 13:22:49,715 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
datanode_1_1  | 2021-06-29 13:26:20,458 [grpc-default-executor-2] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: changes role from  FOLLOWER to FOLLOWER at term 16 for candidate:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
om_1          | 2021-06-29 13:22:52,050 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_6_1  | 2021-06-29 13:22:47,571 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_5_1  | 2021-06-29 13:25:30,409 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 10 for REJECTED
datanode_3_1  | 	at org.apache.ratis.server.raftlog.RaftLogBase$EntryWithDataImpl.getEntry(RaftLogBase.java:393)
scm_1         | STARTUP_MSG:   args = []
datanode_4_1  | 2021-06-29 13:22:49,718 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection:   Response 0: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-aaf0680a-66c1-4277-8808-e83a9401de63#0:FAIL-t1
datanode_1_1  | 2021-06-29 13:26:20,458 [grpc-default-executor-2] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
om_1          | 2021-06-29 13:22:52,082 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_6_1  | 2021-06-29 13:22:47,607 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_5_1  | 2021-06-29 13:25:30,409 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6
datanode_3_1  | 	at org.apache.ratis.util.DataQueue.pollList(DataQueue.java:134)
scm_1         | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_4_1  | 2021-06-29 13:22:49,720 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection:   Response 1: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-497430bc-ef01-4983-8299-c4c845566cf5#0:FAIL-t1
datanode_4_1  | 2021-06-29 13:22:49,721 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1 ELECTION round 0: result REJECTED
om_1          | 2021-06-29 13:22:55,150 [main] WARN server.ServerUtils: ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_6_1  | 2021-06-29 13:22:47,608 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 does not exist. Creating ...
datanode_5_1  | 2021-06-29 13:25:30,409 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection6] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderBase.newAppendEntriesRequest(LogAppenderBase.java:150)
datanode_4_1  | 2021-06-29 13:22:49,737 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319 replies to ELECTION vote request: 497430bc-ef01-4983-8299-c4c845566cf5<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:FAIL-t1. Peer's state: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319:t1, leader=null, voted=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, raftlog=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:20,458 [grpc-default-executor-2] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
scm_1         | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar
om_1          | 2021-06-29 13:22:55,760 [main] INFO codec.OmKeyInfoCodec: OmKeyInfoCodec ignorePipeline = true
datanode_6_1  | 2021-06-29 13:22:47,669 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/in_use.lock acquired by nodename 7@fd0f7a65317d
datanode_5_1  | 2021-06-29 13:25:35,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5089582979ns, electionTimeout:5089ms
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:211)
datanode_4_1  | 2021-06-29 13:22:49,767 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
datanode_1_1  | 2021-06-29 13:26:20,458 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState was interrupted: {}
scm_1         | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
om_1          | 2021-06-29 13:22:55,762 [main] INFO codec.RepeatedOmKeyInfoCodec: RepeatedOmKeyInfoCodec ignorePipeline = true
datanode_5_1  | 2021-06-29 13:25:35,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_6_1  | 2021-06-29 13:22:47,733 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 has been successfully formatted.
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:145)
datanode_4_1  | 2021-06-29 13:22:49,767 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
scm_1         | STARTUP_MSG:   java = 11.0.10
om_1          | 2021-06-29 13:22:56,440 [main] INFO om.OzoneManager: Created Volume s3v With Owner hadoop required for S3Gateway operations.
om_1          | 2021-06-29 13:22:56,456 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om_1          | 2021-06-29 13:22:56,457 [main] WARN ratis.OzoneManagerRatisServer: ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
om_1          | 2021-06-29 13:22:56,476 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
om_1          | 2021-06-29 13:22:56,636 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om_1          | 2021-06-29 13:22:56,686 [main] INFO ratis.OzoneManagerRatisServer: Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: om:9872
datanode_6_1  | 2021-06-29 13:22:47,790 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-27F3C9A95319: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_5_1  | 2021-06-29 13:25:35,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
datanode_6_1  | 2021-06-29 13:22:47,795 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_6_1  | 2021-06-29 13:22:47,809 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
scm_1         | ************************************************************/
om_1          | 2021-06-29 13:22:56,710 [main] INFO ratis.OzoneManagerStateMachine: LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
datanode_5_1  | 2021-06-29 13:25:35,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:22:47,892 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_4_1  | 2021-06-29 13:22:49,767 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection1] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState
datanode_3_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
scm_1         | 2021-06-29 13:22:17,150 [main] INFO server.StorageContainerManagerStarter: registered UNIX signal handlers for [TERM, HUP, INT]
scm_1         | 2021-06-29 13:22:18,358 [main] INFO ha.SCMHANodeDetails: ServiceID for StorageContainerManager is null
datanode_5_1  | 2021-06-29 13:25:35,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7
datanode_6_1  | 2021-06-29 13:22:47,895 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_6_1  | 2021-06-29 13:22:47,901 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319
datanode_4_1  | 2021-06-29 13:22:50,169 [Command processor thread] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.client_message_metrics.client-3BAA2B38050A->aaf0680a-66c1-4277-8808-e83a9401de63
datanode_3_1  | 2021-06-29 13:23:07,894 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29->aaf0680a-66c1-4277-8808-e83a9401de63-GrpcLogAppender-LogAppenderDaemon] ERROR raftlog.RaftLog: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLog: Timeout readStateMachineData for (t:2, i:1), STATEMACHINELOGENTRY, cmdType: WriteChunk traceID: "" containerID: 1 datanodeUuid: "497430bc-ef01-4983-8299-c4c845566cf5" pipelineID: "6e538fba-de29-4913-87ba-8a5594af1c29" writeChunk { blockID { containerID: 1 localID: 107544261427200001 blockCommitSequenceId: 0 } chunkData { chunkName: "107544261427200001_chunk_1" offset: 0 len: 10240 checksumData { type: CRC32 bytesPerChecksum: 1048576 checksums: "5\"\257\270" } } }, container path=/data/hdds/hdds/CID-1eaef4a2-1fbb-4964-82b8-6993eedb848e/current/containerDir0/1
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
om_1          | 2021-06-29 13:22:56,771 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
scm_1         | 2021-06-29 13:22:18,448 [main] INFO ha.SCMHANodeDetails: ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
datanode_5_1  | 2021-06-29 13:25:35,502 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7 ELECTION round 0: submit vote requests at term 11 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:47,918 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:50,425 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS THREE PipelineID=6e538fba-de29-4913-87ba-8a5594af1c29.
datanode_3_1  | java.util.concurrent.TimeoutException
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
om_1          | 2021-06-29 13:22:56,908 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = -1 (default)
scm_1         | 2021-06-29 13:22:20,250 [main] WARN server.ServerUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_5_1  | 2021-06-29 13:25:35,514 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5107301215ns, electionTimeout:5105ms
datanode_6_1  | 2021-06-29 13:22:47,986 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_4_1  | 2021-06-29 13:22:54,186 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState] INFO impl.FollowerState: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5194153767ns, electionTimeout:5087ms
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
om_1          | 2021-06-29 13:22:56,913 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
scm_1         | 2021-06-29 13:22:28,820 [main] WARN utils.HAUtils: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_5_1  | 2021-06-29 13:25:35,514 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_6_1  | 2021-06-29 13:22:48,033 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_4_1  | 2021-06-29 13:22:54,187 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
om_1          | 2021-06-29 13:22:56,915 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = -1 (default)
scm_1         | 2021-06-29 13:22:30,815 [main] WARN db.DBStoreBuilder: ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
datanode_5_1  | 2021-06-29 13:25:35,514 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
datanode_6_1  | 2021-06-29 13:22:48,126 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
datanode_4_1  | 2021-06-29 13:22:54,187 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_3_1  | 	at org.apache.ratis.server.raftlog.RaftLogBase$EntryWithDataImpl.getEntry(RaftLogBase.java:393)
datanode_1_1  | 2021-06-29 13:26:20,473 [grpc-default-executor-2] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t16. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C:t16, leader=null, voted=null, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLog:OPENED:c131,f132,i132, conf=131: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
om_1          | 2021-06-29 13:22:56,915 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
scm_1         | 2021-06-29 13:22:32,831 [main] INFO net.NodeSchemaLoader: Loading schema from [file:/etc/hadoop/network-topology-default.xml, jar:file:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
datanode_5_1  | 2021-06-29 13:25:35,514 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:22:48,151 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_4_1  | 2021-06-29 13:22:54,187 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | 	at org.apache.ratis.util.DataQueue.pollList(DataQueue.java:134)
datanode_1_1  | 2021-06-29 13:26:20,479 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507 replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t19. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507:t19, leader=null, voted=null, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLog:OPENED:c119,f120,i120, conf=119: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
om_1          | 2021-06-29 13:22:56,915 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9872 (custom)
scm_1         | 2021-06-29 13:22:32,836 [main] INFO net.NodeSchemaLoader: Loading network topology layer schema file
datanode_5_1  | 2021-06-29 13:25:35,514 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8
datanode_6_1  | 2021-06-29 13:22:48,151 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_4_1  | 2021-06-29 13:22:54,188 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderBase.newAppendEntriesRequest(LogAppenderBase.java:150)
datanode_1_1  | 2021-06-29 13:26:25,292 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-3FE17345405C, 17, (t:1, i:130))
om_1          | 2021-06-29 13:22:56,916 [main] INFO server.GrpcService: raft.grpc.message.size.max = 33554432 (custom)
scm_1         | 2021-06-29 13:22:33,336 [main] INFO ha.SequenceIdGenerator: upgrade localId to 107544261427200000
datanode_5_1  | 2021-06-29 13:25:35,518 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8 ELECTION round 0: submit vote requests at term 8 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_6_1  | 2021-06-29 13:22:48,152 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:22:54,201 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1], old=null
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:211)
datanode_1_1  | 2021-06-29 13:26:25,292 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FOLLOWER: reject ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: our last entry (t:15, i:132) > candidate's last entry (t:1, i:130)
om_1          | 2021-06-29 13:22:56,922 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1         | 2021-06-29 13:22:33,338 [main] INFO ha.SequenceIdGenerator: upgrade delTxnId to 0
datanode_5_1  | 2021-06-29 13:25:36,036 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:48,152 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_4_1  | 2021-06-29 13:22:54,203 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2 ELECTION round 0: result PASSED (term=1)
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:145)
datanode_1_1  | 2021-06-29 13:26:25,292 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C: changes role from  FOLLOWER to FOLLOWER at term 17 for candidate:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
om_1          | 2021-06-29 13:22:56,923 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 1MB (=1048576) (default)
scm_1         | 2021-06-29 13:22:33,346 [main] INFO ha.SequenceIdGenerator: upgrade containerId to 0
datanode_5_1  | 2021-06-29 13:25:36,036 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:22:48,153 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_4_1  | 2021-06-29 13:22:54,203 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2
datanode_4_1  | 2021-06-29 13:22:54,203 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_4_1  | 2021-06-29 13:22:54,204 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-95D4001C9069 with new leaderId: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_4_1  | 2021-06-29 13:22:54,208 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: change Leader from null to d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 at term 1 for becomeLeader, leader elected after 5383ms
datanode_4_1  | 2021-06-29 13:22:54,215 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_4_1  | 2021-06-29 13:22:54,223 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069
datanode_4_1  | 2021-06-29 13:22:54,228 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_4_1  | 2021-06-29 13:22:54,231 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_4_1  | 2021-06-29 13:22:54,244 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_4_1  | 2021-06-29 13:22:54,245 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_4_1  | 2021-06-29 13:22:54,249 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_4_1  | 2021-06-29 13:22:54,259 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderStateImpl
datanode_4_1  | 2021-06-29 13:22:54,297 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-SegmentedRaftLogWorker: Starting segment from index:0
datanode_4_1  | 2021-06-29 13:22:54,391 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-LeaderElection2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1], old=null
datanode_4_1  | 2021-06-29 13:22:54,521 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-95D4001C9069-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/f68a8046-a727-4284-a11c-95d4001c9069/current/log_inprogress_0
datanode_4_1  | 2021-06-29 13:22:54,675 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5165913701ns, electionTimeout:5141ms
datanode_4_1  | 2021-06-29 13:22:54,675 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
datanode_4_1  | 2021-06-29 13:22:54,676 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_4_1  | 2021-06-29 13:22:54,676 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:22:48,154 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
om_1          | 2021-06-29 13:22:56,924 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 3000ms (default)
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
datanode_4_1  | 2021-06-29 13:22:54,677 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3
datanode_5_1  | 2021-06-29 13:25:36,548 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_1_1  | 2021-06-29 13:26:25,292 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
scm_1         | 2021-06-29 13:22:33,356 [main] INFO ha.SequenceIdGenerator: Init the HA SequenceIdGenerator.
datanode_6_1  | 2021-06-29 13:22:48,154 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
om_1          | 2021-06-29 13:22:57,289 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_3_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_4_1  | 2021-06-29 13:22:54,688 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0], old=null
datanode_5_1  | 2021-06-29 13:25:36,548 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_1_1  | 2021-06-29 13:26:25,293 [8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState was interrupted: {}
scm_1         | 2021-06-29 13:22:33,518 [main] INFO node.SCMNodeManager: Entering startup safe mode.
datanode_6_1  | 2021-06-29 13:22:48,154 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
om_1          | 2021-06-29 13:22:57,291 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
datanode_3_1  | 2021-06-29 13:23:07,905 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29->aaf0680a-66c1-4277-8808-e83a9401de63-GrpcLogAppender-LogAppenderDaemon] WARN leader.LogAppender: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29->aaf0680a-66c1-4277-8808-e83a9401de63: Failed to get (t:2, i:1), STATEMACHINELOGENTRY, cmdType: WriteChunk traceID: "" containerID: 1 datanodeUuid: "497430bc-ef01-4983-8299-c4c845566cf5" pipelineID: "6e538fba-de29-4913-87ba-8a5594af1c29" writeChunk { blockID { containerID: 1 localID: 107544261427200001 blockCommitSequenceId: 0 } chunkData { chunkName: "107544261427200001_chunk_1" offset: 0 len: 10240 checksumData { type: CRC32 bytesPerChecksum: 1048576 checksums: "5\"\257\270" } } }, container path=/data/hdds/hdds/CID-1eaef4a2-1fbb-4964-82b8-6993eedb848e/current/containerDir0/1 in 235997300ns: {}
datanode_5_1  | 2021-06-29 13:25:36,548 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:22:54,732 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3: ELECTION REJECTED received 1 response(s) and 0 exception(s):
datanode_4_1  | 2021-06-29 13:22:54,734 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection:   Response 0: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-497430bc-ef01-4983-8299-c4c845566cf5#0:FAIL-t1
datanode_4_1  | 2021-06-29 13:22:54,735 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3 ELECTION round 0: result REJECTED
datanode_4_1  | 2021-06-29 13:22:54,735 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
datanode_4_1  | 2021-06-29 13:22:54,736 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3
datanode_4_1  | 2021-06-29 13:22:54,739 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-LeaderElection3] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
om_1          | 2021-06-29 13:22:57,291 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1         | 2021-06-29 13:22:33,760 [main] INFO algorithms.ContainerPlacementPolicyFactory: Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRackAware
datanode_4_1  | 2021-06-29 13:22:54,838 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5070640687ns, electionTimeout:5027ms
datanode_6_1  | 2021-06-29 13:22:48,209 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_3_1  | java.util.concurrent.TimeoutException
datanode_5_1  | 2021-06-29 13:25:36,548 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
om_1          | 2021-06-29 13:22:57,302 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1         | 2021-06-29 13:22:33,788 [main] INFO pipeline.PipelineStateManager: No pipeline exists in current db
datanode_4_1  | 2021-06-29 13:22:54,838 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState
datanode_6_1  | 2021-06-29 13:22:48,218 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1886)
datanode_5_1  | 2021-06-29 13:25:36,549 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7 ELECTION round 0: result REJECTED
om_1          | 2021-06-29 13:22:57,311 [main] INFO server.RaftServer: om1: addNew group-C5BA1605619E:[om1|rpc:om:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@60f1f95b[Not completed]
scm_1         | 2021-06-29 13:22:33,884 [main] INFO algorithms.LeaderChoosePolicyFactory: Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
datanode_4_1  | 2021-06-29 13:22:54,839 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_6_1  | 2021-06-29 13:22:48,276 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_3_1  | 	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2021)
datanode_5_1  | 2021-06-29 13:25:36,549 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 11 for REJECTED
om_1          | 2021-06-29 13:22:57,311 [main] INFO om.OzoneManager: OzoneManager Ratis server initialized at port 9872
scm_1         | 2021-06-29 13:22:33,906 [main] INFO ha.SCMServiceManager: Registering service BackgroundPipelineCreator.
datanode_4_1  | 2021-06-29 13:22:54,839 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:22:48,277 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_3_1  | 	at org.apache.ratis.server.raftlog.RaftLogBase$EntryWithDataImpl.getEntry(RaftLogBase.java:393)
datanode_5_1  | 2021-06-29 13:25:36,549 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7
om_1          | 2021-06-29 13:22:57,349 [pool-21-thread-1] INFO server.RaftServer$Division: om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:om:9872|priority:0] with OzoneManagerStateMachine:uninitialized
scm_1         | 2021-06-29 13:22:33,915 [main] INFO pipeline.BackgroundPipelineCreator: Starting RatisPipelineUtilsThread.
datanode_4_1  | 2021-06-29 13:22:54,839 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4
datanode_6_1  | 2021-06-29 13:22:48,343 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_3_1  | 	at org.apache.ratis.util.DataQueue.pollList(DataQueue.java:134)
datanode_5_1  | 2021-06-29 13:25:36,549 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection7] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
om_1          | 2021-06-29 13:22:57,361 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
scm_1         | 2021-06-29 13:22:33,983 [main] INFO algorithms.PipelineChoosePolicyFactory: Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
datanode_4_1  | 2021-06-29 13:22:54,841 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:48,400 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderBase.newAppendEntriesRequest(LogAppenderBase.java:150)
datanode_5_1  | 2021-06-29 13:25:36,552 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
om_1          | 2021-06-29 13:22:57,362 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
scm_1         | 2021-06-29 13:22:34,039 [main] INFO ha.SCMServiceManager: Registering service SCMBlockDeletingService.
datanode_4_1  | 2021-06-29 13:22:54,862 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
datanode_6_1  | 2021-06-29 13:22:48,406 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:211)
datanode_5_1  | 2021-06-29 13:25:36,552 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8: ELECTION REJECTED received 0 response(s) and 2 exception(s):
om_1          | 2021-06-29 13:22:57,363 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
scm_1         | 2021-06-29 13:22:34,056 [main] INFO ha.SCMServiceManager: Registering service ReplicationManager.
datanode_4_1  | 2021-06-29 13:22:54,863 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO impl.LeaderElection:   Response 0: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-aaf0680a-66c1-4277-8808-e83a9401de63#0:OK-t2
datanode_6_1  | 2021-06-29 13:22:48,420 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_1_1  | 2021-06-29 13:26:25,293 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-FollowerState
datanode_3_1  | 	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:145)
datanode_5_1  | 2021-06-29 13:25:36,552 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
om_1          | 2021-06-29 13:22:57,363 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 120s (custom)
scm_1         | 2021-06-29 13:22:34,061 [main] INFO container.ReplicationManager: Starting Replication Monitor Thread.
datanode_4_1  | 2021-06-29 13:22:54,864 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO impl.LeaderElection: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4 ELECTION round 0: result PASSED
datanode_6_1  | 2021-06-29 13:22:48,430 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_1_1  | 2021-06-29 13:26:25,296 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t17. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C:t17, leader=null, voted=null, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-3FE17345405C-SegmentedRaftLog:OPENED:c131,f132,i132, conf=131: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_3_1  | 	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
datanode_5_1  | 2021-06-29 13:25:36,552 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
om_1          | 2021-06-29 13:22:57,365 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1         | 2021-06-29 13:22:34,079 [ReplicationMonitor] INFO container.ReplicationManager: Replication Monitor Thread took 6 milliseconds for processing 0 containers.
datanode_4_1  | 2021-06-29 13:22:54,868 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4
datanode_6_1  | 2021-06-29 13:22:48,441 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_1_1  | 2021-06-29 13:26:25,434 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: receive requestVote(ELECTION, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, group-F2D82F52F507, 20, (t:1, i:118))
datanode_3_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
datanode_3_1  | 2021-06-29 13:24:40,098 [SIGTERM handler] ERROR ozone.HddsDatanodeService: RECEIVED SIGNAL 15: SIGTERM
om_1          | 2021-06-29 13:22:57,366 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
scm_1         | 2021-06-29 13:22:34,096 [main] INFO safemode.ContainerSafeModeRule: containers with one replica threshold count 0
datanode_4_1  | 2021-06-29 13:22:54,869 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
datanode_6_1  | 2021-06-29 13:22:48,679 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319
datanode_1_1  | 2021-06-29 13:26:25,434 [grpc-default-executor-1] INFO impl.VoteContext: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FOLLOWER: reject ELECTION from 7cde1fe5-f110-4ac5-8a71-921fbb989fcf: our last entry (t:18, i:120) > candidate's last entry (t:1, i:118)
datanode_3_1  | 2021-06-29 13:24:40,142 [shutdown-hook-0] INFO ozone.HddsDatanodeService: SHUTDOWN_MSG: 
datanode_5_1  | 2021-06-29 13:25:36,553 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8 ELECTION round 0: result REJECTED
om_1          | 2021-06-29 13:22:57,366 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1         | 2021-06-29 13:22:34,111 [main] INFO safemode.HealthyPipelineSafeModeRule: Total pipeline count is 0, healthy pipeline threshold count is 1
datanode_4_1  | 2021-06-29 13:22:54,869 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-27F3C9A95319 with new leaderId: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_6_1  | 2021-06-29 13:22:48,712 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319
datanode_1_1  | 2021-06-29 13:26:25,435 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507: changes role from  FOLLOWER to FOLLOWER at term 20 for candidate:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_3_1  | /************************************************************
datanode_5_1  | 2021-06-29 13:25:36,553 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 8 for REJECTED
om_1          | 2021-06-29 13:22:57,379 [pool-21-thread-1] INFO server.RaftServer$Division: om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:om:9872|priority:0], old=null, confs=<EMPTY_MAP>
scm_1         | 2021-06-29 13:22:34,115 [main] INFO safemode.OneReplicaPipelineSafeModeRule: Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
datanode_4_1  | 2021-06-29 13:22:54,876 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: change Leader from null to d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 at term 2 for becomeLeader, leader elected after 12001ms
datanode_6_1  | 2021-06-29 13:22:48,755 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_1_1  | 2021-06-29 13:26:25,435 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: shutdown 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_3_1  | SHUTDOWN_MSG: Shutting down HddsDatanodeService at a217807dff76/10.5.0.6
datanode_5_1  | 2021-06-29 13:25:36,553 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8
om_1          | 2021-06-29 13:22:57,383 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1         | 2021-06-29 13:22:35,159 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
datanode_4_1  | 2021-06-29 13:22:54,878 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_6_1  | 2021-06-29 13:22:48,759 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_1_1  | 2021-06-29 13:26:25,435 [8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState was interrupted: {}
datanode_3_1  | ************************************************************/
datanode_5_1  | 2021-06-29 13:25:36,553 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection8] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
om_1          | 2021-06-29 13:22:57,395 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
scm_1         | 2021-06-29 13:22:35,179 [Socket Reader #1 for port 9861] INFO ipc.Server: Starting Socket Reader #1 for port 9861
datanode_4_1  | 2021-06-29 13:22:54,879 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319
datanode_6_1  | 2021-06-29 13:22:48,768 [pool-22-thread-1] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState
datanode_1_1  | java.lang.InterruptedException: sleep interrupted
datanode_3_1  | Enabled profiling in kernel
datanode_5_1  | 2021-06-29 13:25:41,593 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5039938352ns, electionTimeout:5035ms
om_1          | 2021-06-29 13:22:57,400 [main] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
scm_1         | 2021-06-29 13:22:35,226 [Listener at 0.0.0.0/9861] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
datanode_4_1  | 2021-06-29 13:22:54,880 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_6_1  | 2021-06-29 13:22:48,809 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27F3C9A95319,id=aaf0680a-66c1-4277-8808-e83a9401de63
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_3_1  | No '-XX:...' jvm parameters are set. Adding safer GC settings '-XX:ParallelGCThreads=8 -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=70 -XX:+CMSParallelRemarkEnabled' to the OZONE_OPTS
datanode_5_1  | 2021-06-29 13:25:41,594 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
om_1          | 2021-06-29 13:22:57,401 [pool-21-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
scm_1         | 2021-06-29 13:22:35,227 [Socket Reader #1 for port 9863] INFO ipc.Server: Starting Socket Reader #1 for port 9863
datanode_4_1  | 2021-06-29 13:22:54,880 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_6_1  | 2021-06-29 13:22:48,815 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319
datanode_3_1  | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
datanode_1_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_5_1  | 2021-06-29 13:25:41,596 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
om_1          | 2021-06-29 13:22:57,427 [pool-21-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 8@de30c0549039
scm_1         | 2021-06-29 13:22:35,271 [Listener at 0.0.0.0/9863] INFO ipc.CallQueueManager: Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
datanode_4_1  | 2021-06-29 13:22:54,881 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_6_1  | 2021-06-29 13:22:48,944 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: receive requestVote(ELECTION, 497430bc-ef01-4983-8299-c4c845566cf5, group-27F3C9A95319, 1, (t:0, i:0))
datanode_3_1  | 2021-06-29 13:25:45,360 [main] INFO ozone.HddsDatanodeService: STARTUP_MSG: 
datanode_1_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_5_1  | 2021-06-29 13:25:41,596 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
om_1          | 2021-06-29 13:22:57,460 [Socket Reader #1 for port 9862] INFO ipc.Server: Starting Socket Reader #1 for port 9862
scm_1         | 2021-06-29 13:22:35,275 [Socket Reader #1 for port 9860] INFO ipc.Server: Starting Socket Reader #1 for port 9860
datanode_4_1  | 2021-06-29 13:22:54,881 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_6_1  | 2021-06-29 13:22:48,956 [grpc-default-executor-0] INFO impl.VoteContext: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FOLLOWER: accept ELECTION from 497430bc-ef01-4983-8299-c4c845566cf5: our priority 0 <= candidate's priority 0
datanode_3_1  | /************************************************************
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_5_1  | 2021-06-29 13:25:41,596 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9
om_1          | 2021-06-29 13:22:57,479 [pool-21-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
datanode_4_1  | 2021-06-29 13:22:54,891 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_6_1  | 2021-06-29 13:22:48,964 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:497430bc-ef01-4983-8299-c4c845566cf5
scm_1         | 2021-06-29 13:22:35,364 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: 
datanode_3_1  | STARTUP_MSG: Starting HddsDatanodeService
datanode_1_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_5_1  | 2021-06-29 13:25:41,601 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9 ELECTION round 0: submit vote requests at term 9 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
om_1          | 2021-06-29 13:22:57,493 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 120s (custom)
datanode_4_1  | 2021-06-29 13:22:54,907 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_6_1  | 2021-06-29 13:22:48,964 [grpc-default-executor-0] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState
scm_1         | Container Balancer status:
datanode_3_1  | STARTUP_MSG:   host = a217807dff76/10.5.0.6
datanode_1_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_5_1  | 2021-06-29 13:25:41,608 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
om_1          | 2021-06-29 13:22:57,495 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_4_1  | 2021-06-29 13:22:54,907 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_6_1  | 2021-06-29 13:22:48,988 [aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState was interrupted: {}
scm_1         | Key                            Value
datanode_3_1  | STARTUP_MSG:   args = []
datanode_1_1  | 2021-06-29 13:26:25,435 [grpc-default-executor-1] INFO impl.RoleInfo: 8234872e-ae3b-48df-b771-2dd228a42719: start 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:25:41,752 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5203527391ns, electionTimeout:5200ms
om_1          | 2021-06-29 13:22:57,504 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_4_1  | 2021-06-29 13:22:54,907 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_6_1  | java.lang.InterruptedException: sleep interrupted
scm_1         | Running                        true
datanode_3_1  | STARTUP_MSG:   version = 1.2.0-SNAPSHOT
datanode_1_1  | 2021-06-29 13:26:25,444 [grpc-default-executor-1] INFO server.RaftServer$Division: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507 replies to ELECTION vote request: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf<-8234872e-ae3b-48df-b771-2dd228a42719#0:FAIL-t20. Peer's state: 8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507:t20, leader=null, voted=null, raftlog=8234872e-ae3b-48df-b771-2dd228a42719@group-F2D82F52F507-SegmentedRaftLog:OPENED:c119,f120,i120, conf=119: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
om_1          | 2021-06-29 13:22:57,509 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_4_1  | 2021-06-29 13:22:54,910 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_6_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
scm_1         | Container Balancer Configuration values:
datanode_5_1  | 2021-06-29 13:25:41,753 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_3_1  | STARTUP_MSG:   classpath = /etc/hadoop:/opt/hadoop/share/ozone/lib/hdds-interface-admin-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-simplekdc-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-annotations-2.12.1.jar:/opt/hadoop/share/ozone/lib/slf4j-log4j12-1.7.30.jar:/opt/hadoop/share/ozone/lib/protobuf-java-2.5.0.jar:/opt/hadoop/share/ozone/lib/jaxb-core-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-api-2.13.3.jar:/opt/hadoop/share/ozone/lib/istack-commons-runtime-3.0.5.jar:/opt/hadoop/share/ozone/lib/commons-validator-1.6.jar:/opt/hadoop/share/ozone/lib/jetty-security-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/bcpkix-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/hdds-server-framework-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerb-core-1.0.1.jar:/opt/hadoop/share/ozone/lib/rocksdbjni-6.20.3.jar:/opt/hadoop/share/ozone/lib/picocli-4.4.0.jar:/opt/hadoop/share/ozone/lib/hdds-interface-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-client-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/ratis-metrics-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/okhttp-4.9.0.jar:/opt/hadoop/share/ozone/lib/jsr305-3.0.0.jar:/opt/hadoop/share/ozone/lib/j2objc-annotations-1.3.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-server-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/htrace-core4-4.1.0-incubating.jar:/opt/hadoop/share/ozone/lib/jaxb-api-2.3.0.jar:/opt/hadoop/share/ozone/lib/commons-io-2.8.0.jar:/opt/hadoop/share/ozone/lib/kerb-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-common-1.4.31.jar:/opt/hadoop/share/ozone/lib/checker-qual-3.8.0.jar:/opt/hadoop/share/ozone/lib/javax.activation-api-1.2.0.jar:/opt/hadoop/share/ozone/lib/commons-logging-1.2.jar:/opt/hadoop/share/ozone/lib/hadoop-auth-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerby-xdr-1.0.1.jar:/opt/hadoop/share/ozone/lib/netty-buffer-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/txw2-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-datatype-jsr310-2.12.1.jar:/opt/hadoop/share/ozone/lib/httpcore-4.4.13.jar:/opt/hadoop/share/ozone/lib/opentracing-tracerresolver-0.1.8.jar:/opt/hadoop/share/ozone/lib/commons-net-3.6.jar:/opt/hadoop/share/ozone/lib/hadoop-common-3.2.2.jar:/opt/hadoop/share/ozone/lib/hdds-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/libthrift-0.14.1.jar:/opt/hadoop/share/ozone/lib/snakeyaml-1.26.jar:/opt/hadoop/share/ozone/lib/stax-ex-1.7.8.jar:/opt/hadoop/share/ozone/lib/error_prone_annotations-2.2.0.jar:/opt/hadoop/share/ozone/lib/ratis-server-api-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/httpclient-4.5.13.jar:/opt/hadoop/share/ozone/lib/kerby-config-1.0.1.jar:/opt/hadoop/share/ozone/lib/jaeger-client-1.6.0.jar:/opt/hadoop/share/ozone/lib/metrics-core-3.2.4.jar:/opt/hadoop/share/ozone/lib/kerby-pkix-1.0.1.jar:/opt/hadoop/share/ozone/lib/jetty-webapp-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/ratis-thirdparty-misc-0.7.0-a398b19-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/activation-1.1.1.jar:/opt/hadoop/share/ozone/lib/jsr311-api-1.1.1.jar:/opt/hadoop/share/ozone/lib/netty-codec-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/commons-beanutils-1.9.4.jar:/opt/hadoop/share/ozone/lib/javax.servlet-api-3.1.0.jar:/opt/hadoop/share/ozone/lib/kerb-server-1.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-proto-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/guava-30.1.1-jre.jar:/opt/hadoop/share/ozone/lib/jetty-server-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-util-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-client-1.0.1.jar:/opt/hadoop/share/ozone/lib/jackson-core-2.12.1.jar:/opt/hadoop/share/ozone/lib/netty-transport-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/netty-common-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/disruptor-3.4.2.jar:/opt/hadoop/share/ozone/lib/log4j-core-2.13.3.jar:/opt/hadoop/share/ozone/lib/annotations-13.0.jar:/opt/hadoop/share/ozone/lib/jackson-databind-2.12.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_common-0.7.0.jar:/opt/hadoop/share/ozone/lib/dnsjava-2.1.7.jar:/opt/hadoop/share/ozone/lib/jaeger-thrift-1.6.0.jar:/opt/hadoop/share/ozone/lib/bcprov-jdk15on-1.67.jar:/opt/hadoop/share/ozone/lib/commons-configuration2-2.1.1.jar:/opt/hadoop/share/ozone/lib/json-smart-2.3.jar:/opt/hadoop/share/ozone/lib/token-provider-1.0.1.jar:/opt/hadoop/share/ozone/lib/log4j-1.2.17.jar:/opt/hadoop/share/ozone/lib/commons-daemon-1.0.13.jar:/opt/hadoop/share/ozone/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/hadoop/share/ozone/lib/jaeger-tracerresolver-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-lang3-3.7.jar:/opt/hadoop/share/ozone/lib/jetty-util-ajax-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/hdds-common-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/accessors-smart-1.2.jar:/opt/hadoop/share/ozone/lib/jetty-io-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/jetty-xml-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/re2j-1.1.jar:/opt/hadoop/share/ozone/lib/commons-math3-3.1.1.jar:/opt/hadoop/share/ozone/lib/simpleclient_dropwizard-0.7.0.jar:/opt/hadoop/share/ozone/lib/simpleclient-0.7.0.jar:/opt/hadoop/share/ozone/lib/asm-5.0.4.jar:/opt/hadoop/share/ozone/lib/ratis-server-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/kerby-util-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-hadoop-dependency-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/failureaccess-1.0.1.jar:/opt/hadoop/share/ozone/lib/okio-2.8.0.jar:/opt/hadoop/share/ozone/lib/ratis-common-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hdds-config-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/jsp-api-2.1.jar:/opt/hadoop/share/ozone/lib/jsch-0.1.54.jar:/opt/hadoop/share/ozone/lib/slf4j-api-1.7.30.jar:/opt/hadoop/share/ozone/lib/nimbus-jose-jwt-7.9.jar:/opt/hadoop/share/ozone/lib/commons-codec-1.11.jar:/opt/hadoop/share/ozone/lib/commons-pool2-2.6.0.jar:/opt/hadoop/share/ozone/lib/gson-2.2.4.jar:/opt/hadoop/share/ozone/lib/netty-handler-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-3.2.2.jar:/opt/hadoop/share/ozone/lib/opentracing-api-0.33.0.jar:/opt/hadoop/share/ozone/lib/jcip-annotations-1.0-1.jar:/opt/hadoop/share/ozone/lib/kerb-admin-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-interface-client-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/netty-resolver-4.1.63.Final.jar:/opt/hadoop/share/ozone/lib/kotlin-stdlib-1.4.31.jar:/opt/hadoop/share/ozone/lib/opentracing-noop-0.33.0.jar:/opt/hadoop/share/ozone/lib/jersey-core-1.19.jar:/opt/hadoop/share/ozone/lib/jaxb-runtime-2.3.0.1.jar:/opt/hadoop/share/ozone/lib/ratis-grpc-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/opentracing-util-0.33.0.jar:/opt/hadoop/share/ozone/lib/hadoop-annotations-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-cli-1.2.jar:/opt/hadoop/share/ozone/lib/woodstox-core-5.0.3.jar:/opt/hadoop/share/ozone/lib/jetty-servlet-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/javax.annotation-api-1.2.jar:/opt/hadoop/share/ozone/lib/kerby-asn1-1.0.1.jar:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/stax2-api-3.1.4.jar:/opt/hadoop/share/ozone/lib/commons-collections-3.2.2.jar:/opt/hadoop/share/ozone/lib/commons-digester-1.8.1.jar:/opt/hadoop/share/ozone/lib/jaeger-core-1.6.0.jar:/opt/hadoop/share/ozone/lib/commons-text-1.4.jar:/opt/hadoop/share/ozone/lib/jersey-servlet-1.19.jar:/opt/hadoop/share/ozone/lib/kerb-identity-1.0.1.jar:/opt/hadoop/share/ozone/lib/FastInfoset-1.2.13.jar:/opt/hadoop/share/ozone/lib/ratis-netty-2.1.0-ff8aa66-SNAPSHOT.jar:/opt/hadoop/share/ozone/lib/hadoop-hdfs-client-3.2.2.jar:/opt/hadoop/share/ozone/lib/kerb-common-1.0.1.jar:/opt/hadoop/share/ozone/lib/jersey-server-1.19.jar:/opt/hadoop/share/ozone/lib/commons-compress-1.20.jar:/opt/hadoop/share/ozone/lib/jetty-http-9.4.35.v20201120.jar:/opt/hadoop/share/ozone/lib/kerb-crypto-1.0.1.jar:/opt/hadoop/share/ozone/web:/opt/hadoop/share/ozone/lib/ozone-datanode-1.2.0-SNAPSHOT.jar
om_1          | 2021-06-29 13:22:57,528 [pool-21-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
datanode_4_1  | 2021-06-29 13:22:54,911 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_6_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
scm_1         | Key                            Value
datanode_5_1  | 2021-06-29 13:25:41,753 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 11 for changeToCandidate
datanode_3_1  | STARTUP_MSG:   build = https://github.com/apache/ozone/474457cb306a94a50d0eb40be33c5cffe7c3f8d9 ; compiled by 'runner' on 2021-06-29T12:44Z
om_1          | 2021-06-29 13:22:57,550 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
datanode_4_1  | 2021-06-29 13:22:54,915 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_6_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_6_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_5_1  | 2021-06-29 13:25:41,753 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | STARTUP_MSG:   java = 11.0.10
om_1          | 2021-06-29 13:22:57,573 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_4_1  | 2021-06-29 13:22:54,916 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319
datanode_6_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
scm_1         | Threshold                      0.1
datanode_5_1  | 2021-06-29 13:25:41,753 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10
datanode_3_1  | ************************************************************/
om_1          | 2021-06-29 13:22:57,574 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_4_1  | 2021-06-29 13:22:54,924 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_6_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
scm_1         | Max Datanodes to Balance       5
datanode_5_1  | 2021-06-29 13:25:41,759 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10 ELECTION round 0: submit vote requests at term 12 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:25:45,395 [main] INFO ozone.HddsDatanodeService: registered UNIX signal handlers for [TERM, HUP, INT]
om_1          | 2021-06-29 13:22:57,589 [pool-21-thread-1] INFO segmented.SegmentedRaftLogWorker: new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/bf265839-605b-3f16-9796-c5ba1605619e
datanode_4_1  | 2021-06-29 13:22:54,924 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1         | Max Size to Move               10737418240B
datanode_6_1  | 2021-06-29 13:22:48,990 [grpc-default-executor-0] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState
datanode_5_1  | 2021-06-29 13:25:41,760 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:25:46,865 [main] INFO metrics.MetricRegistries: Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
datanode_3_1  | 2021-06-29 13:25:47,419 [main] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_4_1  | 2021-06-29 13:22:54,926 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
scm_1         | 
datanode_6_1  | 2021-06-29 13:22:49,041 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319 replies to ELECTION vote request: 497430bc-ef01-4983-8299-c4c845566cf5<-aaf0680a-66c1-4277-8808-e83a9401de63#0:OK-t1. Peer's state: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319:t1, leader=null, voted=497430bc-ef01-4983-8299-c4c845566cf5, raftlog=aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:25:47,945 [main] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
om_1          | 2021-06-29 13:22:57,590 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
datanode_5_1  | 2021-06-29 13:25:41,928 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:22:54,926 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
scm_1         | 2021-06-29 13:22:35,367 [Listener at 0.0.0.0/9860] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
datanode_6_1  | 2021-06-29 13:22:49,461 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: receive requestVote(ELECTION, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, group-27F3C9A95319, 1, (t:0, i:0))
datanode_3_1  | 2021-06-29 13:25:47,945 [main] INFO impl.MetricsSystemImpl: HddsDatanode metrics system started
om_1          | 2021-06-29 13:22:57,593 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 4096 (default)
datanode_5_1  | 2021-06-29 13:25:41,928 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_4_1  | 2021-06-29 13:22:54,926 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
scm_1         | 2021-06-29 13:22:35,367 [Listener at 0.0.0.0/9860] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
datanode_6_1  | 2021-06-29 13:22:49,461 [grpc-default-executor-0] INFO impl.VoteContext: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FOLLOWER: reject ELECTION from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: already has voted for 497430bc-ef01-4983-8299-c4c845566cf5 at current term 1
datanode_3_1  | 2021-06-29 13:25:49,137 [main] INFO ozone.HddsDatanodeService: HddsDatanodeService host:a217807dff76 ip:10.5.0.6
om_1          | 2021-06-29 13:22:57,594 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 4194304 (custom)
datanode_5_1  | 2021-06-29 13:25:41,928 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:22:54,926 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1         | 2021-06-29 13:22:35,383 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
datanode_6_1  | 2021-06-29 13:22:49,462 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319 replies to ELECTION vote request: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-aaf0680a-66c1-4277-8808-e83a9401de63#0:FAIL-t1. Peer's state: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319:t1, leader=null, voted=497430bc-ef01-4983-8299-c4c845566cf5, raftlog=aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:25:51,091 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/hdds/scmUsed: 8192 at 2021-06-29T13:24:40.136Z
om_1          | 2021-06-29 13:22:57,597 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 4194304 (custom)
datanode_5_1  | 2021-06-29 13:25:41,928 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:22:54,934 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderStateImpl
scm_1         | 2021-06-29 13:22:35,529 [Listener at 0.0.0.0/9860] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_6_1  | 2021-06-29 13:22:50,230 [grpc-default-executor-0] INFO server.RaftServer: aaf0680a-66c1-4277-8808-e83a9401de63: addNew group-8A5594AF1C29:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0] returns group-8A5594AF1C29:java.util.concurrent.CompletableFuture@6c4b5311[Not completed]
datanode_3_1  | 2021-06-29 13:25:51,116 [main] INFO volume.HddsVolume: Creating HddsVolume: /data/hdds/hdds of storage type : DISK capacity : 89311358976
om_1          | 2021-06-29 13:22:57,598 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_5_1  | 2021-06-29 13:25:41,928 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10 ELECTION round 0: result REJECTED
datanode_4_1  | 2021-06-29 13:22:54,936 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLogWorker: Starting segment from index:0
scm_1         | 2021-06-29 13:22:35,546 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_6_1  | 2021-06-29 13:22:50,232 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63: new RaftServerImpl for group-8A5594AF1C29:[d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0] with ContainerStateMachine:uninitialized
datanode_3_1  | 2021-06-29 13:25:51,168 [main] INFO volume.MutableVolumeSet: Added Volume : /data/hdds/hdds to VolumeSet
om_1          | 2021-06-29 13:22:57,602 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_5_1  | 2021-06-29 13:25:41,928 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 12 for REJECTED
datanode_4_1  | 2021-06-29 13:22:54,943 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/current/log_inprogress_0
scm_1         | 2021-06-29 13:22:35,546 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: StorageContainerManager metrics system started
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_3_1  | 2021-06-29 13:25:51,190 [main] INFO volume.ThrottledAsyncChecker: Scheduling a check for /data/hdds/hdds
om_1          | 2021-06-29 13:22:57,602 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_5_1  | 2021-06-29 13:25:41,929 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10
datanode_4_1  | 2021-06-29 13:22:54,968 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319-LeaderElection4] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
scm_1         | 2021-06-29 13:22:35,916 [Listener at 0.0.0.0/9860] INFO server.SCMClientProtocolServer: RPC server for Client  is listening at /0.0.0.0:9860
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_3_1  | 2021-06-29 13:25:51,338 [main] INFO volume.StorageVolumeChecker: Scheduled health check for volume /data/hdds/hdds
om_1          | 2021-06-29 13:22:57,607 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_5_1  | 2021-06-29 13:25:41,929 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection10] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_4_1  | 2021-06-29 13:22:59,929 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: receive requestVote(ELECTION, 497430bc-ef01-4983-8299-c4c845566cf5, group-8A5594AF1C29, 2, (t:0, i:0))
scm_1         | 2021-06-29 13:22:35,921 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_3_1  | 2021-06-29 13:25:51,600 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
om_1          | 2021-06-29 13:22:57,638 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 64KB (=65536) (default)
datanode_5_1  | 2021-06-29 13:25:41,929 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:22:59,930 [grpc-default-executor-0] INFO impl.VoteContext: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FOLLOWER: accept ELECTION from 497430bc-ef01-4983-8299-c4c845566cf5: our priority 0 <= candidate's priority 1
scm_1         | 2021-06-29 13:22:35,922 [IPC Server listener on 9860] INFO ipc.Server: IPC Server listener on 9860: starting
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:25:51,618 [main] INFO fs.SaveSpaceUsageToFile: Cached usage info found in /data/metadata/ratis/scmUsed: 4096 at 2021-06-29T13:24:40.139Z
datanode_5_1  | 2021-06-29 13:25:41,939 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_4_1  | 2021-06-29 13:22:59,933 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:497430bc-ef01-4983-8299-c4c845566cf5
scm_1         | 2021-06-29 13:22:36,001 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_3_1  | 2021-06-29 13:25:51,627 [main] INFO volume.MutableVolumeSet: Added Volume : /data/metadata/ratis to VolumeSet
om_1          | 2021-06-29 13:22:57,645 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = false (default)
datanode_5_1  | 2021-06-29 13:25:41,939 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:22:59,933 [grpc-default-executor-0] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
datanode_4_1  | 2021-06-29 13:22:59,934 [grpc-default-executor-0] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_3_1  | 2021-06-29 13:25:51,711 [main] INFO ozoneimpl.ContainerReader: Running in upgrade mode:true
om_1          | 2021-06-29 13:22:57,662 [pool-21-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:25:41,939 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:22:36,002 [Listener at 0.0.0.0/9860] INFO server.SCMBlockProtocolServer: RPC server for Block Protocol is listening at /0.0.0.0:9863
datanode_4_1  | 2021-06-29 13:22:59,935 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState was interrupted: {}
datanode_6_1  | 2021-06-29 13:22:50,233 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:25:51,728 [Thread-5] INFO ozoneimpl.ContainerReader: Start to verify containers on volume /data/hdds/hdds
om_1          | 2021-06-29 13:22:57,662 [pool-21-thread-1] INFO segmented.SegmentedRaftLogWorker: om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:25:41,949 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9 ELECTION round 0: result REJECTED
scm_1         | 2021-06-29 13:22:36,003 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
datanode_4_1  | java.lang.InterruptedException: sleep interrupted
datanode_6_1  | 2021-06-29 13:22:50,234 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: ConfigurationManager, init=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null, confs=<EMPTY_MAP>
datanode_3_1  | 2021-06-29 13:25:52,312 [Thread-5] INFO ozoneimpl.ContainerReader: Finish verifying containers on volume /data/hdds/hdds
om_1          | 2021-06-29 13:22:57,684 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:25:41,949 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 9 for REJECTED
datanode_5_1  | 2021-06-29 13:25:41,949 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9
om_1          | 2021-06-29 13:22:57,685 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 400000 (default)
datanode_6_1  | 2021-06-29 13:22:50,234 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_3_1  | 2021-06-29 13:25:52,312 [main] INFO ozoneimpl.OzoneContainer: Build ContainerSet costs 0s
datanode_5_1  | 2021-06-29 13:25:41,949 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection9] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
scm_1         | 2021-06-29 13:22:36,017 [IPC Server listener on 9863] INFO ipc.Server: IPC Server listener on 9863: starting
datanode_4_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
om_1          | 2021-06-29 13:22:57,685 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = -1 (default)
datanode_6_1  | 2021-06-29 13:22:50,234 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_3_1  | 2021-06-29 13:25:58,373 [main] WARN server.ServerUtils: Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
datanode_5_1  | 2021-06-29 13:25:43,103 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=4217,entriesCount=0,lastEntry=null
scm_1         | 2021-06-29 13:22:36,074 [Listener at 0.0.0.0/9860] INFO server.StorageContainerManager: ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
datanode_4_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_6_1  | 2021-06-29 13:22:50,234 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29 does not exist. Creating ...
datanode_3_1  | 2021-06-29 13:25:58,783 [main] INFO server.RaftServer: raft.rpc.type = GRPC (default)
datanode_5_1  | 2021-06-29 13:25:43,103 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=4218,entriesCount=1,lastEntry=(t:1, i:130)
scm_1         | 2021-06-29 13:22:36,074 [Listener at 0.0.0.0/9860] INFO server.SCMDatanodeProtocolServer: RPC server for DataNodes is listening at /0.0.0.0:9861
om_1          | 2021-06-29 13:22:57,686 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = true (custom)
datanode_4_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_6_1  | 2021-06-29 13:22:50,237 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/in_use.lock acquired by nodename 7@fd0f7a65317d
datanode_3_1  | 2021-06-29 13:25:59,610 [main] INFO grpc.GrpcConfigKeys: raft.grpc.admin.port = 9857 (custom)
datanode_5_1  | 2021-06-29 13:25:43,189 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=4240,entriesCount=0,lastEntry=null
scm_1         | 2021-06-29 13:22:36,075 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
om_1          | 2021-06-29 13:22:57,689 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 300s (custom)
datanode_4_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_6_1  | 2021-06-29 13:22:50,238 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29 has been successfully formatted.
datanode_3_1  | 2021-06-29 13:25:59,611 [main] INFO grpc.GrpcConfigKeys: raft.grpc.client.port = 9858 (custom)
datanode_5_1  | 2021-06-29 13:25:43,189 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender:  appendEntries Timeout, request=AppendEntriesRequest:cid=4241,entriesCount=1,lastEntry=(t:1, i:130)
scm_1         | 2021-06-29 13:22:36,075 [IPC Server listener on 9861] INFO ipc.Server: IPC Server listener on 9861: starting
om_1          | 2021-06-29 13:22:57,689 [pool-21-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_4_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_6_1  | 2021-06-29 13:22:50,239 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-8A5594AF1C29: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_3_1  | 2021-06-29 13:25:59,611 [main] INFO grpc.GrpcConfigKeys: raft.grpc.server.port = 9856 (custom)
datanode_5_1  | 2021-06-29 13:25:45,604 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=4219,entriesCount=0,lastEntry=null
scm_1         | 2021-06-29 13:22:36,380 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@1818390b] INFO util.JvmPauseMonitor: Starting JVM pause monitor
om_1          | 2021-06-29 13:22:57,781 [pool-21-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
datanode_4_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_6_1  | 2021-06-29 13:22:50,240 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_3_1  | 2021-06-29 13:25:59,612 [main] INFO server.GrpcService: raft.grpc.message.size.max = 32MB (=33554432) (custom)
datanode_5_1  | 2021-06-29 13:25:45,689 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=4242,entriesCount=0,lastEntry=null
scm_1         | 2021-06-29 13:22:36,425 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Starting Web-server for scm at: http://0.0.0.0:9876
om_1          | 2021-06-29 13:22:57,786 [pool-21-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
datanode_4_1  | 2021-06-29 13:22:59,961 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29 replies to ELECTION vote request: 497430bc-ef01-4983-8299-c4c845566cf5<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:OK-t2. Peer's state: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29:t2, leader=null, voted=497430bc-ef01-4983-8299-c4c845566cf5, raftlog=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:50,240 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_3_1  | 2021-06-29 13:25:59,634 [main] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:25:46,975 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5046620945ns, electionTimeout:5045ms
scm_1         | 2021-06-29 13:22:36,426 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
om_1          | 2021-06-29 13:22:57,856 [Listener at om/9862] INFO om.OzoneManager: Configured ozone.om.metadata.layout=SIMPLE and disabled optimized OM FS operations
datanode_4_1  | 2021-06-29 13:23:00,140 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-8A5594AF1C29 with new leaderId: 497430bc-ef01-4983-8299-c4c845566cf5
datanode_6_1  | 2021-06-29 13:22:50,240 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_3_1  | 2021-06-29 13:25:59,641 [main] INFO server.GrpcService: raft.grpc.flow.control.window = 5MB (=5242880) (custom)
datanode_5_1  | 2021-06-29 13:25:46,975 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_5_1  | 2021-06-29 13:25:46,976 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
om_1          | 2021-06-29 13:22:58,016 [Listener at om/9862] INFO impl.MetricsConfig: Loaded properties from hadoop-metrics2.properties
datanode_4_1  | 2021-06-29 13:23:00,142 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: change Leader from null to 497430bc-ef01-4983-8299-c4c845566cf5 at term 2 for appendEntries, leader elected after 10873ms
datanode_6_1  | 2021-06-29 13:22:50,240 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:25:59,642 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_5_1  | 2021-06-29 13:25:46,976 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1         | 2021-06-29 13:22:36,520 [Listener at 0.0.0.0/9860] INFO util.log: Logging initialized @38699ms to org.eclipse.jetty.util.log.Slf4jLog
om_1          | 2021-06-29 13:22:58,048 [Listener at om/9862] INFO impl.MetricsSystemImpl: Scheduled Metric snapshot period at 10 second(s).
datanode_4_1  | 2021-06-29 13:23:00,191 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:50,240 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29
datanode_3_1  | 2021-06-29 13:26:01,057 [main] INFO impl.DataStreamServerImpl: raft.datastream.type = DISABLED (default)
datanode_5_1  | 2021-06-29 13:25:46,976 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11
scm_1         | 2021-06-29 13:22:38,104 [Listener at 0.0.0.0/9860] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
scm_1         | 2021-06-29 13:22:38,146 [Listener at 0.0.0.0/9860] INFO http.HttpRequestLog: Http request log for http.requests.scm is not defined
datanode_4_1  | 2021-06-29 13:23:00,191 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: Starting segment from index:0
datanode_6_1  | 2021-06-29 13:22:50,241 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:26:01,062 [main] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
scm_1         | 2021-06-29 13:22:38,174 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
om_1          | 2021-06-29 13:22:58,048 [Listener at om/9862] INFO impl.MetricsSystemImpl: OzoneManager metrics system started
datanode_5_1  | 2021-06-29 13:25:46,983 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11 ELECTION round 0: submit vote requests at term 13 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_4_1  | 2021-06-29 13:23:00,194 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0
datanode_6_1  | 2021-06-29 13:22:50,248 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_3_1  | 2021-06-29 13:26:01,070 [main] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1         | 2021-06-29 13:22:38,217 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
om_1          | 2021-06-29 13:22:58,121 [Listener at om/9862] INFO om.OzoneManager: OzoneManager RPC server is listening at om/10.5.0.70:9862
datanode_5_1  | 2021-06-29 13:25:46,987 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:23:00,297 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: receive requestVote(ELECTION, aaf0680a-66c1-4277-8808-e83a9401de63, group-8A5594AF1C29, 2, (t:0, i:0))
datanode_6_1  | 2021-06-29 13:22:50,249 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_3_1  | 2021-06-29 13:26:01,189 [main] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1         | 2021-06-29 13:22:38,218 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
om_1          | 2021-06-29 13:22:58,123 [Listener at om/9862] INFO ratis.OzoneManagerRatisServer: Starting OzoneManagerRatisServer om1 at port 9872
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:23:00,298 [grpc-default-executor-0] INFO impl.VoteContext: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FOLLOWER: reject ELECTION from aaf0680a-66c1-4277-8808-e83a9401de63: already has voted for 497430bc-ef01-4983-8299-c4c845566cf5 at current term 2
datanode_6_1  | 2021-06-29 13:22:50,251 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29
datanode_3_1  | 2021-06-29 13:26:01,191 [main] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: found a subdirectory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
scm_1         | 2021-06-29 13:22:38,218 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
om_1          | 2021-06-29 13:22:58,128 [Listener at om/9862] INFO server.RaftServer$Division: om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:om:9872|priority:0], old=null
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_6_1  | 2021-06-29 13:22:50,251 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_6_1  | 2021-06-29 13:22:50,251 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_6_1  | 2021-06-29 13:22:50,251 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
scm_1         | 2021-06-29 13:22:38,971 [IPC Server handler 1 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /rack1/8234872e-ae3b-48df-b771-2dd228a42719
datanode_4_1  | 2021-06-29 13:23:00,298 [grpc-default-executor-0] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29 replies to ELECTION vote request: aaf0680a-66c1-4277-8808-e83a9401de63<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:FAIL-t2. Peer's state: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29:t2, leader=497430bc-ef01-4983-8299-c4c845566cf5, voted=497430bc-ef01-4983-8299-c4c845566cf5, raftlog=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c0,f0,i0, conf=0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:01,270 [main] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: addNew group-27F3C9A95319:[] returns group-27F3C9A95319:java.util.concurrent.CompletableFuture@f810c18[Not completed]
scm_1         | 2021-06-29 13:22:38,994 [IPC Server handler 2 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /rack2/aaf0680a-66c1-4277-8808-e83a9401de63
om_1          | 2021-06-29 13:22:58,132 [Listener at om/9862] INFO server.RaftServer$Division: om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_6_1  | 2021-06-29 13:22:50,258 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_4_1  | 2021-06-29 13:24:40,658 [grpc-default-executor-0] WARN server.GrpcServerProtocolService: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: installSnapshot onError, lastRequest: 497430bc-ef01-4983-8299-c4c845566cf5->d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#3710-t2,previous=(t:2, i:106),leaderCommit=106,initializing? true,entries: size=1, first=(t:2, i:107), METADATAENTRY(c:106): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:01,274 [main] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: found a subdirectory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29
scm_1         | 2021-06-29 13:22:38,995 [IPC Server handler 2 on default port 9861] INFO node.SCMNodeManager: Registered Data node : aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
om_1          | 2021-06-29 13:22:58,135 [Listener at om/9862] INFO impl.RoleInfo: om1: start om1@group-C5BA1605619E-FollowerState
datanode_6_1  | 2021-06-29 13:22:50,258 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_4_1  | 2021-06-29 13:24:40,660 [grpc-default-executor-0] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: Network closed for unknown reason
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11 ELECTION round 0: result REJECTED
datanode_3_1  | 2021-06-29 13:26:01,275 [main] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: addNew group-8A5594AF1C29:[] returns group-8A5594AF1C29:java.util.concurrent.CompletableFuture@59f3426f[Not completed]
scm_1         | 2021-06-29 13:22:38,995 [IPC Server handler 1 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
om_1          | 2021-06-29 13:22:58,146 [Listener at om/9862] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
datanode_6_1  | 2021-06-29 13:22:50,259 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_4_1  | 2021-06-29 13:24:40,664 [grpc-default-executor-0] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 13 for REJECTED
datanode_3_1  | 2021-06-29 13:26:01,275 [main] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: found a subdirectory /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9
scm_1         | 2021-06-29 13:22:39,057 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 1 DataNodes registered, 4 required.
om_1          | 2021-06-29 13:22:58,152 [Listener at om/9862] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
datanode_6_1  | 2021-06-29 13:22:50,260 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_4_1  | 2021-06-29 13:24:40,687 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11
datanode_3_1  | 2021-06-29 13:26:01,275 [main] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: addNew group-69F99F37BAD9:[] returns group-69F99F37BAD9:java.util.concurrent.CompletableFuture@120411ec[Not completed]
scm_1         | 2021-06-29 13:22:39,222 [IPC Server handler 8 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /rack1/497430bc-ef01-4983-8299-c4c845566cf5
om_1          | 2021-06-29 13:22:58,166 [Listener at om/9862] INFO server.RaftServer: om1: start RPC server
datanode_6_1  | 2021-06-29 13:22:50,260 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_4_1  | 2021-06-29 13:24:40,688 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:46,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection11] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_3_1  | 2021-06-29 13:26:01,647 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5: new RaftServerImpl for group-27F3C9A95319:[] with ContainerStateMachine:uninitialized
scm_1         | 2021-06-29 13:22:39,225 [IPC Server handler 8 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
om_1          | 2021-06-29 13:22:58,245 [Listener at om/9862] INFO server.GrpcService: om1: GrpcService started, listening on 9872
datanode_6_1  | 2021-06-29 13:22:50,261 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:24:40,701 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,014 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5064165580ns, electionTimeout:5059ms
datanode_3_1  | 2021-06-29 13:26:01,691 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
scm_1         | 2021-06-29 13:22:39,225 [Listener at 0.0.0.0/9860] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
om_1          | 2021-06-29 13:22:58,264 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$364/0x0000000840493440@602d5417] INFO util.JvmPauseMonitor: JvmPauseMonitor-om1: Started
datanode_6_1  | 2021-06-29 13:22:50,263 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_4_1  | 2021-06-29 13:24:40,702 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,014 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_3_1  | 2021-06-29 13:26:01,720 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
scm_1         | 2021-06-29 13:22:39,035 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om_1          | 2021-06-29 13:22:58,435 [Listener at om/9862] INFO http.BaseHttpServer: Starting Web-server for ozoneManager at: http://0.0.0.0:9874
datanode_6_1  | 2021-06-29 13:22:50,279 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:24:40,708 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,014 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
datanode_3_1  | 2021-06-29 13:26:01,720 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
scm_1         | 2021-06-29 13:22:39,255 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om_1          | 2021-06-29 13:22:58,435 [Listener at om/9862] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_6_1  | 2021-06-29 13:22:50,286 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:24:40,709 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,029 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | 2021-06-29 13:26:01,720 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
scm_1         | 2021-06-29 13:22:39,255 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om_1          | 2021-06-29 13:22:58,539 [Listener at om/9862] INFO util.log: Logging initialized @19735ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_6_1  | 2021-06-29 13:22:50,294 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_4_1  | 2021-06-29 13:24:40,712 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,029 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12
datanode_3_1  | 2021-06-29 13:26:01,720 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1         | 2021-06-29 13:22:39,226 [IPC Server handler 7 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /rack1/7cde1fe5-f110-4ac5-8a71-921fbb989fcf
om_1          | 2021-06-29 13:22:58,775 [Listener at om/9862] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_6_1  | 2021-06-29 13:22:50,294 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_4_1  | 2021-06-29 13:24:40,713 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,079 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12 ELECTION round 0: submit vote requests at term 10 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_3_1  | 2021-06-29 13:26:01,720 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
scm_1         | 2021-06-29 13:22:39,057 [EventQueue-NodeRegistrationContainerReportForContainerSafeModeRule] INFO safemode.SCMSafeModeManager: ContainerSafeModeRule rule is successfully validated
om_1          | 2021-06-29 13:22:58,782 [Listener at om/9862] INFO http.HttpRequestLog: Http request log for http.requests.ozoneManager is not defined
datanode_6_1  | 2021-06-29 13:22:50,295 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_4_1  | 2021-06-29 13:24:40,714 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,095 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:01,725 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1         | 2021-06-29 13:22:39,263 [EventQueue-PipelineReportForOneReplicaPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: AtleastOneDatanodeReportedRule rule is successfully validated
om_1          | 2021-06-29 13:22:58,800 [Listener at om/9862] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_6_1  | 2021-06-29 13:22:50,295 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_4_1  | 2021-06-29 13:24:40,716 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,095 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:01,799 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
scm_1         | 2021-06-29 13:22:39,267 [IPC Server handler 7 on default port 9861] INFO node.SCMNodeManager: Registered Data node : 7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
om_1          | 2021-06-29 13:22:58,803 [Listener at om/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
datanode_6_1  | 2021-06-29 13:22:50,295 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_4_1  | 2021-06-29 13:24:40,717 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,095 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_3_1  | 2021-06-29 13:26:01,799 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1         | 2021-06-29 13:22:39,270 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om_1          | 2021-06-29 13:22:58,803 [Listener at om/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_6_1  | 2021-06-29 13:22:50,296 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_4_1  | 2021-06-29 13:24:40,719 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,107 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:01,801 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
scm_1         | 2021-06-29 13:22:39,279 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 2 DataNodes registered, 4 required.
om_1          | 2021-06-29 13:22:58,803 [Listener at om/9862] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_6_1  | 2021-06-29 13:22:50,297 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29
datanode_4_1  | 2021-06-29 13:24:40,720 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,107 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:01,934 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/in_use.lock acquired by nodename 10@a217807dff76
scm_1         | 2021-06-29 13:22:39,523 [IPC Server handler 3 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /rack2/e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
om_1          | 2021-06-29 13:22:58,911 [Listener at om/9862] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_6_1  | 2021-06-29 13:22:50,307 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29
datanode_4_1  | 2021-06-29 13:24:40,722 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,107 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12 ELECTION round 0: result REJECTED
datanode_3_1  | 2021-06-29 13:26:02,098 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=2, votedFor=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2} from /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/current/raft-meta
scm_1         | 2021-06-29 13:22:39,524 [IPC Server handler 3 on default port 9861] INFO node.SCMNodeManager: Registered Data node : e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
om_1          | 2021-06-29 13:22:58,926 [Listener at om/9862] INFO http.HttpServer2: Jetty bound to port 9874
datanode_6_1  | 2021-06-29 13:22:50,308 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: start as a follower, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_4_1  | 2021-06-29 13:24:40,722 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,109 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 10 for REJECTED
scm_1         | 2021-06-29 13:22:39,530 [IPC Server handler 5 on default port 9861] INFO net.NetworkTopologyImpl: Added a new node: /rack2/d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
om_1          | 2021-06-29 13:22:58,927 [Listener at om/9862] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_6_1  | 2021-06-29 13:22:50,309 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: changes role from      null to FOLLOWER at term 0 for startAsFollower
datanode_4_1  | 2021-06-29 13:24:40,723 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:47,111 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12
datanode_3_1  | 2021-06-29 13:26:02,282 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-27F3C9A95319: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
scm_1         | 2021-06-29 13:22:39,530 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om_1          | 2021-06-29 13:22:59,014 [Listener at om/9862] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_6_1  | 2021-06-29 13:22:50,309 [pool-22-thread-1] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState
datanode_4_1  | 2021-06-29 13:24:40,725 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:47,111 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection12] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_3_1  | 2021-06-29 13:26:02,468 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
scm_1         | 2021-06-29 13:22:39,530 [IPC Server handler 5 on default port 9861] INFO node.SCMNodeManager: Registered Data node : d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: null, persistedOpStateExpiryEpochSec: 0}
om_1          | 2021-06-29 13:22:59,014 [Listener at om/9862] INFO server.session: No SessionScavenger set, using defaults
datanode_6_1  | 2021-06-29 13:22:50,366 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5594AF1C29,id=aaf0680a-66c1-4277-8808-e83a9401de63
datanode_4_1  | 2021-06-29 13:24:40,727 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:48,104 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->8234872e-ae3b-48df-b771-2dd228a42719-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=4220,entriesCount=0,lastEntry=null
datanode_3_1  | 2021-06-29 13:26:02,469 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
scm_1         | 2021-06-29 13:22:39,530 [EventQueue-NewNodeForNewNodeHandler] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
om_1          | 2021-06-29 13:22:59,016 [Listener at om/9862] INFO server.session: node0 Scavenging every 600000ms
om_1          | 2021-06-29 13:22:59,056 [Listener at om/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@21143041{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_4_1  | 2021-06-29 13:24:40,732 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:48,190 [java.util.concurrent.ThreadPoolExecutor$Worker@2a01dee7[State = -1, empty queue]] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender: HEARTBEAT appendEntries Timeout, request=AppendEntriesRequest:cid=4243,entriesCount=0,lastEntry=null
datanode_3_1  | 2021-06-29 13:26:02,477 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
scm_1         | 2021-06-29 13:22:39,542 [Listener at 0.0.0.0/9860] INFO http.HttpServer2: Jetty bound to port 9876
om_1          | 2021-06-29 13:22:59,058 [Listener at om/9862] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@6f78c132{static,/static,jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_6_1  | 2021-06-29 13:22:50,366 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29
datanode_4_1  | 2021-06-29 13:24:40,732 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:52,186 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5191546724ns, electionTimeout:5189ms
datanode_3_1  | 2021-06-29 13:26:02,497 [main] INFO http.BaseHttpServer: Starting Web-server for hddsDatanode at: http://0.0.0.0:9882
datanode_3_1  | 2021-06-29 13:26:02,518 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om_1          | 2021-06-29 13:22:59,289 [Listener at om/9862] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@53d3d604{ozoneManager,/,file:///tmp/jetty-0_0_0_0-9874-ozone-manager-1_2_0-SNAPSHOT_jar-_-any-17354869941507816390/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/ozone-manager-1.2.0-SNAPSHOT.jar!/webapps/ozoneManager}
datanode_6_1  | 2021-06-29 13:22:54,707 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: receive requestVote(ELECTION, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, group-8A5594AF1C29, 1, (t:0, i:0))
datanode_6_1  | 2021-06-29 13:22:54,707 [grpc-default-executor-0] INFO impl.VoteContext: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FOLLOWER: accept ELECTION from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: our priority 0 <= candidate's priority 0
datanode_6_1  | 2021-06-29 13:22:54,708 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_6_1  | 2021-06-29 13:22:54,708 [grpc-default-executor-0] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState
datanode_6_1  | 2021-06-29 13:22:54,708 [grpc-default-executor-0] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState
datanode_6_1  | 2021-06-29 13:22:54,708 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState was interrupted: {}
datanode_6_1  | java.lang.InterruptedException: sleep interrupted
datanode_6_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_6_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_6_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_6_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_6_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_6_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_6_1  | 2021-06-29 13:22:54,734 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29 replies to ELECTION vote request: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-aaf0680a-66c1-4277-8808-e83a9401de63#0:OK-t1. Peer's state: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29:t1, leader=null, voted=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, raftlog=aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:54,847 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: receive requestVote(ELECTION, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, group-27F3C9A95319, 2, (t:0, i:0))
datanode_6_1  | 2021-06-29 13:22:54,848 [grpc-default-executor-0] INFO impl.VoteContext: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FOLLOWER: accept ELECTION from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: our priority 0 <= candidate's priority 1
datanode_6_1  | 2021-06-29 13:22:54,848 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_6_1  | 2021-06-29 13:22:54,848 [grpc-default-executor-0] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState
datanode_6_1  | 2021-06-29 13:22:54,848 [aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState was interrupted: {}
datanode_6_1  | java.lang.InterruptedException: sleep interrupted
datanode_6_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_6_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_6_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_6_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_6_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_6_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_6_1  | 2021-06-29 13:22:54,848 [grpc-default-executor-0] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-FollowerState
datanode_6_1  | 2021-06-29 13:22:54,852 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319 replies to ELECTION vote request: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2<-aaf0680a-66c1-4277-8808-e83a9401de63#0:OK-t2. Peer's state: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319:t2, leader=null, voted=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, raftlog=aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:55,005 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-27F3C9A95319 with new leaderId: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_6_1  | 2021-06-29 13:22:55,009 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: change Leader from null to d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 at term 2 for appendEntries, leader elected after 7210ms
datanode_6_1  | 2021-06-29 13:22:55,095 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:55,121 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLogWorker: Starting segment from index:0
datanode_6_1  | 2021-06-29 13:22:55,548 [aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-27F3C9A95319-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/current/log_inprogress_0
datanode_6_1  | 2021-06-29 13:22:59,782 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5048441611ns, electionTimeout:5033ms
datanode_6_1  | 2021-06-29 13:22:59,783 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState
datanode_6_1  | 2021-06-29 13:22:59,783 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_6_1  | 2021-06-29 13:22:59,785 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:22:59,786 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1
datanode_6_1  | 2021-06-29 13:22:59,815 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for -1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:22:59,928 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: receive requestVote(ELECTION, 497430bc-ef01-4983-8299-c4c845566cf5, group-8A5594AF1C29, 2, (t:0, i:0))
datanode_6_1  | 2021-06-29 13:22:59,930 [grpc-default-executor-0] INFO impl.VoteContext: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-CANDIDATE: reject ELECTION from 497430bc-ef01-4983-8299-c4c845566cf5: already has voted for aaf0680a-66c1-4277-8808-e83a9401de63 at current term 2
datanode_6_1  | 2021-06-29 13:22:59,931 [grpc-default-executor-0] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29 replies to ELECTION vote request: 497430bc-ef01-4983-8299-c4c845566cf5<-aaf0680a-66c1-4277-8808-e83a9401de63#0:FAIL-t2. Peer's state: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29:t2, leader=null, voted=aaf0680a-66c1-4277-8808-e83a9401de63, raftlog=aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c-1,f-1,i0, conf=-1: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:23:00,163 [grpc-default-executor-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: changes role from CANDIDATE to FOLLOWER at term 2 for appendEntries
datanode_6_1  | 2021-06-29 13:23:00,164 [grpc-default-executor-1] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1
datanode_6_1  | 2021-06-29 13:23:00,164 [grpc-default-executor-1] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState
datanode_6_1  | 2021-06-29 13:23:00,165 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-8A5594AF1C29 with new leaderId: 497430bc-ef01-4983-8299-c4c845566cf5
datanode_6_1  | 2021-06-29 13:23:00,165 [grpc-default-executor-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: change Leader from null to 497430bc-ef01-4983-8299-c4c845566cf5 at term 2 for appendEntries, leader elected after 9925ms
datanode_6_1  | 2021-06-29 13:23:00,232 [grpc-default-executor-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:23:00,233 [grpc-default-executor-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: Starting segment from index:0
datanode_6_1  | 2021-06-29 13:23:00,243 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0
datanode_6_1  | 2021-06-29 13:23:00,309 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1: ELECTION REJECTED received 1 response(s) and 0 exception(s):
datanode_6_1  | 2021-06-29 13:23:00,311 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1] INFO impl.LeaderElection:   Response 0: aaf0680a-66c1-4277-8808-e83a9401de63<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:FAIL-t2
datanode_6_1  | 2021-06-29 13:23:00,311 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection1 ELECTION round 0: result REJECTED
datanode_6_1  | 2021-06-29 13:23:11,392 [Command processor thread] INFO server.RaftServer: aaf0680a-66c1-4277-8808-e83a9401de63: addNew group-A7C2B4C8D7F3:[aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:1] returns group-A7C2B4C8D7F3:java.util.concurrent.CompletableFuture@5eba947c[Not completed]
datanode_6_1  | 2021-06-29 13:23:11,396 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63: new RaftServerImpl for group-A7C2B4C8D7F3:[aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:1] with ContainerStateMachine:uninitialized
datanode_6_1  | 2021-06-29 13:23:11,399 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_6_1  | 2021-06-29 13:23:11,399 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_6_1  | 2021-06-29 13:23:11,399 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_6_1  | 2021-06-29 13:23:11,399 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_6_1  | 2021-06-29 13:23:11,399 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_6_1  | 2021-06-29 13:23:11,400 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_6_1  | 2021-06-29 13:23:11,400 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:25:52,186 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_6_1  | 2021-06-29 13:23:11,400 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: ConfigurationManager, init=-1: [aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:1], old=null, confs=<EMPTY_MAP>
om_1          | 2021-06-29 13:22:59,313 [Listener at om/9862] INFO server.AbstractConnector: Started ServerConnector@54464330{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
datanode_4_1  | 2021-06-29 13:24:47,044 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: receive requestVote(ELECTION, aaf0680a-66c1-4277-8808-e83a9401de63, group-8A5594AF1C29, 3, (t:2, i:107))
scm_1         | 2021-06-29 13:22:39,570 [Listener at 0.0.0.0/9860] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_3_1  | 2021-06-29 13:26:02,555 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:25:52,186 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
datanode_6_1  | 2021-06-29 13:23:11,400 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
om_1          | 2021-06-29 13:22:59,317 [Listener at om/9862] INFO server.Server: Started @20509ms
datanode_4_1  | 2021-06-29 13:24:47,045 [grpc-default-executor-2] INFO impl.VoteContext: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FOLLOWER: accept ELECTION from aaf0680a-66c1-4277-8808-e83a9401de63: our priority 0 <= candidate's priority 0
scm_1         | 2021-06-29 13:22:39,607 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 3 DataNodes registered, 4 required.
datanode_3_1  | 2021-06-29 13:26:02,582 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_5_1  | 2021-06-29 13:25:52,186 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:23:11,402 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
om_1          | 2021-06-29 13:22:59,321 [Listener at om/9862] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_4_1  | 2021-06-29 13:24:47,045 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: change Leader from 497430bc-ef01-4983-8299-c4c845566cf5 to null at term 3 for updateCurrentTerm
scm_1         | 2021-06-29 13:22:39,647 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. 4 DataNodes registered, 4 required.
datanode_3_1  | 2021-06-29 13:26:02,608 [main] INFO http.BaseHttpServer: Hadoop Security Enabled: false Ozone Security Enabled: false Ozone HTTP Security Enabled: false 
datanode_5_1  | 2021-06-29 13:25:52,186 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13
datanode_6_1  | 2021-06-29 13:23:11,403 [pool-22-thread-1] INFO storage.RaftStorageDirectory: The storage directory /data/metadata/ratis/4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3 does not exist. Creating ...
om_1          | 2021-06-29 13:22:59,321 [Listener at om/9862] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_4_1  | 2021-06-29 13:24:47,045 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:aaf0680a-66c1-4277-8808-e83a9401de63
scm_1         | 2021-06-29 13:22:39,647 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: DataNodeSafeModeRule rule is successfully validated
datanode_3_1  | 2021-06-29 13:26:02,642 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:25:52,190 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13 ELECTION round 0: submit vote requests at term 14 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:23:11,414 [pool-22-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3/in_use.lock acquired by nodename 7@fd0f7a65317d
om_1          | 2021-06-29 13:22:59,327 [Listener at om/9862] INFO http.BaseHttpServer: HTTP server of ozoneManager listening at http://0.0.0.0:9874
datanode_4_1  | 2021-06-29 13:24:47,045 [grpc-default-executor-2] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: shutdown d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
scm_1         | 2021-06-29 13:22:39,647 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO safemode.SCMSafeModeManager: All SCM safe mode pre check rules have passed
datanode_3_1  | 2021-06-29 13:26:02,680 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,420 [pool-22-thread-1] INFO storage.RaftStorage: Storage directory /data/metadata/ratis/4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3 has been successfully formatted.
om_1          | 2021-06-29 13:22:59,339 [IPC Server Responder] INFO ipc.Server: IPC Server Responder: starting
datanode_4_1  | 2021-06-29 13:24:47,045 [grpc-default-executor-2] INFO impl.RoleInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2: start d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState
datanode_3_1  | 2021-06-29 13:26:02,681 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,421 [pool-22-thread-1] INFO ratis.ContainerStateMachine: group-A7C2B4C8D7F3: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
om_1          | 2021-06-29 13:22:59,411 [IPC Server listener on 9862] INFO ipc.Server: IPC Server listener on 9862: starting
scm_1         | 2021-06-29 13:22:39,680 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=ba356189-667a-4bf8-a21e-9832f6bad3f4 to datanode:8234872e-ae3b-48df-b771-2dd228a42719
datanode_4_1  | 2021-06-29 13:24:47,045 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-FollowerState was interrupted: {}
datanode_3_1  | 2021-06-29 13:26:02,725 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_6_1  | 2021-06-29 13:23:11,438 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
om_1          | 2021-06-29 13:22:59,440 [Listener at om/9862] INFO om.OzoneManager: Trash Interval set to 0. Files deleted will not move to trash
scm_1         | 2021-06-29 13:22:39,647 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
datanode_4_1  | java.lang.InterruptedException: sleep interrupted
datanode_3_1  | 2021-06-29 13:26:02,726 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,443 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
om_1          | 2021-06-29 13:22:59,446 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@52b7a3e1] INFO util.JvmPauseMonitor: Starting JVM pause monitor
scm_1         | 2021-06-29 13:22:39,693 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=true}.
datanode_4_1  | 	at java.base/java.lang.Thread.sleep(Native Method)
datanode_3_1  | 2021-06-29 13:26:02,727 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,444 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
om_1          | 2021-06-29 13:23:03,303 [om1@group-C5BA1605619E-FollowerState] INFO impl.FollowerState: om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5169867362ns, electionTimeout:5142ms
scm_1         | 2021-06-29 13:22:39,742 [EventQueue-NodeRegistrationContainerReportForDataNodeSafeModeRule] INFO pipeline.BackgroundPipelineCreator: trigger a one-shot run on RatisPipelineUtilsThread.
datanode_4_1  | 	at java.base/java.lang.Thread.sleep(Thread.java:339)
datanode_3_1  | 2021-06-29 13:26:02,727 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:26:02,728 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_6_1  | 2021-06-29 13:23:11,444 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
om_1          | 2021-06-29 13:23:03,304 [om1@group-C5BA1605619E-FollowerState] INFO impl.RoleInfo: om1: shutdown om1@group-C5BA1605619E-FollowerState
scm_1         | 2021-06-29 13:22:39,843 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: ba356189-667a-4bf8-a21e-9832f6bad3f4, Nodes: 8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:39.666Z].
datanode_4_1  | 	at java.base/java.util.concurrent.TimeUnit.sleep(TimeUnit.java:446)
datanode_3_1  | 2021-06-29 13:26:02,728 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13 ELECTION round 0: result REJECTED
datanode_6_1  | 2021-06-29 13:23:11,444 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3
om_1          | 2021-06-29 13:23:03,305 [om1@group-C5BA1605619E-FollowerState] INFO server.RaftServer$Division: om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
scm_1         | 2021-06-29 13:22:40,019 [Listener at 0.0.0.0/9860] INFO server.session: DefaultSessionIdManager workerName=node0
datanode_4_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
datanode_3_1  | 2021-06-29 13:26:02,733 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 14 for REJECTED
datanode_6_1  | 2021-06-29 13:23:11,453 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
scm_1         | 2021-06-29 13:22:40,025 [Listener at 0.0.0.0/9860] INFO server.session: No SessionScavenger set, using defaults
om_1          | 2021-06-29 13:23:03,307 [om1@group-C5BA1605619E-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_4_1  | 	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
datanode_3_1  | 2021-06-29 13:26:02,735 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13
datanode_6_1  | 2021-06-29 13:23:11,454 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
scm_1         | 2021-06-29 13:22:40,036 [Listener at 0.0.0.0/9860] INFO server.session: node0 Scavenging every 600000ms
om_1          | 2021-06-29 13:23:03,307 [om1@group-C5BA1605619E-FollowerState] INFO impl.RoleInfo: om1: start om1@group-C5BA1605619E-LeaderElection1
datanode_4_1  | 	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
datanode_3_1  | 2021-06-29 13:26:02,735 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_5_1  | 2021-06-29 13:25:52,191 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection13] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_6_1  | 2021-06-29 13:23:11,474 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_6_1  | 2021-06-29 13:23:11,474 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: new aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3
om_1          | 2021-06-29 13:23:03,355 [om1@group-C5BA1605619E-LeaderElection1] INFO impl.LeaderElection: om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:om:9872|priority:0], old=null
datanode_4_1  | 2021-06-29 13:24:47,048 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29 replies to ELECTION vote request: aaf0680a-66c1-4277-8808-e83a9401de63<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:OK-t3. Peer's state: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29:t3, leader=null, voted=aaf0680a-66c1-4277-8808-e83a9401de63, raftlog=d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLog:OPENED:c107,f107,i107, conf=0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:02,749 [main] INFO util.log: Logging initialized @21778ms to org.eclipse.jetty.util.log.Slf4jLog
datanode_5_1  | 2021-06-29 13:25:52,317 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5205873553ns, electionTimeout:5174ms
datanode_6_1  | 2021-06-29 13:23:11,474 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_6_1  | 2021-06-29 13:23:11,474 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
scm_1         | 2021-06-29 13:22:40,049 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c to datanode:8234872e-ae3b-48df-b771-2dd228a42719
datanode_4_1  | 2021-06-29 13:24:52,192 [grpc-default-executor-2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-8A5594AF1C29 with new leaderId: aaf0680a-66c1-4277-8808-e83a9401de63
datanode_5_1  | 2021-06-29 13:25:52,317 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
om_1          | 2021-06-29 13:23:03,356 [om1@group-C5BA1605619E-LeaderElection1] INFO impl.LeaderElection: om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
datanode_3_1  | 2021-06-29 13:26:02,777 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_6_1  | 2021-06-29 13:23:11,475 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_6_1  | 2021-06-29 13:23:11,475 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_4_1  | 2021-06-29 13:24:52,192 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: change Leader from null to aaf0680a-66c1-4277-8808-e83a9401de63 at term 3 for appendEntries, leader elected after 5147ms
datanode_4_1  | 2021-06-29 13:24:52,214 [grpc-default-executor-2] INFO server.RaftServer$Division: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29: set configuration 108: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
scm_1         | 2021-06-29 13:22:40,073 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c to datanode:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_6_1  | 2021-06-29 13:23:11,475 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_4_1  | 2021-06-29 13:24:52,215 [grpc-default-executor-2] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: Rolling segment log-0_107 to index:107
datanode_5_1  | 2021-06-29 13:25:52,317 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
scm_1         | 2021-06-29 13:22:40,079 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c to datanode:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_3_1  | 2021-06-29 13:26:02,779 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
om_1          | 2021-06-29 13:23:03,361 [om1@group-C5BA1605619E-LeaderElection1] INFO impl.RoleInfo: om1: shutdown om1@group-C5BA1605619E-LeaderElection1
datanode_6_1  | 2021-06-29 13:23:11,475 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_4_1  | 2021-06-29 13:24:52,218 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0 to /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_0-107
datanode_5_1  | 2021-06-29 13:25:52,317 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:25:52,317 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14
scm_1         | 2021-06-29 13:22:40,081 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 083733ff-cfa3-4a01-861d-3fe17345405c, Nodes: 8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.049Z].
om_1          | 2021-06-29 13:23:03,362 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServer$Division: om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_6_1  | 2021-06-29 13:23:11,475 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_4_1  | 2021-06-29 13:24:52,220 [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-8A5594AF1C29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_108
datanode_5_1  | 2021-06-29 13:25:52,320 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14 ELECTION round 0: submit vote requests at term 11 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_3_1  | 2021-06-29 13:26:02,960 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
scm_1         | 2021-06-29 13:22:40,087 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=10e72fba-8814-427e-ad69-a6977e8481ab to datanode:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
om_1          | 2021-06-29 13:23:03,367 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServer$Division: om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5874ms
datanode_6_1  | 2021-06-29 13:23:11,476 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_4_1  | 2021-06-29 13:25:11,641 [grpc-default-executor-3] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:52,321 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:03,157 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 127 entries from segment file /data/metadata/ratis/24bc7c44-3b2d-4d32-8bc1-27f3c9a95319/current/log_inprogress_0
scm_1         | 2021-06-29 13:22:40,098 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 10e72fba-8814-427e-ad69-a6977e8481ab, Nodes: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.087Z].
om_1          | 2021-06-29 13:23:03,386 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_6_1  | 2021-06-29 13:23:11,476 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_4_1  | 2021-06-29 13:25:11,641 [grpc-default-executor-3] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:03,183 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 126
scm_1         | 2021-06-29 13:22:40,106 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 to datanode:aaf0680a-66c1-4277-8808-e83a9401de63
om_1          | 2021-06-29 13:23:03,398 [om1@group-C5BA1605619E-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
om_1          | 2021-06-29 13:23:03,401 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 4096 (default)
om_1          | 2021-06-29 13:23:03,407 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 64MB (=67108864) (default)
om_1          | 2021-06-29 13:23:03,424 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 10s (default)
om_1          | 2021-06-29 13:23:03,427 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
om_1          | 2021-06-29 13:23:03,428 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
om_1          | 2021-06-29 13:23:03,450 [om1@group-C5BA1605619E-LeaderElection1] INFO impl.RoleInfo: om1: start om1@group-C5BA1605619E-LeaderStateImpl
om_1          | 2021-06-29 13:23:03,532 [om1@group-C5BA1605619E-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
datanode_3_1  | 2021-06-29 13:26:03,187 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_4_1  | 2021-06-29 13:25:41,653 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_6_1  | 2021-06-29 13:23:11,487 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
scm_1         | 2021-06-29 13:22:40,121 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 to datanode:497430bc-ef01-4983-8299-c4c845566cf5
scm_1         | 2021-06-29 13:22:40,127 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 to datanode:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_3_1  | 2021-06-29 13:26:03,602 [main] INFO server.AuthenticationFilter: Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
datanode_4_1  | 2021-06-29 13:25:41,654 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,490 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
scm_1         | 2021-06-29 13:22:40,136 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 24bc7c44-3b2d-4d32-8bc1-27f3c9a95319, Nodes: aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.106Z].
om_1          | 2021-06-29 13:23:03,660 [om1@group-C5BA1605619E-LeaderElection1] INFO server.RaftServer$Division: om1@group-C5BA1605619E: set configuration 0: [om1|rpc:om:9872|admin:|client:|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:03,682 [main] INFO http.HttpRequestLog: Http request log for http.requests.hddsDatanode is not defined
datanode_4_1  | 2021-06-29 13:25:43,242 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,490 [pool-22-thread-1] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
scm_1         | 2021-06-29 13:22:40,143 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=f68a8046-a727-4284-a11c-95d4001c9069 to datanode:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
om_1          | 2021-06-29 13:23:03,852 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
datanode_3_1  | 2021-06-29 13:26:03,719 [main] INFO http.HttpServer2: Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
datanode_4_1  | 2021-06-29 13:25:43,244 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14 ELECTION round 0: result REJECTED
datanode_6_1  | 2021-06-29 13:23:11,497 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
scm_1         | 2021-06-29 13:22:40,157 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: f68a8046-a727-4284-a11c-95d4001c9069, Nodes: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.143Z].
om_1          | 2021-06-29 13:23:04,925 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:vol-0-26348 for user:hadoop
datanode_3_1  | 2021-06-29 13:26:03,721 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context hddsDatanode
datanode_4_1  | 2021-06-29 13:25:45,743 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 11 for REJECTED
datanode_6_1  | 2021-06-29 13:23:11,507 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
scm_1         | 2021-06-29 13:22:40,192 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=2970c030-f85a-428b-adcb-f2d82f52f507 to datanode:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
om_1          | 2021-06-29 13:23:04,987 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:vol-1-08287 for user:hadoop
om_1          | 2021-06-29 13:23:05,000 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:vol-2-78290 for user:hadoop
datanode_4_1  | 2021-06-29 13:25:45,744 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_6_1  | 2021-06-29 13:23:11,507 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14
scm_1         | 2021-06-29 13:22:40,193 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=2970c030-f85a-428b-adcb-f2d82f52f507 to datanode:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
om_1          | 2021-06-29 13:23:05,010 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:vol-3-21959 for user:hadoop
datanode_3_1  | 2021-06-29 13:26:03,723 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
datanode_4_1  | 2021-06-29 13:25:48,255 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:52,322 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection14] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_6_1  | 2021-06-29 13:23:11,507 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
scm_1         | 2021-06-29 13:22:40,197 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=2970c030-f85a-428b-adcb-f2d82f52f507 to datanode:8234872e-ae3b-48df-b771-2dd228a42719
om_1          | 2021-06-29 13:23:05,019 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:vol-4-87384 for user:hadoop
datanode_3_1  | 2021-06-29 13:26:03,723 [main] INFO http.HttpServer2: Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
datanode_4_1  | 2021-06-29 13:25:48,256 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:57,235 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5043512699ns, electionTimeout:5043ms
datanode_6_1  | 2021-06-29 13:23:11,514 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
scm_1         | 2021-06-29 13:22:40,207 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 2970c030-f85a-428b-adcb-f2d82f52f507, Nodes: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.192Z].
om_1          | 2021-06-29 13:24:27,489 [OM StateMachine ApplyTransaction Thread - 0] INFO volume.OMVolumeCreateRequest: created volume:topvol1 for user:hadoop
datanode_3_1  | 2021-06-29 13:26:04,021 [pool-30-thread-1] INFO raftlog.RaftLog: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=125, updated? true
datanode_4_1  | 2021-06-29 13:25:50,760 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:57,251 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_6_1  | 2021-06-29 13:23:11,514 [pool-22-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
scm_1         | 2021-06-29 13:22:40,207 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerV2Impl: Pipeline: PipelineID=2970c030-f85a-428b-adcb-f2d82f52f507 contains same datanodes as previous pipelines: PipelineID=083733ff-cfa3-4a01-861d-3fe17345405c nodeIds: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, 8234872e-ae3b-48df-b771-2dd228a42719
datanode_3_1  | 2021-06-29 13:26:04,026 [main] WARN http.BaseHttpServer: /prof java profiling servlet is activated. Not safe for production!
datanode_3_1  | 2021-06-29 13:26:04,052 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:25:57,251 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 14 for changeToCandidate
datanode_6_1  | 2021-06-29 13:23:11,515 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3
scm_1         | 2021-06-29 13:22:40,223 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=dfdd0685-e751-48ba-b9d2-fe1988833322 to datanode:7cde1fe5-f110-4ac5-8a71-921fbb989fcf
datanode_3_1  | 2021-06-29 13:26:04,063 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_4_1  | 2021-06-29 13:25:50,761 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:57,251 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:23:11,515 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3
scm_1         | 2021-06-29 13:22:40,224 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3fe24670{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_3_1  | 2021-06-29 13:26:04,074 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_4_1  | 2021-06-29 13:25:53,262 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:57,251 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15
datanode_6_1  | 2021-06-29 13:23:11,517 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: start as a follower, conf=-1: [aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:1], old=null
scm_1         | 2021-06-29 13:22:40,230 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@56a9a7b5{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
datanode_3_1  | 2021-06-29 13:26:04,078 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_4_1  | 2021-06-29 13:25:53,263 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:57,254 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15 ELECTION round 0: submit vote requests at term 15 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_6_1  | 2021-06-29 13:23:11,519 [pool-22-thread-1] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: changes role from      null to FOLLOWER at term 0 for startAsFollower
scm_1         | 2021-06-29 13:22:40,225 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: dfdd0685-e751-48ba-b9d2-fe1988833322, Nodes: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.223Z].
datanode_3_1  | 2021-06-29 13:26:04,084 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_4_1  | 2021-06-29 13:25:55,762 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:25:57,267 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,519 [pool-22-thread-1] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState
scm_1         | 2021-06-29 13:22:40,235 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=6e538fba-de29-4913-87ba-8a5594af1c29 to datanode:497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:26:04,085 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_4_1  | 2021-06-29 13:25:55,762 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_5_1  | 2021-06-29 13:25:57,268 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,525 [pool-22-thread-1] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A7C2B4C8D7F3,id=aaf0680a-66c1-4277-8808-e83a9401de63
scm_1         | 2021-06-29 13:22:40,235 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=6e538fba-de29-4913-87ba-8a5594af1c29 to datanode:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_3_1  | 2021-06-29 13:26:04,082 [main] INFO http.HttpServer2: Jetty bound to port 9882
datanode_5_1  | 2021-06-29 13:25:57,268 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_4_1  | 2021-06-29 13:25:58,262 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,526 [pool-22-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3
scm_1         | 2021-06-29 13:22:40,235 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=6e538fba-de29-4913-87ba-8a5594af1c29 to datanode:aaf0680a-66c1-4277-8808-e83a9401de63
datanode_3_1  | 2021-06-29 13:26:04,088 [main] INFO server.Server: jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 11.0.10+9-LTS
datanode_5_1  | 2021-06-29 13:25:57,268 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:25:58,263 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_6_1  | 2021-06-29 13:23:11,529 [Command processor thread] INFO ratis.XceiverServerRatis: Created group PipelineID=4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3
scm_1         | 2021-06-29 13:22:40,236 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 6e538fba-de29-4913-87ba-8a5594af1c29, Nodes: 497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.235Z].
datanode_3_1  | 2021-06-29 13:26:04,167 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_5_1  | 2021-06-29 13:25:57,268 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | 2021-06-29 13:26:00,763 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:23:11,535 [Command processor thread] INFO commandhandler.CreatePipelineCommandHandler: Created Pipeline RATIS ONE PipelineID=4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3.
datanode_3_1  | 2021-06-29 13:26:04,185 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
scm_1         | 2021-06-29 13:22:40,237 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineManagerV2Impl: Pipeline: PipelineID=6e538fba-de29-4913-87ba-8a5594af1c29 contains same datanodes as previous pipelines: PipelineID=24bc7c44-3b2d-4d32-8bc1-27f3c9a95319 nodeIds: 497430bc-ef01-4983-8299-c4c845566cf5, d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, aaf0680a-66c1-4277-8808-e83a9401de63
datanode_5_1  | 2021-06-29 13:25:57,268 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15 ELECTION round 0: result REJECTED
datanode_4_1  | 2021-06-29 13:26:00,763 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_6_1  | 2021-06-29 13:23:14,531 [grpc-default-executor-1] INFO keyvalue.KeyValueHandler: Operation: GetBlock , Trace ID:  , Message: Unable to find the block with bcsID 17 .Container 3 bcsId is 14. , Result: UNKNOWN_BCSID , StorageContainerException Occurred.
datanode_3_1  | 2021-06-29 13:26:04,314 [main] INFO server.session: DefaultSessionIdManager workerName=node0
scm_1         | 2021-06-29 13:22:40,241 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9 to datanode:497430bc-ef01-4983-8299-c4c845566cf5
datanode_5_1  | 2021-06-29 13:25:57,268 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 15 for REJECTED
datanode_4_1  | 2021-06-29 13:26:03,264 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | org.apache.hadoop.hdds.scm.container.common.helpers.StorageContainerException: Unable to find the block with bcsID 17 .Container 3 bcsId is 14.
datanode_3_1  | 2021-06-29 13:26:04,314 [main] INFO server.session: No SessionScavenger set, using defaults
scm_1         | 2021-06-29 13:22:40,242 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9, Nodes: 497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.241Z].
datanode_5_1  | 2021-06-29 13:25:57,269 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15
datanode_4_1  | 2021-06-29 13:26:03,265 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_6_1  | 	at org.apache.hadoop.ozone.container.keyvalue.impl.BlockManagerImpl.getBlock(BlockManagerImpl.java:215)
datanode_3_1  | 2021-06-29 13:26:04,324 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5: new RaftServerImpl for group-8A5594AF1C29:[] with ContainerStateMachine:uninitialized
scm_1         | 2021-06-29 13:22:40,262 [RatisPipelineUtilsThread - 0] INFO pipeline.RatisPipelineProvider: Sending CreatePipelineCommand for pipeline:PipelineID=4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3 to datanode:aaf0680a-66c1-4277-8808-e83a9401de63
datanode_5_1  | 2021-06-29 13:25:57,269 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection15] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_4_1  | 2021-06-29 13:26:05,767 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handleGetBlock(KeyValueHandler.java:476)
datanode_3_1  | 2021-06-29 13:26:04,324 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
scm_1         | 2021-06-29 13:22:40,265 [RatisPipelineUtilsThread - 0] INFO pipeline.PipelineStateManager: Created pipeline Pipeline[ Id: 4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3, Nodes: aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:, CreationTimestamp2021-06-29T13:22:40.262Z].
datanode_5_1  | 2021-06-29 13:25:57,420 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5097506910ns, electionTimeout:5097ms
datanode_4_1  | 2021-06-29 13:26:05,768 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_6_1  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.dispatchRequest(KeyValueHandler.java:196)
datanode_3_1  | 2021-06-29 13:26:04,324 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
scm_1         | 2021-06-29 13:22:40,824 [Listener at 0.0.0.0/9860] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@7836c79{scm,/,file:///tmp/jetty-0_0_0_0-9876-hdds-server-scm-1_2_0-SNAPSHOT_jar-_-any-5945036605311875500/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-server-scm-1.2.0-SNAPSHOT.jar!/webapps/scm}
datanode_5_1  | 2021-06-29 13:25:57,420 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_4_1  | 2021-06-29 13:26:08,268 [grpc-default-executor-2] WARN server.GrpcLogAppender: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 	at org.apache.hadoop.ozone.container.keyvalue.KeyValueHandler.handle(KeyValueHandler.java:170)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
scm_1         | 2021-06-29 13:22:41,020 [Listener at 0.0.0.0/9860] INFO server.AbstractConnector: Started ServerConnector@195cbf5e{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
datanode_5_1  | 2021-06-29 13:25:57,420 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 11 for changeToCandidate
datanode_4_1  | 2021-06-29 13:26:08,271 [grpc-default-executor-2] INFO leader.FollowerInfo: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2@group-27F3C9A95319->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 127 -> 126
datanode_6_1  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatchRequest(HddsDispatcher.java:307)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
scm_1         | 2021-06-29 13:22:41,021 [Listener at 0.0.0.0/9860] INFO server.Server: Started @43200ms
datanode_5_1  | 2021-06-29 13:25:57,420 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_4_1  | 2021-06-29 13:26:13,334 [SIGTERM handler] ERROR ozone.HddsDatanodeService: RECEIVED SIGNAL 15: SIGTERM
datanode_6_1  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.lambda$dispatch$0(HddsDispatcher.java:169)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
scm_1         | 2021-06-29 13:22:41,067 [Listener at 0.0.0.0/9860] INFO impl.MetricsSinkAdapter: Sink prometheus started
datanode_5_1  | 2021-06-29 13:25:57,420 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16
datanode_4_1  | 2021-06-29 13:26:13,367 [shutdown-hook-0] INFO ozone.HddsDatanodeService: SHUTDOWN_MSG: 
datanode_6_1  | 	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
scm_1         | 2021-06-29 13:22:41,067 [Listener at 0.0.0.0/9860] INFO impl.MetricsSystemImpl: Registered sink prometheus
datanode_5_1  | 2021-06-29 13:25:57,426 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16 ELECTION round 0: submit vote requests at term 12 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_4_1  | /************************************************************
datanode_6_1  | 	at org.apache.hadoop.ozone.container.common.impl.HddsDispatcher.dispatch(HddsDispatcher.java:168)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1         | 2021-06-29 13:22:41,083 [Listener at 0.0.0.0/9860] INFO http.BaseHttpServer: HTTP server of scm listening at http://0.0.0.0:9876
datanode_5_1  | 2021-06-29 13:25:57,427 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | SHUTDOWN_MSG: Shutting down HddsDatanodeService at e28b31ca8462/10.5.0.7
datanode_6_1  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:57)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
scm_1         | 2021-06-29 13:22:48,829 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: f68a8046-a727-4284-a11c-95d4001c9069, Nodes: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, CreationTimestamp2021-06-29T13:22:40.143Z] moved to OPEN state
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_4_1  | ************************************************************/
datanode_6_1  | 	at org.apache.hadoop.ozone.container.common.transport.server.GrpcXceiverService$1.onNext(GrpcXceiverService.java:50)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
scm_1         | 2021-06-29 13:22:48,867 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:255)
datanode_3_1  | 2021-06-29 13:26:04,325 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
scm_1         | 2021-06-29 13:22:49,319 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 0, required healthy pipeline reported count is 1
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.ForwardingServerCallListener.onMessage(ForwardingServerCallListener.java:33)
datanode_3_1  | 2021-06-29 13:26:04,336 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/in_use.lock acquired by nodename 10@a217807dff76
scm_1         | 2021-06-29 13:22:49,345 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 083733ff-cfa3-4a01-861d-3fe17345405c, Nodes: 8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, CreationTimestamp2021-06-29T13:22:40.049Z] moved to OPEN state
scm_1         | 2021-06-29 13:22:49,395 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: dfdd0685-e751-48ba-b9d2-fe1988833322, Nodes: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:7cde1fe5-f110-4ac5-8a71-921fbb989fcf, CreationTimestamp2021-06-29T13:22:40.223Z] moved to OPEN state
scm_1         | 2021-06-29 13:22:49,396 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM in safe mode. Healthy pipelines reported count is 1, required healthy pipeline reported count is 1
datanode_6_1  | 	at org.apache.hadoop.hdds.tracing.GrpcServerInterceptor$1.onMessage(GrpcServerInterceptor.java:49)
scm_1         | 2021-06-29 13:22:49,449 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: HealthyPipelineSafeModeRule rule is successfully validated
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,336 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=2, votedFor=497430bc-ef01-4983-8299-c4c845566cf5} from /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/raft-meta
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:309)
scm_1         | 2021-06-29 13:22:49,449 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: ScmSafeModeManager, all rules are successfully validated
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16 ELECTION round 0: result REJECTED
scm_1         | 2021-06-29 13:22:49,449 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO safemode.SCMSafeModeManager: SCM exiting safe mode.
scm_1         | 2021-06-29 13:22:49,455 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] WARN events.EventQueue: No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 12 for REJECTED
datanode_3_1  | 2021-06-29 13:26:04,337 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-8A5594AF1C29: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:292)
scm_1         | 2021-06-29 13:22:49,455 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO ha.SCMContext: Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=true} to SafeModeStatus{safeModeStatus=false, preCheckPassed=true}.
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16
datanode_3_1  | 2021-06-29 13:26:04,337 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:782)
scm_1         | 2021-06-29 13:22:49,455 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO pipeline.BackgroundPipelineCreator: Service BackgroundPipelineCreator transitions to RUNNING.
datanode_5_1  | 2021-06-29 13:25:57,428 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection16] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_3_1  | 2021-06-29 13:26:04,337 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
scm_1         | 2021-06-29 13:22:49,455 [EventQueue-OpenPipelineForHealthyPipelineSafeModeRule] INFO container.ReplicationManager: Service ReplicationManager transitions to RUNNING.
datanode_5_1  | 2021-06-29 13:26:02,354 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5085514567ns, electionTimeout:5084ms
datanode_3_1  | 2021-06-29 13:26:04,337 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_6_1  | 	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
scm_1         | 2021-06-29 13:22:49,813 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 10e72fba-8814-427e-ad69-a6977e8481ab, Nodes: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4, CreationTimestamp2021-06-29T13:22:40.087Z] moved to OPEN state
datanode_5_1  | 2021-06-29 13:26:02,355 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
datanode_3_1  | 2021-06-29 13:26:04,337 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_6_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
scm_1         | 2021-06-29 13:22:50,021 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9, Nodes: 497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:497430bc-ef01-4983-8299-c4c845566cf5, CreationTimestamp2021-06-29T13:22:40.241Z] moved to OPEN state
datanode_5_1  | 2021-06-29 13:26:02,355 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 15 for changeToCandidate
datanode_3_1  | 2021-06-29 13:26:04,337 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_6_1  | 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
scm_1         | 2021-06-29 13:22:53,193 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 2970c030-f85a-428b-adcb-f2d82f52f507, Nodes: 7cde1fe5-f110-4ac5-8a71-921fbb989fcf{ip: 10.5.0.5, host: ozone-topology_datanode_2_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4{ip: 10.5.0.8, host: ozone-topology_datanode_5_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:7cde1fe5-f110-4ac5-8a71-921fbb989fcf, CreationTimestamp2021-06-29T13:22:40.192Z] moved to OPEN state
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_5_1  | 2021-06-29 13:26:02,355 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 	at java.base/java.lang.Thread.run(Thread.java:834)
scm_1         | 2021-06-29 13:22:54,879 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 24bc7c44-3b2d-4d32-8bc1-27f3c9a95319, Nodes: aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2, CreationTimestamp2021-06-29T13:22:40.106Z] moved to OPEN state
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:26:02,355 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17
datanode_5_1  | 2021-06-29 13:26:02,358 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17 ELECTION round 0: submit vote requests at term 16 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_6_1  | 2021-06-29 13:23:16,653 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState] INFO impl.FollowerState: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5133641711ns, electionTimeout:5128ms
datanode_5_1  | 2021-06-29 13:26:02,358 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:22:59,978 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 6e538fba-de29-4913-87ba-8a5594af1c29, Nodes: 497430bc-ef01-4983-8299-c4c845566cf5{ip: 10.5.0.6, host: ozone-topology_datanode_3_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2{ip: 10.5.0.7, host: ozone-topology_datanode_4_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/THREE, State:ALLOCATED, leaderId:497430bc-ef01-4983-8299-c4c845566cf5, CreationTimestamp2021-06-29T13:22:40.235Z] moved to OPEN state
scm_1         | 2021-06-29 13:23:05,380 [IPC Server handler 85 on default port 9863] INFO ha.SequenceIdGenerator: Allocate a batch for containerId, change lastId from 0 to 1000.
datanode_6_1  | 2021-06-29 13:23:16,653 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
scm_1         | 2021-06-29 13:23:05,415 [IPC Server handler 85 on default port 9863] WARN ha.SequenceIdGenerator: Failed to allocate a batch for localId, expected lastId is 0, actual lastId is 107544261427200000.
scm_1         | 2021-06-29 13:23:05,415 [IPC Server handler 85 on default port 9863] INFO ha.SequenceIdGenerator: Allocate a batch for localId, change lastId from 107544261427200000 to 107544261427201000.
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29
scm_1         | 2021-06-29 13:23:09,849 [IPC Server handler 74 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:23:16,653 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_6_1  | 2021-06-29 13:23:16,653 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:11,442 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: 4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3, Nodes: aaf0680a-66c1-4277-8808-e83a9401de63{ip: 10.5.0.9, host: ozone-topology_datanode_6_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack2, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:aaf0680a-66c1-4277-8808-e83a9401de63, CreationTimestamp2021-06-29T13:22:40.262Z] moved to OPEN state
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_6_1  | 2021-06-29 13:23:16,653 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-FollowerState] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17 ELECTION round 0: result REJECTED
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_6_1  | 2021-06-29 13:23:16,660 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|priority:1], old=null
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 16 for REJECTED
scm_1         | 2021-06-29 13:23:11,571 [EventQueue-PipelineReportForPipelineReportHandler] INFO pipeline.PipelineManagerV2Impl: Pipeline Pipeline[ Id: ba356189-667a-4bf8-a21e-9832f6bad3f4, Nodes: 8234872e-ae3b-48df-b771-2dd228a42719{ip: 10.5.0.4, host: ozone-topology_datanode_1_1.ozone-topology_net, ports: [REPLICATION=9886, RATIS=9858, RATIS_ADMIN=9857, RATIS_SERVER=9856, STANDALONE=9859], networkLocation: /rack1, certSerialId: null, persistedOpState: IN_SERVICE, persistedOpStateExpiryEpochSec: 0}, ReplicationConfig: RATIS/ONE, State:ALLOCATED, leaderId:8234872e-ae3b-48df-b771-2dd228a42719, CreationTimestamp2021-06-29T13:22:39.666Z] moved to OPEN state
datanode_3_1  | 2021-06-29 13:26:04,338 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_6_1  | 2021-06-29 13:23:16,660 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2 ELECTION round 0: result PASSED (term=1)
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17
scm_1         | 2021-06-29 13:23:11,917 [IPC Server handler 77 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,339 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_6_1  | 2021-06-29 13:23:16,664 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2
datanode_5_1  | 2021-06-29 13:26:02,359 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection17] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
scm_1         | 2021-06-29 13:23:12,448 [IPC Server handler 25 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,346 [main] INFO server.session: node0 Scavenging every 660000ms
datanode_6_1  | 2021-06-29 13:23:16,669 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
datanode_5_1  | 2021-06-29 13:26:02,445 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5016582123ns, electionTimeout:5016ms
scm_1         | 2021-06-29 13:23:12,677 [IPC Server handler 0 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,346 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_6_1  | 2021-06-29 13:23:16,669 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-A7C2B4C8D7F3 with new leaderId: aaf0680a-66c1-4277-8808-e83a9401de63
datanode_6_1  | 2021-06-29 13:23:16,670 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: change Leader from null to aaf0680a-66c1-4277-8808-e83a9401de63 at term 1 for becomeLeader, leader elected after 5232ms
datanode_6_1  | 2021-06-29 13:23:16,685 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
scm_1         | 2021-06-29 13:23:12,762 [IPC Server handler 79 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,370 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_5_1  | 2021-06-29 13:26:02,445 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_6_1  | 2021-06-29 13:23:16,692 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3
scm_1         | 2021-06-29 13:23:13,151 [IPC Server handler 76 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,371 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:26:02,445 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 12 for changeToCandidate
datanode_6_1  | 2021-06-29 13:23:16,695 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
scm_1         | 2021-06-29 13:23:13,222 [IPC Server handler 72 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,372 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:26:02,446 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:23:16,704 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_3_1  | 2021-06-29 13:26:04,373 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: set configuration 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:26:02,446 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18
datanode_6_1  | 2021-06-29 13:23:16,732 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
scm_1         | 2021-06-29 13:23:13,318 [IPC Server handler 84 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,423 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 108 entries from segment file /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:26:02,448 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18 ELECTION round 0: submit vote requests at term 13 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_6_1  | 2021-06-29 13:23:16,734 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1         | 2021-06-29 13:23:13,509 [IPC Server handler 67 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,425 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 107
datanode_5_1  | 2021-06-29 13:26:02,449 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:13,670 [IPC Server handler 79 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,425 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_6_1  | 2021-06-29 13:23:16,735 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1         | 2021-06-29 13:23:13,956 [IPC Server handler 76 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:02,449 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,426 [pool-30-thread-1] INFO raftlog.RaftLog: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLog: commitIndex: updateToMax old=-1, new=106, updated? true
datanode_6_1  | 2021-06-29 13:23:16,763 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderStateImpl
datanode_5_1  | 2021-06-29 13:26:02,449 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18: ELECTION REJECTED received 0 response(s) and 2 exception(s):
datanode_5_1  | 2021-06-29 13:26:02,449 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:14,243 [IPC Server handler 84 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:23:16,793 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-SegmentedRaftLogWorker: Starting segment from index:0
datanode_5_1  | 2021-06-29 13:26:02,450 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,426 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
scm_1         | 2021-06-29 13:23:14,345 [IPC Server handler 86 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:23:16,797 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/4e0b6dcc-9b7d-4ce3-ad27-a7c2b4c8d7f3/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:26:02,450 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18 ELECTION round 0: result REJECTED
datanode_3_1  | 2021-06-29 13:26:04,426 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
scm_1         | 2021-06-29 13:23:14,522 [IPC Server handler 83 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:23:16,805 [aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3-LeaderElection2] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-A7C2B4C8D7F3: set configuration 0: [aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:26:02,450 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 13 for REJECTED
datanode_3_1  | 2021-06-29 13:26:04,426 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
scm_1         | 2021-06-29 13:23:14,663 [IPC Server handler 79 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:40,670 [grpc-default-executor-1] WARN server.GrpcServerProtocolService: aaf0680a-66c1-4277-8808-e83a9401de63: installSnapshot onError, lastRequest: 497430bc-ef01-4983-8299-c4c845566cf5->aaf0680a-66c1-4277-8808-e83a9401de63#3732-t2,previous=(t:2, i:106),leaderCommit=106,initializing? true,entries: size=1, first=(t:2, i:107), METADATAENTRY(c:106): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_5_1  | 2021-06-29 13:26:02,450 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18
datanode_3_1  | 2021-06-29 13:26:04,426 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_3_1  | 2021-06-29 13:26:04,426 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_3_1  | 2021-06-29 13:26:04,429 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_3_1  | 2021-06-29 13:26:04,429 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
scm_1         | 2021-06-29 13:23:14,764 [IPC Server handler 77 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:47,033 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:8315037625ns, electionTimeout:5046ms
datanode_5_1  | 2021-06-29 13:26:02,450 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection18] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
datanode_3_1  | 2021-06-29 13:26:04,430 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
scm_1         | 2021-06-29 13:23:14,874 [IPC Server handler 76 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:47,033 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState
datanode_5_1  | 2021-06-29 13:26:07,491 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5131029541ns, electionTimeout:5130ms
datanode_3_1  | 2021-06-29 13:26:04,439 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5: new RaftServerImpl for group-69F99F37BAD9:[] with ContainerStateMachine:uninitialized
scm_1         | 2021-06-29 13:23:14,957 [IPC Server handler 70 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:47,034 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
datanode_3_1  | 2021-06-29 13:26:04,443 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.min = 5s (custom)
datanode_6_1  | 2021-06-29 13:24:47,034 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:26:07,491 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
scm_1         | 2021-06-29 13:23:15,075 [IPC Server handler 73 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.timeout.max = 5200ms (custom)
datanode_6_1  | 2021-06-29 13:24:47,034 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3
datanode_5_1  | 2021-06-29 13:26:07,491 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 16 for changeToCandidate
scm_1         | 2021-06-29 13:23:15,198 [IPC Server handler 71 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.sleep.time = 25ms (default)
datanode_6_1  | 2021-06-29 13:24:47,035 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: change Leader from 497430bc-ef01-4983-8299-c4c845566cf5 to null at term 2 for ELECTION
datanode_5_1  | 2021-06-29 13:26:07,491 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1         | 2021-06-29 13:23:15,337 [IPC Server handler 86 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.rpc.slowness.timeout = 300s (custom)
datanode_6_1  | 2021-06-29 13:24:47,037 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3 ELECTION round 0: submit vote requests at term 3 for 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:26:07,491 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19
scm_1         | 2021-06-29 13:23:15,459 [IPC Server handler 67 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
datanode_6_1  | 2021-06-29 13:24:52,151 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3: ELECTION PASSED received 1 response(s) and 0 exception(s):
datanode_5_1  | 2021-06-29 13:26:07,497 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19 ELECTION round 0: submit vote requests at term 17 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
scm_1         | 2021-06-29 13:23:15,544 [IPC Server handler 5 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.sleep.deviation.threshold = 300ms (default)
datanode_6_1  | 2021-06-29 13:24:52,151 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection:   Response 0: aaf0680a-66c1-4277-8808-e83a9401de63<-d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2#0:OK-t3
datanode_5_1  | 2021-06-29 13:26:07,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:15,731 [IPC Server handler 77 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_6_1  | 2021-06-29 13:24:52,151 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO impl.LeaderElection: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3 ELECTION round 0: result PASSED
datanode_5_1  | 2021-06-29 13:26:07,499 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:15,876 [IPC Server handler 72 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: ConfigurationManager, init=-1: [], old=null, confs=<EMPTY_MAP>
datanode_6_1  | 2021-06-29 13:24:52,152 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: shutdown aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3
datanode_5_1  | 2021-06-29 13:26:07,500 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19: ELECTION REJECTED received 0 response(s) and 2 exception(s):
scm_1         | 2021-06-29 13:23:15,983 [IPC Server handler 73 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,444 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.storage.dir = [/data/metadata/ratis] (custom)
datanode_6_1  | 2021-06-29 13:24:52,152 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
datanode_5_1  | 2021-06-29 13:26:07,500 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:16,094 [IPC Server handler 71 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,446 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.corruption.policy = EXCEPTION (default)
datanode_6_1  | 2021-06-29 13:24:52,152 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-8A5594AF1C29 with new leaderId: aaf0680a-66c1-4277-8808-e83a9401de63
datanode_5_1  | 2021-06-29 13:26:07,500 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:16,250 [IPC Server handler 86 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,448 [pool-30-thread-1] INFO storage.RaftStorageDirectory: Lock on /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/in_use.lock acquired by nodename 10@a217807dff76
datanode_6_1  | 2021-06-29 13:24:52,152 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: change Leader from null to aaf0680a-66c1-4277-8808-e83a9401de63 at term 3 for becomeLeader, leader elected after 5116ms
datanode_5_1  | 2021-06-29 13:26:07,500 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19 ELECTION round 0: result REJECTED
scm_1         | 2021-06-29 13:23:16,373 [IPC Server handler 89 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,448 [pool-30-thread-1] INFO storage.RaftStorage: Read RaftStorageMetadata{term=1, votedFor=497430bc-ef01-4983-8299-c4c845566cf5} from /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/current/raft-meta
datanode_6_1  | 2021-06-29 13:24:52,153 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_5_1  | 2021-06-29 13:26:07,501 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to FOLLOWER at term 17 for REJECTED
scm_1         | 2021-06-29 13:23:16,497 [IPC Server handler 42 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,449 [pool-30-thread-1] INFO ratis.ContainerStateMachine: group-69F99F37BAD9: The snapshot info is null. Setting the last applied indexto:(t:0, i:~)
datanode_6_1  | 2021-06-29 13:24:52,153 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29
datanode_5_1  | 2021-06-29 13:26:07,501 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19
scm_1         | 2021-06-29 13:23:16,581 [IPC Server handler 2 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,450 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: set configuration 0: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1], old=null
datanode_3_1  | 2021-06-29 13:26:04,450 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.notification.no-leader.timeout = 300s (custom)
datanode_5_1  | 2021-06-29 13:26:07,501 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection19] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
scm_1         | 2021-06-29 13:23:16,727 [IPC Server handler 77 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,450 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.use.memory = false (default)
datanode_6_1  | 2021-06-29 13:24:52,153 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:26:07,574 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5124306926ns, electionTimeout:5121ms
scm_1         | 2021-06-29 13:23:19,355 [IPC Server handler 99 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,452 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.gap = 1000000 (custom)
datanode_6_1  | 2021-06-29 13:24:52,154 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_5_1  | 2021-06-29 13:26:07,579 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
scm_1         | 2021-06-29 13:23:19,474 [IPC Server handler 42 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,452 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_6_1  | 2021-06-29 13:24:52,154 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_5_1  | 2021-06-29 13:26:07,579 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 13 for changeToCandidate
scm_1         | 2021-06-29 13:23:19,583 [IPC Server handler 1 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,452 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_worker.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_5_1  | 2021-06-29 13:26:07,579 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_6_1  | 2021-06-29 13:24:52,154 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
scm_1         | 2021-06-29 13:23:19,670 [IPC Server handler 74 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,452 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_5_1  | 2021-06-29 13:26:07,579 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20
datanode_6_1  | 2021-06-29 13:24:52,154 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1         | 2021-06-29 13:23:19,758 [IPC Server handler 80 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,452 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.num.max = 2 (custom)
datanode_6_1  | 2021-06-29 13:24:52,160 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_5_1  | 2021-06-29 13:26:07,581 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20 ELECTION round 0: submit vote requests at term 14 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
scm_1         | 2021-06-29 13:23:19,868 [IPC Server handler 70 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,453 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
datanode_6_1  | 2021-06-29 13:24:52,160 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:26:07,587 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:22,468 [IPC Server handler 42 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,456 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: new 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9
datanode_6_1  | 2021-06-29 13:24:52,161 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_5_1  | 2021-06-29 13:26:07,591 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:22,566 [IPC Server handler 1 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,457 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.byte-limit = 2147483647 (custom)
datanode_6_1  | 2021-06-29 13:24:52,162 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_5_1  | 2021-06-29 13:26:07,591 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20: ELECTION REJECTED received 0 response(s) and 2 exception(s):
scm_1         | 2021-06-29 13:23:22,664 [IPC Server handler 74 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,457 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.queue.element-limit = 1024 (custom)
datanode_6_1  | 2021-06-29 13:24:52,163 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_5_1  | 2021-06-29 13:26:07,591 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection:   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:22,761 [IPC Server handler 76 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,457 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.segment.size.max = 1048576 (custom)
datanode_6_1  | 2021-06-29 13:24:52,163 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:26:07,591 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:25,329 [IPC Server handler 99 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,457 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.preallocated.size = 16384 (custom)
datanode_6_1  | 2021-06-29 13:24:52,163 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29
datanode_5_1  | 2021-06-29 13:26:07,592 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20 ELECTION round 0: result REJECTED
scm_1         | 2021-06-29 13:23:25,414 [IPC Server handler 94 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,458 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.force.sync.num = 128 (default)
datanode_6_1  | 2021-06-29 13:24:52,166 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_5_1  | 2021-06-29 13:26:07,592 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to FOLLOWER at term 14 for REJECTED
scm_1         | 2021-06-29 13:23:25,474 [IPC Server handler 2 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,458 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync = true (default)
datanode_6_1  | 2021-06-29 13:24:52,166 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:26:07,592 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20
scm_1         | 2021-06-29 13:23:25,566 [IPC Server handler 18 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,458 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout = 10s (default)
datanode_6_1  | 2021-06-29 13:24:52,166 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_5_1  | 2021-06-29 13:26:07,592 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection20] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
scm_1         | 2021-06-29 13:23:25,767 [IPC Server handler 72 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,458 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
datanode_6_1  | 2021-06-29 13:24:52,167 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_5_1  | 2021-06-29 13:26:12,601 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5100395158ns, electionTimeout:5100ms
scm_1         | 2021-06-29 13:23:25,872 [IPC Server handler 75 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:04,465 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.write.buffer.size = 1048576 (custom)
datanode_3_1  | 2021-06-29 13:26:04,466 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.statemachine.data.caching.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:26:12,602 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState
scm_1         | 2021-06-29 13:23:28,442 [IPC Server handler 25 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,168 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3_1  | 2021-06-29 13:26:04,467 [pool-30-thread-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: set configuration 0: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:26:12,602 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from  FOLLOWER to CANDIDATE at term 17 for changeToCandidate
scm_1         | 2021-06-29 13:23:31,014 [IPC Server handler 81 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,168 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:26:04,468 [pool-30-thread-1] INFO segmented.LogSegment: Successfully read 1 entries from segment file /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/current/log_inprogress_0
datanode_5_1  | 2021-06-29 13:26:12,602 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1         | 2021-06-29 13:23:33,583 [IPC Server handler 10 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,170 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO impl.RoleInfo: aaf0680a-66c1-4277-8808-e83a9401de63: start aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderStateImpl
datanode_3_1  | 2021-06-29 13:26:04,468 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> 0
datanode_5_1  | 2021-06-29 13:26:12,602 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21
scm_1         | 2021-06-29 13:23:36,156 [IPC Server handler 84 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,170 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: Rolling segment log-0_107 to index:107
datanode_3_1  | 2021-06-29 13:26:04,468 [pool-30-thread-1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
datanode_5_1  | 2021-06-29 13:26:12,621 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21 ELECTION round 0: submit vote requests at term 18 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
scm_1         | 2021-06-29 13:23:36,316 [IPC Server handler 99 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,172 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0 to /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_0-107
datanode_3_1  | 2021-06-29 13:26:04,469 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.enabled = true (custom)
datanode_5_1  | 2021-06-29 13:26:12,622 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:36,437 [IPC Server handler 94 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,175 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_108
datanode_3_1  | 2021-06-29 13:26:04,473 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.auto.trigger.threshold = 10000 (custom)
datanode_5_1  | 2021-06-29 13:26:12,743 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.FollowerState: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5151072162ns, electionTimeout:5148ms
scm_1         | 2021-06-29 13:23:36,541 [IPC Server handler 18 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:24:52,180 [aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29-LeaderElection3] INFO server.RaftServer$Division: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29: set configuration 108: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:04,477 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.snapshot.retention.file.num = 5 (custom)
datanode_5_1  | 2021-06-29 13:26:12,746 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState
scm_1         | 2021-06-29 13:23:36,627 [IPC Server handler 4 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:17,069 [grpc-default-executor-0] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,477 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.log.purge.upto.snapshot.index = false (default)
datanode_5_1  | 2021-06-29 13:26:12,746 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from  FOLLOWER to CANDIDATE at term 14 for changeToCandidate
scm_1         | 2021-06-29 13:23:36,722 [IPC Server handler 80 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:17,072 [grpc-default-executor-0] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n109, attendVote=true, lastRpcSendTime=2336, lastRpcResponseTime=30117) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:25:35,524 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:26:12,747 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
scm_1         | 2021-06-29 13:23:36,823 [IPC Server handler 75 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:35,526 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=786, lastRpcResponseTime=48571) yet, just keep nextIndex unchanged and retry.
datanode_3_1  | 2021-06-29 13:26:04,478 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.expirytime = 600000ms (custom)
datanode_5_1  | 2021-06-29 13:26:12,747 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-FollowerState] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22
scm_1         | 2021-06-29 13:23:36,932 [IPC Server handler 81 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:38,599 [grpc-default-executor-0] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,478 [pool-30-thread-1] INFO server.RaftServerConfigKeys: raft.server.retrycache.statistics.expirytime = 100?s (default)
datanode_5_1  | 2021-06-29 13:26:12,775 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22 ELECTION round 0: submit vote requests at term 15 for 0: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
scm_1         | 2021-06-29 13:23:37,020 [IPC Server handler 78 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:38,600 [grpc-default-executor-0] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=1360, lastRpcResponseTime=51645) yet, just keep nextIndex unchanged and retry.
datanode_3_1  | 2021-06-29 13:26:04,478 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.leader_election.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_5_1  | 2021-06-29 13:26:12,777 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:37,082 [IPC Server handler 84 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:41,412 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:04,479 [pool-30-thread-1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_5_1  | 2021-06-29 13:26:12,967 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21: ELECTION PASSED received 1 response(s) and 1 exception(s):
scm_1         | 2021-06-29 13:23:37,166 [IPC Server handler 87 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:41,413 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=1672, lastRpcResponseTime=54458) yet, just keep nextIndex unchanged and retry.
datanode_3_1  | 2021-06-29 13:26:04,506 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@3149409c{logs,/logs,file:///var/log/hadoop/,AVAILABLE}
datanode_5_1  | 2021-06-29 13:26:12,968 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.LeaderElection:   Response 0: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t18
scm_1         | 2021-06-29 13:23:37,231 [IPC Server handler 89 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:37,303 [IPC Server handler 91 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:37,390 [IPC Server handler 92 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:42,279 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
scm_1         | 2021-06-29 13:23:37,491 [IPC Server handler 1 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:12,968 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:26:12,968 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21 ELECTION round 0: result PASSED
datanode_6_1  | 2021-06-29 13:25:42,280 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2540, lastRpcResponseTime=55325) yet, just keep nextIndex unchanged and retry.
datanode_5_1  | 2021-06-29 13:26:12,968 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21
datanode_3_1  | 2021-06-29 13:26:04,511 [main] INFO handler.ContextHandler: Started o.e.j.s.ServletContextHandler@51c008fd{static,/static,jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/static,AVAILABLE}
scm_1         | 2021-06-29 13:23:37,596 [IPC Server handler 16 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:44,800 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:26:12,968 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: changes role from CANDIDATE to LEADER at term 18 for changeToLeader
datanode_3_1  | 2021-06-29 13:26:04,966 [main] INFO handler.ContextHandler: Started o.e.j.w.WebAppContext@3a917017{hddsDatanode,/,file:///tmp/jetty-0_0_0_0-9882-hdds-container-service-1_2_0-SNAPSHOT_jar-_-any-14062822251881241063/webapp/,AVAILABLE}{jar:file:/opt/hadoop/share/ozone/lib/hdds-container-service-1.2.0-SNAPSHOT.jar!/webapps/hddsDatanode}
scm_1         | 2021-06-29 13:23:40,157 [IPC Server handler 87 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:44,809 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=9, lastRpcResponseTime=57854) yet, just keep nextIndex unchanged and retry.
datanode_5_1  | 2021-06-29 13:26:12,968 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-F2D82F52F507 with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
datanode_3_1  | 2021-06-29 13:26:05,005 [main] INFO server.AbstractConnector: Started ServerConnector@2fca282c{HTTP/1.1, (http/1.1)}{0.0.0.0:9882}
scm_1         | 2021-06-29 13:23:40,233 [IPC Server handler 82 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:47,302 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:26:12,976 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 18 for becomeLeader, leader elected after 87660ms
datanode_3_1  | 2021-06-29 13:26:05,015 [main] INFO server.Server: Started @24043ms
scm_1         | 2021-06-29 13:23:40,365 [IPC Server handler 92 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:47,312 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=11, lastRpcResponseTime=60357) yet, just keep nextIndex unchanged and retry.
datanode_5_1  | 2021-06-29 13:26:12,976 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_3_1  | 2021-06-29 13:26:05,017 [main] INFO impl.MetricsSinkAdapter: Sink prometheus started
scm_1         | 2021-06-29 13:23:40,431 [IPC Server handler 93 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:49,815 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:26:12,977 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507
datanode_3_1  | 2021-06-29 13:26:05,020 [main] INFO impl.MetricsSystemImpl: Registered sink prometheus
scm_1         | 2021-06-29 13:23:40,507 [IPC Server handler 10 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:49,816 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=4, lastRpcResponseTime=62861) yet, just keep nextIndex unchanged and retry.
datanode_5_1  | 2021-06-29 13:26:12,977 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:26:05,022 [main] INFO http.BaseHttpServer: HTTP server of hddsDatanode listening at http://0.0.0.0:9882
scm_1         | 2021-06-29 13:23:40,620 [IPC Server handler 9 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:52,315 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_5_1  | 2021-06-29 13:26:12,977 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_3_1  | 2021-06-29 13:26:05,103 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@4879d8fb] INFO util.JvmPauseMonitor: Starting JVM pause monitor
datanode_3_1  | 2021-06-29 13:26:07,773 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Attempting to start container services.
datanode_6_1  | 2021-06-29 13:25:52,318 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2, lastRpcResponseTime=65363) yet, just keep nextIndex unchanged and retry.
datanode_5_1  | 2021-06-29 13:26:12,980 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
scm_1         | 2021-06-29 13:23:40,695 [IPC Server handler 80 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:07,775 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ozoneimpl.OzoneContainer: Background container scanner has been disabled.
datanode_3_1  | 2021-06-29 13:26:08,137 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: Starting XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5
datanode_5_1  | 2021-06-29 13:26:12,981 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_5_1  | 2021-06-29 13:26:12,981 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_5_1  | 2021-06-29 13:26:12,981 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_5_1  | 2021-06-29 13:26:12,982 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:26:12,982 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_5_1  | 2021-06-29 13:26:12,982 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_5_1  | 2021-06-29 13:26:12,984 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_5_1  | 2021-06-29 13:26:12,986 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_5_1  | 2021-06-29 13:26:12,987 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507
datanode_5_1  | 2021-06-29 13:26:12,987 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_5_1  | 2021-06-29 13:26:12,987 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_5_1  | 2021-06-29 13:26:12,987 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_5_1  | 2021-06-29 13:26:12,987 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_3_1  | 2021-06-29 13:26:08,253 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: start as a follower, conf=0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:08,261 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: changes role from      null to FOLLOWER at term 2 for startAsFollower
datanode_3_1  | 2021-06-29 13:26:08,263 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState
datanode_3_1  | 2021-06-29 13:26:08,275 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8A5594AF1C29,id=497430bc-ef01-4983-8299-c4c845566cf5
scm_1         | 2021-06-29 13:23:40,806 [IPC Server handler 75 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:40,934 [IPC Server handler 73 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,028 [IPC Server handler 86 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,124 [IPC Server handler 99 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,234 [IPC Server handler 89 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,361 [IPC Server handler 92 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,474 [IPC Server handler 42 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,561 [IPC Server handler 16 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,622 [IPC Server handler 4 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:41,685 [IPC Server handler 74 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:44,251 [IPC Server handler 90 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:44,343 [IPC Server handler 92 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:44,403 [IPC Server handler 95 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:44,480 [IPC Server handler 83 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:44,571 [IPC Server handler 15 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:47,133 [IPC Server handler 90 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:47,199 [IPC Server handler 91 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:49,776 [IPC Server handler 75 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:49,895 [IPC Server handler 73 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:49,981 [IPC Server handler 78 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:52,536 [IPC Server handler 16 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:52,626 [IPC Server handler 19 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:52,734 [IPC Server handler 72 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:52,805 [IPC Server handler 73 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:55,365 [IPC Server handler 93 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:55,432 [IPC Server handler 97 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:58,015 [IPC Server handler 84 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:58,093 [IPC Server handler 87 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:58,160 [IPC Server handler 91 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:58,219 [IPC Server handler 98 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:58,328 [IPC Server handler 93 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:25:54,818 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:25:54,827 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2512, lastRpcResponseTime=67872) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:25:57,336 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:25:57,340 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2508, lastRpcResponseTime=70385) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:25:59,873 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:25:59,874 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=1, lastRpcResponseTime=72919) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:26:02,374 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:26:02,375 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2501, lastRpcResponseTime=75420) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:26:04,880 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_6_1  | 2021-06-29 13:26:04,882 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2506, lastRpcResponseTime=77927) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:26:07,408 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:08,279 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29
datanode_5_1  | 2021-06-29 13:26:12,990 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
scm_1         | 2021-06-29 13:23:58,404 [IPC Server handler 97 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
scm_1         | 2021-06-29 13:23:58,494 [IPC Server handler 2 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:26:07,409 [grpc-default-executor-1] WARN server.GrpcLogAppender: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5-GrpcLogAppender: Leader has not got in touch with Follower aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5(c-1,m0,n110, attendVote=true, lastRpcSendTime=2511, lastRpcResponseTime=80454) yet, just keep nextIndex unchanged and retry.
datanode_6_1  | 2021-06-29 13:26:11,310 [grpc-default-executor-1] INFO leader.FollowerInfo: aaf0680a-66c1-4277-8808-e83a9401de63@group-8A5594AF1C29->497430bc-ef01-4983-8299-c4c845566cf5: nextIndex: updateUnconditionally 110 -> 108
datanode_3_1  | 2021-06-29 13:26:08,281 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: start as a follower, conf=0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:08,283 [ForkJoinPool.commonPool-worker-3] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: changes role from      null to FOLLOWER at term 2 for startAsFollower
datanode_3_1  | 2021-06-29 13:26:08,284 [ForkJoinPool.commonPool-worker-3] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_6_1  | 2021-06-29 13:26:13,333 [SIGTERM handler] ERROR ozone.HddsDatanodeService: RECEIVED SIGNAL 15: SIGTERM
datanode_3_1  | 2021-06-29 13:26:08,295 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: start as a follower, conf=0: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:26:12,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
scm_1         | 2021-06-29 13:24:01,074 [IPC Server handler 99 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | 2021-06-29 13:26:13,368 [shutdown-hook-0] INFO ozone.HddsDatanodeService: SHUTDOWN_MSG: 
datanode_3_1  | 2021-06-29 13:26:08,295 [ForkJoinPool.commonPool-worker-3] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-27F3C9A95319,id=497430bc-ef01-4983-8299-c4c845566cf5
datanode_5_1  | 2021-06-29 13:26:12,994 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderStateImpl
scm_1         | 2021-06-29 13:24:01,141 [IPC Server handler 91 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | /************************************************************
datanode_3_1  | 2021-06-29 13:26:08,302 [ForkJoinPool.commonPool-worker-3] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319
datanode_5_1  | 2021-06-29 13:26:12,995 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: Rolling segment log-0_118 to index:118
scm_1         | 2021-06-29 13:24:01,222 [IPC Server handler 92 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | SHUTDOWN_MSG: Shutting down HddsDatanodeService at fd0f7a65317d/10.5.0.9
datanode_3_1  | 2021-06-29 13:26:08,302 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: changes role from      null to FOLLOWER at term 1 for startAsFollower
datanode_5_1  | 2021-06-29 13:26:13,000 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_0 to /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_0-118
scm_1         | 2021-06-29 13:24:01,303 [IPC Server handler 93 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_6_1  | ************************************************************/
datanode_3_1  | 2021-06-29 13:26:08,304 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState
datanode_5_1  | 2021-06-29 13:26:13,007 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/2970c030-f85a-428b-adcb-f2d82f52f507/current/log_inprogress_119
scm_1         | 2021-06-29 13:24:01,388 [IPC Server handler 97 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:13,007 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22: ELECTION PASSED received 1 response(s) and 1 exception(s):
datanode_3_1  | 2021-06-29 13:26:08,305 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO util.JmxRegister: Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-69F99F37BAD9,id=497430bc-ef01-4983-8299-c4c845566cf5
scm_1         | 2021-06-29 13:24:01,482 [IPC Server handler 83 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:13,007 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.LeaderElection:   Response 0: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4<-8234872e-ae3b-48df-b771-2dd228a42719#0:OK-t15
datanode_3_1  | 2021-06-29 13:26:08,305 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.state_machine.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
scm_1         | 2021-06-29 13:24:01,594 [IPC Server handler 9 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:13,007 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.LeaderElection:   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:08,332 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.RaftServer: 497430bc-ef01-4983-8299-c4c845566cf5: start RPC server
scm_1         | 2021-06-29 13:24:01,720 [IPC Server handler 76 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:13,007 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.LeaderElection: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22 ELECTION round 0: result PASSED
datanode_3_1  | 2021-06-29 13:26:08,346 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 497430bc-ef01-4983-8299-c4c845566cf5: GrpcService started, listening on 9856
scm_1         | 2021-06-29 13:24:01,788 [IPC Server handler 81 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:13,007 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: shutdown e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22
datanode_3_1  | 2021-06-29 13:26:08,349 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 497430bc-ef01-4983-8299-c4c845566cf5: GrpcService started, listening on 9857
scm_1         | 2021-06-29 13:24:01,887 [IPC Server handler 71 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:08,349 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO server.GrpcService: 497430bc-ef01-4983-8299-c4c845566cf5: GrpcService started, listening on 9858
datanode_5_1  | 2021-06-29 13:26:13,008 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: changes role from CANDIDATE to LEADER at term 15 for changeToLeader
scm_1         | 2021-06-29 13:24:01,975 [IPC Server handler 84 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:08,358 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5 is started using port 9858 for RATIS
datanode_5_1  | 2021-06-29 13:26:13,008 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-3FE17345405C with new leaderId: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4
scm_1         | 2021-06-29 13:24:02,055 [IPC Server handler 87 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:08,359 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5 is started using port 9857 for RATIS_ADMIN
datanode_5_1  | 2021-06-29 13:26:13,008 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: change Leader from null to e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4 at term 15 for becomeLeader, leader elected after 73546ms
scm_1         | 2021-06-29 13:24:02,137 [IPC Server handler 82 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:08,359 [EndpointStateMachine task thread for scm/10.5.0.71:9861 - 0 ] INFO ratis.XceiverServerRatis: XceiverServerRatis 497430bc-ef01-4983-8299-c4c845566cf5 is started using port 9856 for RATIS_SERVER
datanode_5_1  | 2021-06-29 13:26:13,010 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
scm_1         | 2021-06-29 13:24:02,218 [IPC Server handler 92 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:08,379 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$446/0x0000000840528040@21b4ba9b] INFO util.JvmPauseMonitor: JvmPauseMonitor-497430bc-ef01-4983-8299-c4c845566cf5: Started
datanode_5_1  | 2021-06-29 13:26:13,010 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
scm_1         | 2021-06-29 13:24:02,291 [IPC Server handler 93 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:10,929 [grpc-default-executor-0] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.server_message_metrics.497430bc-ef01-4983-8299-c4c845566cf5
datanode_3_1  | 2021-06-29 13:26:11,033 [grpc-default-executor-1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-27F3C9A95319 with new leaderId: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2
datanode_5_1  | 2021-06-29 13:26:13,011 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_3_1  | 2021-06-29 13:26:11,050 [grpc-default-executor-1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: change Leader from null to d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 at term 2 for appendEntries, leader elected after 8564ms
scm_1         | 2021-06-29 13:24:02,363 [IPC Server handler 97 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_5_1  | 2021-06-29 13:26:13,030 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_5_1  | 2021-06-29 13:26:13,030 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_5_1  | 2021-06-29 13:26:13,030 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_3_1  | 2021-06-29 13:26:11,229 [grpc-default-executor-0] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-8A5594AF1C29 with new leaderId: aaf0680a-66c1-4277-8808-e83a9401de63
datanode_5_1  | 2021-06-29 13:26:13,031 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
scm_1         | 2021-06-29 13:24:02,465 [IPC Server handler 42 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:11,255 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: change Leader from null to aaf0680a-66c1-4277-8808-e83a9401de63 at term 3 for appendEntries, leader elected after 6891ms
datanode_5_1  | 2021-06-29 13:26:13,031 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
scm_1         | 2021-06-29 13:24:02,540 [IPC Server handler 8 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:11,256 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: Failed appendEntries as previous log entry ((t:3, i:109)) is not found
datanode_5_1  | 2021-06-29 13:26:13,031 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
scm_1         | 2021-06-29 13:24:45,996 [IPC Server handler 87 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:11,283 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: inconsistency entries. Reply:aaf0680a-66c1-4277-8808-e83a9401de63<-497430bc-ef01-4983-8299-c4c845566cf5#32545490:FAIL-t2,INCONSISTENCY,nextIndex=108,followerCommit=106
datanode_5_1  | 2021-06-29 13:26:13,031 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
scm_1         | 2021-06-29 13:26:19,741 [IPC Server handler 72 on default port 9863] WARN node.SCMNodeManager: Cannot find node for address 10.5.0.71
datanode_3_1  | 2021-06-29 13:26:11,383 [grpc-default-executor-0] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: set configuration 108: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_5_1  | 2021-06-29 13:26:13,032 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_3_1  | 2021-06-29 13:26:11,389 [grpc-default-executor-0] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: Rolling segment log-0_107 to index:107
datanode_3_1  | 2021-06-29 13:26:11,436 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_0 to /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_0-107
datanode_3_1  | 2021-06-29 13:26:11,456 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/6e538fba-de29-4913-87ba-8a5594af1c29/current/log_inprogress_108
datanode_5_1  | 2021-06-29 13:26:13,032 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3_1  | 2021-06-29 13:26:13,380 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5075520904ns, electionTimeout:5069ms
datanode_5_1  | 2021-06-29 13:26:13,032 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:26:13,380 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState
datanode_5_1  | 2021-06-29 13:26:13,032 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis_grpc.log_appender.e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C
datanode_3_1  | 2021-06-29 13:26:13,380 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
datanode_5_1  | 2021-06-29 13:26:13,037 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
datanode_3_1  | 2021-06-29 13:26:13,383 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_5_1  | 2021-06-29 13:26:13,028 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507-LeaderElection21] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507: set configuration 119: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:1, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:13,383 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1
datanode_5_1  | 2021-06-29 13:26:13,038 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
datanode_3_1  | 2021-06-29 13:26:13,401 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1 ELECTION round 0: submit vote requests at term 2 for 0: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1], old=null
datanode_5_1  | 2021-06-29 13:26:13,038 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.buffer.element-limit = 1 (custom)
datanode_3_1  | 2021-06-29 13:26:13,401 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1 ELECTION round 0: result PASSED (term=2)
datanode_5_1  | 2021-06-29 13:26:13,038 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO grpc.GrpcConfigKeys: raft.grpc.server.leader.outstanding.appends.max = 128 (default)
datanode_3_1  | 2021-06-29 13:26:13,402 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1
datanode_5_1  | 2021-06-29 13:26:13,038 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.rpc.request.timeout = 60s (custom)
datanode_3_1  | 2021-06-29 13:26:13,402 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
datanode_5_1  | 2021-06-29 13:26:13,038 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServerConfigKeys: raft.server.log.appender.install.snapshot.enabled = false (custom)
datanode_3_1  | 2021-06-29 13:26:13,404 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO ratis.XceiverServerRatis: Leader change notification received for group: group-69F99F37BAD9 with new leaderId: 497430bc-ef01-4983-8299-c4c845566cf5
datanode_5_1  | 2021-06-29 13:26:13,039 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO impl.RoleInfo: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4: start e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderStateImpl
datanode_3_1  | 2021-06-29 13:26:13,405 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: change Leader from null to 497430bc-ef01-4983-8299-c4c845566cf5 at term 2 for becomeLeader, leader elected after 8953ms
datanode_5_1  | 2021-06-29 13:26:13,039 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: Rolling segment log-0_130 to index:130
datanode_3_1  | 2021-06-29 13:26:13,458 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.staging.catchup.gap = 1000 (default)
datanode_5_1  | 2021-06-29 13:26:13,040 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_0 to /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_0-130
datanode_3_1  | 2021-06-29 13:26:13,663 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO metrics.RatisMetrics: Creating Metrics Registry : ratis.log_appender.497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9
datanode_5_1  | 2021-06-29 13:26:13,058 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-LeaderElection22] INFO server.RaftServer$Division: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C: set configuration 131: [8234872e-ae3b-48df-b771-2dd228a42719|rpc:10.5.0.4:9856|admin:10.5.0.4:9857|client:10.5.0.4:9858|dataStream:|priority:0, 7cde1fe5-f110-4ac5-8a71-921fbb989fcf|rpc:10.5.0.5:9856|admin:10.5.0.5:9857|client:10.5.0.5:9858|dataStream:|priority:0, e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4|rpc:10.5.0.8:9856|admin:10.5.0.8:9857|client:10.5.0.8:9858|dataStream:|priority:1], old=null
datanode_3_1  | 2021-06-29 13:26:13,672 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.element-limit = 1024 (custom)
datanode_5_1  | 2021-06-29 13:26:13,041 [grpc-default-executor-2] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:13,686 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.write.byte-limit = 1073741824 (custom)
datanode_5_1  | 2021-06-29 13:26:13,081 [grpc-default-executor-2] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender: Leader has not got in touch with Follower e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-F2D82F52F507->7cde1fe5-f110-4ac5-8a71-921fbb989fcf(c-1,m0,n120, attendVote=true, lastRpcSendTime=35, lastRpcResponseTime=5299) yet, just keep nextIndex unchanged and retry.
datanode_3_1  | 2021-06-29 13:26:13,730 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout = 180s (custom)
datanode_5_1  | 2021-06-29 13:26:13,083 [e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/083733ff-cfa3-4a01-861d-3fe17345405c/current/log_inprogress_131
datanode_3_1  | 2021-06-29 13:26:13,737 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.timeout.denomination = 1s (default)
datanode_5_1  | 2021-06-29 13:26:13,104 [grpc-default-executor-4] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
datanode_3_1  | 2021-06-29 13:26:13,757 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServerConfigKeys: raft.server.watch.element-limit = 65536 (default)
datanode_5_1  | 2021-06-29 13:26:13,104 [grpc-default-executor-4] WARN server.GrpcLogAppender: e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf-GrpcLogAppender: Leader has not got in touch with Follower e39fa4a7-4d96-4a57-8cd2-cd2f0d7550e4@group-3FE17345405C->7cde1fe5-f110-4ac5-8a71-921fbb989fcf(c-1,m0,n132, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=5273) yet, just keep nextIndex unchanged and retry.
datanode_3_1  | 2021-06-29 13:26:13,792 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderStateImpl
datanode_5_1  | 2021-06-29 13:26:13,325 [SIGTERM handler] ERROR ozone.HddsDatanodeService: RECEIVED SIGNAL 15: SIGTERM
datanode_3_1  | 2021-06-29 13:26:13,812 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
datanode_5_1  | 2021-06-29 13:26:13,400 [shutdown-hook-0] INFO ozone.HddsDatanodeService: SHUTDOWN_MSG: 
datanode_3_1  | 2021-06-29 13:26:13,826 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: Rolled log segment from /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/current/log_inprogress_0 to /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/current/log_0-0
datanode_5_1  | /************************************************************
datanode_3_1  | 2021-06-29 13:26:13,831 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker] INFO segmented.SegmentedRaftLogWorker: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-SegmentedRaftLogWorker: created new log segment /data/metadata/ratis/0cda2f3a-c4a5-43b7-b6ba-69f99f37bad9/current/log_inprogress_1
datanode_5_1  | SHUTDOWN_MSG: Shutting down HddsDatanodeService at 78242b036d99/10.5.0.8
datanode_3_1  | 2021-06-29 13:26:13,831 [497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9-LeaderElection1] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-69F99F37BAD9: set configuration 1: [497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1], old=null
datanode_5_1  | ************************************************************/
datanode_3_1  | 2021-06-29 13:26:13,891 [grpc-default-executor-1] WARN server.GrpcServerProtocolService: 497430bc-ef01-4983-8299-c4c845566cf5: installSnapshot onError, lastRequest: aaf0680a-66c1-4277-8808-e83a9401de63->497430bc-ef01-4983-8299-c4c845566cf5#32545625-t3,previous=(t:3, i:108),leaderCommit=109,initializing? true,entries: size=1, first=(t:3, i:109), METADATAENTRY(c:108): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_3_1  | 2021-06-29 13:26:13,972 [grpc-default-executor-0] WARN server.GrpcServerProtocolService: 497430bc-ef01-4983-8299-c4c845566cf5: installSnapshot onError, lastRequest: d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2->497430bc-ef01-4983-8299-c4c845566cf5#3283-t2,previous=(t:2, i:125),leaderCommit=126,initializing? true,entries: size=1, first=(t:2, i:126), METADATAENTRY(c:125): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
datanode_3_1  | 2021-06-29 13:26:18,418 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:6948409823ns, electionTimeout:5062ms
datanode_3_1  | 2021-06-29 13:26:18,419 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState
datanode_3_1  | 2021-06-29 13:26:18,419 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
datanode_3_1  | 2021-06-29 13:26:18,420 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | 2021-06-29 13:26:18,420 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2
datanode_3_1  | 2021-06-29 13:26:18,421 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29: change Leader from aaf0680a-66c1-4277-8808-e83a9401de63 to null at term 3 for ELECTION
datanode_3_1  | 2021-06-29 13:26:18,431 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2 ELECTION round 0: submit vote requests at term 4 for 108: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:18,454 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.FollowerState: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:7055738943ns, electionTimeout:5135ms
datanode_3_1  | 2021-06-29 13:26:18,455 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: shutdown 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState
datanode_3_1  | 2021-06-29 13:26:18,455 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
datanode_3_1  | 2021-06-29 13:26:18,455 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO server.RaftServerConfigKeys: raft.server.leaderelection.pre-vote = false (custom)
datanode_3_1  | 2021-06-29 13:26:18,455 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-FollowerState] INFO impl.RoleInfo: 497430bc-ef01-4983-8299-c4c845566cf5: start 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3
datanode_3_1  | 2021-06-29 13:26:18,460 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3] INFO server.RaftServer$Division: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319: change Leader from d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2 to null at term 2 for ELECTION
datanode_3_1  | 2021-06-29 13:26:18,468 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3 ELECTION round 0: submit vote requests at term 3 for 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:23,499 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_3_1  | 2021-06-29 13:26:23,499 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2 ELECTION round 0: result TIMEOUT
datanode_3_1  | 2021-06-29 13:26:23,501 [497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-8A5594AF1C29-LeaderElection2 ELECTION round 1: submit vote requests at term 5 for 108: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0], old=null
datanode_3_1  | 2021-06-29 13:26:23,561 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3: ELECTION TIMEOUT received 0 response(s) and 0 exception(s):
datanode_3_1  | 2021-06-29 13:26:23,562 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3 ELECTION round 0: result TIMEOUT
datanode_3_1  | 2021-06-29 13:26:23,564 [497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3] INFO impl.LeaderElection: 497430bc-ef01-4983-8299-c4c845566cf5@group-27F3C9A95319-LeaderElection3 ELECTION round 1: submit vote requests at term 4 for 0: [d21868d8-ef63-49c2-96e7-1a8bbd5a5dd2|rpc:10.5.0.7:9856|admin:10.5.0.7:9857|client:10.5.0.7:9858|dataStream:|priority:1, aaf0680a-66c1-4277-8808-e83a9401de63|rpc:10.5.0.9:9856|admin:10.5.0.9:9857|client:10.5.0.9:9858|dataStream:|priority:0, 497430bc-ef01-4983-8299-c4c845566cf5|rpc:10.5.0.6:9856|admin:10.5.0.6:9857|client:10.5.0.6:9858|dataStream:|priority:0], old=null
