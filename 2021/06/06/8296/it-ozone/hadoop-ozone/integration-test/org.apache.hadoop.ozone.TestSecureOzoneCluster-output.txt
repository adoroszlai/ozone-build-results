2021-06-06 02:19:25,099 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:19:25,102 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:19:25,102 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:19:25,102 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:19:25,102 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:19:25,103 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:19:25,106 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:19:25,107 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:19:25,108 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:19:25,108 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:19:25,108 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:19:25,109 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:19:25,109 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:19:25,109 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:19:25,109 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:19:25,109 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:19:25,111 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:19:25,111 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:19:25,166 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:19:26,107 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:26,126 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:19:26,135 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:26,135 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:26,137 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:26,253 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:19:26,437 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:26,437 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:26,438 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:26,438 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:26,622 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:26,622 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:26,623 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:26,623 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:26,625 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:454e832d-528d-4b1a-984e-59d92672d8e5,clusterId:d596d8ba-7452-422d-9c19-23587eee5721,subject:scm-sub@fv-az54-346
2021-06-06 02:19:26,684 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:19:26,715 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:19:26,716 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:19:26,736 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:26,737 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit2353691793385684694/junit5690722156058351372/scm-meta/scm/sub-ca/certs.
2021-06-06 02:19:26,740 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit2353691793385684694/junit5690722156058351372/scm-meta/scm/sub-ca/certs/12871153143825.crt.
2021-06-06 02:19:26,744 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit2353691793385684694/junit5690722156058351372/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:19:26,746 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit2353691793385684694/junit5690722156058351372/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:19:26,790 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:26,794 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:26,824 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945966823,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:26,830 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:26,831 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:19:26,864 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:26,982 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:27,102 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:19:27,102 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:19:27,136 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:19:27,136 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:19:27,139 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:19:27,140 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:19:27,170 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:19:27,213 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:19:27,221 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:19:27,246 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:19:27,252 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:19:27,252 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:19:27,275 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:19:27,290 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:19:27,310 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:19:27,313 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:19:27,323 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:19:27,324 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:19:27,325 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:19:27,355 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:27,359 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:27,361 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12871153143825 on primary SCM
2021-06-06 02:19:27,364 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:19:27,392 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:27,413 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:19:27,699 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:27,704 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:19:27,715 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:27,716 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:19:27,730 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:27,730 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:19:27,737 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:19:27,737 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:19:27,738 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:19:27,741 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1208)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-06-06 02:19:27,790 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-06-06 02:19:27,807 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-06-06 02:19:27,807 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-06-06 02:19:28,096 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(157)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-06-06 02:19:28,098 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:28,099 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-06-06 02:19:28,120 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1223)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-06-06 02:19:28,120 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-06-06 02:19:28,121 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:28,121 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-06-06 02:19:28,154 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1229)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-06-06 02:19:28,154 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-06-06 02:19:28,155 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:28,155 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-06-06 02:19:28,177 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(392)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-06-06 02:19:28,179 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-06-06 02:19:28,205 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-06-06 02:19:28,205 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:28,441 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@35fa3dff] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:19:28,457 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-06-06 02:19:28,458 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:19:28,483 [Listener at 0.0.0.0/9860] INFO  util.log (Log.java:initialized(169)) - Logging initialized @4497ms to org.eclipse.jetty.util.log.Slf4jLog
2021-06-06 02:19:28,576 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:19:28,584 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:19:28,587 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:19:28,589 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-06-06 02:19:28,589 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:19:28,589 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:19:28,638 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-06-06 02:19:28,640 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:19:28,666 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:19:28,666 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:19:28,667 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-06-06 02:19:28,678 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7486edf4{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:19:28,679 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@37504063{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:19:28,713 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@5848c067{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:19:28,721 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@3937e921{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:19:28,721 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @4735ms
2021-06-06 02:19:28,728 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-06-06 02:19:28,728 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-06-06 02:19:28,729 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-06-06 02:19:28,733 [pool-1-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:28,734 [pool-1-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:28,739 [pool-1-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945968738,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:28,877 [pool-1-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622945968877,test for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:19:28,892 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:56446
2021-06-06 02:19:29,010 [IPC Server handler 0 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getCertificate(276)) - Certificate with serial id 100 not found.
2021-06-06 02:19:29,019 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.submitRequest(SCMSecurityProtocolClientSideTranslatorPB.java:106)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCACert(SCMSecurityProtocolClientSideTranslatorPB.java:284)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCACertificate(SCMSecurityProtocolClientSideTranslatorPB.java:277)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSCMSecurityProtocol(TestSecureOzoneCluster.java:324)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:29,030 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy38.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.submitRequest(SCMSecurityProtocolClientSideTranslatorPB.java:106)
	at org.apache.hadoop.hdds.protocolPB.SCMSecurityProtocolClientSideTranslatorPB.getCertificate(SCMSecurityProtocolClientSideTranslatorPB.java:243)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.lambda$testSCMSecurityProtocol$1(TestSecureOzoneCluster.java:327)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSCMSecurityProtocol(TestSecureOzoneCluster.java:326)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:29,046 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:29,047 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:19:29,047 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:29,047 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:29,048 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:29,048 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:29,048 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:29,060 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-06-06 02:19:29,061 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:30,171 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:19:30,172 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:30,172 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:30,173 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:30,178 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:30,178 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:30,178 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:30,178 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:30,178 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-06-06 02:19:30,180 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:30,180 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-06-06 02:19:30,180 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:30,189 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@5848c067{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:19:30,193 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@3937e921{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:19:30,193 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:19:30,193 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@37504063{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:19:30,193 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7486edf4{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:19:30,194 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:30,194 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:30,195 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:30,195 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-06-06 02:19:30,195 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:30,200 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(84)) - SCMUpdateService stopped!
2021-06-06 02:19:30,200 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:30,200 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:30,201 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:30,201 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:30,202 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:19:30,205 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-06-06 02:19:30,205 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-06-06 02:19:30,206 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-06-06 02:19:30,206 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:19:31,207 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(275)) - Replication Monitor Thread is not running.
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:31,208 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:31,209 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-06-06 02:19:31,211 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-06-06 02:19:31,232 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:19:31,232 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:19:31,232 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:19:31,232 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:19:31,232 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:19:31,232 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:19:31,233 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:19:31,234 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:19:31,235 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:19:31,491 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:31,492 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:19:31,492 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:31,492 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:31,492 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:31,838 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:19:32,218 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:32,218 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:32,218 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:32,218 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:32,223 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:32,223 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:32,224 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:32,224 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:32,224 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:642eb1e1-8dcb-4813-99fe-526dbf82bb83,clusterId:cafbeaa6-bce5-4623-89fc-e8fb5418248f,subject:scm-sub@fv-az54-346
2021-06-06 02:19:32,235 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:19:32,237 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:19:32,237 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:19:32,237 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,238 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/scm/sub-ca/certs.
2021-06-06 02:19:32,240 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:19:32,241 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/scm/sub-ca/certs/12876719819891.crt.
2021-06-06 02:19:32,243 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:19:32,249 [pool-22-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:32,250 [pool-22-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:32,256 [pool-22-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945972255,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:32,257 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:32,257 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:19:32,257 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,258 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,313 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:19:32,314 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:19:32,316 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:19:32,316 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:19:32,316 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:19:32,317 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:19:32,317 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:19:32,318 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:19:32,318 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:19:32,318 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:19:32,318 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:19:32,318 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:19:32,321 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:19:32,321 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:19:32,322 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:19:32,322 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:19:32,325 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:19:32,325 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:19:32,328 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:19:32,329 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:32,329 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:32,330 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12876719819891 on primary SCM
2021-06-06 02:19:32,331 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:19:32,331 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:32,332 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:19:32,336 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:32,339 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:19:32,341 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:32,342 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:19:32,343 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:32,343 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:19:32,345 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:19:32,346 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:19:32,346 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:19:32,346 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1208)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-06-06 02:19:32,347 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-06-06 02:19:32,348 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-06-06 02:19:32,348 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-06-06 02:19:32,351 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-06-06 02:19:32,351 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-06-06 02:19:32,357 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(157)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-06-06 02:19:32,357 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:32,368 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-06-06 02:19:32,375 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1223)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-06-06 02:19:32,375 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-06-06 02:19:32,376 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:32,380 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-06-06 02:19:32,398 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1229)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-06-06 02:19:32,399 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-06-06 02:19:32,399 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:32,399 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-06-06 02:19:32,412 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(392)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-06-06 02:19:32,415 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:32,416 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-06-06 02:19:32,421 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-06-06 02:19:32,427 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@436a36c0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:19:32,428 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-06-06 02:19:32,429 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:19:32,430 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:19:32,430 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:19:32,432 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:19:32,433 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-06-06 02:19:32,433 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:19:32,433 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:19:32,433 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-06-06 02:19:32,435 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:19:32,437 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:19:32,438 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:19:32,438 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-06-06 02:19:32,439 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@614b7847{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:19:32,440 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@289cf037{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:19:32,443 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@4eb55b47{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:19:32,443 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7b2fb691{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:19:32,444 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @8458ms
2021-06-06 02:19:32,444 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-06-06 02:19:32,444 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-06-06 02:19:32,445 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,449 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:32,452 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:32,452 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:32,452 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:32,454 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,454 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,579 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,584 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:32,585 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:32,723 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner scm required for S3Gateway operations.
2021-06-06 02:19:32,728 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:32,728 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:19:32,734 [Listener at 0.0.0.0/9860] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-06 02:19:32,757 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:32,776 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:19:32,785 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:19:32,809 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:19:32,813 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:19:32,819 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:19:32,820 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:32,821 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:19:32,821 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:32,821 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:32,822 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:19:32,823 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:32,823 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:19:32,824 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:19:32,873 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:19:32,874 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:32,875 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:32,887 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis] (custom)
2021-06-06 02:19:32,894 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@1a5beb90[Not completed]
2021-06-06 02:19:32,895 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:19:32,906 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:32,909 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:19:32,929 [pool-53-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:19:32,932 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:19:32,932 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:19:32,932 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:19:32,932 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:32,932 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:32,933 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:19:32,933 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:19:32,946 [pool-53-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:19:32,946 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis] (custom)
2021-06-06 02:19:32,952 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:32,952 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:32,952 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:32,952 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:32,954 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:19:32,955 [pool-53-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:19:32,962 [pool-53-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:19:32,963 [pool-22-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:32,963 [pool-22-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:32,973 [pool-22-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945972972,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:32,979 [Listener at localhost/1202] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:32,979 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:19:32,979 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:32,992 [pool-53-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:19:32,994 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:19:32,999 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:19:33,002 [pool-22-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622945973001,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:19:33,013 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:19:33,013 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:33,017 [pool-53-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:19:33,021 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:36397
2021-06-06 02:19:33,035 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:33,051 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:19:33,051 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:19:33,064 [pool-53-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:19:33,065 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:19:33,065 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:19:33,066 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:33,066 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:19:33,066 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:19:33,068 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:19:33,068 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:19:33,068 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:19:33,082 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:19:33,082 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:19:33,083 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:omInit(970)) - OM storage is already initialized. Initializing security
2021-06-06 02:19:33,084 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(990)) - Initializing secure OzoneManager.
2021-06-06 02:19:33,085 [Listener at localhost/1202] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:33,085 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:33,085 [Listener at localhost/1202] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(65)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:33,111 [pool-53-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:33,111 [pool-53-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:33,123 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:19:33,124 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:19:33,124 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:19:33,125 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:19:33,126 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:19:33,126 [pool-53-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:19:33,159 [pool-53-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:19:33,173 [pool-53-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:19:33,264 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(996)) - Init response: GETCERT
2021-06-06 02:19:33,265 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:33,266 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:33,266 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:33,266 [Listener at localhost/1202] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:33,266 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:33,266 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:33,266 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:33,267 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:33,267 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1443)) - Creating csr for OM->dns:localhost,ip:127.0.0.1,scmId:642eb1e1-8dcb-4813-99fe-526dbf82bb83,clusterId:cafbeaa6-bce5-4623-89fc-e8fb5418248f,subject:scm@localhost
2021-06-06 02:19:33,276 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1459)) - OzoneManager ports added:[name: "RPC"
value: 1202
]
2021-06-06 02:19:33,288 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:45141
2021-06-06 02:19:33,297 [IPC Server handler 1 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(164)) - Processing CSR for om localhost, UUID: c0729552-02ef-423b-a8af-b34203798c09
2021-06-06 02:19:33,309 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1003)) - Successfully stored SCM signed certificate.
OM already initialized.Reusing existing cluster id for sd=/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/om;cid=cafbeaa6-bce5-4623-89fc-e8fb5418248f;layoutVersion=0
2021-06-06 02:19:33,311 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:33,312 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:19:33,312 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:19:33,313 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:33,313 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:33,313 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:33,313 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:33,314 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:33,314 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:33,314 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:33,314 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:33,314 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:33,317 [pool-22-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:33,317 [pool-22-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:33,324 [pool-22-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945973323,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:33,325 [Listener at localhost/1202] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:33,326 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:19:33,326 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:33,335 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/om/certs.
2021-06-06 02:19:33,337 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/om/certs/CA-12876719819891.crt.
2021-06-06 02:19:33,338 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/om/certs/12877792680454.crt.
2021-06-06 02:19:33,340 [Listener at localhost/1202] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/om/certs/ROOTCA-1.crt.
2021-06-06 02:19:33,341 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:33,341 [Listener at localhost/1202] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:33,341 [Listener at localhost/1202] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:33,375 [Listener at localhost/1202] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:19:33,380 [Listener at localhost/1202] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:19:33,381 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:19:33,381 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:33,381 [Listener at localhost/1202] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:19:33,382 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:33,383 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:19:33,383 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:19:33,389 [Listener at localhost/1202] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:19:33,390 [Listener at localhost/1202] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:19:33,392 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:19:33,393 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:33,393 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:19:33,396 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:33,396 [Listener at localhost/1202] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:33,397 [Listener at localhost/1202] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:19:33,397 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:33,397 [Listener at localhost/1202] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:19:33,397 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:19:33,398 [Listener at localhost/1202] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:19:33,399 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:33,400 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:33,400 [Listener at localhost/1202] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis] (custom)
2021-06-06 02:19:33,401 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$null$1(235)) - om1: found a subdirectory /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:19:33,402 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@37b8e845[Not completed]
2021-06-06 02:19:33,402 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:19:33,404 [Listener at localhost/1202] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:33,405 [pool-68-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:19:33,407 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:19:33,407 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis] (custom)
2021-06-06 02:19:33,408 [pool-68-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:19:33,422 [pool-68-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:33,423 [pool-68-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-06-06 02:19:33,436 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:33,440 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:19:33,440 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:33,440 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:33,444 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:33,445 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:33,445 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:33,456 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-06-06 02:19:33,457 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:34,425 [pool-68-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:34,426 [pool-68-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-06-06 02:19:35,317 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:19:35,318 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:35,318 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:35,318 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:35,325 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-06-06 02:19:35,326 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:35,326 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:35,326 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:35,326 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:35,332 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:35,332 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:35,332 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-06-06 02:19:35,333 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@4eb55b47{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:19:35,334 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7b2fb691{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:19:35,334 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:19:35,334 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@289cf037{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:19:35,334 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@614b7847{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:19:35,335 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:35,335 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:35,335 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-06-06 02:19:35,335 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:35,336 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:35,336 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(84)) - SCMUpdateService stopped!
2021-06-06 02:19:35,336 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:35,336 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:35,337 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:35,341 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:35,341 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:19:35,342 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-06-06 02:19:35,343 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-06-06 02:19:35,343 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-06-06 02:19:35,344 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:19:35,429 [pool-68-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:35,429 [pool-68-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-06-06 02:19:36,344 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:19:36,344 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:36,344 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(275)) - Replication Monitor Thread is not running.
2021-06-06 02:19:36,344 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:36,345 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:36,345 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:36,346 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-06-06 02:19:36,346 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-06-06 02:19:36,346 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:36,430 [pool-68-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:36,430 [pool-68-thread-1] WARN  util.FileUtils (JavaUtils.java:attempt(172)) - FAILED "tryLock /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:221)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	... 15 more
2021-06-06 02:19:37,431 [pool-68-thread-1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(218)) - It appears that another process has already locked the storage directory: /tmp/junit1018246207049687772/junit6147340398856755338/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:209)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:41)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:179)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:150)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:95)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:65)
	at org.apache.ratis.server.storage.RaftStorageImpl.<init>(RaftStorageImpl.java:51)
	at org.apache.ratis.server.impl.ServerState.<init>(ServerState.java:112)
	at org.apache.ratis.server.impl.RaftServerImpl.<init>(RaftServerImpl.java:193)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$newRaftServerImpl$4(RaftServerProxy.java:266)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:37,432 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:19:37,432 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:19:37,432 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:37,432 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:37,432 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:37,432 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:37,432 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:37,476 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:19:37,479 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:19:37,479 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:19:37,479 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:19:37,479 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:19:37,479 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:19:37,479 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:19:37,479 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:19:37,479 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:19:37,479 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:19:37,480 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:19:37,485 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:19:37,554 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:37,554 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:19:37,555 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:37,555 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:37,555 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:37,636 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:19:37,740 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:37,741 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:37,741 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:37,741 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:37,745 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:37,745 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:37,745 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:37,745 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:37,745 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:f04c27b4-f3e5-43d1-bb3c-8ac87d4abdb1,clusterId:bf707dfa-b871-4684-a021-eef394db52e3,subject:scm-sub@fv-az54-346
2021-06-06 02:19:37,755 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:19:37,757 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:19:37,757 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:19:37,758 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:37,758 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/scm/sub-ca/certs.
2021-06-06 02:19:37,760 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:19:37,761 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/scm/sub-ca/certs/12882241074309.crt.
2021-06-06 02:19:37,763 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:19:37,774 [pool-70-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:37,774 [pool-70-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:37,782 [pool-70-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945977782,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:37,785 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:37,785 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:19:37,785 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:37,786 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:37,841 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:19:37,841 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:19:37,844 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:19:37,844 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:19:37,844 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:19:37,844 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:19:37,845 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:19:37,845 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:19:37,845 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:19:37,845 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:19:37,846 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:19:37,846 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:19:37,849 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:19:37,849 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:19:37,850 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:19:37,850 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:19:37,850 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:19:37,851 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:19:37,852 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:19:37,852 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:37,853 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:37,854 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12882241074309 on primary SCM
2021-06-06 02:19:37,854 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:19:37,855 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:37,856 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:19:37,861 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:37,862 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:19:37,863 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:37,863 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:19:37,864 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:37,865 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:19:37,866 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:19:37,866 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:19:37,866 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:19:37,867 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1208)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-06-06 02:19:37,868 [Listener at 0.0.0.0/9860] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-storagecontainermanager.properties,hadoop-metrics2.properties
2021-06-06 02:19:37,868 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-06-06 02:19:37,869 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - StorageContainerManager metrics system started
2021-06-06 02:19:37,879 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-06-06 02:19:37,879 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-06-06 02:19:37,883 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(157)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-06-06 02:19:37,884 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:37,888 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-06-06 02:19:37,898 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1223)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-06-06 02:19:37,899 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-06-06 02:19:37,899 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:37,899 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-06-06 02:19:37,910 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1229)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-06-06 02:19:37,911 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-06-06 02:19:37,911 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:37,912 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-06-06 02:19:37,926 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(392)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-06-06 02:19:37,928 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:37,933 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-06-06 02:19:37,936 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-06-06 02:19:37,939 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@136a365a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:19:37,940 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-06-06 02:19:37,940 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:19:37,942 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:19:37,944 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:19:37,945 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:19:37,946 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-06-06 02:19:37,946 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:19:37,946 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:19:37,947 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-06-06 02:19:37,947 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:19:37,952 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:19:37,952 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:19:37,952 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-06-06 02:19:37,952 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@787b79e5{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:19:37,953 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@4fe6cc1{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:19:37,956 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@205cbfda{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:19:37,956 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@4963242b{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:19:37,957 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @13970ms
2021-06-06 02:19:37,957 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-06-06 02:19:37,957 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-06-06 02:19:37,957 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:37,957 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(990)) - Initializing secure OzoneManager.
2021-06-06 02:19:37,958 [Listener at 0.0.0.0/9860] ERROR client.OMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:37,958 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:37,958 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (OMCertificateClient.java:handleCase(65)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:38,243 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(996)) - Init response: GETCERT
2021-06-06 02:19:38,243 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:38,243 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:38,244 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1443)) - Creating csr for OM->dns:localhost,ip:127.0.0.1,scmId:f04c27b4-f3e5-43d1-bb3c-8ac87d4abdb1,clusterId:bf707dfa-b871-4684-a021-eef394db52e3,subject:scm@localhost
2021-06-06 02:19:38,247 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:getSCMSignedCert(1459)) - OzoneManager ports added:[name: "RPC"
value: 1202
]
2021-06-06 02:19:38,255 [pool-70-thread-2] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622945978254,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:19:38,262 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:43393
2021-06-06 02:19:38,277 [IPC Server handler 0 on default port 9961] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:getOMCertificate(164)) - Processing CSR for om localhost, UUID: 366654bb-fe74-4c51-a08c-cbb46472e47c
2021-06-06 02:19:38,291 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeSecurity(1003)) - Successfully stored SCM signed certificate.
2021-06-06 02:19:38,293 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:38,293 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:38,293 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:38,293 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:38,293 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:38,296 [pool-70-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:38,296 [pool-70-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:38,305 [pool-70-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945978305,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:38,306 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-06-06 02:19:38,307 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:19:38,307 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:38,308 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/om/certs.
2021-06-06 02:19:38,310 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/om/certs/12882771463091.crt.
2021-06-06 02:19:38,312 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/om/certs/CA-12882241074309.crt.
2021-06-06 02:19:38,313 [Listener at 0.0.0.0/9860] INFO  client.OMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/om/certs/ROOTCA-1.crt.
2021-06-06 02:19:38,314 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:38,315 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:38,315 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:38,372 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:19:38,372 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:19:38,372 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:19:38,384 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-06-06 02:19:38,384 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:38,384 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:19:38,384 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:38,385 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:19:38,385 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:19:38,386 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:38,387 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:19:38,387 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:19:38,388 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:19:38,388 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:38,388 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:38,388 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/ratis] (custom)
2021-06-06 02:19:38,389 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@5665a6e8[Not completed]
2021-06-06 02:19:38,389 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:19:38,389 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:19:38,389 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:19:38,390 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:19:38,390 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:19:38,390 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:38,390 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:38,391 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:38,391 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:19:38,391 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:19:38,391 [pool-101-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:19:38,391 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:19:38,392 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/ratis] (custom)
2021-06-06 02:19:38,392 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:19:38,392 [pool-101-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:19:38,393 [pool-101-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:19:38,394 [pool-101-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:19:38,405 [pool-101-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit4323729332721194347/junit1117707952156326270/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:19:38,406 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:19:38,407 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:19:38,407 [pool-101-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:38,407 [pool-101-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:38,412 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:19:38,412 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:19:38,412 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:19:38,412 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:19:38,412 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:19:38,412 [pool-101-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:19:38,416 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:38,417 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:19:38,417 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:38,417 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:38,417 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:38,418 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:38,420 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:38,425 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-06-06 02:19:38,429 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:40,845 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:19:40,845 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:40,846 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:40,846 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:40,851 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:40,851 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:40,851 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:40,851 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:40,853 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-06-06 02:19:40,854 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:40,855 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:40,857 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-06-06 02:19:40,858 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@205cbfda{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:19:40,859 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@4963242b{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:19:40,859 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:19:40,860 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@4fe6cc1{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:19:40,860 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@787b79e5{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:19:40,864 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:40,864 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:40,865 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-06-06 02:19:40,865 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:40,866 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:40,866 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(84)) - SCMUpdateService stopped!
2021-06-06 02:19:40,867 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:40,867 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:40,867 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:40,867 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:40,867 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:19:40,868 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-06-06 02:19:40,869 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-06-06 02:19:40,869 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-06-06 02:19:40,869 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:40,869 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:19:40,870 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:19:40,870 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:40,870 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:40,870 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:40,870 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:40,870 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:40,871 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:40,871 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:40,872 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:19:41,872 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:19:41,872 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(275)) - Replication Monitor Thread is not running.
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:41,873 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:41,873 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:41,874 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:41,898 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:19:41,898 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:19:41,898 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:19:41,899 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:19:41,899 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:19:41,899 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:19:41,899 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:19:41,900 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:19:41,900 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:19:41,900 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:19:41,901 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:19:42,058 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,058 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:19:42,058 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:42,058 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:42,058 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:42,111 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:19:42,183 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:42,183 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:42,183 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:42,183 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:42,188 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:42,188 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:42,188 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:42,188 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:42,188 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:f0e54ebe-4990-4327-98c8-332f77ba0855,clusterId:8690e813-01c3-46fe-8da3-8b3018a18e0b,subject:scm-sub@fv-az54-346
2021-06-06 02:19:42,198 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:19:42,200 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:19:42,200 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:19:42,200 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,200 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/scm/sub-ca/certs.
2021-06-06 02:19:42,202 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:19:42,203 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/scm/sub-ca/certs/12886684011176.crt.
2021-06-06 02:19:42,205 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:19:42,211 [pool-102-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:42,211 [pool-102-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:42,215 [pool-102-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945982214,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:42,216 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:42,216 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:19:42,216 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,221 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,281 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:19:42,281 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:19:42,284 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:19:42,284 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:19:42,284 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:19:42,284 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:19:42,284 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:19:42,285 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:19:42,285 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:19:42,285 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:19:42,285 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:19:42,286 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:19:42,286 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:19:42,287 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:19:42,287 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:19:42,288 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:19:42,288 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:19:42,288 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:19:42,292 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:42,293 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:42,294 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12886684011176 on primary SCM
2021-06-06 02:19:42,295 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:19:42,296 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:42,296 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:19:42,298 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:19:42,299 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:42,300 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:19:42,301 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:42,301 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:19:42,302 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:42,303 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:19:42,304 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:19:42,304 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:19:42,304 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:19:42,305 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,307 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:42,307 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:42,307 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:42,307 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:42,307 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,310 [pool-102-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:42,310 [pool-102-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:42,313 [pool-102-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945982312,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:42,317 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-06-06 02:19:42,317 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:19:42,317 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,319 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:42,319 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:42,320 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:42,378 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:19:42,379 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:19:42,379 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:19:42,380 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-06-06 02:19:42,380 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:42,380 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:19:42,380 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:42,381 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:19:42,381 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:19:42,382 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:19:42,382 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:19:42,383 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:19:42,384 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:19:42,384 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:42,384 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:42,385 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/ratis] (custom)
2021-06-06 02:19:42,385 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@4f338d66[Not completed]
2021-06-06 02:19:42,385 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:19:42,386 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:42,386 [pool-130-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:19:42,386 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/ratis] (custom)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:19:42,391 [pool-130-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:19:42,392 [pool-130-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:19:42,394 [pool-130-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit4669356354987232523/junit6865901799734206630/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:19:42,395 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:19:42,396 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:19:42,396 [pool-130-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:42,396 [pool-130-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:42,396 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:19:42,396 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:19:42,396 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:19:42,397 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:19:42,397 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:19:42,397 [pool-130-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:19:42,411 [Listener at localhost/1202] WARN  impl.MetricsConfig (MetricsConfig.java:loadFirst(136)) - Cannot locate configuration: tried hadoop-metrics2-ozonemanager.properties,hadoop-metrics2.properties
2021-06-06 02:19:42,414 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:startTimer(378)) - Scheduled Metric snapshot period at 10 second(s).
2021-06-06 02:19:42,414 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:start(191)) - OzoneManager metrics system started
2021-06-06 02:19:42,424 [Listener at localhost/1202] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:start(204)) - Sink prometheus started
2021-06-06 02:19:42,425 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:registerSink(305)) - Registered sink prometheus
2021-06-06 02:19:42,428 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-06-06 02:19:42,429 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-06-06 02:19:42,430 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:19:42,431 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-06-06 02:19:42,433 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-06-06 02:19:42,434 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:19:42,435 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:19:42,437 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-06-06 02:19:42,441 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-06-06 02:19:42,445 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@279ae519] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-06-06 02:19:42,445 [Listener at localhost/1202] ERROR om.OzoneManager (OzoneManager.java:startSecretManager(766)) - Unable to read key pair for OM.
org.apache.hadoop.hdds.security.OzoneSecurityException: Error reading keypair & certificate
	at org.apache.hadoop.hdds.security.x509.certificate.client.CertificateClient.assertValidKeysAndCertificate(CertificateClient.java:290)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManager(OzoneManager.java:764)
	at org.apache.hadoop.ozone.om.OzoneManager.startSecretManagerIfNecessary(OzoneManager.java:1394)
	at org.apache.hadoop.ozone.om.OzoneManager.start(OzoneManager.java:1113)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testSecureOmInitializationSuccess(TestSecureOzoneCluster.java:458)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at java.util.Objects.requireNonNull(Objects.java:203)
	at org.apache.hadoop.hdds.security.x509.certificate.client.CertificateClient.assertValidKeysAndCertificate(CertificateClient.java:286)
	... 19 more
2021-06-06 02:19:42,446 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:19:43,446 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:19:43,446 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:19:43,446 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:19:43,446 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:19:43,447 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:19:43,447 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:19:43,447 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:19:43,447 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:19:43,447 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:19:45,285 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:19:45,285 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:19:45,285 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:19:45,285 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:19:45,286 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:19:45,286 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:19:45,286 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:19:45,286 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:19:45,286 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1342)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1340)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:45,286 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:19:45,286 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:19:45,287 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:19:45,287 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:19:45,287 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:45,287 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:19:45,287 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:19:45,287 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:19:45,289 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:45,290 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-06-06 02:19:45,291 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-06-06 02:19:45,291 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:19:45,291 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-06-06 02:19:45,291 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - om1@group-C5BA1605619E-FollowerState was interrupted: {}
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at java.lang.Thread.sleep(Thread.java:340)
	at java.util.concurrent.TimeUnit.sleep(TimeUnit.java:386)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:324)
	at org.apache.ratis.util.TimeDuration.sleep(TimeDuration.java:309)
	at org.apache.ratis.server.impl.FollowerState.run(FollowerState.java:118)
2021-06-06 02:19:45,292 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = -1
2021-06-06 02:19:45,292 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:19:45,297 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: -1
2021-06-06 02:19:45,298 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-06-06 02:19:45,298 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-06-06 02:19:45,298 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:19:45,299 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:19:45,299 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:19:45,299 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-06-06 02:19:45,301 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@279ae519] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:19:45,301 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:45,301 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:45,318 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:19:45,318 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:19:45,318 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:19:45,319 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:19:45,319 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:19:45,319 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:19:45,319 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:19:45,321 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:19:45,631 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:45,633 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:45,633 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:45,633 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:45,633 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:45,634 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:45,641 [pool-132-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:45,642 [pool-132-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:45,646 [pool-132-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945985646,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:45,648 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-06-06 02:19:45,648 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:19:45,648 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:45,650 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:45,651 [Time-limited test] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:45,651 [Time-limited test] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:45,713 [Time-limited test] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:19:45,713 [Time-limited test] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:19:45,713 [Time-limited test] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:19:45,714 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-06-06 02:19:45,714 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:45,714 [Time-limited test] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:19:45,714 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:45,715 [Time-limited test] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:19:45,715 [Time-limited test] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:19:45,716 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:19:45,716 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:19:45,716 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:19:45,716 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:45,716 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:19:45,716 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:45,716 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:45,716 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:19:45,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:45,716 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:19:45,717 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:19:45,718 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:19:45,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:45,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:45,718 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis] (custom)
2021-06-06 02:19:45,718 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@72b7a1ae[Not completed]
2021-06-06 02:19:45,718 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:19:45,718 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:19:45,720 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:19:45,721 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:45,721 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:19:45,724 [pool-146-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:19:45,724 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis] (custom)
2021-06-06 02:19:45,725 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:19:45,725 [pool-146-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:19:45,727 [pool-146-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:19:45,749 [pool-146-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:19:45,749 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:19:45,750 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:19:45,750 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:19:45,750 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:45,750 [pool-146-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:19:45,750 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:19:45,751 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:19:45,764 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:19:45,764 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:19:45,764 [pool-146-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:45,765 [pool-146-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:45,776 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:19:45,776 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:19:45,776 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:19:45,776 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:19:45,776 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:19:45,777 [pool-146-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:19:45,777 [pool-146-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:19:45,777 [pool-146-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:19:45,878 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-06-06 02:19:45,878 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-06-06 02:19:45,878 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-06-06 02:19:45,878 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:19:45,879 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-06-06 02:19:45,879 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-06-06 02:19:45,881 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:19:45,881 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:19:45,884 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-06-06 02:19:45,885 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-06-06 02:19:45,886 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(782)) - Starting OM delegation token secret manager
2021-06-06 02:19:45,886 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-06-06 02:19:45,886 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@c5e1e67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-06-06 02:19:45,888 [Thread[Thread-1044,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-06-06 02:19:45,894 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-06-06 02:19:45,894 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:19:45,896 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:19:45,902 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:19:45,903 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:19:45,904 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-06-06 02:19:45,904 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:19:45,904 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:19:45,905 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9874
2021-06-06 02:19:45,905 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:19:45,906 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:19:45,907 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:19:45,907 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 600000ms
2021-06-06 02:19:45,908 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@46fd2e{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:19:45,908 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@f57a36f{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:19:45,911 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@2fa11ccd{ozoneManager,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-06-06 02:19:45,912 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@1991d118{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-06-06 02:19:45,912 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @21926ms
2021-06-06 02:19:45,912 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-06-06 02:19:45,913 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-06-06 02:19:45,914 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:45,916 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 1202: starting
2021-06-06 02:19:45,930 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1234)) - Trash Interval set to 0. Files deleted will not move to trash
2021-06-06 02:19:45,931 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6e287559] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:19:46,244 [pool-132-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622945986244,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net for om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:19:46,257 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:42327
2021-06-06 02:19:48,295 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:211)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:199)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:146)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:122)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
, while invoking $Proxy44.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-06-06 02:19:50,903 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5024481001ns, electionTimeout:5021ms
2021-06-06 02:19:50,905 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-06-06 02:19:50,905 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-06-06 02:19:50,907 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-06-06 02:19:50,907 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection1
2021-06-06 02:19:50,911 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:19:50,912 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection1 ELECTION round 0: result PASSED (term=1)
2021-06-06 02:19:50,912 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection1
2021-06-06 02:19:50,913 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-06-06 02:19:50,913 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5164ms
2021-06-06 02:19:50,918 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-06-06 02:19:50,921 [om1@group-C5BA1605619E-LeaderElection1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-06-06 02:19:50,923 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-06-06 02:19:50,923 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:19:50,928 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-06-06 02:19:50,929 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-06-06 02:19:50,929 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-06-06 02:19:50,934 [om1@group-C5BA1605619E-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-06-06 02:19:50,955 [om1@group-C5BA1605619E-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-06-06 02:19:51,002 [om1@group-C5BA1605619E-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-06-06 02:19:51,046 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit6094466773134962709/junit7331575549436449051/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-06-06 02:19:52,551 [OM StateMachine ApplyTransaction Thread - 0] INFO  security.S3RevokeSecretRequest (S3RevokeSecretRequest.java:validateAndUpdateCache(146)) - Secret for om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM is revoked.
2021-06-06 02:19:52,557 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:52,558 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 1202
2021-06-06 02:19:52,559 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:19:52,559 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-06-06 02:19:52,559 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-06-06 02:19:52,559 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:19:52,560 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-06-06 02:19:52,560 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-06-06 02:19:52,562 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-06-06 02:19:52,562 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:19:52,563 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 8
2021-06-06 02:19:52,563 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:8)
2021-06-06 02:19:52,564 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 8
2021-06-06 02:19:52,564 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 8
2021-06-06 02:19:52,564 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:19:52,564 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: 8
2021-06-06 02:19:52,566 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-06-06 02:19:52,567 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-06-06 02:19:52,567 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:19:52,568 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:19:52,568 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:19:52,568 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-06-06 02:19:52,569 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-06-06 02:19:52,569 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@c5e1e67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:19:52,570 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-06-06 02:19:52,570 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:52,570 [Thread[Thread-1044,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:19:52,571 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@2fa11ccd{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-06-06 02:19:52,572 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@1991d118{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-06-06 02:19:52,572 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:19:52,572 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@f57a36f{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:19:52,572 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@46fd2e{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:19:52,575 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:19:53,575 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:19:53,575 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:19:53,576 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:19:53,602 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:19:53,602 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:19:53,603 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:19:53,603 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:19:53,603 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:19:53,603 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:19:53,603 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:19:53,604 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:19:53,607 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:19:53,740 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:53,741 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:19:53,741 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:19:53,741 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:19:53,741 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:19:53,992 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:19:54,257 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:54,257 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:54,257 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:54,257 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:54,261 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:19:54,261 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:19:54,261 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:19:54,261 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:19:54,262 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:74207f9f-6967-4bb8-ad1c-7c60e7b55ebc,clusterId:fddaa587-86cc-4a8d-9ebd-69be672cfcdd,subject:scm-sub@fv-az54-346
2021-06-06 02:19:54,270 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:19:54,272 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:19:54,272 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:19:54,273 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,273 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/scm/sub-ca/certs.
2021-06-06 02:19:54,275 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:19:54,276 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/scm/sub-ca/certs/12898756806691.crt.
2021-06-06 02:19:54,278 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:19:54,280 [pool-148-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:54,280 [pool-148-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:54,285 [pool-148-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945994285,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:54,292 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:19:54,292 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:19:54,292 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,293 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,350 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:19:54,351 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:19:54,353 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:19:54,353 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:19:54,353 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:19:54,353 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:19:54,354 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:19:54,355 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:19:54,355 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:19:54,355 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:19:54,356 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:19:54,356 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:19:54,361 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:19:54,361 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:19:54,362 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:19:54,362 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:19:54,363 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:19:54,363 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:19:54,364 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:54,364 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:19:54,365 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12898756806691 on primary SCM
2021-06-06 02:19:54,365 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:19:54,366 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:54,368 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:19:54,370 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:54,371 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:19:54,372 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:54,373 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:19:54,374 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:54,375 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:19:54,380 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:19:54,384 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:19:54,384 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:19:54,384 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:19:54,386 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,387 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:19:54,388 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:19:54,388 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:19:54,388 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:19:54,388 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,391 [pool-148-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:54,391 [pool-148-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:54,395 [pool-148-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945994395,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:54,396 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-06-06 02:19:54,396 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:19:54,397 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,398 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:19:54,400 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:54,401 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:19:54,465 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:19:54,466 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:19:54,466 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:19:54,467 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-06-06 02:19:54,467 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:54,467 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:19:54,467 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:19:54,468 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:19:54,468 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:19:54,469 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:19:54,470 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:19:54,471 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:54,471 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:54,471 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis] (custom)
2021-06-06 02:19:54,471 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@282491d9[Not completed]
2021-06-06 02:19:54,471 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:19:54,472 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:19:54,473 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:19:54,475 [pool-176-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis] (custom)
2021-06-06 02:19:54,476 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:19:54,477 [pool-176-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:19:54,477 [pool-176-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:19:54,478 [pool-176-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:54,479 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:19:54,480 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:19:54,481 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:19:54,481 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:19:54,481 [pool-176-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:54,481 [pool-176-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:19:54,481 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:19:54,481 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:19:54,482 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:19:54,482 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:19:54,482 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:19:54,482 [pool-176-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:19:54,482 [pool-176-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:19:54,482 [pool-176-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:19:55,154 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-06-06 02:19:55,155 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-06-06 02:19:55,155 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-06-06 02:19:55,155 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:19:55,155 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-06-06 02:19:55,155 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-06-06 02:19:55,156 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:19:55,156 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:19:55,157 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-06-06 02:19:55,158 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-06-06 02:19:55,161 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(782)) - Starting OM delegation token secret manager
2021-06-06 02:19:55,162 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-06-06 02:19:55,162 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@4a83eb47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-06-06 02:19:55,162 [Thread[Thread-1181,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-06-06 02:19:55,164 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-06-06 02:19:55,164 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:19:55,165 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:19:55,166 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:19:55,166 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:19:55,167 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-06-06 02:19:55,167 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:19:55,167 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:19:55,168 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9874
2021-06-06 02:19:55,168 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:19:55,170 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:19:55,170 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:19:55,170 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-06-06 02:19:55,171 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@cac0f4f{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:19:55,171 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@392b37da{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:19:55,174 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@3d63df45{ozoneManager,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-06-06 02:19:55,175 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@19d9b17c{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-06-06 02:19:55,175 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @31188ms
2021-06-06 02:19:55,175 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-06-06 02:19:55,175 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-06-06 02:19:55,176 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:19:55,180 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 1202: starting
2021-06-06 02:19:55,190 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1234)) - Trash Interval set to 0. Files deleted will not move to trash
2021-06-06 02:19:55,190 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@7853cd4a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:19:55,193 [pool-148-thread-2] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:19:55,193 [pool-148-thread-2] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:19:55,196 [pool-148-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622945995196,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:19:55,209 [pool-148-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622945995209,test for om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:19:55,215 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 127.0.0.1:51074
2021-06-06 02:19:57,225 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:211)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:199)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:146)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:122)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
, while invoking $Proxy44.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-06-06 02:20:00,236 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5080205530ns, electionTimeout:5078ms
2021-06-06 02:20:00,236 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-06-06 02:20:00,236 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-06-06 02:20:00,236 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-06-06 02:20:00,236 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection2
2021-06-06 02:20:00,244 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:20:00,244 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection2 ELECTION round 0: result PASSED (term=1)
2021-06-06 02:20:00,244 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection2
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5766ms
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:20:00,245 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-06-06 02:20:00,246 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-06-06 02:20:00,246 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-06-06 02:20:00,246 [om1@group-C5BA1605619E-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-06-06 02:20:00,246 [om1@group-C5BA1605619E-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-06-06 02:20:00,247 [om1@group-C5BA1605619E-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-06-06 02:20:00,258 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit7109160846613919638/junit8548248785516361706/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-06-06 02:20:01,235 [OM StateMachine ApplyTransaction Thread - 0] INFO  volume.OMVolumeCreateRequest (OMVolumeCreateRequest.java:validateAndUpdateCache(195)) - created volume:vol1 for user:owner1
2021-06-06 02:20:01,255 [Listener at localhost/1202] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy44.submitRequest(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:422)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:165)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:157)
	at org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)
	at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:359)
	at com.sun.proxy.$Proxy44.submitRequest(Unknown Source)
	at org.apache.hadoop.ozone.om.protocolPB.Hadoop3OmTransport.submitRequest(Hadoop3OmTransport.java:80)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.submitRequest(OzoneManagerProtocolClientSideTranslatorPB.java:222)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.listVolume(OzoneManagerProtocolClientSideTranslatorPB.java:426)
	at org.apache.hadoop.ozone.om.protocolPB.OzoneManagerProtocolClientSideTranslatorPB.listAllVolumes(OzoneManagerProtocolClientSideTranslatorPB.java:415)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.lambda$testAccessControlExceptionOnClient$5(TestSecureOzoneCluster.java:511)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testAccessControlExceptionOnClient(TestSecureOzoneCluster.java:510)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:01,257 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:20:02,257 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:20:02,257 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:20:02,257 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:20:02,257 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:20:02,257 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:20:02,258 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:20:02,258 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:20:02,258 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:20:02,258 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:20:03,355 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:20:03,355 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:20:03,355 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:20:03,355 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:20:03,356 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:20:03,356 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:20:03,356 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:20:03,357 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:20:03,357 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1342)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1340)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:03,357 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:20:03,357 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:20:03,358 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:20:03,358 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:20:03,358 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:03,358 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:03,358 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:20:03,358 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:20:03,359 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:20:03,361 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 1202
2021-06-06 02:20:03,362 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:20:03,363 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-06-06 02:20:03,363 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-06-06 02:20:03,363 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:20:03,363 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-06-06 02:20:03,363 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-06-06 02:20:03,365 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-06-06 02:20:03,365 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:20:03,366 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:2)
2021-06-06 02:20:03,366 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 2
2021-06-06 02:20:03,366 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 2
2021-06-06 02:20:03,366 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:20:03,368 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 2
2021-06-06 02:20:03,368 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: 2
2021-06-06 02:20:03,368 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-06-06 02:20:03,369 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-06-06 02:20:03,369 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:20:03,369 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:20:03,369 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:20:03,370 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-06-06 02:20:03,370 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-06-06 02:20:03,370 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@4a83eb47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-06-06 02:20:03,370 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:20:03,371 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:20:03,371 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:20:03,371 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:20:03,371 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:20:03,371 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:20:03,371 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-06-06 02:20:03,371 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:20:03,371 [Thread[Thread-1181,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:03,372 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@3d63df45{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-06-06 02:20:03,373 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@19d9b17c{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-06-06 02:20:03,373 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:20:03,373 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@392b37da{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:20:03,375 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@cac0f4f{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:20:03,395 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:20:03,395 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:20:03,395 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:20:03,395 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:20:03,395 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:20:03,395 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:20:03,396 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:20:03,398 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:20:03,625 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:03,625 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:20:03,626 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:20:03,626 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:20:03,626 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:20:03,851 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:20:04,066 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:04,066 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:04,066 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:04,066 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:04,070 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:04,070 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:04,070 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:04,070 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:04,071 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:54ab312d-18c4-4520-b844-09f01ce6a181,clusterId:82d17556-bb5b-4916-be83-f2caaefbd530,subject:scm-sub@fv-az54-346
2021-06-06 02:20:04,080 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:20:04,082 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:04,082 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:04,083 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:04,083 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit9057242596509034296/junit2330593037591763668/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:04,085 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit9057242596509034296/junit2330593037591763668/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:04,086 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit9057242596509034296/junit2330593037591763668/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:04,087 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit9057242596509034296/junit2330593037591763668/scm-meta/scm/sub-ca/certs/12908566287141.crt.
2021-06-06 02:20:04,090 [pool-179-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:20:04,090 [pool-179-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:20:04,096 [pool-179-thread-2] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622946004095,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:20:04,096 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:20:04,097 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:20:04,097 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:04,097 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:04,158 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:20:04,158 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:20:04,160 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:20:04,160 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:20:04,160 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:20:04,161 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:20:04,164 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:20:04,165 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:20:04,165 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:20:04,165 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:20:04,165 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:20:04,165 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:20:04,166 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:20:04,167 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:20:04,167 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:20:04,167 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:20:04,170 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:20:04,170 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:20:04,171 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:20:04,172 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:20:04,172 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12908566287141 on primary SCM
2021-06-06 02:20:04,173 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:20:04,174 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:20:04,174 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:04,175 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:20:04,181 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:04,182 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:20:04,185 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:04,186 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:20:04,187 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:04,195 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:20:04,197 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:20:04,198 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:20:04,198 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:20:04,199 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:20:05,199 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:20:05,199 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:20:05,199 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:20:05,199 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:20:05,199 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:20:05,200 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:20:05,200 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:20:05,200 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:20:05,200 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:20:07,161 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:20:07,161 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:20:07,161 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:20:07,162 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:20:07,162 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:20:07,162 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:20:07,162 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:20:07,162 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:20:07,162 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1342)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1340)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:20:07,163 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:20:07,181 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:20:07,181 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:20:07,181 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:20:07,181 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:20:07,181 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:20:07,181 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:20:07,181 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:20:07,181 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:20:07,182 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:20:07,183 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:20:07,569 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:07,569 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:20:07,569 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:20:07,569 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:20:07,569 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:20:07,668 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:20:07,949 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:07,950 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:07,950 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:07,950 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:07,954 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:07,954 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:07,954 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:07,954 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:07,954 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:faef97b9-1d65-41df-bd65-82350960920e,clusterId:bdf4688e-1245-431f-8984-4095c7c7d10c,subject:scm-sub@fv-az54-346
2021-06-06 02:20:07,963 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:20:07,965 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:07,965 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:07,965 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:07,966 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:07,967 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:07,969 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:07,970 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/scm/sub-ca/certs/12912449666155.crt.
2021-06-06 02:20:07,985 [pool-194-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:20:07,985 [pool-194-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:20:07,988 [pool-194-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622946007988,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:20:07,990 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:20:07,990 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:20:07,990 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:07,990 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,049 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:20:08,049 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:20:08,052 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:20:08,052 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:20:08,052 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:20:08,052 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:20:08,053 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:20:08,053 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:20:08,053 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:20:08,053 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:20:08,054 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:20:08,054 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:20:08,055 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:20:08,055 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:20:08,056 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:20:08,056 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:20:08,056 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:20:08,057 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:20:08,057 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:20:08,058 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:20:08,058 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12912449666155 on primary SCM
2021-06-06 02:20:08,059 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:20:08,059 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:08,064 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:20:08,064 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:20:08,066 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:08,067 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:20:08,068 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:08,069 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:20:08,070 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:08,072 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:20:08,074 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:20:08,076 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:20:08,077 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:20:08,077 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,078 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:20:08,078 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:20:08,078 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:20:08,078 [Listener at 0.0.0.0/9860] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:20:08,079 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,082 [pool-194-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:20:08,082 [pool-194-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:20:08,085 [pool-194-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622946008085,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:20:08,086 [Listener at 0.0.0.0/9860] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-06-06 02:20:08,086 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:20:08,087 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,089 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,089 [Listener at 0.0.0.0/9860] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:20:08,089 [Listener at 0.0.0.0/9860] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:20:08,163 [Listener at 0.0.0.0/9860] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:20:08,163 [Listener at 0.0.0.0/9860] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:20:08,163 [Listener at 0.0.0.0/9860] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:20:08,164 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-06-06 02:20:08,164 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:20:08,164 [Listener at 0.0.0.0/9860] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:20:08,165 [Listener at 0.0.0.0/9860] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:20:08,167 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:20:08,167 [Listener at 0.0.0.0/9860] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:20:08,168 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:20:08,172 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:20:08,172 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:20:08,173 [Listener at 0.0.0.0/9860] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:20:08,174 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:20:08,175 [Listener at 0.0.0.0/9860] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:20:08,175 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:20:08,175 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:20:08,175 [Listener at 0.0.0.0/9860] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/ratis] (custom)
2021-06-06 02:20:08,175 [Listener at 0.0.0.0/9860] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@1daae308[Not completed]
2021-06-06 02:20:08,175 [pool-222-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:20:08,175 [Listener at 0.0.0.0/9860] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:20:08,176 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:20:08,177 [Listener at 0.0.0.0/9860] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/ratis] (custom)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:20:08,177 [pool-222-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:20:08,178 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:20:08,182 [pool-222-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:20:08,187 [pool-222-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:20:08,188 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:20:08,188 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:20:08,188 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:20:08,188 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:20:08,188 [pool-222-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:20:08,188 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit5548672933162436653/junit1509240007608798084/scm-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:20:08,189 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:20:08,190 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:20:08,190 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:20:08,190 [pool-222-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:20:08,190 [pool-222-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:20:08,195 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:20:08,195 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:20:08,195 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:20:08,195 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:20:08,195 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,196 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:20:08,196 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:20:08,196 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:20:08,196 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:20:08,196 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,197 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:20:08,197 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:20:08,197 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:20:08,197 [Listener at localhost/1202] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:20:08,197 [Listener at localhost/1202] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:08,197 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:20:08,197 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:20:08,197 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:20:08,197 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:20:08,198 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:20:08,198 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:20:08,198 [pool-222-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:20:08,198 [pool-222-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:20:08,198 [pool-222-thread-1] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:20:09,198 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:20:09,198 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:20:09,198 [Listener at localhost/1202] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:20:09,198 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:20:09,199 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:20:09,199 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:20:09,199 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:20:09,199 [Listener at localhost/1202] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:20:09,199 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:20:11,053 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:20:11,053 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:20:11,053 [Listener at localhost/1202] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:20:11,053 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:20:11,053 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:20:11,053 [Listener at localhost/1202] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:20:11,054 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:20:11,054 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:20:11,054 [Listener at localhost/1202] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1342)) - Storage Container Manager HTTP server stop failed.
java.lang.NullPointerException
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.stop(StorageContainerManager.java:1340)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.stop(TestSecureOzoneCluster.java:212)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunAfters.invokeMethod(RunAfters.java:46)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:11,054 [Listener at localhost/1202] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:20:11,054 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:20:11,055 [Listener at localhost/1202] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:20:11,055 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:20:11,055 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:11,055 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:11,055 [Listener at localhost/1202] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:20:11,055 [Listener at localhost/1202] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:20:11,057 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:20:11,057 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:20:11,075 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:20:11,075 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:20:11,075 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:20:11,075 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:20:11,075 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:20:11,075 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:20:11,076 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:20:11,078 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:20:11,239 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:11,241 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(105)) - ozone.om.internal.service.id is not defined, falling back to ozone.om.service.ids to find serviceID for OzoneManager if it is HA enabled cluster
2021-06-06 02:20:11,241 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:loadOMHAConfig(212)) - Configuration does not have ozone.om.address set. Falling back to the default OM address localhost/127.0.0.1:1202
2021-06-06 02:20:11,241 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(240)) - OM Service ID is not set. Setting it to the default ID: omServiceIdDefault
2021-06-06 02:20:11,241 [Time-limited test] INFO  ha.OMHANodeDetails (OMHANodeDetails.java:getOMNodeDetails(247)) - OM Node ID is not set. Setting it to the default ID: om1
2021-06-06 02:20:11,241 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:11,246 [pool-223-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:20:11,246 [pool-223-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:20:11,249 [pool-223-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622946011249,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:20:11,250 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/om.keytab
2021-06-06 02:20:11,250 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:loginOMUser(828)) - Ozone Manager login successful.
2021-06-06 02:20:11,250 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:11,253 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDBPath(225)) - ozone.om.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:11,253 [Time-limited test] INFO  codec.OmKeyInfoCodec (OmKeyInfoCodec.java:<init>(43)) - OmKeyInfoCodec ignorePipeline = true
2021-06-06 02:20:11,253 [Time-limited test] INFO  codec.RepeatedOmKeyInfoCodec (RepeatedOmKeyInfoCodec.java:<init>(42)) - RepeatedOmKeyInfoCodec ignorePipeline = true
2021-06-06 02:20:11,314 [Time-limited test] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.remover.scan.interval(3600000) assuming MILLISECONDS
2021-06-06 02:20:11,315 [Time-limited test] INFO  Configuration.deprecation (Configuration.java:logDeprecation(1395)) - No unit for ozone.manager.delegation.token.max-lifetime(1000) assuming MILLISECONDS
2021-06-06 02:20:11,315 [Time-limited test] INFO  security.OzoneSecretStore (OzoneSecretStore.java:loadState(69)) - Loaded 0 tokens
2021-06-06 02:20:11,315 [Time-limited test] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:loadTokenSecretState(517)) - Loading token state into token manager.
2021-06-06 02:20:11,333 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:addS3GVolumeToDB(3765)) - Created Volume s3v With Owner om required for S3Gateway operations.
2021-06-06 02:20:11,333 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:20:11,333 [Time-limited test] WARN  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:getOMRatisSnapshotDirectory(634)) - ozone.om.ratis.snapshot.dir is not configured. Falling back to ozone.metadata.dirs config
2021-06-06 02:20:11,334 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getDefaultRatisDirectory(237)) - Storage directory for Ratis is not configured. It is a good idea to map this to an SSD disk. Falling back to ozone.metadata.dirs
2021-06-06 02:20:11,335 [Time-limited test] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:<init>(288)) - Instantiating OM Ratis server with GroupID: omServiceIdDefault and Raft Peers: localhost:9872
2021-06-06 02:20:11,335 [Time-limited test] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:loadSnapshotInfoFromDB(520)) - LastAppliedIndex is set from TransactionInfo from OM DB as (t:0, i:~)
2021-06-06 02:20:11,336 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(44)) - raft.rpc.type = GRPC (default)
2021-06-06 02:20:11,336 [Time-limited test] INFO  grpc.GrpcFactory (GrpcFactory.java:checkPooledByteBufAllocatorUseCacheForAllThreads(48)) - PERFORMANCE WARNING: useCacheForAllThreads is true that may cause Netty to create a lot garbage objects and, as a result, trigger GC.
	It is recommended to disable useCacheForAllThreads by setting -Dorg.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads=false in command line.
2021-06-06 02:20:11,336 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.admin.port = -1 (default)
2021-06-06 02:20:11,336 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:20:11,336 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.client.port = -1 (default)
2021-06-06 02:20:11,336 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:20:11,337 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(44)) - raft.grpc.server.port = 9872 (custom)
2021-06-06 02:20:11,337 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.message.size.max = 33554432 (custom)
2021-06-06 02:20:11,337 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:20:11,337 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(44)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2021-06-06 02:20:11,337 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.request.timeout = 3000ms (default)
2021-06-06 02:20:11,338 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(44)) - raft.datastream.type = DISABLED (default)
2021-06-06 02:20:11,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:20:11,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:20:11,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis] (custom)
2021-06-06 02:20:11,342 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(95)) - om1: addNew group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] returns group-C5BA1605619E:java.util.concurrent.CompletableFuture@523ba772[Not completed]
2021-06-06 02:20:11,342 [Time-limited test] INFO  om.OzoneManager (OzoneManager.java:initializeRatisServer(1294)) - OzoneManager Ratis server initialized at port 9872
2021-06-06 02:20:11,344 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:11,344 [pool-237-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(180)) - om1: new RaftServerImpl for group-C5BA1605619E:[om1|rpc:localhost:9872|priority:0] with OzoneManagerStateMachine:uninitialized
2021-06-06 02:20:11,345 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 1202
2021-06-06 02:20:11,356 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.min = 5s (custom)
2021-06-06 02:20:11,356 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.timeout.max = 5200ms (custom)
2021-06-06 02:20:11,356 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.sleep.time = 25ms (default)
2021-06-06 02:20:11,357 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.rpc.slowness.timeout = 120s (custom)
2021-06-06 02:20:11,357 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2021-06-06 02:20:11,358 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.sleep.deviation.threshold = 300ms (default)
2021-06-06 02:20:11,358 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.install.snapshot.enabled = false (custom)
2021-06-06 02:20:11,358 [pool-237-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(105)) - om1@group-C5BA1605619E: ConfigurationManager, init=-1: [om1|rpc:localhost:9872|priority:0], old=null, confs=<EMPTY_MAP>
2021-06-06 02:20:11,358 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.storage.dir = [/tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis] (custom)
2021-06-06 02:20:11,358 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.corruption.policy = EXCEPTION (default)
2021-06-06 02:20:11,358 [pool-237-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(132)) - The storage directory /tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e does not exist. Creating ...
2021-06-06 02:20:11,359 [pool-237-thread-1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(215)) - Lock on /tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/in_use.lock acquired by nodename 5573@fv-az54-346
2021-06-06 02:20:11,360 [pool-237-thread-1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(87)) - Storage directory /tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e has been successfully formatted.
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.notification.no-leader.timeout = 120s (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.use.memory = false (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.gap = 1000000 (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.appender.buffer.byte-limit = 33554432 (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.num.max = 2 (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new om1@group-C5BA1605619E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.queue.element-limit = 4096 (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.segment.size.max = 4194304 (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.preallocated.size = 4194304 (custom)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.force.sync.num = 128 (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync = true (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2021-06-06 02:20:11,361 [pool-237-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2021-06-06 02:20:11,362 [pool-237-thread-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(133)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2021-06-06 02:20:11,368 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.enabled = true (custom)
2021-06-06 02:20:11,368 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.auto.trigger.threshold = 400000 (default)
2021-06-06 02:20:11,368 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.snapshot.retention.file.num = -1 (default)
2021-06-06 02:20:11,368 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.log.purge.upto.snapshot.index = true (custom)
2021-06-06 02:20:11,368 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.expirytime = 300s (custom)
2021-06-06 02:20:11,369 [pool-237-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2021-06-06 02:20:11,749 [Listener at localhost/1202] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - OzoneManager metrics system started (again)
2021-06-06 02:20:11,749 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:start(1104)) - OzoneManager RPC server is listening at localhost/127.0.0.1:1202
2021-06-06 02:20:11,750 [Listener at localhost/1202] INFO  ratis.OzoneManagerRatisServer (OzoneManagerRatisServer.java:start(388)) - Starting OzoneManagerRatisServer om1 at port 9872
2021-06-06 02:20:11,750 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:start(295)) - om1@group-C5BA1605619E: start as a follower, conf=-1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:20:11,750 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2021-06-06 02:20:11,750 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-FollowerState
2021-06-06 02:20:11,750 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:20:11,752 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:20:11,754 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$start$5(374)) - om1: start RPC server
2021-06-06 02:20:11,755 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:startImpl(253)) - om1: GrpcService started, listening on 9872
2021-06-06 02:20:11,756 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startSecretManager(782)) - Starting OM delegation token secret manager
2021-06-06 02:20:11,756 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@4c4c5160] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-om1: Started
2021-06-06 02:20:11,756 [Listener at localhost/1202] INFO  security.OzoneDelegationTokenSecretManager (OzoneSecretManager.java:updateCurrentKey(170)) - Updating the current master key for generating tokens
2021-06-06 02:20:11,758 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for ozoneManager at: http://0.0.0.0:9874
2021-06-06 02:20:11,758 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:20:11,759 [Thread[Thread-1340,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(623)) - Starting expired delegation token remover thread, tokenRemoverScanInterval=60 min(s)
2021-06-06 02:20:11,759 [Listener at localhost/1202] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:20:11,764 [Listener at localhost/1202] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:20:11,765 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:20:11,766 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context ozoneManager
2021-06-06 02:20:11,766 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:20:11,766 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:20:11,767 [Listener at localhost/1202] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9874
2021-06-06 02:20:11,767 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:20:11,768 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:20:11,768 [Listener at localhost/1202] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:20:11,768 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-06-06 02:20:11,769 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@c1c8641{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:20:11,769 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@6e9b1c7c{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:20:11,772 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@62370d9a{ozoneManager,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-06-06 02:20:11,774 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@7a0bdfa8{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-06-06 02:20:11,776 [Listener at localhost/1202] INFO  server.Server (Server.java:doStart(415)) - Started @47788ms
2021-06-06 02:20:11,776 [Listener at localhost/1202] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-06-06 02:20:11,777 [Listener at localhost/1202] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of ozoneManager listening at http://0.0.0.0:9874
2021-06-06 02:20:11,780 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:20:11,781 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 1202: starting
2021-06-06 02:20:11,790 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:startTrashEmptier(1234)) - Trash Interval set to 0. Files deleted will not move to trash
2021-06-06 02:20:11,790 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@76ec9be1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:20:11,800 [pool-223-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622946011800,om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net for om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:20:11,809 [Socket Reader #1 for port 1202] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:42979
2021-06-06 02:20:13,819 [Listener at localhost/1202] INFO  retry.RetryInvocationHandler (RetryInvocationHandler.java:log(411)) - com.google.protobuf.ServiceException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.ozone.om.exceptions.OMNotLeaderException): OM:om1 is not the leader. Could not determine the leader node.
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createNotLeaderException(OzoneManagerProtocolServerSideTranslatorPB.java:211)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.createLeaderErrorException(OzoneManagerProtocolServerSideTranslatorPB.java:199)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.processRequest(OzoneManagerProtocolServerSideTranslatorPB.java:146)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.ozone.protocolPB.OzoneManagerProtocolServerSideTranslatorPB.submitRequest(OzoneManagerProtocolServerSideTranslatorPB.java:122)
	at org.apache.hadoop.ozone.protocol.proto.OzoneManagerProtocolProtos$OzoneManagerService$2.callBlockingMethod(OzoneManagerProtocolProtos.java)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
, while invoking $Proxy44.submitRequest over nodeId=null,nodeAddress=localhost:1202 after 1 failover attempts. Trying to failover after sleeping for 4000ms.
2021-06-06 02:20:16,890 [om1@group-C5BA1605619E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(134)) - om1@group-C5BA1605619E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5139818127ns, electionTimeout:5137ms
2021-06-06 02:20:16,890 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(108)) - om1: shutdown om1@group-C5BA1605619E-FollowerState
2021-06-06 02:20:16,890 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2021-06-06 02:20:16,890 [om1@group-C5BA1605619E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.leaderelection.pre-vote = false (custom)
2021-06-06 02:20:16,890 [om1@group-C5BA1605619E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderElection3
2021-06-06 02:20:16,893 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(306)) - om1@group-C5BA1605619E-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: [om1|rpc:localhost:9872|priority:0], old=null
2021-06-06 02:20:16,893 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(308)) - om1@group-C5BA1605619E-LeaderElection3 ELECTION round 0: result PASSED (term=1)
2021-06-06 02:20:16,893 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(121)) - om1: shutdown om1@group-C5BA1605619E-LeaderElection3
2021-06-06 02:20:16,894 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(284)) - om1@group-C5BA1605619E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2021-06-06 02:20:16,894 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(271)) - om1@group-C5BA1605619E: change Leader from null to om1 at term 1 for becomeLeader, leader elected after 5533ms
2021-06-06 02:20:16,894 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.staging.catchup.gap = 1000 (default)
2021-06-06 02:20:16,894 [om1@group-C5BA1605619E-LeaderElection3] INFO  metrics.RatisMetrics (RatisMetrics.java:lambda$create$0(36)) - Creating Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-06-06 02:20:16,896 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.element-limit = 4096 (default)
2021-06-06 02:20:16,897 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2021-06-06 02:20:16,897 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout = 10s (default)
2021-06-06 02:20:16,897 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.timeout.denomination = 1s (default)
2021-06-06 02:20:16,897 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(44)) - raft.server.watch.element-limit = 65536 (default)
2021-06-06 02:20:16,897 [om1@group-C5BA1605619E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(130)) - om1: start om1@group-C5BA1605619E-LeaderStateImpl
2021-06-06 02:20:16,897 [om1@group-C5BA1605619E-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(394)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: Starting segment from index:0
2021-06-06 02:20:16,900 [om1@group-C5BA1605619E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(373)) - om1@group-C5BA1605619E: set configuration 0: [om1|rpc:localhost:9872|admin:|client:|dataStream:|priority:0], old=null
2021-06-06 02:20:16,903 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(601)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker: created new log segment /tmp/junit637720619548721917/junit7213071690444990737/om-meta/ratis/bf265839-605b-3f16-9796-c5ba1605619e/current/log_inprogress_0
2021-06-06 02:20:18,881 [IPC Server handler 6 on default port 1202] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1603)) - Delegation token renewal failed for dt id: OzoneToken owner=om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=2021-06-06T02:20:18.873Z, maxDate=2021-06-06T02:20:19.873Z, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault, cause: om tries to renew a token (OzoneToken owner=om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM, renewer=randomService, realUser=, issueDate=2021-06-06T02:20:18.873Z, maxDate=2021-06-06T02:20:19.873Z, sequenceNumber=2, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault) with non-matching renewer randomService
2021-06-06 02:20:18,912 [IPC Server handler 9 on default port 1202] ERROR om.OzoneManager (OzoneManager.java:renewDelegationToken(1603)) - Delegation token renewal failed for dt id: OzoneToken owner=om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM, renewer=om, realUser=, issueDate=2021-06-06T02:20:17.824Z, maxDate=2072-11-09T04:40:37.820Z, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault, cause: token (OzoneToken owner=om/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM, renewer=om, realUser=, issueDate=2021-06-06T02:20:17.824Z, maxDate=2072-11-09T04:40:37.820Z, sequenceNumber=1, masterKeyId=1, strToSign=null, signature=null, awsAccessKeyId=null, omServiceId=omServiceIdDefault) can't be found in cache
2021-06-06 02:20:18,913 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:20:18,918 [IPC Server listener on 1202] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 1202
2021-06-06 02:20:18,918 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:20:18,918 [Listener at localhost/1202] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(391)) - om1: close
2021-06-06 02:20:18,919 [Listener at localhost/1202] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(406)) - om1@group-C5BA1605619E: shutdown
2021-06-06 02:20:18,919 [Listener at localhost/1202] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5BA1605619E,id=om1
2021-06-06 02:20:18,919 [Listener at localhost/1202] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(91)) - om1: shutdown om1@group-C5BA1605619E-LeaderStateImpl
2021-06-06 02:20:18,919 [Listener at localhost/1202] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(249)) - om1@group-C5BA1605619E-PendingRequests: sendNotLeaderResponses
2021-06-06 02:20:18,919 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_appender.om1@group-C5BA1605619E
2021-06-06 02:20:18,920 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:20:18,920 [Listener at localhost/1202] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(149)) - om1@group-C5BA1605619E-StateMachineUpdater: set stopIndex = 6
2021-06-06 02:20:18,920 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  ratis.OzoneManagerStateMachine (OzoneManagerStateMachine.java:takeSnapshot(347)) - Current Snapshot Index (t:1, i:6)
2021-06-06 02:20:18,920 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:takeSnapshot(281)) - om1@group-C5BA1605619E-StateMachineUpdater: Took a snapshot at index 6
2021-06-06 02:20:18,920 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:lambda$new$0(89)) - om1@group-C5BA1605619E-StateMachineUpdater: snapshotIndex: updateIncreasingly -1 -> 6
2021-06-06 02:20:18,920 [om1@group-C5BA1605619E-StateMachineUpdater] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.state_machine.om1@group-C5BA1605619E
2021-06-06 02:20:18,920 [Listener at localhost/1202] INFO  server.RaftServer$Division (ServerState.java:close(405)) - om1@group-C5BA1605619E: closes. applyIndex: 6
2021-06-06 02:20:18,921 [om1@group-C5BA1605619E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(327)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2021-06-06 02:20:18,921 [Listener at localhost/1202] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(237)) - om1@group-C5BA1605619E-SegmentedRaftLogWorker close()
2021-06-06 02:20:18,922 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.log_worker.om1@group-C5BA1605619E
2021-06-06 02:20:18,922 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.leader_election.om1@group-C5BA1605619E
2021-06-06 02:20:18,922 [Listener at localhost/1202] INFO  metrics.RatisMetrics (RatisMetrics.java:unregister(43)) - Unregistering Metrics Registry : ratis.server.om1@group-C5BA1605619E
2021-06-06 02:20:18,922 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(262)) - om1: shutdown server with port 9872 now
2021-06-06 02:20:18,922 [Listener at localhost/1202] INFO  server.GrpcService (GrpcService.java:closeImpl(271)) - om1: shutdown server with port 9872 successfully
2021-06-06 02:20:18,923 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$553/413600243@4c4c5160] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-om1: Stopped
2021-06-06 02:20:18,923 [Listener at localhost/1202] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:stop(426)) - Stopping OMDoubleBuffer flush thread
2021-06-06 02:20:18,923 [OMDoubleBufferFlushThread] INFO  ratis.OzoneManagerDoubleBuffer (OzoneManagerDoubleBuffer.java:flushTransactions(353)) - OMDoubleBuffer flush thread OMDoubleBufferFlushThread is interrupted and will exit. OMDoubleBufferFlushThread
2021-06-06 02:20:18,923 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:20:18,923 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:20:18,923 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(118)) - Gracefully shutting down executor service. Waiting max 5 SECONDS
2021-06-06 02:20:18,924 [Listener at localhost/1202] INFO  ratis.OzoneManagerStateMachine (HadoopExecutors.java:shutdown(129)) - Succesfully shutdown executor service
2021-06-06 02:20:18,924 [Listener at localhost/1202] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service KeyDeletingService
2021-06-06 02:20:18,924 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:20:18,924 [Thread[Thread-1340,5,FailOnTimeoutGroup]] INFO  security.OzoneDelegationTokenSecretManager (OzoneDelegationTokenSecretManager.java:run(640)) - ExpiredTokenRemover was interrupted.
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.hadoop.ozone.security.OzoneDelegationTokenSecretManager$ExpiredTokenRemover.run(OzoneDelegationTokenSecretManager.java:636)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:18,925 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@62370d9a{ozoneManager,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/ozoneManager}
2021-06-06 02:20:18,925 [Listener at localhost/1202] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@7a0bdfa8{HTTP/1.1, (http/1.1)}{0.0.0.0:9874}
2021-06-06 02:20:18,925 [Listener at localhost/1202] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:20:18,926 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@6e9b1c7c{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:20:18,926 [Listener at localhost/1202] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@c1c8641{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:20:18,928 [Listener at localhost/1202] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:20:19,929 [Listener at localhost/1202] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:20:19,929 [Listener at localhost/1202] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 1202
2021-06-06 02:20:19,929 [Listener at localhost/1202] INFO  om.OzoneManager (OzoneManager.java:stopSecretManager(752)) - Stopping OM delegation token secret manager.
2021-06-06 02:20:19,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:20:19,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:20:19,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:20:19,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:20:19,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:20:19,946 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:20:19,947 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:20:19,948 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:20:20,206 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:20,207 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:20:20,207 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:20:20,207 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:20:20,207 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:20:20,383 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:20:20,558 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:20,558 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:20,558 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:20,558 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:20,562 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:20,563 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:20,563 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:20,563 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:20,563 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:a16902a6-e4f7-4bc2-a65c-1f412d11bdef,clusterId:7e627fac-e22e-450b-a0c5-86e6dab4b413,subject:scm-sub@fv-az54-346
2021-06-06 02:20:20,572 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:20:20,574 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:20,574 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:20,575 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:20,575 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:20,576 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:20,578 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:20,579 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/12925058089881.crt.
2021-06-06 02:20:20,580 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:20,580 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:20,580 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:20,581 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:20,582 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:20,583 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:20,585 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/12925058089881.crt.
2021-06-06 02:20:20,585 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:20,586 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:20,586 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:20,586 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:20,588 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:20,589 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:20,591 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/12925058089881.crt.
2021-06-06 02:20:20,591 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:20,591 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:20,591 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:20,591 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:20,593 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:20,594 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:20,596 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit4465408491759034632/junit3289510830425809378/scm-meta/scm/sub-ca/certs/12925058089881.crt.
2021-06-06 02:20:20,596 [Time-limited test] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:20:21,596 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:20:21,612 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9860
2021-06-06 02:20:21,613 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9861
2021-06-06 02:20:21,613 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9863
2021-06-06 02:20:21,613 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 9961
2021-06-06 02:20:21,613 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1200
2021-06-06 02:20:21,613 [Time-limited test] INFO  net.ServerSocketUtil (ServerSocketUtil.java:getPort(53)) - Using port 1201
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(225)) - Configuration:
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(226)) - ---------------------------------------------------------------
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   debug: false
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   transport: TCP
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.ticket.lifetime: 86400000
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.name: EXAMPLE
2021-06-06 02:20:21,613 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.port: 0
2021-06-06 02:20:21,614 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   org.domain: COM
2021-06-06 02:20:21,614 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   max.renewable.lifetime: 604800000
2021-06-06 02:20:21,614 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   instance: DefaultKrbServer
2021-06-06 02:20:21,614 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(228)) -   kdc.bind.address: localhost
2021-06-06 02:20:21,614 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:<init>(230)) - ---------------------------------------------------------------
2021-06-06 02:20:21,615 [Time-limited test] INFO  minikdc.MiniKdc (MiniKdc.java:start(285)) - MiniKdc started.
2021-06-06 02:20:21,810 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:21,811 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(93)) - Initializing secure StorageContainerManager.
2021-06-06 02:20:21,811 [Time-limited test] ERROR client.SCMCertificateClient (DefaultCertificateClient.java:getCertificate(251)) - Default certificate serial id is not set. Can't locate the default certificate for this client.
2021-06-06 02:20:21,811 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:init(704)) - Certificate client init case: 0
2021-06-06 02:20:21,811 [Time-limited test] INFO  client.SCMCertificateClient (SCMCertificateClient.java:handleCase(64)) - Creating keypair for client as keypair and certificate not found.
2021-06-06 02:20:21,927 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(98)) - Init response: GETCERT
2021-06-06 02:20:22,178 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:22,179 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:22,179 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:22,179 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:22,182 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:fe80:0:0:0:222:48ff:fe20:8d9f%eth0 not returned.
2021-06-06 02:20:22,182 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(116)) - Adding ip:10.1.0.54,host:fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net
2021-06-06 02:20:22,183 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:0:0:0:0:0:0:0:1%lo not returned.
2021-06-06 02:20:22,183 [Time-limited test] INFO  ozone.OzoneSecurityUtil (OzoneSecurityUtil.java:getValidInetsForCurrentHost(119)) - ip:127.0.0.1 not returned.
2021-06-06 02:20:22,183 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:generateCSR(277)) - Creating csr for SCM->hostName:fv-az54-346,scmId:5f883333-b2f6-439f-aad1-49eb5ea566ca,clusterId:f831b0e9-0134-44a9-b335-5130c825efd2,subject:scm-sub@fv-az54-346
2021-06-06 02:20:22,191 [Time-limited test] INFO  ha.HASecurityUtils (HASecurityUtils.java:initializeSecurity(111)) - Successfully stored SCM signed certificate.
2021-06-06 02:20:22,193 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(157)) - ServiceID for StorageContainerManager is null
2021-06-06 02:20:22,193 [Time-limited test] INFO  ha.SCMHANodeDetails (SCMHANodeDetails.java:loadSCMHAConfig(162)) - ozone.scm.default.service.id is not defined, falling back to ozone.scm.service.ids to find serviceID for StorageContainerManager if it is HA enabled cluster
2021-06-06 02:20:22,193 [Time-limited test] WARN  server.ServerUtils (ServerUtils.java:getScmDbDir(148)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:22,194 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(127)) - Loading certificate from location:/tmp/junit7833902468915089192/junit3415412723276126714/scm-meta/scm/sub-ca/certs.
2021-06-06 02:20:22,195 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7833902468915089192/junit3415412723276126714/scm-meta/scm/sub-ca/certs/CA-1.crt.
2021-06-06 02:20:22,197 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7833902468915089192/junit3415412723276126714/scm-meta/scm/sub-ca/certs/12926677800608.crt.
2021-06-06 02:20:22,198 [Time-limited test] INFO  client.SCMCertificateClient (DefaultCertificateClient.java:loadAllCertificates(168)) - Added certificate from file:/tmp/junit7833902468915089192/junit3415412723276126714/scm-meta/scm/sub-ca/certs/certificate.crt.
2021-06-06 02:20:22,208 [pool-241-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:20:22,208 [pool-241-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:20:22,211 [pool-241-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622946022211,scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:20:22,212 [Time-limited test] INFO  security.UserGroupInformation (UserGroupInformation.java:loginUserFromKeytab(1017)) - Login successful for user scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM using keytab file /home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-dir/TestSecureOzoneCluster/scm.keytab
2021-06-06 02:20:22,212 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:loginAsSCMUserIfSecurityEnabled(774)) - SCM login successful.
2021-06-06 02:20:22,212 [Time-limited test] WARN  utils.HAUtils (HAUtils.java:getMetaDir(342)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:22,213 [Time-limited test] WARN  db.DBStoreBuilder (DBStoreBuilder.java:applyDBDefinition(145)) - ozone.scm.db.dirs is not configured. We recommend adding this setting. Falling back to ozone.metadata.dirs instead.
2021-06-06 02:20:22,277 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchemaFromFile(129)) - Loading schema from [jar:file:/home/runner/.m2/repository/org/apache/ozone/hdds-common/1.2.0-SNAPSHOT/hdds-common-1.2.0-SNAPSHOT.jar!/network-topology-default.xml]
2021-06-06 02:20:22,277 [Time-limited test] INFO  net.NodeSchemaLoader (NodeSchemaLoader.java:loadSchema(176)) - Loading network topology layer schema file
2021-06-06 02:20:22,279 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(327)) - upgrade localId to 107544261427200000
2021-06-06 02:20:22,279 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(337)) - upgrade delTxnId to 0
2021-06-06 02:20:22,279 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:upgradeToSequenceId(351)) - upgrade containerId to 0
2021-06-06 02:20:22,279 [Time-limited test] INFO  ha.SequenceIdGenerator (SequenceIdGenerator.java:<init>(217)) - Init the HA SequenceIdGenerator.
2021-06-06 02:20:22,280 [Time-limited test] INFO  node.SCMNodeManager (SCMNodeManager.java:<init>(125)) - Entering startup safe mode.
2021-06-06 02:20:22,281 [Time-limited test] INFO  algorithms.ContainerPlacementPolicyFactory (ContainerPlacementPolicyFactory.java:getPolicy(60)) - Create container placement policy of type org.apache.hadoop.hdds.scm.container.placement.algorithms.SCMContainerPlacementRandom
2021-06-06 02:20:22,281 [Time-limited test] INFO  pipeline.PipelineStateManager (PipelineStateManagerV2Impl.java:initialize(78)) - No pipeline exists in current db
2021-06-06 02:20:22,281 [Time-limited test] INFO  algorithms.LeaderChoosePolicyFactory (LeaderChoosePolicyFactory.java:getPolicy(57)) - Create leader choose policy of type org.apache.hadoop.hdds.scm.pipeline.leader.choose.algorithms.MinLeaderCountChoosePolicy
2021-06-06 02:20:22,282 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service BackgroundPipelineCreator.
2021-06-06 02:20:22,282 [Time-limited test] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:start(130)) - Starting RatisPipelineUtilsThread.
2021-06-06 02:20:22,282 [Time-limited test] INFO  algorithms.PipelineChoosePolicyFactory (PipelineChoosePolicyFactory.java:createPipelineChoosePolicyFromClass(73)) - Create pipeline choose policy of type org.apache.hadoop.hdds.scm.pipeline.choose.algorithms.RandomPipelineChoosePolicy
2021-06-06 02:20:22,283 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service SCMBlockDeletingService.
2021-06-06 02:20:22,284 [Time-limited test] INFO  ha.SCMServiceManager (SCMServiceManager.java:register(43)) - Registering service ReplicationManager.
2021-06-06 02:20:22,284 [Time-limited test] INFO  container.ReplicationManager (ReplicationManager.java:start(227)) - Starting Replication Monitor Thread.
2021-06-06 02:20:22,285 [Time-limited test] INFO  safemode.HealthyPipelineSafeModeRule (HealthyPipelineSafeModeRule.java:<init>(90)) - Total pipeline count is 0, healthy pipeline threshold count is 0
2021-06-06 02:20:22,286 [Time-limited test] INFO  safemode.OneReplicaPipelineSafeModeRule (OneReplicaPipelineSafeModeRule.java:<init>(86)) - Total pipeline count is 0, pipeline's with at least one datanode reported threshold count is 0
2021-06-06 02:20:22,286 [ReplicationMonitor] INFO  container.ReplicationManager (ReplicationManager.java:run(291)) - Replication Monitor Thread took 0 milliseconds for processing 0 containers.
2021-06-06 02:20:22,288 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:20:22,289 [Time-limited test] INFO  authority.DefaultCAServer (DefaultCAServer.java:lambda$processVerificationStatus$0(450)) - CertificateServer validation is successful
2021-06-06 02:20:22,290 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(686)) - Storing sub-ca certificate serialId 12926677800608 on primary SCM
2021-06-06 02:20:22,290 [Time-limited test] INFO  server.StorageContainerManager (StorageContainerManager.java:persistPrimarySCMCerts(694)) - Storing root certificate serialId 1
2021-06-06 02:20:22,291 [Time-limited test] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 200, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:22,292 [Socket Reader #1 for port 9961] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9961
2021-06-06 02:20:22,295 [Listener at 0.0.0.0/9961] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:22,296 [Socket Reader #1 for port 9861] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9861
2021-06-06 02:20:22,298 [Listener at 0.0.0.0/9861] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:22,299 [Socket Reader #1 for port 9863] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9863
2021-06-06 02:20:22,300 [Listener at 0.0.0.0/9863] INFO  ipc.CallQueueManager (CallQueueManager.java:<init>(85)) - Using callQueue: class java.util.concurrent.LinkedBlockingQueue, queueCapacity: 10000, scheduler: class org.apache.hadoop.ipc.DefaultRpcScheduler, ipcBackoff: false.
2021-06-06 02:20:22,301 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:run(1255)) - Starting Socket Reader #1 for port 9860
2021-06-06 02:20:22,306 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:<init>(420)) - 
Container Balancer status:
Key                            Value
Running                        true
Container Balancer Configuration values:
Key                            Value
Threshold                      0.1
Max Datanodes to Balance       5
Max Size to Move               10737418240B

2021-06-06 02:20:22,306 [Listener at 0.0.0.0/9860] WARN  events.EventQueue (EventQueue.java:fireEvent(185)) - No event handler registered for event TypedEvent{payloadType=SafeModeStatus, name='Safe mode status'}
2021-06-06 02:20:22,306 [Listener at 0.0.0.0/9860] INFO  ha.SCMContext (SCMContext.java:updateSafeModeStatus(148)) - Update SafeModeStatus from SafeModeStatus{safeModeStatus=true, preCheckPassed=false} to SafeModeStatus{safeModeStatus=true, preCheckPassed=false}.
2021-06-06 02:20:22,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1208)) - StorageContainerLocationProtocol RPC server is listening at /0.0.0.0:9860
2021-06-06 02:20:22,307 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:init(158)) - StorageContainerManager metrics system started (again)
2021-06-06 02:20:22,308 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:start(157)) - RPC server for Client  is listening at /0.0.0.0:9860
2021-06-06 02:20:22,308 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:20:22,309 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9860: starting
2021-06-06 02:20:22,325 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1223)) - ScmBlockLocationProtocol RPC server is listening at /0.0.0.0:9863
2021-06-06 02:20:22,325 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:start(149)) - RPC server for Block Protocol is listening at /0.0.0.0:9863
2021-06-06 02:20:22,328 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:20:22,332 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9863: starting
2021-06-06 02:20:22,342 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:start(1229)) - ScmDatanodeProtocl RPC server is listening at /0.0.0.0:9861
2021-06-06 02:20:22,342 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:start(174)) - RPC server for DataNodes is listening at /0.0.0.0:9861
2021-06-06 02:20:22,344 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:20:22,348 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9861: starting
2021-06-06 02:20:22,364 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:start(392)) - Starting RPC server for SCMSecurityProtocolServer. is listening at /0.0.0.0:9961
2021-06-06 02:20:22,364 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1497)) - IPC Server Responder: starting
2021-06-06 02:20:22,364 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1334)) - IPC Server listener on 9961: starting
2021-06-06 02:20:22,369 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:start(58)) - SCMUpdateService starting
2021-06-06 02:20:22,373 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:newHttpServer2BuilderForOzone(209)) - Starting Web-server for scm at: http://0.0.0.0:9876
2021-06-06 02:20:22,373 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:<init>(107)) - Hadoop Security Enabled: true Ozone Security Enabled: true Ozone HTTP Security Enabled: false 
2021-06-06 02:20:22,374 [Listener at 0.0.0.0/9860] INFO  server.AuthenticationFilter (AuthenticationFilter.java:constructSecretProvider(240)) - Unable to initialize FileSignerSecretProvider, falling back to use random secrets.
2021-06-06 02:20:22,374 [org.apache.hadoop.util.JvmPauseMonitor$Monitor@6b124830] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(188)) - Starting JVM pause monitor
2021-06-06 02:20:22,375 [Listener at 0.0.0.0/9860] WARN  http.HttpRequestLog (HttpRequestLog.java:getRequestLog(103)) - Jetty request log can only be enabled using Log4j
2021-06-06 02:20:22,375 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addGlobalFilter(1020)) - Added global filter 'safety' (class=org.apache.hadoop.hdds.server.http.HttpServer2$QuotingInputFilter)
2021-06-06 02:20:22,376 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(996)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context scm
2021-06-06 02:20:22,376 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context logs
2021-06-06 02:20:22,376 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:addFilter(1004)) - Added filter static_user_filter (class=org.apache.hadoop.http.lib.StaticUserWebFilter$StaticUserFilter) to context static
2021-06-06 02:20:22,377 [Listener at 0.0.0.0/9860] INFO  http.HttpServer2 (HttpServer2.java:bindListener(1238)) - Jetty bound to port 9876
2021-06-06 02:20:22,377 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(375)) - jetty-9.4.35.v20201120; built: 2020-11-20T21:17:03.964Z; git: bdc54f03a5e0a7e280fab27f55c3c75ee8da89fb; jvm 1.8.0_292-b10
2021-06-06 02:20:22,378 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(334)) - DefaultSessionIdManager workerName=node0
2021-06-06 02:20:22,378 [Listener at 0.0.0.0/9860] INFO  server.session (DefaultSessionIdManager.java:doStart(339)) - No SessionScavenger set, using defaults
2021-06-06 02:20:22,378 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:startScavenging(132)) - node0 Scavenging every 660000ms
2021-06-06 02:20:22,379 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@7fbd319e{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,AVAILABLE}
2021-06-06 02:20:22,379 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.s.ServletContextHandler@320a27ee{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,AVAILABLE}
2021-06-06 02:20:22,382 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStart(916)) - Started o.e.j.w.WebAppContext@2ca251d5{scm,/,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm/,AVAILABLE}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:20:22,384 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStart(331)) - Started ServerConnector@163fe36c{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:20:22,384 [Listener at 0.0.0.0/9860] INFO  server.Server (Server.java:doStart(415)) - Started @58397ms
2021-06-06 02:20:22,384 [Listener at 0.0.0.0/9860] WARN  impl.MetricsSystemImpl (MetricsSystemImpl.java:register(279)) - Sink prometheus already exists!
2021-06-06 02:20:22,384 [Listener at 0.0.0.0/9860] INFO  http.BaseHttpServer (BaseHttpServer.java:updateConnectorAddress(329)) - HTTP server of scm listening at http://0.0.0.0:9876
2021-06-06 02:20:22,386 [pool-241-thread-1] INFO  request.KdcRequest (KdcRequest.java:preauth(651)) - The preauth data is empty.
2021-06-06 02:20:22,386 [pool-241-thread-1] INFO  server.KdcHandler (KdcHandler.java:handleRecoverableException(177)) - KRB error occurred while processing request:Additional pre-authentication required
2021-06-06 02:20:22,389 [pool-241-thread-1] INFO  request.AsRequest (AsRequest.java:issueTicket(112)) - AS_REQ ISSUE: authtime 1622946022389,test@EXAMPLE.COM for krbtgt/EXAMPLE.COM@EXAMPLE.COM
2021-06-06 02:20:22,408 [pool-241-thread-1] INFO  request.TgsRequest (TgsRequest.java:issueTicket(115)) - TGS_REQ ISSUE: authtime 1622946022407,test for scm/fv-az54-346.gmada3d5h3zutaf4vio4yveaag.bx.internal.cloudapp.net@EXAMPLE.COM
2021-06-06 02:20:22,426 [Socket Reader #1 for port 9860] INFO  ipc.Server (Server.java:saslProcess(2051)) - Auth successful for test@EXAMPLE.COM (auth:KERBEROS) from 10.1.0.54:48396
2021-06-06 02:20:22,549 [IPC Server handler 0 on default port 9860] INFO  ipc.Server (Server.java:logException(3018)) - IPC Server handler 0 on default port 9860, call Call#19 Retry#0 org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocol.submitRequest from 10.1.0.54:48396
org.apache.hadoop.security.AccessControlException: Access denied for user test@EXAMPLE.COM. Superuser privilege is required.
	at org.apache.hadoop.hdds.scm.server.StorageContainerManager.checkAdminAccess(StorageContainerManager.java:1536)
	at org.apache.hadoop.hdds.scm.server.SCMClientProtocolServer.forceExitSafeMode(SCMClientProtocolServer.java:640)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.forceExitSafeMode(StorageContainerLocationProtocolServerSideTranslatorPB.java:588)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.processRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:285)
	at org.apache.hadoop.hdds.server.OzoneProtocolMessageDispatcher.processRequest(OzoneProtocolMessageDispatcher.java:87)
	at org.apache.hadoop.hdds.scm.protocol.StorageContainerLocationProtocolServerSideTranslatorPB.submitRequest(StorageContainerLocationProtocolServerSideTranslatorPB.java:155)
	at org.apache.hadoop.hdds.protocol.proto.StorageContainerLocationProtocolProtos$StorageContainerLocationProtocolService$2.callBlockingMethod(StorageContainerLocationProtocolProtos.java:48216)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Server$ProtoBufRpcInvoker.call(ProtobufRpcEngine.java:528)
	at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:1086)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:1029)
	at org.apache.hadoop.ipc.Server$RpcCall.run(Server.java:957)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Server$Handler.run(Server.java:2957)
2021-06-06 02:20:22,553 [Listener at 0.0.0.0/9860] WARN  ipc.Client (Client.java:run(772)) - Exception encountered while connecting to the server 
org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[KERBEROS]
	at org.apache.hadoop.security.SaslRpcClient.selectSaslClient(SaslRpcClient.java:173)
	at org.apache.hadoop.security.SaslRpcClient.saslConnect(SaslRpcClient.java:390)
	at org.apache.hadoop.ipc.Client$Connection.setupSaslConnection(Client.java:622)
	at org.apache.hadoop.ipc.Client$Connection.access$2300(Client.java:413)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:822)
	at org.apache.hadoop.ipc.Client$Connection$2.run(Client.java:818)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:422)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1762)
	at org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:818)
	at org.apache.hadoop.ipc.Client$Connection.access$3800(Client.java:413)
	at org.apache.hadoop.ipc.Client.getConnection(Client.java:1636)
	at org.apache.hadoop.ipc.Client.call(Client.java:1452)
	at org.apache.hadoop.ipc.Client.call(Client.java:1405)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:233)
	at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:118)
	at com.sun.proxy.$Proxy41.submitRequest(Unknown Source)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.submitRpcRequest(StorageContainerLocationProtocolClientSideTranslatorPB.java:160)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.submitRequest(StorageContainerLocationProtocolClientSideTranslatorPB.java:144)
	at org.apache.hadoop.hdds.scm.protocolPB.StorageContainerLocationProtocolClientSideTranslatorPB.forceExitSafeMode(StorageContainerLocationProtocolClientSideTranslatorPB.java:674)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:491)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:377)
	at org.apache.ozone.test.LambdaTestUtils.intercept(LambdaTestUtils.java:446)
	at org.apache.hadoop.ozone.TestSecureOzoneCluster.testAdminAccessControlException(TestSecureOzoneCluster.java:360)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:54)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:288)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:282)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
2021-06-06 02:20:22,555 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:20:22,555 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(268)) - Stopping Replication Monitor Thread.
2021-06-06 02:20:22,555 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:20:22,556 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:20:22,556 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:20:22,556 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:20:22,556 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:20:22,561 [IPC Server listener on 9861] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9861
2021-06-06 02:20:22,568 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:20:25,280 [SCM Heartbeat Processing Thread - 0] WARN  node.NodeStateManager (NodeStateManager.java:scheduleNextHealthCheck(688)) - Current Thread is interrupted, shutting down HB processing thread for Node Manager.
2021-06-06 02:20:25,280 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:20:25,280 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:20:25,280 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:20:25,284 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:20:25,284 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:20:25,284 [IPC Server listener on 9863] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9863
2021-06-06 02:20:25,284 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:20:25,285 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:20:25,291 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:20:25,292 [IPC Server listener on 9860] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9860
2021-06-06 02:20:25,292 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:20:25,293 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.w.WebAppContext@2ca251d5{scm,/,null,STOPPED}{file:/home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/scm}
2021-06-06 02:20:25,295 [Listener at 0.0.0.0/9860] INFO  server.AbstractConnector (AbstractConnector.java:doStop(381)) - Stopped ServerConnector@163fe36c{HTTP/1.1, (http/1.1)}{0.0.0.0:9876}
2021-06-06 02:20:25,295 [Listener at 0.0.0.0/9860] INFO  server.session (HouseKeeper.java:stopScavenging(149)) - node0 Stopped scavenging
2021-06-06 02:20:25,295 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@320a27ee{static,/static,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/test-classes/webapps/static,STOPPED}
2021-06-06 02:20:25,295 [Listener at 0.0.0.0/9860] INFO  handler.ContextHandler (ContextHandler.java:doStop(1154)) - Stopped o.e.j.s.ServletContextHandler@7fbd319e{logs,/logs,file:///home/runner/work/ozone/ozone/mnt/ozone/hadoop-ozone/integration-test/target/log,STOPPED}
2021-06-06 02:20:25,296 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:20:25,296 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:20:25,297 [IPC Server Responder] INFO  ipc.Server (Server.java:run(1502)) - Stopping IPC Server Responder
2021-06-06 02:20:25,297 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:20:25,297 [IPC Server listener on 9961] INFO  ipc.Server (Server.java:run(1366)) - Stopping IPC Server listener on 9961
2021-06-06 02:20:25,298 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(84)) - SCMUpdateService stopped!
2021-06-06 02:20:25,298 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:20:25,298 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:25,298 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:25,299 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:20:25,299 [Listener at 0.0.0.0/9860] WARN  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(154)) - RatisPipelineUtilsThread is not running, just ignore.
2021-06-06 02:20:25,301 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(210)) - Stopping StorageContainerManager metrics system...
2021-06-06 02:20:25,304 [prometheus] INFO  impl.MetricsSinkAdapter (MetricsSinkAdapter.java:publishMetricsFromQueue(141)) - prometheus thread interrupted.
2021-06-06 02:20:25,306 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(216)) - StorageContainerManager metrics system stopped.
2021-06-06 02:20:25,306 [Listener at 0.0.0.0/9860] INFO  impl.DefaultInternalKdcServerImpl (DefaultInternalKdcServerImpl.java:doStop(102)) - Default Internal kdc server stopped.
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  minikdc.MiniKdc (MiniKdc.java:stop(359)) - MiniKdc stopped.
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1296)) - Stopping Replication Manager Service.
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  container.ReplicationManager (ReplicationManager.java:stop(275)) - Replication Monitor Thread is not running.
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1303)) - Stopping the Datanode Admin Monitor.
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1310)) - Stopping Lease Manager of the command watchers
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] ERROR server.StorageContainerManager (StorageContainerManager.java:stop(1313)) - Lease Manager of the command watchers stop failed
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1317)) - Stopping datanode service RPC server
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.SCMDatanodeProtocolServer (SCMDatanodeProtocolServer.java:stop(374)) - Stopping the RPC server for DataNodes
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9861
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1325)) - Stopping block service RPC server
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.SCMBlockProtocolServer (SCMBlockProtocolServer.java:stop(158)) - Stopping the RPC server for Block Protocol
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9863
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1332)) - Stopping the StorageContainerLocationProtocol RPC server
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.SCMClientProtocolServer (SCMClientProtocolServer.java:stop(166)) - Stopping the RPC server for Client Protocol
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9860
2021-06-06 02:20:26,307 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1339)) - Stopping Storage Container Manager HTTP server.
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  server.SCMSecurityProtocolServer (SCMSecurityProtocolServer.java:stop(400)) - Stopping the SCMSecurityProtocolServer.
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  ipc.Server (Server.java:stop(3403)) - Stopping server on 9961
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  server.SCMUpdateServiceGrpcServer (SCMUpdateServiceGrpcServer.java:stop(73)) - SCMUpdateService stopping
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1350)) - Stopping Block Manager Service.
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  utils.BackgroundService (BackgroundService.java:shutdown(132)) - Shutting down service SCMBlockDeletingService
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  server.StorageContainerManager (StorageContainerManager.java:stop(1377)) - Stopping SCM Event Queue.
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  pipeline.BackgroundPipelineCreator (BackgroundPipelineCreatorV2.java:stop(158)) - Stopping RatisPipelineUtilsThread.
2021-06-06 02:20:26,308 [Listener at 0.0.0.0/9860] INFO  impl.MetricsSystemImpl (MetricsSystemImpl.java:stop(205)) - StorageContainerManager metrics system stopped (again)
