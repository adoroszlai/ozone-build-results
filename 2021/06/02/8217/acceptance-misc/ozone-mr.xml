<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 4.0.3 (Python 3.6.9 on linux)" generated="20210602 18:15:17.661" rpa="false" schemaversion="2">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite id="s1-s1-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:12.630" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:14.677" level="INFO">${rc} = 255</msg>
<msg timestamp="20210602 18:03:14.677" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:03:12.628" endtime="20210602 18:03:14.677"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:14.678" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:03:14.677" endtime="20210602 18:03:14.678"/>
</kw>
<msg timestamp="20210602 18:03:14.678" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:03:12.627" endtime="20210602 18:03:14.678"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:14.682" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:16.790" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:16.790" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:14.681" endtime="20210602 18:03:16.790"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:16.791" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:16.791" endtime="20210602 18:03:16.792"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:16.792" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:16.792" endtime="20210602 18:03:16.792"/>
</kw>
<status status="PASS" starttime="20210602 18:03:14.680" endtime="20210602 18:03:16.793"/>
</kw>
<msg timestamp="20210602 18:03:16.793" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:14.680" endtime="20210602 18:03:16.793"/>
</kw>
<msg timestamp="20210602 18:03:16.793" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210602 18:03:14.679" endtime="20210602 18:03:16.793"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:03:16.793" endtime="20210602 18:03:16.794"/>
</kw>
<status status="PASS" starttime="20210602 18:03:14.679" endtime="20210602 18:03:16.794"/>
</kw>
<status status="PASS" starttime="20210602 18:03:14.679" endtime="20210602 18:03:16.794"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:16.799" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:18.829" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:18.829" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:16.796" endtime="20210602 18:03:18.829"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:18.830" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:18.829" endtime="20210602 18:03:18.830"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:18.831" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:18.830" endtime="20210602 18:03:18.831"/>
</kw>
<status status="PASS" starttime="20210602 18:03:16.796" endtime="20210602 18:03:18.831"/>
</kw>
<msg timestamp="20210602 18:03:18.831" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:16.796" endtime="20210602 18:03:18.831"/>
</kw>
<status status="PASS" starttime="20210602 18:03:16.795" endtime="20210602 18:03:18.831"/>
</kw>
<status status="PASS" starttime="20210602 18:03:16.795" endtime="20210602 18:03:18.831"/>
</kw>
<status status="PASS" starttime="20210602 18:03:16.794" endtime="20210602 18:03:18.831"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210602 18:03:18.832" endtime="20210602 18:03:18.832"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:18.835" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:20.904" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:20.904" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:03...</msg>
<status status="PASS" starttime="20210602 18:03:18.833" endtime="20210602 18:03:20.905"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:20.906" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:03:18.806Z",
  "modificationTime" : "2021-06-02T18:03:18.806Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210602 18:03:20.905" endtime="20210602 18:03:20.906"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:20.906" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:20.906" endtime="20210602 18:03:20.906"/>
</kw>
<status status="PASS" starttime="20210602 18:03:18.833" endtime="20210602 18:03:20.907"/>
</kw>
<msg timestamp="20210602 18:03:20.907" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:18.833" endtime="20210602 18:03:20.907"/>
</kw>
<msg timestamp="20210602 18:03:20.907" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:03...</msg>
<status status="PASS" starttime="20210602 18:03:18.832" endtime="20210602 18:03:20.907"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:03:20.907" endtime="20210602 18:03:20.908"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:03:20.912" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:03:20.911" endtime="20210602 18:03:20.912"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:03:20.912" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:03:20.912" endtime="20210602 18:03:20.912"/>
</kw>
<status status="PASS" starttime="20210602 18:03:20.911" endtime="20210602 18:03:20.912"/>
</kw>
<msg timestamp="20210602 18:03:20.912" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:03:20.910" endtime="20210602 18:03:20.913"/>
</kw>
<status status="PASS" starttime="20210602 18:03:20.909" endtime="20210602 18:03:20.913"/>
</kw>
<msg timestamp="20210602 18:03:20.913" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210602 18:03:20.908" endtime="20210602 18:03:20.913"/>
</kw>
<msg timestamp="20210602 18:03:20.913" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210602 18:03:20.908" endtime="20210602 18:03:20.913"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:20.916" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:23.130" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:23.130" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:20.914" endtime="20210602 18:03:23.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:23.132" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:23.131" endtime="20210602 18:03:23.132"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:23.132" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:23.132" endtime="20210602 18:03:23.132"/>
</kw>
<status status="PASS" starttime="20210602 18:03:20.914" endtime="20210602 18:03:23.133"/>
</kw>
<msg timestamp="20210602 18:03:23.133" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:20.914" endtime="20210602 18:03:23.133"/>
</kw>
<status status="PASS" starttime="20210602 18:03:20.913" endtime="20210602 18:03:23.133"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:23.136" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:27.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:27.685" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:23.135" endtime="20210602 18:03:27.685"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:27.686" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:27.685" endtime="20210602 18:03:27.686"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:27.687" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:27.686" endtime="20210602 18:03:27.687"/>
</kw>
<status status="PASS" starttime="20210602 18:03:23.134" endtime="20210602 18:03:27.687"/>
</kw>
<msg timestamp="20210602 18:03:27.687" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:23.134" endtime="20210602 18:03:27.688"/>
</kw>
<status status="PASS" starttime="20210602 18:03:23.133" endtime="20210602 18:03:27.688"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:27.692" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:33.830" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:33.830" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:27.689" endtime="20210602 18:03:33.830"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:33.831" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:33.830" endtime="20210602 18:03:33.831"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:33.832" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:33.831" endtime="20210602 18:03:33.832"/>
</kw>
<status status="PASS" starttime="20210602 18:03:27.689" endtime="20210602 18:03:33.832"/>
</kw>
<msg timestamp="20210602 18:03:33.832" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:27.688" endtime="20210602 18:03:33.832"/>
</kw>
<status status="PASS" starttime="20210602 18:03:27.688" endtime="20210602 18:03:33.832"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:33.836" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:37.652" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:37.652" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:33.834" endtime="20210602 18:03:37.652"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:37.653" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:37.652" endtime="20210602 18:03:37.653"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:37.654" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:37.653" endtime="20210602 18:03:37.654"/>
</kw>
<status status="PASS" starttime="20210602 18:03:33.833" endtime="20210602 18:03:37.654"/>
</kw>
<msg timestamp="20210602 18:03:37.654" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:33.833" endtime="20210602 18:03:37.654"/>
</kw>
<status status="PASS" starttime="20210602 18:03:33.832" endtime="20210602 18:03:37.654"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210602 18:03:12.626" endtime="20210602 18:03:37.654"/>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:03:37.660" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:03:37.659" endtime="20210602 18:03:37.660"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:03:37.660" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:03:37.660" endtime="20210602 18:03:37.660"/>
</kw>
<status status="PASS" starttime="20210602 18:03:37.659" endtime="20210602 18:03:37.660"/>
</kw>
<msg timestamp="20210602 18:03:37.661" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:03:37.658" endtime="20210602 18:03:37.661"/>
</kw>
<status status="PASS" starttime="20210602 18:03:37.657" endtime="20210602 18:03:37.661"/>
</kw>
<msg timestamp="20210602 18:03:37.661" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:03:37.656" endtime="20210602 18:03:37.661"/>
</kw>
<msg timestamp="20210602 18:03:37.661" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:03:37.656" endtime="20210602 18:03:37.661"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:37.664" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:39.502" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:39.502" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:37.662" endtime="20210602 18:03:39.502"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:39.503" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:39.502" endtime="20210602 18:03:39.503"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:39.504" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:39.504" endtime="20210602 18:03:39.504"/>
</kw>
<status status="PASS" starttime="20210602 18:03:37.662" endtime="20210602 18:03:39.504"/>
</kw>
<msg timestamp="20210602 18:03:39.504" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:37.662" endtime="20210602 18:03:39.505"/>
</kw>
<status status="PASS" starttime="20210602 18:03:37.661" endtime="20210602 18:03:39.505"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:39.508" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:41.418" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:41.418" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:03:39.506" endtime="20210602 18:03:41.418"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:41.420" level="INFO"/>
<status status="PASS" starttime="20210602 18:03:41.419" endtime="20210602 18:03:41.420"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:41.420" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:41.420" endtime="20210602 18:03:41.420"/>
</kw>
<status status="PASS" starttime="20210602 18:03:39.506" endtime="20210602 18:03:41.421"/>
</kw>
<msg timestamp="20210602 18:03:41.421" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:39.505" endtime="20210602 18:03:41.421"/>
</kw>
<status status="PASS" starttime="20210602 18:03:39.505" endtime="20210602 18:03:41.421"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210602 18:03:37.655" endtime="20210602 18:03:41.421"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210602 18:03:12.578" endtime="20210602 18:03:41.422"/>
</suite>
<suite id="s1-s1-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:05.440" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:05:05.440" endtime="20210602 18:05:05.440"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:05.441" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:05:05.441" endtime="20210602 18:05:05.441"/>
</kw>
<status status="PASS" starttime="20210602 18:05:05.440" endtime="20210602 18:05:05.441"/>
</kw>
<msg timestamp="20210602 18:05:05.441" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:05:05.439" endtime="20210602 18:05:05.441"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:05:05.442" endtime="20210602 18:05:05.442"/>
</kw>
<msg timestamp="20210602 18:05:05.442" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:05:05.441" endtime="20210602 18:05:05.442"/>
</kw>
<status status="PASS" starttime="20210602 18:05:05.439" endtime="20210602 18:05:05.442"/>
</kw>
<msg timestamp="20210602 18:05:05.443" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:05:05.438" endtime="20210602 18:05:05.443"/>
</kw>
<msg timestamp="20210602 18:05:05.443" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:05:05.437" endtime="20210602 18:05:05.443"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:05:05.443" level="INFO">${random} = 50404</msg>
<status status="PASS" starttime="20210602 18:05:05.443" endtime="20210602 18:05:05.443"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:05:05.448" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-50404 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:05:08.298" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:05:08.298" level="INFO">${output} = 2021-06-02 18:05:07 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:07 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 ...</msg>
<status status="PASS" starttime="20210602 18:05:05.444" endtime="20210602 18:05:08.298"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:05:08.299" level="INFO">2021-06-02 18:05:07 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:07 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 18:05:07 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-02 18:05:07 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:05:07 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-BDD300846F82-&gt;d9241d90-0143-4e2a-957b-9fd09a754747
2021-06-02 18:05:07 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210602 18:05:08.298" endtime="20210602 18:05:08.299"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:05:08.299" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:05:08.299" endtime="20210602 18:05:08.299"/>
</kw>
<status status="PASS" starttime="20210602 18:05:05.444" endtime="20210602 18:05:08.300"/>
</kw>
<msg timestamp="20210602 18:05:08.300" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:05:05.444" endtime="20210602 18:05:08.300"/>
</kw>
<msg timestamp="20210602 18:05:08.300" level="INFO">${result} = 2021-06-02 18:05:07 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:07 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 ...</msg>
<status status="PASS" starttime="20210602 18:05:05.443" endtime="20210602 18:05:08.300"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:05:08.303" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:05:09.886" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:05:09.886" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:03 ofs://om/volume1/bucket1/ozone-31237
-rw-...</msg>
<status status="PASS" starttime="20210602 18:05:08.302" endtime="20210602 18:05:09.887"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:05:09.888" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:03 ofs://om/volume1/bucket1/ozone-31237
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:05 ofs://om/volume1/bucket1/ozone-50404
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:04 ofs://om/volume1/bucket1/wordcount-SiOn0OZ7.txt</msg>
<status status="PASS" starttime="20210602 18:05:09.887" endtime="20210602 18:05:09.888"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:05:09.888" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:05:09.888" endtime="20210602 18:05:09.888"/>
</kw>
<status status="PASS" starttime="20210602 18:05:08.301" endtime="20210602 18:05:09.889"/>
</kw>
<msg timestamp="20210602 18:05:09.889" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:05:08.301" endtime="20210602 18:05:09.889"/>
</kw>
<msg timestamp="20210602 18:05:09.889" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:03 ofs://om/volume1/bucket1/ozone-31237
-rw-...</msg>
<status status="PASS" starttime="20210602 18:05:08.300" endtime="20210602 18:05:09.889"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:05:09.889" endtime="20210602 18:05:09.889"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210602 18:05:05.437" endtime="20210602 18:05:09.890"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210602 18:05:05.393" endtime="20210602 18:05:09.891"/>
</suite>
<suite id="s1-s1-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:03:45.508" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:03:45.508" endtime="20210602 18:03:45.508"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:03:45.509" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:03:45.508" endtime="20210602 18:03:45.509"/>
</kw>
<status status="PASS" starttime="20210602 18:03:45.508" endtime="20210602 18:03:45.509"/>
</kw>
<msg timestamp="20210602 18:03:45.509" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:03:45.507" endtime="20210602 18:03:45.509"/>
</kw>
<status status="PASS" starttime="20210602 18:03:45.507" endtime="20210602 18:03:45.509"/>
</kw>
<msg timestamp="20210602 18:03:45.509" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:03:45.506" endtime="20210602 18:03:45.510"/>
</kw>
<msg timestamp="20210602 18:03:45.510" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:03:45.505" endtime="20210602 18:03:45.510"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:03:45.510" level="INFO">${random} = 31237</msg>
<status status="PASS" starttime="20210602 18:03:45.510" endtime="20210602 18:03:45.510"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:45.515" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-31237 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:48.646" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:48.646" level="INFO">${output} = 2021-06-02 18:03:47 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:03:47 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 ...</msg>
<status status="PASS" starttime="20210602 18:03:45.511" endtime="20210602 18:03:48.646"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:48.647" level="INFO">2021-06-02 18:03:47 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:03:47 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 18:03:47 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-02 18:03:47 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:03:47 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-57153C74BCD1-&gt;d9241d90-0143-4e2a-957b-9fd09a754747
2021-06-02 18:03:47 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210602 18:03:48.646" endtime="20210602 18:03:48.647"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:48.647" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:48.647" endtime="20210602 18:03:48.647"/>
</kw>
<status status="PASS" starttime="20210602 18:03:45.511" endtime="20210602 18:03:48.648"/>
</kw>
<msg timestamp="20210602 18:03:48.648" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:45.511" endtime="20210602 18:03:48.648"/>
</kw>
<msg timestamp="20210602 18:03:48.648" level="INFO">${result} = 2021-06-02 18:03:47 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:03:47 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 ...</msg>
<status status="PASS" starttime="20210602 18:03:45.510" endtime="20210602 18:03:48.648"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:48.651" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:50.317" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:50.317" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:03 o3fs://bucket1.volume1.om/ozone-31237
dr...</msg>
<status status="PASS" starttime="20210602 18:03:48.650" endtime="20210602 18:03:50.317"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:50.318" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:03 o3fs://bucket1.volume1.om/ozone-31237
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:03:50.317" endtime="20210602 18:03:50.318"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:50.318" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:50.318" endtime="20210602 18:03:50.319"/>
</kw>
<status status="PASS" starttime="20210602 18:03:48.649" endtime="20210602 18:03:50.319"/>
</kw>
<msg timestamp="20210602 18:03:50.319" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:48.649" endtime="20210602 18:03:50.319"/>
</kw>
<msg timestamp="20210602 18:03:50.319" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:03 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-02 18:03 o3fs://bucket1.volume1.om/ozone-31237
dr...</msg>
<status status="PASS" starttime="20210602 18:03:48.648" endtime="20210602 18:03:50.319"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:03:50.319" endtime="20210602 18:03:50.320"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210602 18:03:45.505" endtime="20210602 18:03:50.320"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210602 18:03:45.459" endtime="20210602 18:03:50.321"/>
</suite>
<suite id="s1-s1-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:05:14.039" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:05:14.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:05:14.044" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:14.036" endtime="20210602 18:05:14.045"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:05:14.045" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:14.045" endtime="20210602 18:05:14.045"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:05:14.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:05:14.046" endtime="20210602 18:05:14.046"/>
</kw>
<status status="PASS" starttime="20210602 18:05:14.035" endtime="20210602 18:05:14.046"/>
</kw>
<msg timestamp="20210602 18:05:14.046" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:05:14.035" endtime="20210602 18:05:14.046"/>
</kw>
<msg timestamp="20210602 18:05:14.047" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:14.035" endtime="20210602 18:05:14.047"/>
</kw>
<msg timestamp="20210602 18:05:14.047" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:14.034" endtime="20210602 18:05:14.047"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:14.050" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:05:14.050" endtime="20210602 18:05:14.050"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:14.051" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:05:14.051" endtime="20210602 18:05:14.051"/>
</kw>
<status status="PASS" starttime="20210602 18:05:14.050" endtime="20210602 18:05:14.051"/>
</kw>
<msg timestamp="20210602 18:05:14.051" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:05:14.049" endtime="20210602 18:05:14.051"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:05:14.052" endtime="20210602 18:05:14.052"/>
</kw>
<msg timestamp="20210602 18:05:14.052" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:05:14.052" endtime="20210602 18:05:14.052"/>
</kw>
<status status="PASS" starttime="20210602 18:05:14.049" endtime="20210602 18:05:14.053"/>
</kw>
<msg timestamp="20210602 18:05:14.053" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:05:14.048" endtime="20210602 18:05:14.053"/>
</kw>
<msg timestamp="20210602 18:05:14.053" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:05:14.047" endtime="20210602 18:05:14.053"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:05:14.056" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:05:47.403" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:05:47.404" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:05:15 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:15 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210602 18:05:14.054" endtime="20210602 18:05:47.404"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:05:47.405" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:05:15 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:15 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 18:05:15 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-02 18:05:15 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:05:15 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C7EBCB6697D9-&gt;d9241d90-0143-4e2a-957b-9fd09a754747
2021-06-02 18:05:15 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-02 18:05:16 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-55361141C177-&gt;15ed040e-73f1-4a50-b2c3-4b6898a0bf0b
2021-06-02 18:05:16 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-02 18:05:16 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:05:16 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:05:17 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-02 18:05:17 INFO  JobSubmitter:198 - number of splits:3
2021-06-02 18:05:17 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622656922868_0003
2021-06-02 18:05:17 INFO  YarnClientImpl:273 - Submitted application application_1622656922868_0003
2021-06-02 18:05:17 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622656922868_0003/
2021-06-02 18:05:17 INFO  Job:1339 - Running job: job_1622656922868_0003
2021-06-02 18:05:24 INFO  Job:1360 - Job job_1622656922868_0003 running in uber mode : false
2021-06-02 18:05:24 INFO  Job:1367 -  map 0% reduce 0%
2021-06-02 18:05:29 INFO  Job:1367 -  map 33% reduce 0%
2021-06-02 18:05:33 INFO  Job:1367 -  map 67% reduce 0%
2021-06-02 18:05:37 INFO  Job:1367 -  map 100% reduce 0%
2021-06-02 18:05:43 INFO  Job:1367 -  map 100% reduce 100%
2021-06-02 18:05:46 INFO  Job:1378 - Job job_1622656922868_0003 completed successfully
2021-06-02 18:05:46 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=633165
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=33140
		Total time spent by all reduces in occupied slots (ms)=22080
		Total time spent by all map tasks (ms)=8285
		Total time spent by all reduce tasks (ms)=5520
		Total vcore-milliseconds taken by all map tasks=8285
		Total vcore-milliseconds taken by all reduce tasks=5520
		Total megabyte-milliseconds taken by all map tasks=33935360
		Total megabyte-milliseconds taken by all reduce tasks=22609920
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=535
		CPU time spent (ms)=6220
		Physical memory (bytes) snapshot=1279868928
		Virtual memory (bytes) snapshot=15807688704
		Total committed heap usage (bytes)=1059586048
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 30.124 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210602 18:05:47.404" endtime="20210602 18:05:47.405"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:05:47.405" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:05:47.405" endtime="20210602 18:05:47.405"/>
</kw>
<status status="PASS" starttime="20210602 18:05:14.054" endtime="20210602 18:05:47.406"/>
</kw>
<msg timestamp="20210602 18:05:47.406" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:05:14.054" endtime="20210602 18:05:47.406"/>
</kw>
<msg timestamp="20210602 18:05:47.406" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:05:15 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:15 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210602 18:05:14.053" endtime="20210602 18:05:47.406"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:05:47.406" endtime="20210602 18:05:47.407"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:05:14.034" endtime="20210602 18:05:47.407"/>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:05:47.412" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:05:47.417" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:05:47.417" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:47.410" endtime="20210602 18:05:47.417"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:05:47.418" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:47.417" endtime="20210602 18:05:47.418"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:05:47.418" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:05:47.418" endtime="20210602 18:05:47.418"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.409" endtime="20210602 18:05:47.419"/>
</kw>
<msg timestamp="20210602 18:05:47.419" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:05:47.409" endtime="20210602 18:05:47.419"/>
</kw>
<msg timestamp="20210602 18:05:47.419" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:47.408" endtime="20210602 18:05:47.419"/>
</kw>
<msg timestamp="20210602 18:05:47.419" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:05:47.408" endtime="20210602 18:05:47.419"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:05:47.420" level="INFO">${random} = tLLMYySs</msg>
<status status="PASS" starttime="20210602 18:05:47.419" endtime="20210602 18:05:47.420"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:47.423" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:05:47.422" endtime="20210602 18:05:47.423"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:47.423" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:05:47.423" endtime="20210602 18:05:47.423"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.422" endtime="20210602 18:05:47.424"/>
</kw>
<msg timestamp="20210602 18:05:47.424" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:05:47.422" endtime="20210602 18:05:47.424"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:05:47.424" endtime="20210602 18:05:47.425"/>
</kw>
<msg timestamp="20210602 18:05:47.425" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:05:47.424" endtime="20210602 18:05:47.425"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.421" endtime="20210602 18:05:47.425"/>
</kw>
<msg timestamp="20210602 18:05:47.425" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:05:47.420" endtime="20210602 18:05:47.425"/>
</kw>
<msg timestamp="20210602 18:05:47.425" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:05:47.420" endtime="20210602 18:05:47.425"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:47.428" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:05:47.428" endtime="20210602 18:05:47.428"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:47.429" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:05:47.429" endtime="20210602 18:05:47.429"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.428" endtime="20210602 18:05:47.429"/>
</kw>
<msg timestamp="20210602 18:05:47.429" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:05:47.427" endtime="20210602 18:05:47.429"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:47.431" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210602 18:05:47.430" endtime="20210602 18:05:47.431"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:47.431" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210602 18:05:47.431" endtime="20210602 18:05:47.431"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.430" endtime="20210602 18:05:47.431"/>
</kw>
<msg timestamp="20210602 18:05:47.432" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210602 18:05:47.429" endtime="20210602 18:05:47.432"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.426" endtime="20210602 18:05:47.432"/>
</kw>
<msg timestamp="20210602 18:05:47.432" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210602 18:05:47.426" endtime="20210602 18:05:47.432"/>
</kw>
<msg timestamp="20210602 18:05:47.432" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210602 18:05:47.425" endtime="20210602 18:05:47.432"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:47.435" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:05:47.435" endtime="20210602 18:05:47.435"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:47.436" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:05:47.435" endtime="20210602 18:05:47.436"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.434" endtime="20210602 18:05:47.436"/>
</kw>
<msg timestamp="20210602 18:05:47.436" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:05:47.434" endtime="20210602 18:05:47.436"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:05:47.437" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210602 18:05:47.437" endtime="20210602 18:05:47.437"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:05:47.438" level="INFO">${result} = /wordcount-tLLMYySs.txt</msg>
<status status="PASS" starttime="20210602 18:05:47.437" endtime="20210602 18:05:47.438"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.436" endtime="20210602 18:05:47.438"/>
</kw>
<msg timestamp="20210602 18:05:47.438" level="INFO">${path_with_leading} = /wordcount-tLLMYySs.txt</msg>
<status status="PASS" starttime="20210602 18:05:47.436" endtime="20210602 18:05:47.438"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.433" endtime="20210602 18:05:47.438"/>
</kw>
<msg timestamp="20210602 18:05:47.438" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-tLLMYySs.txt</msg>
<status status="PASS" starttime="20210602 18:05:47.433" endtime="20210602 18:05:47.438"/>
</kw>
<msg timestamp="20210602 18:05:47.439" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-tLLMYySs.txt</msg>
<status status="PASS" starttime="20210602 18:05:47.432" endtime="20210602 18:05:47.439"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:05:47.442" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-tLLMYySs.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:06:18.396" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:06:18.397" level="INFO">${output} = 2021-06-02 18:05:48 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:05:49 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210602 18:05:47.440" endtime="20210602 18:06:18.397"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:06:18.398" level="INFO">2021-06-02 18:05:48 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:05:49 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:05:49 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:05:49 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 18:05:49 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-02 18:05:49 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:05:49 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C927676B2B20-&gt;15ed040e-73f1-4a50-b2c3-4b6898a0bf0b
2021-06-02 18:05:49 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:05:50 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-02 18:05:50 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-D38CD0D1580F-&gt;d9241d90-0143-4e2a-957b-9fd09a754747
2021-06-02 18:05:50 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:05:50 INFO  JobSubmitter:198 - number of splits:3
2021-06-02 18:05:50 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622656922868_0004
2021-06-02 18:05:50 INFO  YarnClientImpl:273 - Submitted application application_1622656922868_0004
2021-06-02 18:05:50 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622656922868_0004/
2021-06-02 18:05:50 INFO  Job:1339 - Running job: job_1622656922868_0004
2021-06-02 18:05:58 INFO  Job:1360 - Job job_1622656922868_0004 running in uber mode : false
2021-06-02 18:05:58 INFO  Job:1367 -  map 0% reduce 0%
2021-06-02 18:06:04 INFO  Job:1367 -  map 33% reduce 0%
2021-06-02 18:06:09 INFO  Job:1367 -  map 67% reduce 0%
2021-06-02 18:06:13 INFO  Job:1367 -  map 100% reduce 0%
2021-06-02 18:06:16 INFO  Job:1367 -  map 100% reduce 100%
2021-06-02 18:06:17 INFO  Job:1378 - Job job_1622656922868_0004 completed successfully
2021-06-02 18:06:18 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=695951
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=33180
		Total time spent by all reduces in occupied slots (ms)=12248
		Total time spent by all map tasks (ms)=8295
		Total time spent by all reduce tasks (ms)=3062
		Total vcore-milliseconds taken by all map tasks=8295
		Total vcore-milliseconds taken by all reduce tasks=3062
		Total megabyte-milliseconds taken by all map tasks=33976320
		Total megabyte-milliseconds taken by all reduce tasks=12541952
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=503
		CPU time spent (ms)=5560
		Physical memory (bytes) snapshot=1302466560
		Virtual memory (bytes) snapshot=15764951040
		Total committed heap usage (bytes)=1113063424
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210602 18:06:18.397" endtime="20210602 18:06:18.398"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:06:18.398" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:06:18.398" endtime="20210602 18:06:18.398"/>
</kw>
<status status="PASS" starttime="20210602 18:05:47.439" endtime="20210602 18:06:18.399"/>
</kw>
<msg timestamp="20210602 18:06:18.399" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:05:47.439" endtime="20210602 18:06:18.399"/>
</kw>
<msg timestamp="20210602 18:06:18.399" level="INFO">${output} = 2021-06-02 18:05:48 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:05:49 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210602 18:05:47.439" endtime="20210602 18:06:18.399"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:06:18.399" endtime="20210602 18:06:18.400"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:06:18.400" endtime="20210602 18:06:18.400"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:05:47.407" endtime="20210602 18:06:18.400"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210602 18:05:13.988" endtime="20210602 18:06:18.402"/>
</suite>
<suite id="s1-s1-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:54.411" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:03:54.416" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:03:54.416" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:03:54.409" endtime="20210602 18:03:54.416"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:03:54.417" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:03:54.416" endtime="20210602 18:03:54.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:03:54.417" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:03:54.417" endtime="20210602 18:03:54.417"/>
</kw>
<status status="PASS" starttime="20210602 18:03:54.408" endtime="20210602 18:03:54.418"/>
</kw>
<msg timestamp="20210602 18:03:54.418" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:54.408" endtime="20210602 18:03:54.418"/>
</kw>
<msg timestamp="20210602 18:03:54.418" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:03:54.407" endtime="20210602 18:03:54.418"/>
</kw>
<msg timestamp="20210602 18:03:54.418" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:03:54.407" endtime="20210602 18:03:54.418"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:03:54.422" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:03:54.421" endtime="20210602 18:03:54.422"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:03:54.422" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:03:54.422" endtime="20210602 18:03:54.422"/>
</kw>
<status status="PASS" starttime="20210602 18:03:54.421" endtime="20210602 18:03:54.423"/>
</kw>
<msg timestamp="20210602 18:03:54.423" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:03:54.421" endtime="20210602 18:03:54.423"/>
</kw>
<status status="PASS" starttime="20210602 18:03:54.420" endtime="20210602 18:03:54.423"/>
</kw>
<msg timestamp="20210602 18:03:54.423" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:03:54.420" endtime="20210602 18:03:54.423"/>
</kw>
<msg timestamp="20210602 18:03:54.423" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:03:54.418" endtime="20210602 18:03:54.423"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:03:54.426" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:04:26.119" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:04:26.119" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:03:56 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:03:56 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210602 18:03:54.424" endtime="20210602 18:04:26.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:04:26.120" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:03:56 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:03:56 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 18:03:56 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-02 18:03:56 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:03:56 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-13E27A635BD4-&gt;d9241d90-0143-4e2a-957b-9fd09a754747
2021-06-02 18:03:56 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-02 18:03:57 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C2E5CD4CDF6A-&gt;15ed040e-73f1-4a50-b2c3-4b6898a0bf0b
2021-06-02 18:03:57 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-02 18:03:57 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:03:57 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-02 18:03:57 INFO  JobSubmitter:198 - number of splits:3
2021-06-02 18:03:57 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622656922868_0001
2021-06-02 18:03:58 INFO  YarnClientImpl:273 - Submitted application application_1622656922868_0001
2021-06-02 18:03:58 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622656922868_0001/
2021-06-02 18:03:58 INFO  Job:1339 - Running job: job_1622656922868_0001
2021-06-02 18:04:06 INFO  Job:1360 - Job job_1622656922868_0001 running in uber mode : false
2021-06-02 18:04:06 INFO  Job:1367 -  map 0% reduce 0%
2021-06-02 18:04:12 INFO  Job:1367 -  map 33% reduce 0%
2021-06-02 18:04:17 INFO  Job:1367 -  map 67% reduce 0%
2021-06-02 18:04:21 INFO  Job:1367 -  map 100% reduce 0%
2021-06-02 18:04:24 INFO  Job:1367 -  map 100% reduce 100%
2021-06-02 18:04:25 INFO  Job:1378 - Job job_1622656922868_0001 completed successfully
2021-06-02 18:04:25 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=633385
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=33448
		Total time spent by all reduces in occupied slots (ms)=12924
		Total time spent by all map tasks (ms)=8362
		Total time spent by all reduce tasks (ms)=3231
		Total vcore-milliseconds taken by all map tasks=8362
		Total vcore-milliseconds taken by all reduce tasks=3231
		Total megabyte-milliseconds taken by all map tasks=34250752
		Total megabyte-milliseconds taken by all reduce tasks=13234176
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=512
		CPU time spent (ms)=5290
		Physical memory (bytes) snapshot=1218342912
		Virtual memory (bytes) snapshot=15775367168
		Total committed heap usage (bytes)=1067974656
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 28.387 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210602 18:04:26.120" endtime="20210602 18:04:26.121"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:04:26.121" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:04:26.121" endtime="20210602 18:04:26.121"/>
</kw>
<status status="PASS" starttime="20210602 18:03:54.424" endtime="20210602 18:04:26.122"/>
</kw>
<msg timestamp="20210602 18:04:26.122" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:03:54.424" endtime="20210602 18:04:26.122"/>
</kw>
<msg timestamp="20210602 18:04:26.122" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:03:56 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:03:56 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210602 18:03:54.423" endtime="20210602 18:04:26.122"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:04:26.122" endtime="20210602 18:04:26.123"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:03:54.406" endtime="20210602 18:04:26.123"/>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:04:26.127" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:04:26.132" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:04:26.132" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:04:26.126" endtime="20210602 18:04:26.132"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:04:26.133" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:04:26.133" endtime="20210602 18:04:26.133"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:04:26.134" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:04:26.133" endtime="20210602 18:04:26.134"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.125" endtime="20210602 18:04:26.134"/>
</kw>
<msg timestamp="20210602 18:04:26.134" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:04:26.125" endtime="20210602 18:04:26.134"/>
</kw>
<msg timestamp="20210602 18:04:26.135" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:04:26.124" endtime="20210602 18:04:26.135"/>
</kw>
<msg timestamp="20210602 18:04:26.135" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210602 18:04:26.124" endtime="20210602 18:04:26.135"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:04:26.135" level="INFO">${random} = SiOn0OZ7</msg>
<status status="PASS" starttime="20210602 18:04:26.135" endtime="20210602 18:04:26.135"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:04:26.138" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:04:26.138" endtime="20210602 18:04:26.138"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:04:26.139" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:04:26.139" endtime="20210602 18:04:26.139"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.138" endtime="20210602 18:04:26.139"/>
</kw>
<msg timestamp="20210602 18:04:26.139" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:04:26.137" endtime="20210602 18:04:26.139"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.137" endtime="20210602 18:04:26.140"/>
</kw>
<msg timestamp="20210602 18:04:26.140" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:04:26.136" endtime="20210602 18:04:26.140"/>
</kw>
<msg timestamp="20210602 18:04:26.140" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:04:26.136" endtime="20210602 18:04:26.140"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:04:26.143" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:04:26.142" endtime="20210602 18:04:26.143"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:04:26.143" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:04:26.143" endtime="20210602 18:04:26.143"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.142" endtime="20210602 18:04:26.144"/>
</kw>
<msg timestamp="20210602 18:04:26.144" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:04:26.142" endtime="20210602 18:04:26.144"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.141" endtime="20210602 18:04:26.144"/>
</kw>
<msg timestamp="20210602 18:04:26.144" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210602 18:04:26.141" endtime="20210602 18:04:26.144"/>
</kw>
<msg timestamp="20210602 18:04:26.144" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210602 18:04:26.140" endtime="20210602 18:04:26.144"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:04:26.147" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:04:26.147" endtime="20210602 18:04:26.147"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:04:26.147" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:04:26.147" endtime="20210602 18:04:26.147"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.146" endtime="20210602 18:04:26.148"/>
</kw>
<msg timestamp="20210602 18:04:26.148" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:04:26.146" endtime="20210602 18:04:26.148"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.145" endtime="20210602 18:04:26.148"/>
</kw>
<msg timestamp="20210602 18:04:26.148" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-SiOn0OZ7.txt</msg>
<status status="PASS" starttime="20210602 18:04:26.145" endtime="20210602 18:04:26.148"/>
</kw>
<msg timestamp="20210602 18:04:26.148" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-SiOn0OZ7.txt</msg>
<status status="PASS" starttime="20210602 18:04:26.144" endtime="20210602 18:04:26.148"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:04:26.151" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-SiOn0OZ7.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:05:01.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:05:01.126" level="INFO">${output} = 2021-06-02 18:04:27 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:04:27 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210602 18:04:26.150" endtime="20210602 18:05:01.126"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:05:01.127" level="INFO">2021-06-02 18:04:27 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:04:27 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:04:28 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:04:28 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-02 18:04:28 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-02 18:04:28 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:04:28 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-B0A2F81ACC73-&gt;d9241d90-0143-4e2a-957b-9fd09a754747
2021-06-02 18:04:28 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:04:31 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-02 18:04:31 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C77C743A36EC-&gt;15ed040e-73f1-4a50-b2c3-4b6898a0bf0b
2021-06-02 18:04:31 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:04:34 INFO  JobSubmitter:198 - number of splits:3
2021-06-02 18:04:34 INFO  JobSubmitter:287 - Submitting tokens for job: job_1622656922868_0002
2021-06-02 18:04:34 INFO  YarnClientImpl:273 - Submitted application application_1622656922868_0002
2021-06-02 18:04:34 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1622656922868_0002/
2021-06-02 18:04:34 INFO  Job:1339 - Running job: job_1622656922868_0002
2021-06-02 18:04:40 INFO  Job:1360 - Job job_1622656922868_0002 running in uber mode : false
2021-06-02 18:04:40 INFO  Job:1367 -  map 0% reduce 0%
2021-06-02 18:04:46 INFO  Job:1367 -  map 33% reduce 0%
2021-06-02 18:04:51 INFO  Job:1367 -  map 67% reduce 0%
2021-06-02 18:04:56 INFO  Job:1367 -  map 100% reduce 0%
2021-06-02 18:04:59 INFO  Job:1367 -  map 100% reduce 100%
2021-06-02 18:05:00 INFO  Job:1378 - Job job_1622656922868_0002 completed successfully
2021-06-02 18:05:00 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=696035
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36192
		Total time spent by all reduces in occupied slots (ms)=11992
		Total time spent by all map tasks (ms)=9048
		Total time spent by all reduce tasks (ms)=2998
		Total vcore-milliseconds taken by all map tasks=9048
		Total vcore-milliseconds taken by all reduce tasks=2998
		Total megabyte-milliseconds taken by all map tasks=37060608
		Total megabyte-milliseconds taken by all reduce tasks=12279808
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=589
		CPU time spent (ms)=6150
		Physical memory (bytes) snapshot=1266237440
		Virtual memory (bytes) snapshot=15810387968
		Total committed heap usage (bytes)=1050148864
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210602 18:05:01.126" endtime="20210602 18:05:01.127"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:05:01.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:05:01.127" endtime="20210602 18:05:01.128"/>
</kw>
<status status="PASS" starttime="20210602 18:04:26.149" endtime="20210602 18:05:01.128"/>
</kw>
<msg timestamp="20210602 18:05:01.128" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:04:26.149" endtime="20210602 18:05:01.128"/>
</kw>
<msg timestamp="20210602 18:05:01.128" level="INFO">${output} = 2021-06-02 18:04:27 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.3:8032
2021-06-02 18:04:27 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210602 18:04:26.148" endtime="20210602 18:05:01.128"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:05:01.129" endtime="20210602 18:05:01.129"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:05:01.129" endtime="20210602 18:05:01.130"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:04:26.123" endtime="20210602 18:05:01.130"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210602 18:03:54.361" endtime="20210602 18:05:01.131"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="169388"/>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite id="s1-s2-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:19.769" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:22.042" level="INFO">${rc} = 255</msg>
<msg timestamp="20210602 18:07:22.042" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:07:19.766" endtime="20210602 18:07:22.042"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:22.043" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:07:22.043" endtime="20210602 18:07:22.044"/>
</kw>
<msg timestamp="20210602 18:07:22.044" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:07:19.765" endtime="20210602 18:07:22.044"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:22.051" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:24.044" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:24.044" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:22.046" endtime="20210602 18:07:24.045"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:24.046" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:24.045" endtime="20210602 18:07:24.046"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:24.046" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:24.046" endtime="20210602 18:07:24.046"/>
</kw>
<status status="PASS" starttime="20210602 18:07:22.046" endtime="20210602 18:07:24.047"/>
</kw>
<msg timestamp="20210602 18:07:24.047" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:22.045" endtime="20210602 18:07:24.047"/>
</kw>
<msg timestamp="20210602 18:07:24.047" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210602 18:07:22.045" endtime="20210602 18:07:24.047"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:07:24.047" endtime="20210602 18:07:24.048"/>
</kw>
<status status="PASS" starttime="20210602 18:07:22.045" endtime="20210602 18:07:24.048"/>
</kw>
<status status="PASS" starttime="20210602 18:07:22.044" endtime="20210602 18:07:24.048"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:24.052" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:26.063" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:26.063" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:24.050" endtime="20210602 18:07:26.064"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:26.065" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:26.064" endtime="20210602 18:07:26.065"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:26.065" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:26.065" endtime="20210602 18:07:26.065"/>
</kw>
<status status="PASS" starttime="20210602 18:07:24.050" endtime="20210602 18:07:26.066"/>
</kw>
<msg timestamp="20210602 18:07:26.066" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:24.050" endtime="20210602 18:07:26.066"/>
</kw>
<status status="PASS" starttime="20210602 18:07:24.049" endtime="20210602 18:07:26.066"/>
</kw>
<status status="PASS" starttime="20210602 18:07:24.049" endtime="20210602 18:07:26.066"/>
</kw>
<status status="PASS" starttime="20210602 18:07:24.048" endtime="20210602 18:07:26.066"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210602 18:07:26.066" endtime="20210602 18:07:26.067"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:26.070" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:28.000" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:28.000" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:07...</msg>
<status status="PASS" starttime="20210602 18:07:26.068" endtime="20210602 18:07:28.000"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:28.001" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:07:26.041Z",
  "modificationTime" : "2021-06-02T18:07:26.041Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210602 18:07:28.001" endtime="20210602 18:07:28.002"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:28.002" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:28.002" endtime="20210602 18:07:28.002"/>
</kw>
<status status="PASS" starttime="20210602 18:07:26.068" endtime="20210602 18:07:28.002"/>
</kw>
<msg timestamp="20210602 18:07:28.003" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:26.067" endtime="20210602 18:07:28.003"/>
</kw>
<msg timestamp="20210602 18:07:28.003" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:07...</msg>
<status status="PASS" starttime="20210602 18:07:26.067" endtime="20210602 18:07:28.003"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:07:28.003" endtime="20210602 18:07:28.003"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:07:28.008" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:07:28.007" endtime="20210602 18:07:28.008"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:07:28.008" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:07:28.008" endtime="20210602 18:07:28.008"/>
</kw>
<status status="PASS" starttime="20210602 18:07:28.007" endtime="20210602 18:07:28.009"/>
</kw>
<msg timestamp="20210602 18:07:28.009" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:07:28.006" endtime="20210602 18:07:28.009"/>
</kw>
<status status="PASS" starttime="20210602 18:07:28.005" endtime="20210602 18:07:28.010"/>
</kw>
<msg timestamp="20210602 18:07:28.010" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210602 18:07:28.004" endtime="20210602 18:07:28.010"/>
</kw>
<msg timestamp="20210602 18:07:28.010" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210602 18:07:28.004" endtime="20210602 18:07:28.010"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:28.013" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:29.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:29.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:28.011" endtime="20210602 18:07:29.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:29.936" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:29.935" endtime="20210602 18:07:29.936"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:29.936" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:29.936" endtime="20210602 18:07:29.936"/>
</kw>
<status status="PASS" starttime="20210602 18:07:28.011" endtime="20210602 18:07:29.937"/>
</kw>
<msg timestamp="20210602 18:07:29.937" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:28.011" endtime="20210602 18:07:29.937"/>
</kw>
<status status="PASS" starttime="20210602 18:07:28.010" endtime="20210602 18:07:29.937"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:29.940" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:34.144" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:34.144" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:29.938" endtime="20210602 18:07:34.144"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:34.146" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:34.145" endtime="20210602 18:07:34.146"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:34.146" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:34.146" endtime="20210602 18:07:34.146"/>
</kw>
<status status="PASS" starttime="20210602 18:07:29.938" endtime="20210602 18:07:34.147"/>
</kw>
<msg timestamp="20210602 18:07:34.147" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:29.938" endtime="20210602 18:07:34.147"/>
</kw>
<status status="PASS" starttime="20210602 18:07:29.937" endtime="20210602 18:07:34.147"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:34.150" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:37.688" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:37.688" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:34.149" endtime="20210602 18:07:37.688"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:37.689" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:37.689" endtime="20210602 18:07:37.689"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:37.690" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:37.690" endtime="20210602 18:07:37.690"/>
</kw>
<status status="PASS" starttime="20210602 18:07:34.148" endtime="20210602 18:07:37.690"/>
</kw>
<msg timestamp="20210602 18:07:37.691" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:34.148" endtime="20210602 18:07:37.691"/>
</kw>
<status status="PASS" starttime="20210602 18:07:34.147" endtime="20210602 18:07:37.691"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:37.694" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:41.290" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:41.290" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:37.692" endtime="20210602 18:07:41.290"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:41.291" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:41.290" endtime="20210602 18:07:41.291"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:41.291" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:41.291" endtime="20210602 18:07:41.292"/>
</kw>
<status status="PASS" starttime="20210602 18:07:37.692" endtime="20210602 18:07:41.292"/>
</kw>
<msg timestamp="20210602 18:07:41.292" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:37.692" endtime="20210602 18:07:41.292"/>
</kw>
<status status="PASS" starttime="20210602 18:07:37.691" endtime="20210602 18:07:41.292"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210602 18:07:19.765" endtime="20210602 18:07:41.292"/>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:07:41.298" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:07:41.297" endtime="20210602 18:07:41.298"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:07:41.298" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:07:41.298" endtime="20210602 18:07:41.298"/>
</kw>
<status status="PASS" starttime="20210602 18:07:41.297" endtime="20210602 18:07:41.299"/>
</kw>
<msg timestamp="20210602 18:07:41.299" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:07:41.296" endtime="20210602 18:07:41.299"/>
</kw>
<status status="PASS" starttime="20210602 18:07:41.295" endtime="20210602 18:07:41.299"/>
</kw>
<msg timestamp="20210602 18:07:41.299" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:07:41.295" endtime="20210602 18:07:41.299"/>
</kw>
<msg timestamp="20210602 18:07:41.299" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:07:41.294" endtime="20210602 18:07:41.299"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:41.302" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:43.366" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:43.366" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:41.301" endtime="20210602 18:07:43.366"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:43.368" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:43.367" endtime="20210602 18:07:43.368"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:43.369" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:43.368" endtime="20210602 18:07:43.369"/>
</kw>
<status status="PASS" starttime="20210602 18:07:41.300" endtime="20210602 18:07:43.369"/>
</kw>
<msg timestamp="20210602 18:07:43.369" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:41.300" endtime="20210602 18:07:43.369"/>
</kw>
<status status="PASS" starttime="20210602 18:07:41.300" endtime="20210602 18:07:43.369"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:43.372" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:45.301" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:45.301" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:07:43.371" endtime="20210602 18:07:45.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:45.303" level="INFO"/>
<status status="PASS" starttime="20210602 18:07:45.302" endtime="20210602 18:07:45.303"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:45.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:45.303" endtime="20210602 18:07:45.303"/>
</kw>
<status status="PASS" starttime="20210602 18:07:43.370" endtime="20210602 18:07:45.304"/>
</kw>
<msg timestamp="20210602 18:07:45.304" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:43.370" endtime="20210602 18:07:45.304"/>
</kw>
<status status="PASS" starttime="20210602 18:07:43.369" endtime="20210602 18:07:45.304"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210602 18:07:41.293" endtime="20210602 18:07:45.304"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210602 18:07:19.717" endtime="20210602 18:07:45.305"/>
</suite>
<suite id="s1-s2-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:09:19.004" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:09:19.004" endtime="20210602 18:09:19.004"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:09:19.005" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:09:19.004" endtime="20210602 18:09:19.005"/>
</kw>
<status status="PASS" starttime="20210602 18:09:19.003" endtime="20210602 18:09:19.005"/>
</kw>
<msg timestamp="20210602 18:09:19.005" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:09:19.003" endtime="20210602 18:09:19.005"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:09:19.005" endtime="20210602 18:09:19.006"/>
</kw>
<msg timestamp="20210602 18:09:19.006" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:09:19.005" endtime="20210602 18:09:19.006"/>
</kw>
<status status="PASS" starttime="20210602 18:09:19.002" endtime="20210602 18:09:19.006"/>
</kw>
<msg timestamp="20210602 18:09:19.006" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:09:19.002" endtime="20210602 18:09:19.006"/>
</kw>
<msg timestamp="20210602 18:09:19.006" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:09:19.001" endtime="20210602 18:09:19.006"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:09:19.007" level="INFO">${random} = 49259</msg>
<status status="PASS" starttime="20210602 18:09:19.006" endtime="20210602 18:09:19.007"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:09:19.012" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-49259 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:09:22.277" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:09:22.277" level="INFO">${output} = 2021-06-02 18:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:20 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:09:19.008" endtime="20210602 18:09:22.277"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:09:22.278" level="INFO">2021-06-02 18:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:20 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-02 18:09:20 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:09:20 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:09:20 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:09:21 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:09:21 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F1ED1E1133BC-&gt;8de1498f-90ce-4e38-955b-4b513fbfd279
2021-06-02 18:09:21 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:09:21 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:09:22.278" endtime="20210602 18:09:22.278"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:09:22.279" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:09:22.279" endtime="20210602 18:09:22.279"/>
</kw>
<status status="PASS" starttime="20210602 18:09:19.008" endtime="20210602 18:09:22.279"/>
</kw>
<msg timestamp="20210602 18:09:22.279" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:09:19.007" endtime="20210602 18:09:22.279"/>
</kw>
<msg timestamp="20210602 18:09:22.280" level="INFO">${result} = 2021-06-02 18:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:20 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:09:19.007" endtime="20210602 18:09:22.280"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:09:22.283" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:09:23.809" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:09:23.809" level="INFO">${output} = 2021-06-02 18:09:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:09:22.281" endtime="20210602 18:09:23.809"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:09:23.810" level="INFO">2021-06-02 18:09:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:07 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-02 18:09 ofs://om/volume1/bucket1/ozone-49259
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-02 18:07 ofs://om/volume1/bucket1/ozone-84932
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:07 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:08 ofs://om/volume1/bucket1/wordcount-w5y2Q0bj.txt
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:09:23.809" endtime="20210602 18:09:23.810"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:09:23.810" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:09:23.810" endtime="20210602 18:09:23.810"/>
</kw>
<status status="PASS" starttime="20210602 18:09:22.281" endtime="20210602 18:09:23.811"/>
</kw>
<msg timestamp="20210602 18:09:23.811" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:09:22.280" endtime="20210602 18:09:23.811"/>
</kw>
<msg timestamp="20210602 18:09:23.811" level="INFO">${result} = 2021-06-02 18:09:22 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:23 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:09:22.280" endtime="20210602 18:09:23.811"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:09:23.811" endtime="20210602 18:09:23.812"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210602 18:09:19.000" endtime="20210602 18:09:23.812"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210602 18:09:18.954" endtime="20210602 18:09:23.813"/>
</suite>
<suite id="s1-s2-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:07:49.433" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:07:49.433" endtime="20210602 18:07:49.433"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:07:49.434" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:07:49.433" endtime="20210602 18:07:49.434"/>
</kw>
<status status="PASS" starttime="20210602 18:07:49.432" endtime="20210602 18:07:49.434"/>
</kw>
<msg timestamp="20210602 18:07:49.434" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:07:49.432" endtime="20210602 18:07:49.434"/>
</kw>
<status status="PASS" starttime="20210602 18:07:49.431" endtime="20210602 18:07:49.434"/>
</kw>
<msg timestamp="20210602 18:07:49.434" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:07:49.431" endtime="20210602 18:07:49.434"/>
</kw>
<msg timestamp="20210602 18:07:49.435" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:07:49.430" endtime="20210602 18:07:49.435"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:07:49.435" level="INFO">${random} = 84932</msg>
<status status="PASS" starttime="20210602 18:07:49.435" endtime="20210602 18:07:49.435"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:49.440" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-84932 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:52.774" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:52.774" level="INFO">${output} = 2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:50 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:07:49.436" endtime="20210602 18:07:52.774"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:52.775" level="INFO">2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:51 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-02 18:07:51 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:07:51 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:07:51 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:07:51 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:07:51 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-267DC872E16A-&gt;8de1498f-90ce-4e38-955b-4b513fbfd279
2021-06-02 18:07:51 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:07:52 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:07:52.775" endtime="20210602 18:07:52.775"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:52.776" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:52.775" endtime="20210602 18:07:52.776"/>
</kw>
<status status="PASS" starttime="20210602 18:07:49.436" endtime="20210602 18:07:52.776"/>
</kw>
<msg timestamp="20210602 18:07:52.776" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:49.436" endtime="20210602 18:07:52.776"/>
</kw>
<msg timestamp="20210602 18:07:52.777" level="INFO">${result} = 2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:50 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:07:49.435" endtime="20210602 18:07:52.777"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:52.780" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:54.378" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:54.378" level="INFO">${output} = 2021-06-02 18:07:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:54 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:07:52.778" endtime="20210602 18:07:54.378"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:54.379" level="INFO">2021-06-02 18:07:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:54 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:07 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-02 18:07 o3fs://bucket1.volume1.om/ozone-84932
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:07 o3fs://bucket1.volume1.om/user
2021-06-02 18:07:54 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:07:54.378" endtime="20210602 18:07:54.379"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:54.379" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:54.379" endtime="20210602 18:07:54.380"/>
</kw>
<status status="PASS" starttime="20210602 18:07:52.777" endtime="20210602 18:07:54.380"/>
</kw>
<msg timestamp="20210602 18:07:54.380" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:52.777" endtime="20210602 18:07:54.380"/>
</kw>
<msg timestamp="20210602 18:07:54.380" level="INFO">${result} = 2021-06-02 18:07:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:54 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:07:52.777" endtime="20210602 18:07:54.380"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:07:54.380" endtime="20210602 18:07:54.381"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210602 18:07:49.429" endtime="20210602 18:07:54.381"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210602 18:07:49.385" endtime="20210602 18:07:54.382"/>
</suite>
<suite id="s1-s2-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:09:27.950" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:09:27.955" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:09:27.956" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:09:27.946" endtime="20210602 18:09:27.956"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:09:27.956" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:09:27.956" endtime="20210602 18:09:27.957"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:09:27.957" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:09:27.957" endtime="20210602 18:09:27.957"/>
</kw>
<status status="PASS" starttime="20210602 18:09:27.946" endtime="20210602 18:09:27.958"/>
</kw>
<msg timestamp="20210602 18:09:27.958" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:09:27.945" endtime="20210602 18:09:27.958"/>
</kw>
<msg timestamp="20210602 18:09:27.958" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:09:27.945" endtime="20210602 18:09:27.958"/>
</kw>
<msg timestamp="20210602 18:09:27.958" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:09:27.945" endtime="20210602 18:09:27.958"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:09:27.963" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:09:27.962" endtime="20210602 18:09:27.963"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:09:27.963" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:09:27.963" endtime="20210602 18:09:27.963"/>
</kw>
<status status="PASS" starttime="20210602 18:09:27.961" endtime="20210602 18:09:27.964"/>
</kw>
<msg timestamp="20210602 18:09:27.964" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:09:27.961" endtime="20210602 18:09:27.964"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:09:27.964" endtime="20210602 18:09:27.964"/>
</kw>
<msg timestamp="20210602 18:09:27.965" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:09:27.964" endtime="20210602 18:09:27.965"/>
</kw>
<status status="PASS" starttime="20210602 18:09:27.960" endtime="20210602 18:09:27.965"/>
</kw>
<msg timestamp="20210602 18:09:27.965" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:09:27.960" endtime="20210602 18:09:27.965"/>
</kw>
<msg timestamp="20210602 18:09:27.965" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:09:27.958" endtime="20210602 18:09:27.965"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:09:27.970" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:10:03.167" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:10:03.167" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:09:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09...</msg>
<status status="PASS" starttime="20210602 18:09:27.968" endtime="20210602 18:10:03.167"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:10:03.168" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:09:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:29 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-02 18:09:29 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:09:29 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:09:29 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:09:29 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:09:29 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-80EDF2C2C482-&gt;9ee958fc-47af-4b41-967f-ad5e0e102b01
2021-06-02 18:09:29 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-02 18:09:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-73E19A7EEA83-&gt;8de1498f-90ce-4e38-955b-4b513fbfd279
2021-06-02 18:09:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-02 18:09:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:33 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-02 18:09:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:33 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:09:33 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:33 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:09:33 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:09:34 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657210283_0003
2021-06-02 18:09:34 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:09:34 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:34 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:34 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:34 INFO  Configuration:2752 - resource-types.xml not found
2021-06-02 18:09:34 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-02 18:09:34 INFO  YarnClientImpl:324 - Submitted application application_1622657210283_0003
2021-06-02 18:09:34 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622657210283_0003/
2021-06-02 18:09:34 INFO  Job:1619 - Running job: job_1622657210283_0003
2021-06-02 18:09:41 INFO  Job:1640 - Job job_1622657210283_0003 running in uber mode : false
2021-06-02 18:09:41 INFO  Job:1647 -  map 0% reduce 0%
2021-06-02 18:09:47 INFO  Job:1647 -  map 33% reduce 0%
2021-06-02 18:09:51 INFO  Job:1647 -  map 67% reduce 0%
2021-06-02 18:09:56 INFO  Job:1647 -  map 100% reduce 0%
2021-06-02 18:10:01 INFO  Job:1647 -  map 100% reduce 100%
2021-06-02 18:10:02 INFO  Job:1658 - Job job_1622657210283_0003 completed successfully
2021-06-02 18:10:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:02 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1041597
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=33724
		Total time spent by all reduces in occupied slots (ms)=12624
		Total time spent by all map tasks (ms)=8431
		Total time spent by all reduce tasks (ms)=3156
		Total vcore-milliseconds taken by all map tasks=8431
		Total vcore-milliseconds taken by all reduce tasks=3156
		Total megabyte-milliseconds taken by all map tasks=34533376
		Total megabyte-milliseconds taken by all reduce tasks=12926976
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=513
		CPU time spent (ms)=5510
		Physical memory (bytes) snapshot=1252282368
		Virtual memory (bytes) snapshot=15761600512
		Total committed heap usage (bytes)=1082130432
		Peak Map Physical memory (bytes)=331018240
		Peak Map Virtual memory (bytes)=3947167744
		Peak Reduce Physical memory (bytes)=300752896
		Peak Reduce Virtual memory (bytes)=3957866496
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 29.372 seconds
2021-06-02 18:10:02 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-06-02 18:10:02 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:10:03.168" endtime="20210602 18:10:03.169"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:10:03.169" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:10:03.169" endtime="20210602 18:10:03.169"/>
</kw>
<status status="PASS" starttime="20210602 18:09:27.967" endtime="20210602 18:10:03.170"/>
</kw>
<msg timestamp="20210602 18:10:03.170" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:09:27.967" endtime="20210602 18:10:03.170"/>
</kw>
<msg timestamp="20210602 18:10:03.170" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:09:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09...</msg>
<status status="PASS" starttime="20210602 18:09:27.965" endtime="20210602 18:10:03.170"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:10:03.170" endtime="20210602 18:10:03.171"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:09:27.944" endtime="20210602 18:10:03.171"/>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:10:03.176" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:10:03.181" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:10:03.181" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:10:03.174" endtime="20210602 18:10:03.181"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:10:03.182" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:10:03.181" endtime="20210602 18:10:03.182"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:10:03.182" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:10:03.182" endtime="20210602 18:10:03.182"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.173" endtime="20210602 18:10:03.182"/>
</kw>
<msg timestamp="20210602 18:10:03.182" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:10:03.173" endtime="20210602 18:10:03.183"/>
</kw>
<msg timestamp="20210602 18:10:03.183" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:10:03.173" endtime="20210602 18:10:03.183"/>
</kw>
<msg timestamp="20210602 18:10:03.183" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:10:03.172" endtime="20210602 18:10:03.183"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:10:03.183" level="INFO">${random} = iJcCAXWM</msg>
<status status="PASS" starttime="20210602 18:10:03.183" endtime="20210602 18:10:03.184"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:10:03.187" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:10:03.186" endtime="20210602 18:10:03.187"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:10:03.187" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:10:03.187" endtime="20210602 18:10:03.187"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.186" endtime="20210602 18:10:03.187"/>
</kw>
<msg timestamp="20210602 18:10:03.187" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:10:03.185" endtime="20210602 18:10:03.187"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:10:03.188" endtime="20210602 18:10:03.188"/>
</kw>
<msg timestamp="20210602 18:10:03.188" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:10:03.188" endtime="20210602 18:10:03.188"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.185" endtime="20210602 18:10:03.189"/>
</kw>
<msg timestamp="20210602 18:10:03.189" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:10:03.184" endtime="20210602 18:10:03.189"/>
</kw>
<msg timestamp="20210602 18:10:03.189" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:10:03.184" endtime="20210602 18:10:03.189"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:10:03.192" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:10:03.192" endtime="20210602 18:10:03.192"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:10:03.192" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:10:03.192" endtime="20210602 18:10:03.192"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.191" endtime="20210602 18:10:03.193"/>
</kw>
<msg timestamp="20210602 18:10:03.193" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:10:03.191" endtime="20210602 18:10:03.193"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:10:03.194" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210602 18:10:03.194" endtime="20210602 18:10:03.194"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:10:03.195" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210602 18:10:03.194" endtime="20210602 18:10:03.195"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.193" endtime="20210602 18:10:03.195"/>
</kw>
<msg timestamp="20210602 18:10:03.195" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210602 18:10:03.193" endtime="20210602 18:10:03.195"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.190" endtime="20210602 18:10:03.195"/>
</kw>
<msg timestamp="20210602 18:10:03.195" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210602 18:10:03.190" endtime="20210602 18:10:03.195"/>
</kw>
<msg timestamp="20210602 18:10:03.195" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210602 18:10:03.189" endtime="20210602 18:10:03.196"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:10:03.198" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:10:03.198" endtime="20210602 18:10:03.198"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:10:03.199" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:10:03.199" endtime="20210602 18:10:03.199"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.197" endtime="20210602 18:10:03.199"/>
</kw>
<msg timestamp="20210602 18:10:03.199" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:10:03.197" endtime="20210602 18:10:03.199"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:10:03.201" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210602 18:10:03.200" endtime="20210602 18:10:03.201"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:10:03.201" level="INFO">${result} = /wordcount-iJcCAXWM.txt</msg>
<status status="PASS" starttime="20210602 18:10:03.201" endtime="20210602 18:10:03.201"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.200" endtime="20210602 18:10:03.201"/>
</kw>
<msg timestamp="20210602 18:10:03.201" level="INFO">${path_with_leading} = /wordcount-iJcCAXWM.txt</msg>
<status status="PASS" starttime="20210602 18:10:03.199" endtime="20210602 18:10:03.201"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.197" endtime="20210602 18:10:03.202"/>
</kw>
<msg timestamp="20210602 18:10:03.202" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-iJcCAXWM.txt</msg>
<status status="PASS" starttime="20210602 18:10:03.196" endtime="20210602 18:10:03.202"/>
</kw>
<msg timestamp="20210602 18:10:03.202" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-iJcCAXWM.txt</msg>
<status status="PASS" starttime="20210602 18:10:03.196" endtime="20210602 18:10:03.202"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:10:03.205" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-iJcCAXWM.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:10:40.016" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:10:40.016" level="INFO">${output} = 2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:10:03.203" endtime="20210602 18:10:40.016"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:10:40.017" level="INFO">2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:05 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-02 18:10:05 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:10:05 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:10:05 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:10:05 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:10:05 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-FB90EC537D0F-&gt;9ee958fc-47af-4b41-967f-ad5e0e102b01
2021-06-02 18:10:05 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:10:06 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:10:06 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-FDB0C078F2BD-&gt;8de1498f-90ce-4e38-955b-4b513fbfd279
2021-06-02 18:10:06 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:10:06 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:10:08 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657210283_0004
2021-06-02 18:10:08 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:10:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:09 INFO  Configuration:2752 - resource-types.xml not found
2021-06-02 18:10:09 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-02 18:10:09 INFO  YarnClientImpl:324 - Submitted application application_1622657210283_0004
2021-06-02 18:10:09 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622657210283_0004/
2021-06-02 18:10:09 INFO  Job:1619 - Running job: job_1622657210283_0004
2021-06-02 18:10:16 INFO  Job:1640 - Job job_1622657210283_0004 running in uber mode : false
2021-06-02 18:10:16 INFO  Job:1647 -  map 0% reduce 0%
2021-06-02 18:10:22 INFO  Job:1647 -  map 33% reduce 0%
2021-06-02 18:10:27 INFO  Job:1647 -  map 67% reduce 0%
2021-06-02 18:10:32 INFO  Job:1647 -  map 100% reduce 0%
2021-06-02 18:10:36 INFO  Job:1647 -  map 100% reduce 100%
2021-06-02 18:10:39 INFO  Job:1658 - Job job_1622657210283_0004 completed successfully
2021-06-02 18:10:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:39 INFO  Job:1665 - Counters: 54
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1104263
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Killed map tasks=1
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=35216
		Total time spent by all reduces in occupied slots (ms)=12488
		Total time spent by all map tasks (ms)=8804
		Total time spent by all reduce tasks (ms)=3122
		Total vcore-milliseconds taken by all map tasks=8804
		Total vcore-milliseconds taken by all reduce tasks=3122
		Total megabyte-milliseconds taken by all map tasks=36061184
		Total megabyte-milliseconds taken by all reduce tasks=12787712
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=539
		CPU time spent (ms)=6070
		Physical memory (bytes) snapshot=1309433856
		Virtual memory (bytes) snapshot=15810523136
		Total committed heap usage (bytes)=1082654720
		Peak Map Physical memory (bytes)=337362944
		Peak Map Virtual memory (bytes)=3949748224
		Peak Reduce Physical memory (bytes)=307404800
		Peak Reduce Virtual memory (bytes)=3969904640
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209
2021-06-02 18:10:39 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:10:40.016" endtime="20210602 18:10:40.017"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:10:40.018" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:10:40.017" endtime="20210602 18:10:40.018"/>
</kw>
<status status="PASS" starttime="20210602 18:10:03.203" endtime="20210602 18:10:40.018"/>
</kw>
<msg timestamp="20210602 18:10:40.018" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:10:03.203" endtime="20210602 18:10:40.018"/>
</kw>
<msg timestamp="20210602 18:10:40.019" level="INFO">${output} = 2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:10:04 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:10:03.202" endtime="20210602 18:10:40.019"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:10:40.019" endtime="20210602 18:10:40.019"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:10:40.019" endtime="20210602 18:10:40.020"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:10:03.172" endtime="20210602 18:10:40.020"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210602 18:09:27.899" endtime="20210602 18:10:40.021"/>
</suite>
<suite id="s1-s2-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:58.483" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:07:58.489" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:07:58.489" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:07:58.480" endtime="20210602 18:07:58.489"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:07:58.490" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:07:58.489" endtime="20210602 18:07:58.490"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:07:58.490" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:07:58.490" endtime="20210602 18:07:58.490"/>
</kw>
<status status="PASS" starttime="20210602 18:07:58.480" endtime="20210602 18:07:58.491"/>
</kw>
<msg timestamp="20210602 18:07:58.491" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:58.480" endtime="20210602 18:07:58.491"/>
</kw>
<msg timestamp="20210602 18:07:58.491" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:07:58.479" endtime="20210602 18:07:58.491"/>
</kw>
<msg timestamp="20210602 18:07:58.491" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:07:58.479" endtime="20210602 18:07:58.491"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:07:58.495" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:07:58.495" endtime="20210602 18:07:58.495"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:07:58.496" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:07:58.495" endtime="20210602 18:07:58.496"/>
</kw>
<status status="PASS" starttime="20210602 18:07:58.494" endtime="20210602 18:07:58.496"/>
</kw>
<msg timestamp="20210602 18:07:58.496" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:07:58.494" endtime="20210602 18:07:58.496"/>
</kw>
<status status="PASS" starttime="20210602 18:07:58.493" endtime="20210602 18:07:58.496"/>
</kw>
<msg timestamp="20210602 18:07:58.496" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:07:58.493" endtime="20210602 18:07:58.496"/>
</kw>
<msg timestamp="20210602 18:07:58.496" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:07:58.491" endtime="20210602 18:07:58.496"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:07:58.499" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:08:37.843" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:08:37.844" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07...</msg>
<status status="PASS" starttime="20210602 18:07:58.498" endtime="20210602 18:08:37.844"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:08:37.845" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:00 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-02 18:08:00 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:08:00 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:08:00 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:08:00 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:08:00 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-18216FD41024-&gt;9ee958fc-47af-4b41-967f-ad5e0e102b01
2021-06-02 18:08:00 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-06-02 18:08:01 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-ACDBD37F3E00-&gt;8de1498f-90ce-4e38-955b-4b513fbfd279
2021-06-02 18:08:01 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-06-02 18:08:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:01 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-02 18:08:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:01 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:08:01 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:08:02 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657210283_0001
2021-06-02 18:08:02 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:08:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:02 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:02 INFO  Configuration:2752 - resource-types.xml not found
2021-06-02 18:08:02 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-02 18:08:02 INFO  YarnClientImpl:324 - Submitted application application_1622657210283_0001
2021-06-02 18:08:02 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622657210283_0001/
2021-06-02 18:08:02 INFO  Job:1619 - Running job: job_1622657210283_0001
2021-06-02 18:08:11 INFO  Job:1640 - Job job_1622657210283_0001 running in uber mode : false
2021-06-02 18:08:11 INFO  Job:1647 -  map 0% reduce 0%
2021-06-02 18:08:18 INFO  Job:1647 -  map 33% reduce 0%
2021-06-02 18:08:23 INFO  Job:1647 -  map 67% reduce 0%
2021-06-02 18:08:27 INFO  Job:1647 -  map 100% reduce 0%
2021-06-02 18:08:34 INFO  Job:1647 -  map 100% reduce 100%
2021-06-02 18:08:37 INFO  Job:1658 - Job job_1622657210283_0001 completed successfully
2021-06-02 18:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:37 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1041809
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34592
		Total time spent by all reduces in occupied slots (ms)=22784
		Total time spent by all map tasks (ms)=8648
		Total time spent by all reduce tasks (ms)=5696
		Total vcore-milliseconds taken by all map tasks=8648
		Total vcore-milliseconds taken by all reduce tasks=5696
		Total megabyte-milliseconds taken by all map tasks=35422208
		Total megabyte-milliseconds taken by all reduce tasks=23330816
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=489
		CPU time spent (ms)=5350
		Physical memory (bytes) snapshot=1293803520
		Virtual memory (bytes) snapshot=15804043264
		Total committed heap usage (bytes)=1083703296
		Peak Map Physical memory (bytes)=338046976
		Peak Map Virtual memory (bytes)=3954733056
		Peak Reduce Physical memory (bytes)=312729600
		Peak Reduce Virtual memory (bytes)=3970117632
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 36.003 seconds
2021-06-02 18:08:37 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:37 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-06-02 18:08:37 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:08:37.844" endtime="20210602 18:08:37.845"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:08:37.845" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:08:37.845" endtime="20210602 18:08:37.846"/>
</kw>
<status status="PASS" starttime="20210602 18:07:58.497" endtime="20210602 18:08:37.846"/>
</kw>
<msg timestamp="20210602 18:08:37.846" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:07:58.497" endtime="20210602 18:08:37.846"/>
</kw>
<msg timestamp="20210602 18:08:37.846" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07:59 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:07...</msg>
<status status="PASS" starttime="20210602 18:07:58.497" endtime="20210602 18:08:37.846"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:08:37.847" endtime="20210602 18:08:37.847"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:07:58.478" endtime="20210602 18:08:37.847"/>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:08:37.852" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:08:37.856" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:08:37.856" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:08:37.850" endtime="20210602 18:08:37.857"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:08:37.857" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:08:37.857" endtime="20210602 18:08:37.857"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:08:37.858" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:08:37.857" endtime="20210602 18:08:37.858"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.850" endtime="20210602 18:08:37.858"/>
</kw>
<msg timestamp="20210602 18:08:37.858" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:08:37.849" endtime="20210602 18:08:37.859"/>
</kw>
<msg timestamp="20210602 18:08:37.859" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:08:37.849" endtime="20210602 18:08:37.859"/>
</kw>
<msg timestamp="20210602 18:08:37.859" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210602 18:08:37.849" endtime="20210602 18:08:37.859"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:08:37.859" level="INFO">${random} = w5y2Q0bj</msg>
<status status="PASS" starttime="20210602 18:08:37.859" endtime="20210602 18:08:37.859"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:08:37.862" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:08:37.862" endtime="20210602 18:08:37.862"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:08:37.863" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:08:37.862" endtime="20210602 18:08:37.863"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.862" endtime="20210602 18:08:37.863"/>
</kw>
<msg timestamp="20210602 18:08:37.863" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:08:37.861" endtime="20210602 18:08:37.863"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.861" endtime="20210602 18:08:37.864"/>
</kw>
<msg timestamp="20210602 18:08:37.864" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:08:37.860" endtime="20210602 18:08:37.864"/>
</kw>
<msg timestamp="20210602 18:08:37.864" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:08:37.860" endtime="20210602 18:08:37.864"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:08:37.867" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:08:37.866" endtime="20210602 18:08:37.867"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:08:37.867" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:08:37.867" endtime="20210602 18:08:37.867"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.866" endtime="20210602 18:08:37.867"/>
</kw>
<msg timestamp="20210602 18:08:37.867" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:08:37.865" endtime="20210602 18:08:37.867"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.865" endtime="20210602 18:08:37.868"/>
</kw>
<msg timestamp="20210602 18:08:37.868" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210602 18:08:37.864" endtime="20210602 18:08:37.868"/>
</kw>
<msg timestamp="20210602 18:08:37.868" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210602 18:08:37.864" endtime="20210602 18:08:37.868"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:08:37.871" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:08:37.870" endtime="20210602 18:08:37.871"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:08:37.871" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:08:37.871" endtime="20210602 18:08:37.871"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.870" endtime="20210602 18:08:37.871"/>
</kw>
<msg timestamp="20210602 18:08:37.871" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:08:37.870" endtime="20210602 18:08:37.872"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.869" endtime="20210602 18:08:37.872"/>
</kw>
<msg timestamp="20210602 18:08:37.872" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-w5y2Q0bj.txt</msg>
<status status="PASS" starttime="20210602 18:08:37.869" endtime="20210602 18:08:37.872"/>
</kw>
<msg timestamp="20210602 18:08:37.872" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-w5y2Q0bj.txt</msg>
<status status="PASS" starttime="20210602 18:08:37.868" endtime="20210602 18:08:37.872"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:08:37.875" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-w5y2Q0bj.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:09:14.831" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:09:14.831" level="INFO">${output} = 2021-06-02 18:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:08:37.873" endtime="20210602 18:09:14.832"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:09:14.833" level="INFO">2021-06-02 18:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-02 18:08:39 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-02 18:08:39 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:08:39 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:08:40 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:08:40 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7AB8725D4532-&gt;8de1498f-90ce-4e38-955b-4b513fbfd279
2021-06-02 18:08:40 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:08:43 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:08:43 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:08:43 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657210283_0002
2021-06-02 18:08:43 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:08:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:43 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:43 INFO  Configuration:2752 - resource-types.xml not found
2021-06-02 18:08:43 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-02 18:08:43 INFO  YarnClientImpl:324 - Submitted application application_1622657210283_0002
2021-06-02 18:08:43 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1622657210283_0002/
2021-06-02 18:08:43 INFO  Job:1619 - Running job: job_1622657210283_0002
2021-06-02 18:08:51 INFO  Job:1640 - Job job_1622657210283_0002 running in uber mode : false
2021-06-02 18:08:51 INFO  Job:1647 -  map 0% reduce 0%
2021-06-02 18:08:57 INFO  Job:1647 -  map 33% reduce 0%
2021-06-02 18:09:02 INFO  Job:1647 -  map 67% reduce 0%
2021-06-02 18:09:07 INFO  Job:1647 -  map 100% reduce 0%
2021-06-02 18:09:11 INFO  Job:1647 -  map 100% reduce 100%
2021-06-02 18:09:14 INFO  Job:1658 - Job job_1622657210283_0002 completed successfully
2021-06-02 18:09:14 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:09:14 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1104347
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34708
		Total time spent by all reduces in occupied slots (ms)=13996
		Total time spent by all map tasks (ms)=8677
		Total time spent by all reduce tasks (ms)=3499
		Total vcore-milliseconds taken by all map tasks=8677
		Total vcore-milliseconds taken by all reduce tasks=3499
		Total megabyte-milliseconds taken by all map tasks=35540992
		Total megabyte-milliseconds taken by all reduce tasks=14331904
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=541
		CPU time spent (ms)=6000
		Physical memory (bytes) snapshot=1312178176
		Virtual memory (bytes) snapshot=15812108288
		Total committed heap usage (bytes)=1069023232
		Peak Map Physical memory (bytes)=338526208
		Peak Map Virtual memory (bytes)=3949719552
		Peak Reduce Physical memory (bytes)=303779840
		Peak Reduce Virtual memory (bytes)=3968221184
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209
2021-06-02 18:09:14 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210602 18:09:14.832" endtime="20210602 18:09:14.833"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:09:14.833" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:09:14.833" endtime="20210602 18:09:14.834"/>
</kw>
<status status="PASS" starttime="20210602 18:08:37.873" endtime="20210602 18:09:14.834"/>
</kw>
<msg timestamp="20210602 18:09:14.834" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:08:37.873" endtime="20210602 18:09:14.834"/>
</kw>
<msg timestamp="20210602 18:09:14.834" level="INFO">${output} = 2021-06-02 18:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:38 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-02 18:08:39 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210602 18:08:37.872" endtime="20210602 18:09:14.834"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:09:14.835" endtime="20210602 18:09:14.835"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:09:14.835" endtime="20210602 18:09:14.836"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:08:37.848" endtime="20210602 18:09:14.836"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210602 18:07:58.429" endtime="20210602 18:09:14.837"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="183974"/>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite id="s1-s3-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:11:46.553" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:11:49.926" level="INFO">${rc} = 255</msg>
<msg timestamp="20210602 18:11:49.927" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:11:46.550" endtime="20210602 18:11:49.927"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:11:49.928" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:11:49.927" endtime="20210602 18:11:49.928"/>
</kw>
<msg timestamp="20210602 18:11:49.928" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210602 18:11:46.550" endtime="20210602 18:11:49.928"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:11:49.932" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:11:52.667" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:11:52.667" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:11:49.930" endtime="20210602 18:11:52.667"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:11:52.668" level="INFO"/>
<status status="PASS" starttime="20210602 18:11:52.668" endtime="20210602 18:11:52.668"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:11:52.669" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:11:52.669" endtime="20210602 18:11:52.669"/>
</kw>
<status status="PASS" starttime="20210602 18:11:49.930" endtime="20210602 18:11:52.669"/>
</kw>
<msg timestamp="20210602 18:11:52.670" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:11:49.930" endtime="20210602 18:11:52.670"/>
</kw>
<msg timestamp="20210602 18:11:52.670" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210602 18:11:49.929" endtime="20210602 18:11:52.670"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:11:52.670" endtime="20210602 18:11:52.671"/>
</kw>
<status status="PASS" starttime="20210602 18:11:49.929" endtime="20210602 18:11:52.671"/>
</kw>
<status status="PASS" starttime="20210602 18:11:49.928" endtime="20210602 18:11:52.671"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:11:52.675" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:11:55.336" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:11:55.336" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:11:52.673" endtime="20210602 18:11:55.336"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:11:55.337" level="INFO"/>
<status status="PASS" starttime="20210602 18:11:55.336" endtime="20210602 18:11:55.337"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:11:55.339" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:11:55.338" endtime="20210602 18:11:55.339"/>
</kw>
<status status="PASS" starttime="20210602 18:11:52.673" endtime="20210602 18:11:55.339"/>
</kw>
<msg timestamp="20210602 18:11:55.339" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:11:52.672" endtime="20210602 18:11:55.340"/>
</kw>
<status status="PASS" starttime="20210602 18:11:52.672" endtime="20210602 18:11:55.340"/>
</kw>
<status status="PASS" starttime="20210602 18:11:52.671" endtime="20210602 18:11:55.340"/>
</kw>
<status status="PASS" starttime="20210602 18:11:52.671" endtime="20210602 18:11:55.340"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210602 18:11:55.340" endtime="20210602 18:11:55.340"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:11:55.344" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:11:58.173" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:11:58.173" level="INFO">${output} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:11...</msg>
<status status="PASS" starttime="20210602 18:11:55.342" endtime="20210602 18:11:58.173"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:11:58.174" level="INFO">{
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:11:55.236Z",
  "modificationTime" : "2021-06-02T18:11:55.236Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210602 18:11:58.174" endtime="20210602 18:11:58.174"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:11:58.175" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:11:58.174" endtime="20210602 18:11:58.175"/>
</kw>
<status status="PASS" starttime="20210602 18:11:55.341" endtime="20210602 18:11:58.175"/>
</kw>
<msg timestamp="20210602 18:11:58.175" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:11:55.341" endtime="20210602 18:11:58.175"/>
</kw>
<msg timestamp="20210602 18:11:58.176" level="INFO">${result} = {
  "metadata" : { },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-02T18:11...</msg>
<status status="PASS" starttime="20210602 18:11:55.340" endtime="20210602 18:11:58.176"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:11:58.176" endtime="20210602 18:11:58.176"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:11:58.181" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:11:58.180" endtime="20210602 18:11:58.181"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:11:58.181" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:11:58.181" endtime="20210602 18:11:58.181"/>
</kw>
<status status="PASS" starttime="20210602 18:11:58.180" endtime="20210602 18:11:58.181"/>
</kw>
<msg timestamp="20210602 18:11:58.182" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:11:58.179" endtime="20210602 18:11:58.182"/>
</kw>
<status status="PASS" starttime="20210602 18:11:58.178" endtime="20210602 18:11:58.182"/>
</kw>
<msg timestamp="20210602 18:11:58.182" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210602 18:11:58.177" endtime="20210602 18:11:58.182"/>
</kw>
<msg timestamp="20210602 18:11:58.182" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210602 18:11:58.177" endtime="20210602 18:11:58.182"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:11:58.185" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:01.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:01.001" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:11:58.184" endtime="20210602 18:12:01.001"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:01.002" level="INFO"/>
<status status="PASS" starttime="20210602 18:12:01.002" endtime="20210602 18:12:01.002"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:01.003" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:01.003" endtime="20210602 18:12:01.003"/>
</kw>
<status status="PASS" starttime="20210602 18:11:58.183" endtime="20210602 18:12:01.003"/>
</kw>
<msg timestamp="20210602 18:12:01.003" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:11:58.183" endtime="20210602 18:12:01.004"/>
</kw>
<status status="PASS" starttime="20210602 18:11:58.182" endtime="20210602 18:12:01.004"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:01.007" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:06.568" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:06.568" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:12:01.005" endtime="20210602 18:12:06.568"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:06.570" level="INFO"/>
<status status="PASS" starttime="20210602 18:12:06.569" endtime="20210602 18:12:06.570"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:06.570" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:06.570" endtime="20210602 18:12:06.570"/>
</kw>
<status status="PASS" starttime="20210602 18:12:01.005" endtime="20210602 18:12:06.571"/>
</kw>
<msg timestamp="20210602 18:12:06.571" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:01.004" endtime="20210602 18:12:06.571"/>
</kw>
<status status="PASS" starttime="20210602 18:12:01.004" endtime="20210602 18:12:06.571"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:06.574" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:11.275" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:11.275" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:12:06.572" endtime="20210602 18:12:11.275"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:11.276" level="INFO"/>
<status status="PASS" starttime="20210602 18:12:11.276" endtime="20210602 18:12:11.276"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:11.277" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:11.277" endtime="20210602 18:12:11.277"/>
</kw>
<status status="PASS" starttime="20210602 18:12:06.572" endtime="20210602 18:12:11.277"/>
</kw>
<msg timestamp="20210602 18:12:11.277" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:06.572" endtime="20210602 18:12:11.278"/>
</kw>
<status status="PASS" starttime="20210602 18:12:06.571" endtime="20210602 18:12:11.278"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:11.281" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:15.800" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:15.800" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:12:11.279" endtime="20210602 18:12:15.800"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:15.801" level="INFO"/>
<status status="PASS" starttime="20210602 18:12:15.800" endtime="20210602 18:12:15.801"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:15.802" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:15.801" endtime="20210602 18:12:15.802"/>
</kw>
<status status="PASS" starttime="20210602 18:12:11.279" endtime="20210602 18:12:15.802"/>
</kw>
<msg timestamp="20210602 18:12:15.802" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:11.278" endtime="20210602 18:12:15.802"/>
</kw>
<status status="PASS" starttime="20210602 18:12:11.278" endtime="20210602 18:12:15.802"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210602 18:11:46.549" endtime="20210602 18:12:15.803"/>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:12:15.807" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:12:15.807" endtime="20210602 18:12:15.808"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:12:15.808" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:12:15.808" endtime="20210602 18:12:15.808"/>
</kw>
<status status="PASS" starttime="20210602 18:12:15.807" endtime="20210602 18:12:15.808"/>
</kw>
<msg timestamp="20210602 18:12:15.809" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:12:15.806" endtime="20210602 18:12:15.809"/>
</kw>
<status status="PASS" starttime="20210602 18:12:15.805" endtime="20210602 18:12:15.809"/>
</kw>
<msg timestamp="20210602 18:12:15.809" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:12:15.804" endtime="20210602 18:12:15.809"/>
</kw>
<msg timestamp="20210602 18:12:15.809" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:12:15.804" endtime="20210602 18:12:15.809"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:15.812" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:18.593" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:18.593" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:12:15.810" endtime="20210602 18:12:18.593"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:18.595" level="INFO"/>
<status status="PASS" starttime="20210602 18:12:18.594" endtime="20210602 18:12:18.595"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:18.596" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:18.595" endtime="20210602 18:12:18.596"/>
</kw>
<status status="PASS" starttime="20210602 18:12:15.810" endtime="20210602 18:12:18.596"/>
</kw>
<msg timestamp="20210602 18:12:18.596" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:15.810" endtime="20210602 18:12:18.596"/>
</kw>
<status status="PASS" starttime="20210602 18:12:15.809" endtime="20210602 18:12:18.596"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:18.599" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:21.477" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:21.477" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210602 18:12:18.598" endtime="20210602 18:12:21.477"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:21.479" level="INFO"/>
<status status="PASS" starttime="20210602 18:12:21.478" endtime="20210602 18:12:21.479"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:21.479" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:21.479" endtime="20210602 18:12:21.479"/>
</kw>
<status status="PASS" starttime="20210602 18:12:18.597" endtime="20210602 18:12:21.480"/>
</kw>
<msg timestamp="20210602 18:12:21.480" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:18.597" endtime="20210602 18:12:21.480"/>
</kw>
<status status="PASS" starttime="20210602 18:12:18.596" endtime="20210602 18:12:21.480"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210602 18:12:15.803" endtime="20210602 18:12:21.480"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210602 18:11:46.500" endtime="20210602 18:12:21.482"/>
</suite>
<suite id="s1-s3-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:13:51.418" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:13:51.417" endtime="20210602 18:13:51.418"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:13:51.418" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:13:51.418" endtime="20210602 18:13:51.418"/>
</kw>
<status status="PASS" starttime="20210602 18:13:51.417" endtime="20210602 18:13:51.418"/>
</kw>
<msg timestamp="20210602 18:13:51.418" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:13:51.416" endtime="20210602 18:13:51.418"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:13:51.419" endtime="20210602 18:13:51.419"/>
</kw>
<msg timestamp="20210602 18:13:51.419" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:13:51.418" endtime="20210602 18:13:51.419"/>
</kw>
<status status="PASS" starttime="20210602 18:13:51.416" endtime="20210602 18:13:51.420"/>
</kw>
<msg timestamp="20210602 18:13:51.420" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:13:51.415" endtime="20210602 18:13:51.420"/>
</kw>
<msg timestamp="20210602 18:13:51.420" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:13:51.414" endtime="20210602 18:13:51.420"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:13:51.420" level="INFO">${random} = 00314</msg>
<status status="PASS" starttime="20210602 18:13:51.420" endtime="20210602 18:13:51.420"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:13:51.425" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-00314 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:13:54.419" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:13:54.419" level="INFO">${output} = 2021-06-02 18:13:53 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:13:53 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210602 18:13:51.421" endtime="20210602 18:13:54.419"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:13:54.420" level="INFO">2021-06-02 18:13:53 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:13:53 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:13:53 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:13:53 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:13:53 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-A1CC28EECFF0-&gt;dd60b82f-ead3-4dad-89db-a80aaeded5d2
2021-06-02 18:13:53 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210602 18:13:54.419" endtime="20210602 18:13:54.420"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:13:54.420" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:13:54.420" endtime="20210602 18:13:54.421"/>
</kw>
<status status="PASS" starttime="20210602 18:13:51.421" endtime="20210602 18:13:54.421"/>
</kw>
<msg timestamp="20210602 18:13:54.421" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:13:51.421" endtime="20210602 18:13:54.421"/>
</kw>
<msg timestamp="20210602 18:13:54.421" level="INFO">${result} = 2021-06-02 18:13:53 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:13:53 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210602 18:13:51.420" endtime="20210602 18:13:54.421"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:13:54.424" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:13:55.933" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:13:55.933" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:13 ofs://om/volume1/bucket1/ozone-00314
-rw-...</msg>
<status status="PASS" starttime="20210602 18:13:54.423" endtime="20210602 18:13:55.933"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:13:55.934" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:13 ofs://om/volume1/bucket1/ozone-00314
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:12 ofs://om/volume1/bucket1/ozone-85885
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:13 ofs://om/volume1/bucket1/wordcount-KPzd9hYS.txt</msg>
<status status="PASS" starttime="20210602 18:13:55.933" endtime="20210602 18:13:55.934"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:13:55.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:13:55.934" endtime="20210602 18:13:55.935"/>
</kw>
<status status="PASS" starttime="20210602 18:13:54.422" endtime="20210602 18:13:55.935"/>
</kw>
<msg timestamp="20210602 18:13:55.935" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:13:54.422" endtime="20210602 18:13:55.935"/>
</kw>
<msg timestamp="20210602 18:13:55.936" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:13 ofs://om/volume1/bucket1/ozone-00314
-rw-...</msg>
<status status="PASS" starttime="20210602 18:13:54.421" endtime="20210602 18:13:55.936"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:13:55.936" endtime="20210602 18:13:55.936"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210602 18:13:51.414" endtime="20210602 18:13:55.936"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210602 18:13:51.369" endtime="20210602 18:13:55.937"/>
</suite>
<suite id="s1-s3-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:12:25.630" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:12:25.630" endtime="20210602 18:12:25.630"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:12:25.631" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:12:25.630" endtime="20210602 18:12:25.631"/>
</kw>
<status status="PASS" starttime="20210602 18:12:25.629" endtime="20210602 18:12:25.631"/>
</kw>
<msg timestamp="20210602 18:12:25.631" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:12:25.629" endtime="20210602 18:12:25.631"/>
</kw>
<status status="PASS" starttime="20210602 18:12:25.628" endtime="20210602 18:12:25.631"/>
</kw>
<msg timestamp="20210602 18:12:25.631" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:12:25.628" endtime="20210602 18:12:25.631"/>
</kw>
<msg timestamp="20210602 18:12:25.632" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:12:25.627" endtime="20210602 18:12:25.632"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:12:25.632" level="INFO">${random} = 85885</msg>
<status status="PASS" starttime="20210602 18:12:25.632" endtime="20210602 18:12:25.632"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:25.637" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-85885 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:29.041" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:29.041" level="INFO">${output} = 2021-06-02 18:12:27 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:12:27 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210602 18:12:25.633" endtime="20210602 18:12:29.041"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:29.042" level="INFO">2021-06-02 18:12:27 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:12:27 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:12:27 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:12:27 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:12:27 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-E9B132618D2D-&gt;b4f17921-12ca-4179-8ab2-0243a8f80cdc
2021-06-02 18:12:27 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210602 18:12:29.042" endtime="20210602 18:12:29.042"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:29.043" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:29.043" endtime="20210602 18:12:29.043"/>
</kw>
<status status="PASS" starttime="20210602 18:12:25.633" endtime="20210602 18:12:29.043"/>
</kw>
<msg timestamp="20210602 18:12:29.043" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:25.633" endtime="20210602 18:12:29.044"/>
</kw>
<msg timestamp="20210602 18:12:29.044" level="INFO">${result} = 2021-06-02 18:12:27 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:12:27 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210602 18:12:25.632" endtime="20210602 18:12:29.044"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:29.047" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:30.621" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:30.621" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:12 o3fs://bucket1.volume1.om/ozone-85885
dr...</msg>
<status status="PASS" starttime="20210602 18:12:29.045" endtime="20210602 18:12:30.621"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:30.622" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:12 o3fs://bucket1.volume1.om/ozone-85885
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210602 18:12:30.621" endtime="20210602 18:12:30.622"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:30.623" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:30.622" endtime="20210602 18:12:30.623"/>
</kw>
<status status="PASS" starttime="20210602 18:12:29.045" endtime="20210602 18:12:30.623"/>
</kw>
<msg timestamp="20210602 18:12:30.623" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:29.045" endtime="20210602 18:12:30.623"/>
</kw>
<msg timestamp="20210602 18:12:30.623" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-02 18:12 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-02 18:12 o3fs://bucket1.volume1.om/ozone-85885
dr...</msg>
<status status="PASS" starttime="20210602 18:12:29.044" endtime="20210602 18:12:30.623"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:12:30.624" endtime="20210602 18:12:30.624"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210602 18:12:25.626" endtime="20210602 18:12:30.624"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210602 18:12:25.578" endtime="20210602 18:12:30.625"/>
</suite>
<suite id="s1-s3-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:14:00.009" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:14:00.018" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:14:00.018" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:00.006" endtime="20210602 18:14:00.018"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:14:00.019" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:00.018" endtime="20210602 18:14:00.019"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:14:00.019" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:14:00.019" endtime="20210602 18:14:00.019"/>
</kw>
<status status="PASS" starttime="20210602 18:14:00.006" endtime="20210602 18:14:00.020"/>
</kw>
<msg timestamp="20210602 18:14:00.020" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:14:00.006" endtime="20210602 18:14:00.020"/>
</kw>
<msg timestamp="20210602 18:14:00.020" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:00.005" endtime="20210602 18:14:00.021"/>
</kw>
<msg timestamp="20210602 18:14:00.021" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:00.005" endtime="20210602 18:14:00.021"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:14:00.024" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:14:00.024" endtime="20210602 18:14:00.024"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:14:00.025" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:14:00.024" endtime="20210602 18:14:00.025"/>
</kw>
<status status="PASS" starttime="20210602 18:14:00.023" endtime="20210602 18:14:00.025"/>
</kw>
<msg timestamp="20210602 18:14:00.025" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:14:00.023" endtime="20210602 18:14:00.025"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:14:00.025" endtime="20210602 18:14:00.026"/>
</kw>
<msg timestamp="20210602 18:14:00.026" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:14:00.025" endtime="20210602 18:14:00.026"/>
</kw>
<status status="PASS" starttime="20210602 18:14:00.022" endtime="20210602 18:14:00.026"/>
</kw>
<msg timestamp="20210602 18:14:00.026" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:14:00.022" endtime="20210602 18:14:00.026"/>
</kw>
<msg timestamp="20210602 18:14:00.026" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:14:00.021" endtime="20210602 18:14:00.026"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:14:00.029" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:14:34.131" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:14:34.131" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:14:01 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:14:01 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210602 18:14:00.028" endtime="20210602 18:14:34.131"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:14:34.132" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:14:01 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:14:01 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:14:01 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:14:01 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:14:01 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0B70FD7D2655-&gt;b4f17921-12ca-4179-8ab2-0243a8f80cdc
2021-06-02 18:14:01 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-02 18:14:02 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:14:02 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:14:02 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-61A604077303-&gt;dd60b82f-ead3-4dad-89db-a80aaeded5d2
2021-06-02 18:14:02 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:14:03 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:14:03 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:14:05 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657475977_0003
2021-06-02 18:14:05 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:14:06 INFO  Configuration:2795 - resource-types.xml not found
2021-06-02 18:14:06 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-02 18:14:06 INFO  YarnClientImpl:329 - Submitted application application_1622657475977_0003
2021-06-02 18:14:06 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622657475977_0003/
2021-06-02 18:14:06 INFO  Job:1614 - Running job: job_1622657475977_0003
2021-06-02 18:14:12 INFO  Job:1635 - Job job_1622657475977_0003 running in uber mode : false
2021-06-02 18:14:12 INFO  Job:1642 -  map 0% reduce 0%
2021-06-02 18:14:18 INFO  Job:1642 -  map 33% reduce 0%
2021-06-02 18:14:23 INFO  Job:1642 -  map 67% reduce 0%
2021-06-02 18:14:28 INFO  Job:1642 -  map 100% reduce 0%
2021-06-02 18:14:32 INFO  Job:1642 -  map 100% reduce 100%
2021-06-02 18:14:33 INFO  Job:1653 - Job job_1622657475977_0003 completed successfully
2021-06-02 18:14:33 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1116985
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=33512
		Total time spent by all reduces in occupied slots (ms)=12328
		Total time spent by all map tasks (ms)=8378
		Total time spent by all reduce tasks (ms)=3082
		Total vcore-milliseconds taken by all map tasks=8378
		Total vcore-milliseconds taken by all reduce tasks=3082
		Total megabyte-milliseconds taken by all map tasks=34316288
		Total megabyte-milliseconds taken by all reduce tasks=12623872
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=536
		CPU time spent (ms)=5840
		Physical memory (bytes) snapshot=1414111232
		Virtual memory (bytes) snapshot=15826173952
		Total committed heap usage (bytes)=1448607744
		Peak Map Physical memory (bytes)=372502528
		Peak Map Virtual memory (bytes)=3957329920
		Peak Reduce Physical memory (bytes)=402853888
		Peak Reduce Virtual memory (bytes)=3971923968
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 30.993 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210602 18:14:34.131" endtime="20210602 18:14:34.132"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:14:34.133" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:14:34.132" endtime="20210602 18:14:34.133"/>
</kw>
<status status="PASS" starttime="20210602 18:14:00.027" endtime="20210602 18:14:34.133"/>
</kw>
<msg timestamp="20210602 18:14:34.133" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:14:00.027" endtime="20210602 18:14:34.133"/>
</kw>
<msg timestamp="20210602 18:14:34.133" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:14:01 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:14:01 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210602 18:14:00.026" endtime="20210602 18:14:34.133"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:14:34.134" endtime="20210602 18:14:34.134"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:14:00.004" endtime="20210602 18:14:34.134"/>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:14:34.139" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:14:34.143" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:14:34.143" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:34.137" endtime="20210602 18:14:34.143"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:14:34.144" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:34.144" endtime="20210602 18:14:34.144"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:14:34.145" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:14:34.144" endtime="20210602 18:14:34.145"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.137" endtime="20210602 18:14:34.145"/>
</kw>
<msg timestamp="20210602 18:14:34.145" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:14:34.136" endtime="20210602 18:14:34.145"/>
</kw>
<msg timestamp="20210602 18:14:34.145" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:34.136" endtime="20210602 18:14:34.145"/>
</kw>
<msg timestamp="20210602 18:14:34.146" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:14:34.136" endtime="20210602 18:14:34.146"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:14:34.146" level="INFO">${random} = 3XWIxZHF</msg>
<status status="PASS" starttime="20210602 18:14:34.146" endtime="20210602 18:14:34.146"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:14:34.149" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:14:34.149" endtime="20210602 18:14:34.149"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:14:34.150" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:14:34.149" endtime="20210602 18:14:34.150"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.148" endtime="20210602 18:14:34.150"/>
</kw>
<msg timestamp="20210602 18:14:34.150" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:14:34.148" endtime="20210602 18:14:34.150"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210602 18:14:34.151" endtime="20210602 18:14:34.151"/>
</kw>
<msg timestamp="20210602 18:14:34.151" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210602 18:14:34.150" endtime="20210602 18:14:34.151"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.147" endtime="20210602 18:14:34.151"/>
</kw>
<msg timestamp="20210602 18:14:34.151" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:14:34.147" endtime="20210602 18:14:34.151"/>
</kw>
<msg timestamp="20210602 18:14:34.152" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210602 18:14:34.146" endtime="20210602 18:14:34.152"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:14:34.154" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:14:34.154" endtime="20210602 18:14:34.154"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:14:34.155" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:14:34.154" endtime="20210602 18:14:34.155"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.154" endtime="20210602 18:14:34.155"/>
</kw>
<msg timestamp="20210602 18:14:34.155" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:14:34.153" endtime="20210602 18:14:34.155"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:14:34.156" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210602 18:14:34.156" endtime="20210602 18:14:34.156"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:14:34.157" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210602 18:14:34.157" endtime="20210602 18:14:34.157"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.156" endtime="20210602 18:14:34.157"/>
</kw>
<msg timestamp="20210602 18:14:34.157" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210602 18:14:34.155" endtime="20210602 18:14:34.157"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.153" endtime="20210602 18:14:34.157"/>
</kw>
<msg timestamp="20210602 18:14:34.158" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210602 18:14:34.152" endtime="20210602 18:14:34.158"/>
</kw>
<msg timestamp="20210602 18:14:34.158" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210602 18:14:34.152" endtime="20210602 18:14:34.158"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:14:34.161" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210602 18:14:34.160" endtime="20210602 18:14:34.161"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:14:34.161" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210602 18:14:34.161" endtime="20210602 18:14:34.161"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.160" endtime="20210602 18:14:34.162"/>
</kw>
<msg timestamp="20210602 18:14:34.162" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210602 18:14:34.160" endtime="20210602 18:14:34.162"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:14:34.163" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210602 18:14:34.163" endtime="20210602 18:14:34.163"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:14:34.163" level="INFO">${result} = /wordcount-3XWIxZHF.txt</msg>
<status status="PASS" starttime="20210602 18:14:34.163" endtime="20210602 18:14:34.164"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.162" endtime="20210602 18:14:34.164"/>
</kw>
<msg timestamp="20210602 18:14:34.164" level="INFO">${path_with_leading} = /wordcount-3XWIxZHF.txt</msg>
<status status="PASS" starttime="20210602 18:14:34.162" endtime="20210602 18:14:34.164"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.159" endtime="20210602 18:14:34.164"/>
</kw>
<msg timestamp="20210602 18:14:34.164" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-3XWIxZHF.txt</msg>
<status status="PASS" starttime="20210602 18:14:34.159" endtime="20210602 18:14:34.164"/>
</kw>
<msg timestamp="20210602 18:14:34.164" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-3XWIxZHF.txt</msg>
<status status="PASS" starttime="20210602 18:14:34.158" endtime="20210602 18:14:34.164"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:14:34.167" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-3XWIxZHF.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:15:11.566" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:15:11.566" level="INFO">${output} = 2021-06-02 18:14:35 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:14:35 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210602 18:14:34.166" endtime="20210602 18:15:11.566"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:15:11.567" level="INFO">2021-06-02 18:14:35 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:14:35 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:14:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:14:36 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:14:36 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:14:36 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:14:36 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-E2A3142C0C9B-&gt;dd60b82f-ead3-4dad-89db-a80aaeded5d2
2021-06-02 18:14:36 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:14:37 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:14:37 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:14:37 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-5B379A21A199-&gt;b4f17921-12ca-4179-8ab2-0243a8f80cdc
2021-06-02 18:14:37 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:14:37 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657475977_0004
2021-06-02 18:14:37 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:14:37 INFO  Configuration:2795 - resource-types.xml not found
2021-06-02 18:14:37 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-02 18:14:37 INFO  YarnClientImpl:329 - Submitted application application_1622657475977_0004
2021-06-02 18:14:37 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622657475977_0004/
2021-06-02 18:14:37 INFO  Job:1614 - Running job: job_1622657475977_0004
2021-06-02 18:14:45 INFO  Job:1635 - Job job_1622657475977_0004 running in uber mode : false
2021-06-02 18:14:45 INFO  Job:1642 -  map 0% reduce 0%
2021-06-02 18:14:51 INFO  Job:1642 -  map 33% reduce 0%
2021-06-02 18:14:57 INFO  Job:1642 -  map 67% reduce 0%
2021-06-02 18:15:02 INFO  Job:1642 -  map 100% reduce 0%
2021-06-02 18:15:06 INFO  Job:1642 -  map 100% reduce 100%
2021-06-02 18:15:11 INFO  Job:1653 - Job job_1622657475977_0004 completed successfully
2021-06-02 18:15:11 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1179663
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34320
		Total time spent by all reduces in occupied slots (ms)=12292
		Total time spent by all map tasks (ms)=8580
		Total time spent by all reduce tasks (ms)=3073
		Total vcore-milliseconds taken by all map tasks=8580
		Total vcore-milliseconds taken by all reduce tasks=3073
		Total megabyte-milliseconds taken by all map tasks=35143680
		Total megabyte-milliseconds taken by all reduce tasks=12587008
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=540
		CPU time spent (ms)=6340
		Physical memory (bytes) snapshot=1419878400
		Virtual memory (bytes) snapshot=15823290368
		Total committed heap usage (bytes)=1427636224
		Peak Map Physical memory (bytes)=377974784
		Peak Map Virtual memory (bytes)=3957067776
		Peak Reduce Physical memory (bytes)=396312576
		Peak Reduce Virtual memory (bytes)=3969064960
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210602 18:15:11.567" endtime="20210602 18:15:11.568"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:15:11.568" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:15:11.568" endtime="20210602 18:15:11.568"/>
</kw>
<status status="PASS" starttime="20210602 18:14:34.165" endtime="20210602 18:15:11.568"/>
</kw>
<msg timestamp="20210602 18:15:11.568" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:14:34.165" endtime="20210602 18:15:11.569"/>
</kw>
<msg timestamp="20210602 18:15:11.569" level="INFO">${output} = 2021-06-02 18:14:35 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:14:35 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210602 18:14:34.164" endtime="20210602 18:15:11.569"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:15:11.569" endtime="20210602 18:15:11.569"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:15:11.570" endtime="20210602 18:15:11.570"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:14:34.135" endtime="20210602 18:15:11.570"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210602 18:13:59.959" endtime="20210602 18:15:11.571"/>
</suite>
<suite id="s1-s3-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:34.723" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:12:34.729" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:12:34.729" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:12:34.720" endtime="20210602 18:12:34.729"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:12:34.730" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:12:34.730" endtime="20210602 18:12:34.730"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:12:34.731" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:12:34.731" endtime="20210602 18:12:34.731"/>
</kw>
<status status="PASS" starttime="20210602 18:12:34.720" endtime="20210602 18:12:34.731"/>
</kw>
<msg timestamp="20210602 18:12:34.731" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:34.719" endtime="20210602 18:12:34.732"/>
</kw>
<msg timestamp="20210602 18:12:34.732" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:12:34.719" endtime="20210602 18:12:34.733"/>
</kw>
<msg timestamp="20210602 18:12:34.733" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:12:34.719" endtime="20210602 18:12:34.733"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:12:34.736" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:12:34.736" endtime="20210602 18:12:34.736"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:12:34.736" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:12:34.736" endtime="20210602 18:12:34.736"/>
</kw>
<status status="PASS" starttime="20210602 18:12:34.735" endtime="20210602 18:12:34.737"/>
</kw>
<msg timestamp="20210602 18:12:34.737" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:12:34.735" endtime="20210602 18:12:34.737"/>
</kw>
<status status="PASS" starttime="20210602 18:12:34.734" endtime="20210602 18:12:34.737"/>
</kw>
<msg timestamp="20210602 18:12:34.737" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:12:34.734" endtime="20210602 18:12:34.737"/>
</kw>
<msg timestamp="20210602 18:12:34.737" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:12:34.733" endtime="20210602 18:12:34.737"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:12:34.740" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:13:14.684" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:13:14.684" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:12:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:12:36 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210602 18:12:34.738" endtime="20210602 18:13:14.684"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:13:14.685" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:12:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:12:36 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:12:36 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:12:36 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:12:36 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-9C3B5B476FD2-&gt;dd60b82f-ead3-4dad-89db-a80aaeded5d2
2021-06-02 18:12:36 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-02 18:12:40 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:12:40 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0CA3BD4A074C-&gt;b4f17921-12ca-4179-8ab2-0243a8f80cdc
2021-06-02 18:12:40 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:12:40 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:12:40 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:12:40 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657475977_0001
2021-06-02 18:12:40 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:12:41 INFO  Configuration:2795 - resource-types.xml not found
2021-06-02 18:12:41 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-02 18:12:41 INFO  YarnClientImpl:329 - Submitted application application_1622657475977_0001
2021-06-02 18:12:41 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622657475977_0001/
2021-06-02 18:12:41 INFO  Job:1614 - Running job: job_1622657475977_0001
2021-06-02 18:12:49 INFO  Job:1635 - Job job_1622657475977_0001 running in uber mode : false
2021-06-02 18:12:49 INFO  Job:1642 -  map 0% reduce 0%
2021-06-02 18:12:55 INFO  Job:1642 -  map 33% reduce 0%
2021-06-02 18:13:00 INFO  Job:1642 -  map 67% reduce 0%
2021-06-02 18:13:05 INFO  Job:1642 -  map 100% reduce 0%
2021-06-02 18:13:13 INFO  Job:1642 -  map 100% reduce 100%
2021-06-02 18:13:14 INFO  Job:1653 - Job job_1622657475977_0001 completed successfully
2021-06-02 18:13:14 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1117201
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=807
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34236
		Total time spent by all reduces in occupied slots (ms)=23528
		Total time spent by all map tasks (ms)=8559
		Total time spent by all reduce tasks (ms)=5882
		Total vcore-milliseconds taken by all map tasks=8559
		Total vcore-milliseconds taken by all reduce tasks=5882
		Total megabyte-milliseconds taken by all map tasks=35057664
		Total megabyte-milliseconds taken by all reduce tasks=24092672
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=453
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=587
		CPU time spent (ms)=6220
		Physical memory (bytes) snapshot=1318506496
		Virtual memory (bytes) snapshot=15825989632
		Total committed heap usage (bytes)=1210580992
		Peak Map Physical memory (bytes)=369999872
		Peak Map Virtual memory (bytes)=3957211136
		Peak Reduce Physical memory (bytes)=306913280
		Peak Reduce Virtual memory (bytes)=3971522560
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 34.096 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210602 18:13:14.684" endtime="20210602 18:13:14.685"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:13:14.686" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:13:14.686" endtime="20210602 18:13:14.686"/>
</kw>
<status status="PASS" starttime="20210602 18:12:34.738" endtime="20210602 18:13:14.686"/>
</kw>
<msg timestamp="20210602 18:13:14.686" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:12:34.738" endtime="20210602 18:13:14.686"/>
</kw>
<msg timestamp="20210602 18:13:14.687" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-02 18:12:36 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:12:36 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210602 18:12:34.737" endtime="20210602 18:13:14.687"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:13:14.687" endtime="20210602 18:13:14.687"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:12:34.718" endtime="20210602 18:13:14.688"/>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:13:14.692" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:13:14.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:13:14.697" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:13:14.691" endtime="20210602 18:13:14.697"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:13:14.698" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:13:14.697" endtime="20210602 18:13:14.698"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:13:14.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:13:14.698" endtime="20210602 18:13:14.698"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.690" endtime="20210602 18:13:14.699"/>
</kw>
<msg timestamp="20210602 18:13:14.699" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:13:14.690" endtime="20210602 18:13:14.699"/>
</kw>
<msg timestamp="20210602 18:13:14.699" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:13:14.689" endtime="20210602 18:13:14.699"/>
</kw>
<msg timestamp="20210602 18:13:14.699" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210602 18:13:14.689" endtime="20210602 18:13:14.699"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210602 18:13:14.700" level="INFO">${random} = KPzd9hYS</msg>
<status status="PASS" starttime="20210602 18:13:14.699" endtime="20210602 18:13:14.700"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:13:14.703" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:13:14.702" endtime="20210602 18:13:14.703"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:13:14.703" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:13:14.703" endtime="20210602 18:13:14.703"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.702" endtime="20210602 18:13:14.704"/>
</kw>
<msg timestamp="20210602 18:13:14.704" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:13:14.701" endtime="20210602 18:13:14.704"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.701" endtime="20210602 18:13:14.704"/>
</kw>
<msg timestamp="20210602 18:13:14.704" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:13:14.700" endtime="20210602 18:13:14.704"/>
</kw>
<msg timestamp="20210602 18:13:14.704" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210602 18:13:14.700" endtime="20210602 18:13:14.704"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:13:14.708" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:13:14.707" endtime="20210602 18:13:14.708"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:13:14.708" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:13:14.708" endtime="20210602 18:13:14.708"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.707" endtime="20210602 18:13:14.708"/>
</kw>
<msg timestamp="20210602 18:13:14.708" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:13:14.706" endtime="20210602 18:13:14.708"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.706" endtime="20210602 18:13:14.709"/>
</kw>
<msg timestamp="20210602 18:13:14.709" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210602 18:13:14.705" endtime="20210602 18:13:14.709"/>
</kw>
<msg timestamp="20210602 18:13:14.709" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210602 18:13:14.705" endtime="20210602 18:13:14.709"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210602 18:13:14.712" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210602 18:13:14.712" endtime="20210602 18:13:14.712"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210602 18:13:14.713" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210602 18:13:14.712" endtime="20210602 18:13:14.713"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.711" endtime="20210602 18:13:14.713"/>
</kw>
<msg timestamp="20210602 18:13:14.713" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210602 18:13:14.711" endtime="20210602 18:13:14.713"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.710" endtime="20210602 18:13:14.713"/>
</kw>
<msg timestamp="20210602 18:13:14.713" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-KPzd9hYS.txt</msg>
<status status="PASS" starttime="20210602 18:13:14.710" endtime="20210602 18:13:14.713"/>
</kw>
<msg timestamp="20210602 18:13:14.713" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-KPzd9hYS.txt</msg>
<status status="PASS" starttime="20210602 18:13:14.709" endtime="20210602 18:13:14.713"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210602 18:13:14.716" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-KPzd9hYS.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210602 18:13:47.300" level="INFO">${rc} = 0</msg>
<msg timestamp="20210602 18:13:47.301" level="INFO">${output} = 2021-06-02 18:13:16 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:13:16 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210602 18:13:14.715" endtime="20210602 18:13:47.301"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210602 18:13:47.302" level="INFO">2021-06-02 18:13:16 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:13:16 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-02 18:13:16 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-02 18:13:16 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-02 18:13:16 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-02 18:13:17 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-02 18:13:17 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-604A899F21B5-&gt;dd60b82f-ead3-4dad-89db-a80aaeded5d2
2021-06-02 18:13:17 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:13:17 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-02 18:13:17 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-963AB3ACD42E-&gt;b4f17921-12ca-4179-8ab2-0243a8f80cdc
2021-06-02 18:13:17 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-02 18:13:17 INFO  JobSubmitter:202 - number of splits:3
2021-06-02 18:13:18 INFO  JobSubmitter:298 - Submitting tokens for job: job_1622657475977_0002
2021-06-02 18:13:18 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-02 18:13:18 INFO  Configuration:2795 - resource-types.xml not found
2021-06-02 18:13:18 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-02 18:13:18 INFO  YarnClientImpl:329 - Submitted application application_1622657475977_0002
2021-06-02 18:13:18 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1622657475977_0002/
2021-06-02 18:13:18 INFO  Job:1614 - Running job: job_1622657475977_0002
2021-06-02 18:13:25 INFO  Job:1635 - Job job_1622657475977_0002 running in uber mode : false
2021-06-02 18:13:25 INFO  Job:1642 -  map 0% reduce 0%
2021-06-02 18:13:31 INFO  Job:1642 -  map 33% reduce 0%
2021-06-02 18:13:36 INFO  Job:1642 -  map 67% reduce 0%
2021-06-02 18:13:41 INFO  Job:1642 -  map 100% reduce 0%
2021-06-02 18:13:45 INFO  Job:1642 -  map 100% reduce 100%
2021-06-02 18:13:46 INFO  Job:1653 - Job job_1622657475977_0002 completed successfully
2021-06-02 18:13:46 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1179747
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34404
		Total time spent by all reduces in occupied slots (ms)=12236
		Total time spent by all map tasks (ms)=8601
		Total time spent by all reduce tasks (ms)=3059
		Total vcore-milliseconds taken by all map tasks=8601
		Total vcore-milliseconds taken by all reduce tasks=3059
		Total megabyte-milliseconds taken by all map tasks=35229696
		Total megabyte-milliseconds taken by all reduce tasks=12529664
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=554
		CPU time spent (ms)=6010
		Physical memory (bytes) snapshot=1367040000
		Virtual memory (bytes) snapshot=15815929856
		Total committed heap usage (bytes)=1398800384
		Peak Map Physical memory (bytes)=370819072
		Peak Map Virtual memory (bytes)=3949248512
		Peak Reduce Physical memory (bytes)=308903936
		Peak Reduce Virtual memory (bytes)=3970953216
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210602 18:13:47.301" endtime="20210602 18:13:47.302"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210602 18:13:47.303" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210602 18:13:47.302" endtime="20210602 18:13:47.303"/>
</kw>
<status status="PASS" starttime="20210602 18:13:14.714" endtime="20210602 18:13:47.303"/>
</kw>
<msg timestamp="20210602 18:13:47.303" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210602 18:13:14.714" endtime="20210602 18:13:47.303"/>
</kw>
<msg timestamp="20210602 18:13:47.304" level="INFO">${output} = 2021-06-02 18:13:16 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.5:8032
2021-06-02 18:13:16 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210602 18:13:14.714" endtime="20210602 18:13:47.304"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:13:47.304" endtime="20210602 18:13:47.304"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210602 18:13:47.304" endtime="20210602 18:13:47.304"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210602 18:13:14.688" endtime="20210602 18:13:47.305"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210602 18:12:34.673" endtime="20210602 18:13:47.306"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="188842"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="542204"/>
</suite>
<statistics>
<total>
<stat pass="24" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="24" fail="0" skip="0" id="s1" name="ozone-mr">ozone-mr</stat>
<stat pass="8" fail="0" skip="0" id="s1-s1" name="hadoop27">ozone-mr.hadoop27</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1" name="Createmrenv">ozone-mr.hadoop27.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s2" name="hadoopfs-ofs">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s3" name="hadoopfs-o3fs">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s4" name="mapreduce-ofs">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s5" name="mapreduce-o3fs">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s2" name="hadoop31">ozone-mr.hadoop31</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s1" name="Createmrenv">ozone-mr.hadoop31.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s2" name="hadoopfs-ofs">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s3" name="hadoopfs-o3fs">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s4" name="mapreduce-ofs">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s5" name="mapreduce-o3fs">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s3" name="hadoop32">ozone-mr.hadoop32</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s1" name="Createmrenv">ozone-mr.hadoop32.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s2" name="hadoopfs-ofs">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s3" name="hadoopfs-o3fs">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s4" name="mapreduce-ofs">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s5" name="mapreduce-o3fs">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
