<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 4.0.3 (Python 3.6.9 on linux)" generated="20210609 10:31:47.854" rpa="false" schemaversion="2">
<suite id="s1" name="ozone-mr">
<suite id="s1-s1" name="hadoop27">
<suite id="s1-s1-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s1-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:19.474" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:21.929" level="INFO">${rc} = 255</msg>
<msg timestamp="20210609 10:19:21.929" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:19:19.471" endtime="20210609 10:19:21.930"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:21.931" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:19:21.930" endtime="20210609 10:19:21.931"/>
</kw>
<msg timestamp="20210609 10:19:21.932" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:19:19.470" endtime="20210609 10:19:21.932"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:21.937" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:24.184" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:24.184" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:21.935" endtime="20210609 10:19:24.184"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:24.186" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:24.185" endtime="20210609 10:19:24.187"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:24.187" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:24.187" endtime="20210609 10:19:24.188"/>
</kw>
<status status="PASS" starttime="20210609 10:19:21.934" endtime="20210609 10:19:24.188"/>
</kw>
<msg timestamp="20210609 10:19:24.188" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:21.934" endtime="20210609 10:19:24.188"/>
</kw>
<msg timestamp="20210609 10:19:24.188" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210609 10:19:21.933" endtime="20210609 10:19:24.188"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:19:24.189" endtime="20210609 10:19:24.189"/>
</kw>
<status status="PASS" starttime="20210609 10:19:21.933" endtime="20210609 10:19:24.191"/>
</kw>
<status status="PASS" starttime="20210609 10:19:21.932" endtime="20210609 10:19:24.191"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:24.200" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:26.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:26.480" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:24.196" endtime="20210609 10:19:26.480"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:26.481" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:26.480" endtime="20210609 10:19:26.481"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:26.482" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:26.481" endtime="20210609 10:19:26.482"/>
</kw>
<status status="PASS" starttime="20210609 10:19:24.196" endtime="20210609 10:19:26.482"/>
</kw>
<msg timestamp="20210609 10:19:26.482" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:24.195" endtime="20210609 10:19:26.482"/>
</kw>
<status status="PASS" starttime="20210609 10:19:24.195" endtime="20210609 10:19:26.483"/>
</kw>
<status status="PASS" starttime="20210609 10:19:24.192" endtime="20210609 10:19:26.483"/>
</kw>
<status status="PASS" starttime="20210609 10:19:24.191" endtime="20210609 10:19:26.483"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210609 10:19:26.483" endtime="20210609 10:19:26.483"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:26.487" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:28.888" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:28.888" level="INFO">${output} = {
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versi...</msg>
<status status="PASS" starttime="20210609 10:19:26.486" endtime="20210609 10:19:28.888"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:28.890" level="INFO">{
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-09T10:19:26.432Z",
  "modificationTime" : "2021-06-09T10:19:26.432Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210609 10:19:28.889" endtime="20210609 10:19:28.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:28.890" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:28.890" endtime="20210609 10:19:28.890"/>
</kw>
<status status="PASS" starttime="20210609 10:19:26.485" endtime="20210609 10:19:28.891"/>
</kw>
<msg timestamp="20210609 10:19:28.891" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:26.484" endtime="20210609 10:19:28.891"/>
</kw>
<msg timestamp="20210609 10:19:28.891" level="INFO">${result} = {
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versi...</msg>
<status status="PASS" starttime="20210609 10:19:26.484" endtime="20210609 10:19:28.891"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:19:28.891" endtime="20210609 10:19:28.892"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:19:28.897" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:19:28.896" endtime="20210609 10:19:28.897"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:19:28.897" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:19:28.897" endtime="20210609 10:19:28.898"/>
</kw>
<status status="PASS" starttime="20210609 10:19:28.895" endtime="20210609 10:19:28.898"/>
</kw>
<msg timestamp="20210609 10:19:28.898" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:19:28.894" endtime="20210609 10:19:28.898"/>
</kw>
<status status="PASS" starttime="20210609 10:19:28.893" endtime="20210609 10:19:28.898"/>
</kw>
<msg timestamp="20210609 10:19:28.898" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210609 10:19:28.893" endtime="20210609 10:19:28.898"/>
</kw>
<msg timestamp="20210609 10:19:28.899" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210609 10:19:28.892" endtime="20210609 10:19:28.899"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:28.901" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:30.893" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:30.893" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:28.900" endtime="20210609 10:19:30.893"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:30.894" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:30.894" endtime="20210609 10:19:30.894"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:30.895" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:30.895" endtime="20210609 10:19:30.895"/>
</kw>
<status status="PASS" starttime="20210609 10:19:28.900" endtime="20210609 10:19:30.895"/>
</kw>
<msg timestamp="20210609 10:19:30.895" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:28.899" endtime="20210609 10:19:30.896"/>
</kw>
<status status="PASS" starttime="20210609 10:19:28.899" endtime="20210609 10:19:30.896"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:30.899" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:35.332" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:35.332" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:30.897" endtime="20210609 10:19:35.332"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:35.334" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:35.333" endtime="20210609 10:19:35.334"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:35.334" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:35.334" endtime="20210609 10:19:35.335"/>
</kw>
<status status="PASS" starttime="20210609 10:19:30.897" endtime="20210609 10:19:35.335"/>
</kw>
<msg timestamp="20210609 10:19:35.335" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:30.897" endtime="20210609 10:19:35.335"/>
</kw>
<status status="PASS" starttime="20210609 10:19:30.896" endtime="20210609 10:19:35.335"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:35.338" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:38.972" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:38.972" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:35.337" endtime="20210609 10:19:38.972"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:38.973" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:38.973" endtime="20210609 10:19:38.973"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:38.974" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:38.973" endtime="20210609 10:19:38.974"/>
</kw>
<status status="PASS" starttime="20210609 10:19:35.336" endtime="20210609 10:19:38.974"/>
</kw>
<msg timestamp="20210609 10:19:38.974" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:35.336" endtime="20210609 10:19:38.975"/>
</kw>
<status status="PASS" starttime="20210609 10:19:35.336" endtime="20210609 10:19:38.975"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:38.979" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:42.687" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:42.687" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:38.977" endtime="20210609 10:19:42.687"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:42.688" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:42.687" endtime="20210609 10:19:42.688"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:42.689" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:42.688" endtime="20210609 10:19:42.689"/>
</kw>
<status status="PASS" starttime="20210609 10:19:38.976" endtime="20210609 10:19:42.689"/>
</kw>
<msg timestamp="20210609 10:19:42.689" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:38.976" endtime="20210609 10:19:42.689"/>
</kw>
<status status="PASS" starttime="20210609 10:19:38.975" endtime="20210609 10:19:42.689"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210609 10:19:19.469" endtime="20210609 10:19:42.690"/>
</test>
<test id="s1-s1-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:19:42.695" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:19:42.695" endtime="20210609 10:19:42.695"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:19:42.696" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:19:42.696" endtime="20210609 10:19:42.696"/>
</kw>
<status status="PASS" starttime="20210609 10:19:42.694" endtime="20210609 10:19:42.696"/>
</kw>
<msg timestamp="20210609 10:19:42.696" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:19:42.693" endtime="20210609 10:19:42.696"/>
</kw>
<status status="PASS" starttime="20210609 10:19:42.692" endtime="20210609 10:19:42.697"/>
</kw>
<msg timestamp="20210609 10:19:42.697" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:19:42.692" endtime="20210609 10:19:42.697"/>
</kw>
<msg timestamp="20210609 10:19:42.697" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:19:42.691" endtime="20210609 10:19:42.697"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:42.700" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:44.717" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:44.718" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:42.699" endtime="20210609 10:19:44.718"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:44.719" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:44.718" endtime="20210609 10:19:44.719"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:44.720" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:44.719" endtime="20210609 10:19:44.720"/>
</kw>
<status status="PASS" starttime="20210609 10:19:42.698" endtime="20210609 10:19:44.720"/>
</kw>
<msg timestamp="20210609 10:19:44.720" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:42.698" endtime="20210609 10:19:44.720"/>
</kw>
<status status="PASS" starttime="20210609 10:19:42.697" endtime="20210609 10:19:44.721"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:44.724" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:46.747" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:46.747" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:19:44.722" endtime="20210609 10:19:46.747"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:46.748" level="INFO"/>
<status status="PASS" starttime="20210609 10:19:46.748" endtime="20210609 10:19:46.748"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:46.749" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:46.749" endtime="20210609 10:19:46.749"/>
</kw>
<status status="PASS" starttime="20210609 10:19:44.722" endtime="20210609 10:19:46.749"/>
</kw>
<msg timestamp="20210609 10:19:46.750" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:44.721" endtime="20210609 10:19:46.750"/>
</kw>
<status status="PASS" starttime="20210609 10:19:44.721" endtime="20210609 10:19:46.750"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210609 10:19:42.690" endtime="20210609 10:19:46.750"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210609 10:19:19.402" endtime="20210609 10:19:46.752"/>
</suite>
<suite id="s1-s1-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:21:18.280" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:21:18.279" endtime="20210609 10:21:18.280"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:21:18.280" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:21:18.280" endtime="20210609 10:21:18.280"/>
</kw>
<status status="PASS" starttime="20210609 10:21:18.279" endtime="20210609 10:21:18.280"/>
</kw>
<msg timestamp="20210609 10:21:18.281" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:21:18.278" endtime="20210609 10:21:18.281"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:21:18.281" endtime="20210609 10:21:18.281"/>
</kw>
<msg timestamp="20210609 10:21:18.282" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:21:18.281" endtime="20210609 10:21:18.282"/>
</kw>
<status status="PASS" starttime="20210609 10:21:18.278" endtime="20210609 10:21:18.282"/>
</kw>
<msg timestamp="20210609 10:21:18.282" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:21:18.277" endtime="20210609 10:21:18.282"/>
</kw>
<msg timestamp="20210609 10:21:18.282" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:21:18.276" endtime="20210609 10:21:18.282"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:21:18.283" level="INFO">${random} = 76988</msg>
<status status="PASS" starttime="20210609 10:21:18.282" endtime="20210609 10:21:18.283"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:21:18.287" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-76988 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:21:21.325" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:21:21.325" level="INFO">${output} = 2021-06-09 10:21:19 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:21:20 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 ...</msg>
<status status="PASS" starttime="20210609 10:21:18.284" endtime="20210609 10:21:21.325"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:21:21.326" level="INFO">2021-06-09 10:21:19 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:21:20 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 10:21:20 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-09 10:21:20 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:21:20 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-DBB12B5A0E17-&gt;cc3da4bf-71ad-4c42-9d3e-2e2a210db30c
2021-06-09 10:21:20 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210609 10:21:21.325" endtime="20210609 10:21:21.326"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:21:21.327" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:21:21.326" endtime="20210609 10:21:21.327"/>
</kw>
<status status="PASS" starttime="20210609 10:21:18.284" endtime="20210609 10:21:21.327"/>
</kw>
<msg timestamp="20210609 10:21:21.327" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:21:18.284" endtime="20210609 10:21:21.327"/>
</kw>
<msg timestamp="20210609 10:21:21.328" level="INFO">${result} = 2021-06-09 10:21:19 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:21:20 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 ...</msg>
<status status="PASS" starttime="20210609 10:21:18.283" endtime="20210609 10:21:21.328"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:21:21.331" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:21:22.865" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:21:22.865" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:19 ofs://om/volume1/bucket1/ozone-16482
-rw-...</msg>
<status status="PASS" starttime="20210609 10:21:21.329" endtime="20210609 10:21:22.865"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:21:22.866" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:19 ofs://om/volume1/bucket1/ozone-16482
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:21 ofs://om/volume1/bucket1/ozone-76988
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:20 ofs://om/volume1/bucket1/wordcount-DJIuBZJx.txt</msg>
<status status="PASS" starttime="20210609 10:21:22.865" endtime="20210609 10:21:22.866"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:21:22.867" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:21:22.866" endtime="20210609 10:21:22.867"/>
</kw>
<status status="PASS" starttime="20210609 10:21:21.329" endtime="20210609 10:21:22.867"/>
</kw>
<msg timestamp="20210609 10:21:22.867" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:21:21.328" endtime="20210609 10:21:22.867"/>
</kw>
<msg timestamp="20210609 10:21:22.868" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:19 ofs://om/volume1/bucket1/ozone-16482
-rw-...</msg>
<status status="PASS" starttime="20210609 10:21:21.328" endtime="20210609 10:21:22.868"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:21:22.868" endtime="20210609 10:21:22.868"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210609 10:21:18.275" endtime="20210609 10:21:22.868"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210609 10:21:18.221" endtime="20210609 10:21:22.869"/>
</suite>
<suite id="s1-s1-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s1-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:19:50.858" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:19:50.858" endtime="20210609 10:19:50.858"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:19:50.859" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:19:50.859" endtime="20210609 10:19:50.859"/>
</kw>
<status status="PASS" starttime="20210609 10:19:50.858" endtime="20210609 10:19:50.859"/>
</kw>
<msg timestamp="20210609 10:19:50.860" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:19:50.857" endtime="20210609 10:19:50.860"/>
</kw>
<status status="PASS" starttime="20210609 10:19:50.856" endtime="20210609 10:19:50.860"/>
</kw>
<msg timestamp="20210609 10:19:50.860" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:19:50.856" endtime="20210609 10:19:50.860"/>
</kw>
<msg timestamp="20210609 10:19:50.860" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:19:50.855" endtime="20210609 10:19:50.860"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:19:50.861" level="INFO">${random} = 16482</msg>
<status status="PASS" starttime="20210609 10:19:50.860" endtime="20210609 10:19:50.861"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:50.866" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-16482 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:54.372" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:54.372" level="INFO">${output} = 2021-06-09 10:19:52 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:19:52 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 ...</msg>
<status status="PASS" starttime="20210609 10:19:50.862" endtime="20210609 10:19:54.372"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:54.373" level="INFO">2021-06-09 10:19:52 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:19:52 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 10:19:52 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-09 10:19:53 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:19:53 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-BCCBE5B28965-&gt;ffd81e14-c0ba-42e0-8ea5-c6f8c4c8a503
2021-06-09 10:19:53 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210609 10:19:54.372" endtime="20210609 10:19:54.373"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:54.374" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:54.373" endtime="20210609 10:19:54.374"/>
</kw>
<status status="PASS" starttime="20210609 10:19:50.862" endtime="20210609 10:19:54.374"/>
</kw>
<msg timestamp="20210609 10:19:54.374" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:50.861" endtime="20210609 10:19:54.374"/>
</kw>
<msg timestamp="20210609 10:19:54.374" level="INFO">${result} = 2021-06-09 10:19:52 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:19:52 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 ...</msg>
<status status="PASS" starttime="20210609 10:19:50.861" endtime="20210609 10:19:54.374"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:54.377" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:55.998" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:55.998" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:19 o3fs://bucket1.volume1.om/ozone-16482
dr...</msg>
<status status="PASS" starttime="20210609 10:19:54.376" endtime="20210609 10:19:55.998"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:56.000" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:19 o3fs://bucket1.volume1.om/ozone-16482
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:19:55.999" endtime="20210609 10:19:56.000"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:56.001" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:56.000" endtime="20210609 10:19:56.001"/>
</kw>
<status status="PASS" starttime="20210609 10:19:54.375" endtime="20210609 10:19:56.001"/>
</kw>
<msg timestamp="20210609 10:19:56.001" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:54.375" endtime="20210609 10:19:56.001"/>
</kw>
<msg timestamp="20210609 10:19:56.002" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:19 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      14978 2021-06-09 10:19 o3fs://bucket1.volume1.om/ozone-16482
dr...</msg>
<status status="PASS" starttime="20210609 10:19:54.375" endtime="20210609 10:19:56.002"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:19:56.002" endtime="20210609 10:19:56.003"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210609 10:19:50.854" endtime="20210609 10:19:56.003"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210609 10:19:50.797" endtime="20210609 10:19:56.004"/>
</suite>
<suite id="s1-s1-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:21:27.160" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:21:27.165" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:21:27.166" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:21:27.157" endtime="20210609 10:21:27.166"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:21:27.166" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:21:27.166" endtime="20210609 10:21:27.166"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:21:27.167" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:21:27.167" endtime="20210609 10:21:27.168"/>
</kw>
<status status="PASS" starttime="20210609 10:21:27.157" endtime="20210609 10:21:27.168"/>
</kw>
<msg timestamp="20210609 10:21:27.168" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:21:27.157" endtime="20210609 10:21:27.168"/>
</kw>
<msg timestamp="20210609 10:21:27.168" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:21:27.156" endtime="20210609 10:21:27.168"/>
</kw>
<msg timestamp="20210609 10:21:27.168" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:21:27.156" endtime="20210609 10:21:27.168"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:21:27.173" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:21:27.172" endtime="20210609 10:21:27.173"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:21:27.173" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:21:27.173" endtime="20210609 10:21:27.173"/>
</kw>
<status status="PASS" starttime="20210609 10:21:27.171" endtime="20210609 10:21:27.174"/>
</kw>
<msg timestamp="20210609 10:21:27.174" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:21:27.171" endtime="20210609 10:21:27.174"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:21:27.174" endtime="20210609 10:21:27.175"/>
</kw>
<msg timestamp="20210609 10:21:27.175" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:21:27.174" endtime="20210609 10:21:27.175"/>
</kw>
<status status="PASS" starttime="20210609 10:21:27.170" endtime="20210609 10:21:27.175"/>
</kw>
<msg timestamp="20210609 10:21:27.175" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:21:27.170" endtime="20210609 10:21:27.175"/>
</kw>
<msg timestamp="20210609 10:21:27.175" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:21:27.169" endtime="20210609 10:21:27.175"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:21:27.178" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:22:05.349" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:22:05.350" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:21:28 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:21:28 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210609 10:21:27.177" endtime="20210609 10:22:05.350"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:22:05.351" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:21:28 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:21:28 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 10:21:28 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-09 10:21:29 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:21:29 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-7BBDE09F6405-&gt;cc3da4bf-71ad-4c42-9d3e-2e2a210db30c
2021-06-09 10:21:29 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
2021-06-09 10:21:29 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-47B345EE401E-&gt;ffd81e14-c0ba-42e0-8ea5-c6f8c4c8a503
2021-06-09 10:21:29 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-09 10:21:30 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:21:30 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:21:30 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-09 10:21:33 INFO  JobSubmitter:198 - number of splits:3
2021-06-09 10:21:33 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623233924627_0003
2021-06-09 10:21:33 INFO  YarnClientImpl:273 - Submitted application application_1623233924627_0003
2021-06-09 10:21:33 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623233924627_0003/
2021-06-09 10:21:33 INFO  Job:1339 - Running job: job_1623233924627_0003
2021-06-09 10:21:39 INFO  Job:1360 - Job job_1623233924627_0003 running in uber mode : false
2021-06-09 10:21:39 INFO  Job:1367 -  map 0% reduce 0%
2021-06-09 10:21:45 INFO  Job:1367 -  map 33% reduce 0%
2021-06-09 10:21:50 INFO  Job:1367 -  map 67% reduce 0%
2021-06-09 10:21:55 INFO  Job:1367 -  map 100% reduce 0%
2021-06-09 10:22:01 INFO  Job:1367 -  map 100% reduce 100%
2021-06-09 10:22:04 INFO  Job:1378 - Job job_1623233924627_0003 completed successfully
2021-06-09 10:22:04 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=636141
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=20
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=35648
		Total time spent by all reduces in occupied slots (ms)=23488
		Total time spent by all map tasks (ms)=8912
		Total time spent by all reduce tasks (ms)=5872
		Total vcore-milliseconds taken by all map tasks=8912
		Total vcore-milliseconds taken by all reduce tasks=5872
		Total megabyte-milliseconds taken by all map tasks=36503552
		Total megabyte-milliseconds taken by all reduce tasks=24051712
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=468
		CPU time spent (ms)=6550
		Physical memory (bytes) snapshot=1345032192
		Virtual memory (bytes) snapshot=15805665280
		Total committed heap usage (bytes)=1118830592
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 34.816 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210609 10:22:05.350" endtime="20210609 10:22:05.351"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:22:05.351" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:22:05.351" endtime="20210609 10:22:05.352"/>
</kw>
<status status="PASS" starttime="20210609 10:21:27.176" endtime="20210609 10:22:05.352"/>
</kw>
<msg timestamp="20210609 10:22:05.352" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:21:27.176" endtime="20210609 10:22:05.352"/>
</kw>
<msg timestamp="20210609 10:22:05.352" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:21:28 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:21:28 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210609 10:21:27.175" endtime="20210609 10:22:05.353"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:22:05.353" endtime="20210609 10:22:05.353"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:21:27.155" endtime="20210609 10:22:05.353"/>
</test>
<test id="s1-s1-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:22:05.358" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:22:05.362" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:22:05.362" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:22:05.356" endtime="20210609 10:22:05.362"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:22:05.363" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:22:05.362" endtime="20210609 10:22:05.363"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:22:05.363" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:22:05.363" endtime="20210609 10:22:05.364"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.356" endtime="20210609 10:22:05.364"/>
</kw>
<msg timestamp="20210609 10:22:05.364" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:22:05.355" endtime="20210609 10:22:05.364"/>
</kw>
<msg timestamp="20210609 10:22:05.364" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:22:05.355" endtime="20210609 10:22:05.364"/>
</kw>
<msg timestamp="20210609 10:22:05.364" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:22:05.355" endtime="20210609 10:22:05.364"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:22:05.365" level="INFO">${random} = GrKmPKKb</msg>
<status status="PASS" starttime="20210609 10:22:05.365" endtime="20210609 10:22:05.365"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:22:05.368" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:22:05.368" endtime="20210609 10:22:05.368"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:22:05.369" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:22:05.368" endtime="20210609 10:22:05.369"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.367" endtime="20210609 10:22:05.369"/>
</kw>
<msg timestamp="20210609 10:22:05.369" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:22:05.367" endtime="20210609 10:22:05.369"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:22:05.370" endtime="20210609 10:22:05.370"/>
</kw>
<msg timestamp="20210609 10:22:05.370" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:22:05.370" endtime="20210609 10:22:05.370"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.366" endtime="20210609 10:22:05.371"/>
</kw>
<msg timestamp="20210609 10:22:05.371" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:22:05.366" endtime="20210609 10:22:05.371"/>
</kw>
<msg timestamp="20210609 10:22:05.371" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:22:05.365" endtime="20210609 10:22:05.371"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:22:05.374" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:22:05.374" endtime="20210609 10:22:05.374"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:22:05.375" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:22:05.374" endtime="20210609 10:22:05.375"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.373" endtime="20210609 10:22:05.375"/>
</kw>
<msg timestamp="20210609 10:22:05.375" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:22:05.373" endtime="20210609 10:22:05.375"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:22:05.376" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210609 10:22:05.376" endtime="20210609 10:22:05.376"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:22:05.377" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210609 10:22:05.377" endtime="20210609 10:22:05.377"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.376" endtime="20210609 10:22:05.377"/>
</kw>
<msg timestamp="20210609 10:22:05.377" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210609 10:22:05.375" endtime="20210609 10:22:05.377"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.372" endtime="20210609 10:22:05.378"/>
</kw>
<msg timestamp="20210609 10:22:05.378" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210609 10:22:05.372" endtime="20210609 10:22:05.378"/>
</kw>
<msg timestamp="20210609 10:22:05.378" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210609 10:22:05.371" endtime="20210609 10:22:05.378"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:22:05.382" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:22:05.381" endtime="20210609 10:22:05.382"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:22:05.382" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:22:05.382" endtime="20210609 10:22:05.382"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.381" endtime="20210609 10:22:05.383"/>
</kw>
<msg timestamp="20210609 10:22:05.383" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:22:05.380" endtime="20210609 10:22:05.383"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:22:05.385" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210609 10:22:05.384" endtime="20210609 10:22:05.385"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:22:05.385" level="INFO">${result} = /wordcount-GrKmPKKb.txt</msg>
<status status="PASS" starttime="20210609 10:22:05.385" endtime="20210609 10:22:05.385"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.384" endtime="20210609 10:22:05.386"/>
</kw>
<msg timestamp="20210609 10:22:05.386" level="INFO">${path_with_leading} = /wordcount-GrKmPKKb.txt</msg>
<status status="PASS" starttime="20210609 10:22:05.383" endtime="20210609 10:22:05.386"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.380" endtime="20210609 10:22:05.386"/>
</kw>
<msg timestamp="20210609 10:22:05.386" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-GrKmPKKb.txt</msg>
<status status="PASS" starttime="20210609 10:22:05.379" endtime="20210609 10:22:05.386"/>
</kw>
<msg timestamp="20210609 10:22:05.386" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-GrKmPKKb.txt</msg>
<status status="PASS" starttime="20210609 10:22:05.378" endtime="20210609 10:22:05.386"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:22:05.389" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-GrKmPKKb.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:22:37.572" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:22:37.572" level="INFO">${output} = 2021-06-09 10:22:06 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:22:07 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210609 10:22:05.388" endtime="20210609 10:22:37.572"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:22:37.573" level="INFO">2021-06-09 10:22:06 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:22:07 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:22:07 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:22:07 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 10:22:07 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-09 10:22:07 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:22:07 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F85816EF7C2A-&gt;ffd81e14-c0ba-42e0-8ea5-c6f8c4c8a503
2021-06-09 10:22:07 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:22:08 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-09 10:22:08 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-B0A336D11CB3-&gt;cc3da4bf-71ad-4c42-9d3e-2e2a210db30c
2021-06-09 10:22:08 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:22:08 INFO  JobSubmitter:198 - number of splits:3
2021-06-09 10:22:08 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623233924627_0004
2021-06-09 10:22:08 INFO  YarnClientImpl:273 - Submitted application application_1623233924627_0004
2021-06-09 10:22:08 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623233924627_0004/
2021-06-09 10:22:08 INFO  Job:1339 - Running job: job_1623233924627_0004
2021-06-09 10:22:16 INFO  Job:1360 - Job job_1623233924627_0004 running in uber mode : false
2021-06-09 10:22:16 INFO  Job:1367 -  map 0% reduce 0%
2021-06-09 10:22:23 INFO  Job:1367 -  map 33% reduce 0%
2021-06-09 10:22:27 INFO  Job:1367 -  map 67% reduce 0%
2021-06-09 10:22:31 INFO  Job:1367 -  map 100% reduce 0%
2021-06-09 10:22:34 INFO  Job:1367 -  map 100% reduce 100%
2021-06-09 10:22:37 INFO  Job:1378 - Job job_1623233924627_0004 completed successfully
2021-06-09 10:22:37 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=698903
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=17
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=33360
		Total time spent by all reduces in occupied slots (ms)=12420
		Total time spent by all map tasks (ms)=8340
		Total time spent by all reduce tasks (ms)=3105
		Total vcore-milliseconds taken by all map tasks=8340
		Total vcore-milliseconds taken by all reduce tasks=3105
		Total megabyte-milliseconds taken by all map tasks=34160640
		Total megabyte-milliseconds taken by all reduce tasks=12718080
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=472
		CPU time spent (ms)=5600
		Physical memory (bytes) snapshot=1224093696
		Virtual memory (bytes) snapshot=15760678912
		Total committed heap usage (bytes)=1017643008
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210609 10:22:37.572" endtime="20210609 10:22:37.573"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:22:37.574" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:22:37.573" endtime="20210609 10:22:37.574"/>
</kw>
<status status="PASS" starttime="20210609 10:22:05.387" endtime="20210609 10:22:37.574"/>
</kw>
<msg timestamp="20210609 10:22:37.574" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:22:05.387" endtime="20210609 10:22:37.574"/>
</kw>
<msg timestamp="20210609 10:22:37.575" level="INFO">${output} = 2021-06-09 10:22:06 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:22:07 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210609 10:22:05.386" endtime="20210609 10:22:37.575"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:22:37.575" endtime="20210609 10:22:37.575"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:22:37.576" endtime="20210609 10:22:37.576"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:22:05.354" endtime="20210609 10:22:37.576"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210609 10:21:27.105" endtime="20210609 10:22:37.577"/>
</suite>
<suite id="s1-s1-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s1-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:59.966" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:19:59.971" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:19:59.971" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:19:59.963" endtime="20210609 10:19:59.971"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:19:59.972" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:19:59.971" endtime="20210609 10:19:59.972"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:19:59.973" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:19:59.972" endtime="20210609 10:19:59.973"/>
</kw>
<status status="PASS" starttime="20210609 10:19:59.963" endtime="20210609 10:19:59.973"/>
</kw>
<msg timestamp="20210609 10:19:59.973" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:59.962" endtime="20210609 10:19:59.973"/>
</kw>
<msg timestamp="20210609 10:19:59.973" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:19:59.962" endtime="20210609 10:19:59.973"/>
</kw>
<msg timestamp="20210609 10:19:59.974" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:19:59.962" endtime="20210609 10:19:59.974"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:19:59.978" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:19:59.977" endtime="20210609 10:19:59.978"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:19:59.978" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:19:59.978" endtime="20210609 10:19:59.978"/>
</kw>
<status status="PASS" starttime="20210609 10:19:59.977" endtime="20210609 10:19:59.978"/>
</kw>
<msg timestamp="20210609 10:19:59.979" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:19:59.976" endtime="20210609 10:19:59.979"/>
</kw>
<status status="PASS" starttime="20210609 10:19:59.975" endtime="20210609 10:19:59.979"/>
</kw>
<msg timestamp="20210609 10:19:59.979" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:19:59.975" endtime="20210609 10:19:59.979"/>
</kw>
<msg timestamp="20210609 10:19:59.979" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:19:59.974" endtime="20210609 10:19:59.979"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:19:59.982" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:20:38.376" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:20:38.376" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:20:01 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:20:01 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210609 10:19:59.981" endtime="20210609 10:20:38.376"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:20:38.378" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:20:01 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:20:01 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 10:20:01 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-09 10:20:01 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:20:01 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F2BD01122ABC-&gt;ffd81e14-c0ba-42e0-8ea5-c6f8c4c8a503
2021-06-09 10:20:01 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-09 10:20:02 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:20:03 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-27DBDCB751A6-&gt;cc3da4bf-71ad-4c42-9d3e-2e2a210db30c
2021-06-09 10:20:03 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:20:03 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-09 10:20:05 INFO  JobSubmitter:198 - number of splits:3
2021-06-09 10:20:06 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623233924627_0001
2021-06-09 10:20:06 INFO  YarnClientImpl:273 - Submitted application application_1623233924627_0001
2021-06-09 10:20:06 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623233924627_0001/
2021-06-09 10:20:06 INFO  Job:1339 - Running job: job_1623233924627_0001
2021-06-09 10:20:15 INFO  Job:1360 - Job job_1623233924627_0001 running in uber mode : false
2021-06-09 10:20:15 INFO  Job:1367 -  map 0% reduce 0%
2021-06-09 10:20:21 INFO  Job:1367 -  map 33% reduce 0%
2021-06-09 10:20:26 INFO  Job:1367 -  map 67% reduce 0%
2021-06-09 10:20:31 INFO  Job:1367 -  map 100% reduce 0%
2021-06-09 10:20:37 INFO  Job:1367 -  map 100% reduce 100%
2021-06-09 10:20:37 INFO  Job:1378 - Job job_1623233924627_0001 completed successfully
2021-06-09 10:20:37 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=636353
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=20
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36076
		Total time spent by all reduces in occupied slots (ms)=24084
		Total time spent by all map tasks (ms)=9019
		Total time spent by all reduce tasks (ms)=6021
		Total vcore-milliseconds taken by all map tasks=9019
		Total vcore-milliseconds taken by all reduce tasks=6021
		Total megabyte-milliseconds taken by all map tasks=36941824
		Total megabyte-milliseconds taken by all reduce tasks=24662016
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=727
		CPU time spent (ms)=6080
		Physical memory (bytes) snapshot=1502134272
		Virtual memory (bytes) snapshot=15767150592
		Total committed heap usage (bytes)=1285029888
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 35.046 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210609 10:20:38.377" endtime="20210609 10:20:38.378"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:20:38.379" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:20:38.378" endtime="20210609 10:20:38.379"/>
</kw>
<status status="PASS" starttime="20210609 10:19:59.980" endtime="20210609 10:20:38.379"/>
</kw>
<msg timestamp="20210609 10:20:38.379" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:19:59.980" endtime="20210609 10:20:38.379"/>
</kw>
<msg timestamp="20210609 10:20:38.380" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:20:01 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:20:01 INFO  MetricsSystemImpl:375 - Scheduled snap...</msg>
<status status="PASS" starttime="20210609 10:19:59.979" endtime="20210609 10:20:38.380"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:20:38.380" endtime="20210609 10:20:38.380"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:19:59.961" endtime="20210609 10:20:38.380"/>
</test>
<test id="s1-s1-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:20:38.386" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:20:38.391" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:20:38.392" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:20:38.384" endtime="20210609 10:20:38.392"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:20:38.392" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:20:38.392" endtime="20210609 10:20:38.392"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:20:38.393" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:20:38.393" endtime="20210609 10:20:38.393"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.383" endtime="20210609 10:20:38.393"/>
</kw>
<msg timestamp="20210609 10:20:38.394" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:20:38.383" endtime="20210609 10:20:38.394"/>
</kw>
<msg timestamp="20210609 10:20:38.394" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:20:38.382" endtime="20210609 10:20:38.394"/>
</kw>
<msg timestamp="20210609 10:20:38.394" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar</msg>
<status status="PASS" starttime="20210609 10:20:38.382" endtime="20210609 10:20:38.394"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:20:38.395" level="INFO">${random} = DJIuBZJx</msg>
<status status="PASS" starttime="20210609 10:20:38.394" endtime="20210609 10:20:38.395"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:20:38.398" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:20:38.398" endtime="20210609 10:20:38.398"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:20:38.399" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:20:38.399" endtime="20210609 10:20:38.399"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.398" endtime="20210609 10:20:38.399"/>
</kw>
<msg timestamp="20210609 10:20:38.399" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:20:38.397" endtime="20210609 10:20:38.399"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.397" endtime="20210609 10:20:38.400"/>
</kw>
<msg timestamp="20210609 10:20:38.400" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:20:38.396" endtime="20210609 10:20:38.400"/>
</kw>
<msg timestamp="20210609 10:20:38.400" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:20:38.395" endtime="20210609 10:20:38.400"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:20:38.403" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:20:38.403" endtime="20210609 10:20:38.403"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:20:38.404" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:20:38.403" endtime="20210609 10:20:38.404"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.402" endtime="20210609 10:20:38.404"/>
</kw>
<msg timestamp="20210609 10:20:38.404" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:20:38.402" endtime="20210609 10:20:38.404"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.401" endtime="20210609 10:20:38.405"/>
</kw>
<msg timestamp="20210609 10:20:38.405" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210609 10:20:38.401" endtime="20210609 10:20:38.405"/>
</kw>
<msg timestamp="20210609 10:20:38.405" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210609 10:20:38.400" endtime="20210609 10:20:38.405"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:20:38.409" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:20:38.408" endtime="20210609 10:20:38.409"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:20:38.410" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:20:38.409" endtime="20210609 10:20:38.410"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.408" endtime="20210609 10:20:38.410"/>
</kw>
<msg timestamp="20210609 10:20:38.410" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:20:38.407" endtime="20210609 10:20:38.410"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.407" endtime="20210609 10:20:38.410"/>
</kw>
<msg timestamp="20210609 10:20:38.411" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-DJIuBZJx.txt</msg>
<status status="PASS" starttime="20210609 10:20:38.406" endtime="20210609 10:20:38.411"/>
</kw>
<msg timestamp="20210609 10:20:38.411" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-DJIuBZJx.txt</msg>
<status status="PASS" starttime="20210609 10:20:38.405" endtime="20210609 10:20:38.411"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:20:38.414" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.3.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-DJIuBZJx.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:21:14.001" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:21:14.002" level="INFO">${output} = 2021-06-09 10:20:39 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:20:40 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210609 10:20:38.412" endtime="20210609 10:21:14.002"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:21:14.003" level="INFO">2021-06-09 10:20:39 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:20:40 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:20:40 INFO  MetricsConfig:112 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:20:40 INFO  MetricsSystemImpl:375 - Scheduled snapshot period at 10 second(s).
2021-06-09 10:20:40 INFO  MetricsSystemImpl:192 - XceiverClientMetrics metrics system started
2021-06-09 10:20:40 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:20:40 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-4915EFFEE115-&gt;cc3da4bf-71ad-4c42-9d3e-2e2a210db30c
2021-06-09 10:20:40 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:20:41 INFO  FileInputFormat:283 - Total input paths to process : 3
2021-06-09 10:20:43 INFO  JobSubmitter:198 - number of splits:3
2021-06-09 10:20:44 INFO  JobSubmitter:287 - Submitting tokens for job: job_1623233924627_0002
2021-06-09 10:20:44 INFO  YarnClientImpl:273 - Submitted application application_1623233924627_0002
2021-06-09 10:20:44 INFO  Job:1294 - The url to track the job: http://rm:8088/proxy/application_1623233924627_0002/
2021-06-09 10:20:44 INFO  Job:1339 - Running job: job_1623233924627_0002
2021-06-09 10:20:51 INFO  Job:1360 - Job job_1623233924627_0002 running in uber mode : false
2021-06-09 10:20:51 INFO  Job:1367 -  map 0% reduce 0%
2021-06-09 10:20:57 INFO  Job:1367 -  map 33% reduce 0%
2021-06-09 10:21:02 INFO  Job:1367 -  map 67% reduce 0%
2021-06-09 10:21:06 INFO  Job:1367 -  map 100% reduce 0%
2021-06-09 10:21:12 INFO  Job:1367 -  map 100% reduce 100%
2021-06-09 10:21:13 INFO  Job:1378 - Job job_1623233924627_0002 completed successfully
2021-06-09 10:21:13 INFO  Job:1385 - Counters: 49
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=698987
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=17
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34704
		Total time spent by all reduces in occupied slots (ms)=22224
		Total time spent by all map tasks (ms)=8676
		Total time spent by all reduce tasks (ms)=5556
		Total vcore-milliseconds taken by all map tasks=8676
		Total vcore-milliseconds taken by all reduce tasks=5556
		Total megabyte-milliseconds taken by all map tasks=35536896
		Total megabyte-milliseconds taken by all reduce tasks=22757376
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=465
		CPU time spent (ms)=5760
		Physical memory (bytes) snapshot=1265541120
		Virtual memory (bytes) snapshot=15774826496
		Total committed heap usage (bytes)=1055916032
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210609 10:21:14.002" endtime="20210609 10:21:14.003"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:21:14.004" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:21:14.003" endtime="20210609 10:21:14.004"/>
</kw>
<status status="PASS" starttime="20210609 10:20:38.412" endtime="20210609 10:21:14.004"/>
</kw>
<msg timestamp="20210609 10:21:14.004" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:20:38.412" endtime="20210609 10:21:14.004"/>
</kw>
<msg timestamp="20210609 10:21:14.005" level="INFO">${output} = 2021-06-09 10:20:39 INFO  RMProxy:98 - Connecting to ResourceManager at rm/172.21.0.4:8032
2021-06-09 10:20:40 INFO  JobSubmissionFiles:127 - Permissions on staging directory /user/hadoop/.staging are...</msg>
<status status="PASS" starttime="20210609 10:20:38.411" endtime="20210609 10:21:14.005"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:21:14.005" endtime="20210609 10:21:14.005"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:21:14.005" endtime="20210609 10:21:14.006"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:20:38.381" endtime="20210609 10:21:14.006"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210609 10:19:59.907" endtime="20210609 10:21:14.007"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="181777"/>
</suite>
<suite id="s1-s2" name="hadoop31">
<suite id="s1-s2-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s2-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:37.838" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:40.024" level="INFO">${rc} = 255</msg>
<msg timestamp="20210609 10:23:40.024" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:23:37.835" endtime="20210609 10:23:40.024"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:40.025" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:23:40.024" endtime="20210609 10:23:40.025"/>
</kw>
<msg timestamp="20210609 10:23:40.025" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:23:37.834" endtime="20210609 10:23:40.025"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:40.029" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:41.924" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:23:41.924" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:23:40.028" endtime="20210609 10:23:41.925"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:41.926" level="INFO"/>
<status status="PASS" starttime="20210609 10:23:41.925" endtime="20210609 10:23:41.926"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:23:41.926" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:23:41.926" endtime="20210609 10:23:41.926"/>
</kw>
<status status="PASS" starttime="20210609 10:23:40.027" endtime="20210609 10:23:41.927"/>
</kw>
<msg timestamp="20210609 10:23:41.927" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:40.027" endtime="20210609 10:23:41.927"/>
</kw>
<msg timestamp="20210609 10:23:41.927" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210609 10:23:40.026" endtime="20210609 10:23:41.927"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:23:41.927" endtime="20210609 10:23:41.928"/>
</kw>
<status status="PASS" starttime="20210609 10:23:40.026" endtime="20210609 10:23:41.928"/>
</kw>
<status status="PASS" starttime="20210609 10:23:40.026" endtime="20210609 10:23:41.928"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:41.932" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:43.961" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:23:43.961" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:23:41.930" endtime="20210609 10:23:43.961"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:43.962" level="INFO"/>
<status status="PASS" starttime="20210609 10:23:43.962" endtime="20210609 10:23:43.962"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:23:43.963" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:23:43.962" endtime="20210609 10:23:43.963"/>
</kw>
<status status="PASS" starttime="20210609 10:23:41.930" endtime="20210609 10:23:43.963"/>
</kw>
<msg timestamp="20210609 10:23:43.963" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:41.929" endtime="20210609 10:23:43.963"/>
</kw>
<status status="PASS" starttime="20210609 10:23:41.929" endtime="20210609 10:23:43.964"/>
</kw>
<status status="PASS" starttime="20210609 10:23:41.929" endtime="20210609 10:23:43.964"/>
</kw>
<status status="PASS" starttime="20210609 10:23:41.928" endtime="20210609 10:23:43.964"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210609 10:23:43.964" endtime="20210609 10:23:43.965"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:43.968" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:46.088" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:23:46.088" level="INFO">${output} = {
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versi...</msg>
<status status="PASS" starttime="20210609 10:23:43.966" endtime="20210609 10:23:46.088"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:46.090" level="INFO">{
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-09T10:23:43.919Z",
  "modificationTime" : "2021-06-09T10:23:43.919Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210609 10:23:46.089" endtime="20210609 10:23:46.090"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:23:46.090" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:23:46.090" endtime="20210609 10:23:46.090"/>
</kw>
<status status="PASS" starttime="20210609 10:23:43.966" endtime="20210609 10:23:46.091"/>
</kw>
<msg timestamp="20210609 10:23:46.091" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:43.965" endtime="20210609 10:23:46.091"/>
</kw>
<msg timestamp="20210609 10:23:46.091" level="INFO">${result} = {
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versi...</msg>
<status status="PASS" starttime="20210609 10:23:43.965" endtime="20210609 10:23:46.091"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:23:46.091" endtime="20210609 10:23:46.092"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:23:46.096" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:23:46.095" endtime="20210609 10:23:46.096"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:23:46.097" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:23:46.096" endtime="20210609 10:23:46.097"/>
</kw>
<status status="PASS" starttime="20210609 10:23:46.095" endtime="20210609 10:23:46.097"/>
</kw>
<msg timestamp="20210609 10:23:46.097" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:23:46.094" endtime="20210609 10:23:46.097"/>
</kw>
<status status="PASS" starttime="20210609 10:23:46.093" endtime="20210609 10:23:46.097"/>
</kw>
<msg timestamp="20210609 10:23:46.097" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210609 10:23:46.093" endtime="20210609 10:23:46.097"/>
</kw>
<msg timestamp="20210609 10:23:46.098" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210609 10:23:46.092" endtime="20210609 10:23:46.098"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:46.101" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:48.087" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:23:48.087" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:23:46.099" endtime="20210609 10:23:48.087"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:48.088" level="INFO"/>
<status status="PASS" starttime="20210609 10:23:48.087" endtime="20210609 10:23:48.088"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:23:48.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:23:48.088" endtime="20210609 10:23:48.089"/>
</kw>
<status status="PASS" starttime="20210609 10:23:46.099" endtime="20210609 10:23:48.089"/>
</kw>
<msg timestamp="20210609 10:23:48.089" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:46.098" endtime="20210609 10:23:48.089"/>
</kw>
<status status="PASS" starttime="20210609 10:23:46.098" endtime="20210609 10:23:48.090"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:48.093" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:52.722" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:23:52.722" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:23:48.091" endtime="20210609 10:23:52.722"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:52.724" level="INFO"/>
<status status="PASS" starttime="20210609 10:23:52.723" endtime="20210609 10:23:52.724"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:23:52.724" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:23:52.724" endtime="20210609 10:23:52.724"/>
</kw>
<status status="PASS" starttime="20210609 10:23:48.091" endtime="20210609 10:23:52.725"/>
</kw>
<msg timestamp="20210609 10:23:52.725" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:48.090" endtime="20210609 10:23:52.725"/>
</kw>
<status status="PASS" starttime="20210609 10:23:48.090" endtime="20210609 10:23:52.725"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:52.728" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:23:56.841" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:23:56.842" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:23:52.727" endtime="20210609 10:23:56.842"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:23:56.843" level="INFO"/>
<status status="PASS" starttime="20210609 10:23:56.842" endtime="20210609 10:23:56.843"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:23:56.844" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:23:56.843" endtime="20210609 10:23:56.844"/>
</kw>
<status status="PASS" starttime="20210609 10:23:52.726" endtime="20210609 10:23:56.844"/>
</kw>
<msg timestamp="20210609 10:23:56.844" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:52.726" endtime="20210609 10:23:56.844"/>
</kw>
<status status="PASS" starttime="20210609 10:23:52.726" endtime="20210609 10:23:56.845"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:23:56.848" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:24:00.587" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:24:00.587" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:23:56.846" endtime="20210609 10:24:00.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:24:00.588" level="INFO"/>
<status status="PASS" starttime="20210609 10:24:00.587" endtime="20210609 10:24:00.588"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:24:00.589" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:24:00.588" endtime="20210609 10:24:00.589"/>
</kw>
<status status="PASS" starttime="20210609 10:23:56.846" endtime="20210609 10:24:00.589"/>
</kw>
<msg timestamp="20210609 10:24:00.589" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:23:56.846" endtime="20210609 10:24:00.590"/>
</kw>
<status status="PASS" starttime="20210609 10:23:56.845" endtime="20210609 10:24:00.590"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210609 10:23:37.834" endtime="20210609 10:24:00.590"/>
</test>
<test id="s1-s2-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:24:00.596" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:24:00.596" endtime="20210609 10:24:00.596"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:24:00.597" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:24:00.597" endtime="20210609 10:24:00.597"/>
</kw>
<status status="PASS" starttime="20210609 10:24:00.595" endtime="20210609 10:24:00.597"/>
</kw>
<msg timestamp="20210609 10:24:00.598" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:24:00.594" endtime="20210609 10:24:00.598"/>
</kw>
<status status="PASS" starttime="20210609 10:24:00.593" endtime="20210609 10:24:00.598"/>
</kw>
<msg timestamp="20210609 10:24:00.598" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:24:00.593" endtime="20210609 10:24:00.598"/>
</kw>
<msg timestamp="20210609 10:24:00.598" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:24:00.592" endtime="20210609 10:24:00.598"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:24:00.602" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:24:02.497" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:24:02.497" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:24:00.600" endtime="20210609 10:24:02.497"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:24:02.499" level="INFO"/>
<status status="PASS" starttime="20210609 10:24:02.498" endtime="20210609 10:24:02.499"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:24:02.499" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:24:02.499" endtime="20210609 10:24:02.500"/>
</kw>
<status status="PASS" starttime="20210609 10:24:00.599" endtime="20210609 10:24:02.500"/>
</kw>
<msg timestamp="20210609 10:24:02.500" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:24:00.599" endtime="20210609 10:24:02.500"/>
</kw>
<status status="PASS" starttime="20210609 10:24:00.598" endtime="20210609 10:24:02.500"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:24:02.504" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:24:04.483" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:24:04.483" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:24:02.502" endtime="20210609 10:24:04.483"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:24:04.485" level="INFO"/>
<status status="PASS" starttime="20210609 10:24:04.484" endtime="20210609 10:24:04.485"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:24:04.485" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:24:04.485" endtime="20210609 10:24:04.485"/>
</kw>
<status status="PASS" starttime="20210609 10:24:02.502" endtime="20210609 10:24:04.486"/>
</kw>
<msg timestamp="20210609 10:24:04.486" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:24:02.501" endtime="20210609 10:24:04.486"/>
</kw>
<status status="PASS" starttime="20210609 10:24:02.500" endtime="20210609 10:24:04.486"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210609 10:24:00.591" endtime="20210609 10:24:04.486"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210609 10:23:37.780" endtime="20210609 10:24:04.487"/>
</suite>
<suite id="s1-s2-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:25:40.310" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:25:40.310" endtime="20210609 10:25:40.310"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:25:40.311" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:25:40.310" endtime="20210609 10:25:40.311"/>
</kw>
<status status="PASS" starttime="20210609 10:25:40.309" endtime="20210609 10:25:40.311"/>
</kw>
<msg timestamp="20210609 10:25:40.311" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:25:40.309" endtime="20210609 10:25:40.311"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:25:40.312" endtime="20210609 10:25:40.312"/>
</kw>
<msg timestamp="20210609 10:25:40.312" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:25:40.311" endtime="20210609 10:25:40.312"/>
</kw>
<status status="PASS" starttime="20210609 10:25:40.308" endtime="20210609 10:25:40.312"/>
</kw>
<msg timestamp="20210609 10:25:40.312" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:25:40.308" endtime="20210609 10:25:40.312"/>
</kw>
<msg timestamp="20210609 10:25:40.313" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:25:40.307" endtime="20210609 10:25:40.313"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:25:40.313" level="INFO">${random} = 87739</msg>
<status status="PASS" starttime="20210609 10:25:40.313" endtime="20210609 10:25:40.313"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:25:40.320" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-87739 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:25:43.935" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:25:43.935" level="INFO">${output} = 2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:41 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:25:40.315" endtime="20210609 10:25:43.935"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:25:43.936" level="INFO">2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:42 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-09 10:25:42 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:25:42 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:25:42 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:25:42 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:25:42 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-1351EAD91C96-&gt;84b0eabd-5125-4150-aa3f-b7e5f686ac17
2021-06-09 10:25:42 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:25:43 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:25:43.935" endtime="20210609 10:25:43.936"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:25:43.937" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:25:43.936" endtime="20210609 10:25:43.937"/>
</kw>
<status status="PASS" starttime="20210609 10:25:40.314" endtime="20210609 10:25:43.937"/>
</kw>
<msg timestamp="20210609 10:25:43.937" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:25:40.314" endtime="20210609 10:25:43.937"/>
</kw>
<msg timestamp="20210609 10:25:43.937" level="INFO">${result} = 2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:41 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:41 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:25:40.313" endtime="20210609 10:25:43.937"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:25:43.940" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:25:45.659" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:25:45.659" level="INFO">${output} = 2021-06-09 10:25:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:45 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:25:43.939" endtime="20210609 10:25:45.659"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:25:45.660" level="INFO">2021-06-09 10:25:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:45 INFO  Configuration:3318 - Removed undeclared tags:
Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:23 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-09 10:24 ofs://om/volume1/bucket1/ozone-11102
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-09 10:25 ofs://om/volume1/bucket1/ozone-87739
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:24 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:25 ofs://om/volume1/bucket1/wordcount-Vh7reS8b.txt
2021-06-09 10:25:45 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:25:45.659" endtime="20210609 10:25:45.660"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:25:45.661" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:25:45.660" endtime="20210609 10:25:45.661"/>
</kw>
<status status="PASS" starttime="20210609 10:25:43.938" endtime="20210609 10:25:45.661"/>
</kw>
<msg timestamp="20210609 10:25:45.661" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:25:43.938" endtime="20210609 10:25:45.661"/>
</kw>
<msg timestamp="20210609 10:25:45.661" level="INFO">${result} = 2021-06-09 10:25:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:44 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:45 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:25:43.938" endtime="20210609 10:25:45.661"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:25:45.662" endtime="20210609 10:25:45.662"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210609 10:25:40.306" endtime="20210609 10:25:45.663"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210609 10:25:40.252" endtime="20210609 10:25:45.665"/>
</suite>
<suite id="s1-s2-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s2-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:24:08.624" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:24:08.624" endtime="20210609 10:24:08.624"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:24:08.625" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:24:08.625" endtime="20210609 10:24:08.625"/>
</kw>
<status status="PASS" starttime="20210609 10:24:08.624" endtime="20210609 10:24:08.625"/>
</kw>
<msg timestamp="20210609 10:24:08.625" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:24:08.623" endtime="20210609 10:24:08.625"/>
</kw>
<status status="PASS" starttime="20210609 10:24:08.622" endtime="20210609 10:24:08.626"/>
</kw>
<msg timestamp="20210609 10:24:08.626" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:24:08.622" endtime="20210609 10:24:08.626"/>
</kw>
<msg timestamp="20210609 10:24:08.626" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:24:08.621" endtime="20210609 10:24:08.626"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:24:08.626" level="INFO">${random} = 11102</msg>
<status status="PASS" starttime="20210609 10:24:08.626" endtime="20210609 10:24:08.627"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:24:08.632" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-11102 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:24:12.328" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:24:12.328" level="INFO">${output} = 2021-06-09 10:24:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:10 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:24:08.628" endtime="20210609 10:24:12.328"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:24:12.329" level="INFO">2021-06-09 10:24:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:10 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:10 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-09 10:24:10 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:24:10 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:24:10 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:24:10 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:24:10 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3F5E1932FDC9-&gt;6a66617f-7a75-4bb7-87cd-d3259ee9db00
2021-06-09 10:24:10 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:24:12 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:24:12.329" endtime="20210609 10:24:12.330"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:24:12.330" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:24:12.330" endtime="20210609 10:24:12.330"/>
</kw>
<status status="PASS" starttime="20210609 10:24:08.627" endtime="20210609 10:24:12.330"/>
</kw>
<msg timestamp="20210609 10:24:12.330" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:24:08.627" endtime="20210609 10:24:12.331"/>
</kw>
<msg timestamp="20210609 10:24:12.331" level="INFO">${result} = 2021-06-09 10:24:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:09 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:10 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:24:08.627" endtime="20210609 10:24:12.331"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:24:12.334" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:24:13.913" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:24:13.913" level="INFO">${output} = 2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:24:12.332" endtime="20210609 10:24:13.913"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:24:13.914" level="INFO">2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:23 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21867 2021-06-09 10:24 o3fs://bucket1.volume1.om/ozone-11102
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:24 o3fs://bucket1.volume1.om/user
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:24:13.913" endtime="20210609 10:24:13.914"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:24:13.915" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:24:13.914" endtime="20210609 10:24:13.915"/>
</kw>
<status status="PASS" starttime="20210609 10:24:12.332" endtime="20210609 10:24:13.915"/>
</kw>
<msg timestamp="20210609 10:24:13.915" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:24:12.332" endtime="20210609 10:24:13.915"/>
</kw>
<msg timestamp="20210609 10:24:13.916" level="INFO">${result} = 2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:13 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:24:12.331" endtime="20210609 10:24:13.916"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:24:13.916" endtime="20210609 10:24:13.916"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210609 10:24:08.620" endtime="20210609 10:24:13.916"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210609 10:24:08.557" endtime="20210609 10:24:13.918"/>
</suite>
<suite id="s1-s2-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:25:49.878" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:25:49.884" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:25:49.884" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:49.876" endtime="20210609 10:25:49.884"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:25:49.885" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:49.884" endtime="20210609 10:25:49.885"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:25:49.885" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:25:49.885" endtime="20210609 10:25:49.885"/>
</kw>
<status status="PASS" starttime="20210609 10:25:49.875" endtime="20210609 10:25:49.886"/>
</kw>
<msg timestamp="20210609 10:25:49.886" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:25:49.875" endtime="20210609 10:25:49.886"/>
</kw>
<msg timestamp="20210609 10:25:49.886" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:49.874" endtime="20210609 10:25:49.886"/>
</kw>
<msg timestamp="20210609 10:25:49.886" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:49.874" endtime="20210609 10:25:49.886"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:25:49.890" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:25:49.890" endtime="20210609 10:25:49.890"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:25:49.891" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:25:49.891" endtime="20210609 10:25:49.891"/>
</kw>
<status status="PASS" starttime="20210609 10:25:49.890" endtime="20210609 10:25:49.891"/>
</kw>
<msg timestamp="20210609 10:25:49.891" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:25:49.889" endtime="20210609 10:25:49.891"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:25:49.892" endtime="20210609 10:25:49.892"/>
</kw>
<msg timestamp="20210609 10:25:49.892" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:25:49.892" endtime="20210609 10:25:49.892"/>
</kw>
<status status="PASS" starttime="20210609 10:25:49.889" endtime="20210609 10:25:49.893"/>
</kw>
<msg timestamp="20210609 10:25:49.893" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:25:49.888" endtime="20210609 10:25:49.893"/>
</kw>
<msg timestamp="20210609 10:25:49.893" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:25:49.887" endtime="20210609 10:25:49.893"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:25:49.896" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:26:27.617" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:26:27.617" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:25:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25...</msg>
<status status="PASS" starttime="20210609 10:25:49.894" endtime="20210609 10:26:27.617"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:26:27.618" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:25:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:51 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:51 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-09 10:25:51 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:25:51 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:25:51 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:25:51 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:25:51 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-F535CA08D429-&gt;84b0eabd-5125-4150-aa3f-b7e5f686ac17
2021-06-09 10:25:51 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-06-09 10:25:52 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-3B68387BC178-&gt;6a66617f-7a75-4bb7-87cd-d3259ee9db00
2021-06-09 10:25:52 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-06-09 10:25:52 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:52 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:52 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:52 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-09 10:25:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:53 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:25:53 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:53 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:25:53 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:25:56 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234188116_0003
2021-06-09 10:25:56 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:25:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:56 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:56 INFO  Configuration:2752 - resource-types.xml not found
2021-06-09 10:25:56 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-09 10:25:56 INFO  YarnClientImpl:324 - Submitted application application_1623234188116_0003
2021-06-09 10:25:56 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623234188116_0003/
2021-06-09 10:25:56 INFO  Job:1619 - Running job: job_1623234188116_0003
2021-06-09 10:26:03 INFO  Job:1640 - Job job_1623234188116_0003 running in uber mode : false
2021-06-09 10:26:03 INFO  Job:1647 -  map 0% reduce 0%
2021-06-09 10:26:09 INFO  Job:1647 -  map 33% reduce 0%
2021-06-09 10:26:14 INFO  Job:1647 -  map 67% reduce 0%
2021-06-09 10:26:19 INFO  Job:1647 -  map 100% reduce 0%
2021-06-09 10:26:25 INFO  Job:1647 -  map 100% reduce 100%
2021-06-09 10:26:26 INFO  Job:1658 - Job job_1623234188116_0003 completed successfully
2021-06-09 10:26:26 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:27 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1044957
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=756
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=35328
		Total time spent by all reduces in occupied slots (ms)=22896
		Total time spent by all map tasks (ms)=8832
		Total time spent by all reduce tasks (ms)=5724
		Total vcore-milliseconds taken by all map tasks=8832
		Total vcore-milliseconds taken by all reduce tasks=5724
		Total megabyte-milliseconds taken by all map tasks=36175872
		Total megabyte-milliseconds taken by all reduce tasks=23445504
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=402
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=495
		CPU time spent (ms)=5780
		Physical memory (bytes) snapshot=1291526144
		Virtual memory (bytes) snapshot=15784194048
		Total committed heap usage (bytes)=1042284544
		Peak Map Physical memory (bytes)=338993152
		Peak Map Virtual memory (bytes)=3952799744
		Peak Reduce Physical memory (bytes)=309370880
		Peak Reduce Virtual memory (bytes)=3955748864
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 34.17 seconds
2021-06-09 10:26:27 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-06-09 10:26:27 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:26:27.618" endtime="20210609 10:26:27.618"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:26:27.619" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:26:27.619" endtime="20210609 10:26:27.619"/>
</kw>
<status status="PASS" starttime="20210609 10:25:49.894" endtime="20210609 10:26:27.619"/>
</kw>
<msg timestamp="20210609 10:26:27.619" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:25:49.894" endtime="20210609 10:26:27.620"/>
</kw>
<msg timestamp="20210609 10:26:27.620" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:25:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:50 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25...</msg>
<status status="PASS" starttime="20210609 10:25:49.893" endtime="20210609 10:26:27.620"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:26:27.620" endtime="20210609 10:26:27.621"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:25:49.873" endtime="20210609 10:26:27.621"/>
</test>
<test id="s1-s2-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:26:27.626" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:26:27.631" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:26:27.631" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:26:27.624" endtime="20210609 10:26:27.631"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:26:27.632" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:26:27.631" endtime="20210609 10:26:27.632"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:26:27.633" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:26:27.633" endtime="20210609 10:26:27.633"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.624" endtime="20210609 10:26:27.633"/>
</kw>
<msg timestamp="20210609 10:26:27.633" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:26:27.623" endtime="20210609 10:26:27.633"/>
</kw>
<msg timestamp="20210609 10:26:27.634" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:26:27.623" endtime="20210609 10:26:27.634"/>
</kw>
<msg timestamp="20210609 10:26:27.634" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:26:27.622" endtime="20210609 10:26:27.634"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:26:27.634" level="INFO">${random} = VYZKIEX9</msg>
<status status="PASS" starttime="20210609 10:26:27.634" endtime="20210609 10:26:27.634"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:26:27.638" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:26:27.637" endtime="20210609 10:26:27.638"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:26:27.638" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:26:27.638" endtime="20210609 10:26:27.638"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.637" endtime="20210609 10:26:27.639"/>
</kw>
<msg timestamp="20210609 10:26:27.639" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:26:27.636" endtime="20210609 10:26:27.639"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:26:27.639" endtime="20210609 10:26:27.640"/>
</kw>
<msg timestamp="20210609 10:26:27.640" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:26:27.639" endtime="20210609 10:26:27.640"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.636" endtime="20210609 10:26:27.640"/>
</kw>
<msg timestamp="20210609 10:26:27.640" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:26:27.635" endtime="20210609 10:26:27.640"/>
</kw>
<msg timestamp="20210609 10:26:27.640" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:26:27.635" endtime="20210609 10:26:27.641"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:26:27.644" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:26:27.644" endtime="20210609 10:26:27.644"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:26:27.645" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:26:27.644" endtime="20210609 10:26:27.645"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.643" endtime="20210609 10:26:27.645"/>
</kw>
<msg timestamp="20210609 10:26:27.645" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:26:27.643" endtime="20210609 10:26:27.645"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:26:27.646" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210609 10:26:27.646" endtime="20210609 10:26:27.646"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:26:27.647" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210609 10:26:27.647" endtime="20210609 10:26:27.647"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.646" endtime="20210609 10:26:27.647"/>
</kw>
<msg timestamp="20210609 10:26:27.647" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210609 10:26:27.645" endtime="20210609 10:26:27.647"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.642" endtime="20210609 10:26:27.648"/>
</kw>
<msg timestamp="20210609 10:26:27.648" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210609 10:26:27.641" endtime="20210609 10:26:27.648"/>
</kw>
<msg timestamp="20210609 10:26:27.648" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210609 10:26:27.641" endtime="20210609 10:26:27.648"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:26:27.651" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:26:27.651" endtime="20210609 10:26:27.651"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:26:27.652" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:26:27.652" endtime="20210609 10:26:27.652"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.650" endtime="20210609 10:26:27.653"/>
</kw>
<msg timestamp="20210609 10:26:27.653" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:26:27.650" endtime="20210609 10:26:27.653"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:26:27.654" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210609 10:26:27.654" endtime="20210609 10:26:27.654"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:26:27.654" level="INFO">${result} = /wordcount-VYZKIEX9.txt</msg>
<status status="PASS" starttime="20210609 10:26:27.654" endtime="20210609 10:26:27.655"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.653" endtime="20210609 10:26:27.655"/>
</kw>
<msg timestamp="20210609 10:26:27.655" level="INFO">${path_with_leading} = /wordcount-VYZKIEX9.txt</msg>
<status status="PASS" starttime="20210609 10:26:27.653" endtime="20210609 10:26:27.655"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.649" endtime="20210609 10:26:27.655"/>
</kw>
<msg timestamp="20210609 10:26:27.655" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-VYZKIEX9.txt</msg>
<status status="PASS" starttime="20210609 10:26:27.649" endtime="20210609 10:26:27.655"/>
</kw>
<msg timestamp="20210609 10:26:27.655" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-VYZKIEX9.txt</msg>
<status status="PASS" starttime="20210609 10:26:27.648" endtime="20210609 10:26:27.656"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:26:27.659" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-VYZKIEX9.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:27:01.006" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:27:01.006" level="INFO">${output} = 2021-06-09 10:26:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:26:27.657" endtime="20210609 10:27:01.006"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:27:01.007" level="INFO">2021-06-09 10:26:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-09 10:26:29 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:26:29 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:26:29 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:26:29 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:26:29 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-6502B2D2AE7F-&gt;84b0eabd-5125-4150-aa3f-b7e5f686ac17
2021-06-09 10:26:29 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:26:30 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:26:30 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-4E022163F622-&gt;6a66617f-7a75-4bb7-87cd-d3259ee9db00
2021-06-09 10:26:30 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:26:30 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:26:31 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234188116_0004
2021-06-09 10:26:31 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:26:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:31 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:31 INFO  Configuration:2752 - resource-types.xml not found
2021-06-09 10:26:31 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-09 10:26:31 INFO  YarnClientImpl:324 - Submitted application application_1623234188116_0004
2021-06-09 10:26:31 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623234188116_0004/
2021-06-09 10:26:31 INFO  Job:1619 - Running job: job_1623234188116_0004
2021-06-09 10:26:39 INFO  Job:1640 - Job job_1623234188116_0004 running in uber mode : false
2021-06-09 10:26:39 INFO  Job:1647 -  map 0% reduce 0%
2021-06-09 10:26:45 INFO  Job:1647 -  map 33% reduce 0%
2021-06-09 10:26:50 INFO  Job:1647 -  map 67% reduce 0%
2021-06-09 10:26:54 INFO  Job:1647 -  map 100% reduce 0%
2021-06-09 10:26:59 INFO  Job:1647 -  map 100% reduce 100%
2021-06-09 10:27:00 INFO  Job:1658 - Job job_1623234188116_0004 completed successfully
2021-06-09 10:27:00 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:27:00 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1107631
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37532
		Total time spent by all reduces in occupied slots (ms)=12792
		Total time spent by all map tasks (ms)=9383
		Total time spent by all reduce tasks (ms)=3198
		Total vcore-milliseconds taken by all map tasks=9383
		Total vcore-milliseconds taken by all reduce tasks=3198
		Total megabyte-milliseconds taken by all map tasks=38432768
		Total megabyte-milliseconds taken by all reduce tasks=13099008
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=515
		CPU time spent (ms)=6180
		Physical memory (bytes) snapshot=1400651776
		Virtual memory (bytes) snapshot=15807090688
		Total committed heap usage (bytes)=1111490560
		Peak Map Physical memory (bytes)=403783680
		Peak Map Virtual memory (bytes)=3950018560
		Peak Reduce Physical memory (bytes)=320839680
		Peak Reduce Virtual memory (bytes)=3968651264
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209
2021-06-09 10:27:00 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:27:01.007" endtime="20210609 10:27:01.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:27:01.008" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:27:01.008" endtime="20210609 10:27:01.008"/>
</kw>
<status status="PASS" starttime="20210609 10:26:27.656" endtime="20210609 10:27:01.009"/>
</kw>
<msg timestamp="20210609 10:27:01.009" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:26:27.656" endtime="20210609 10:27:01.009"/>
</kw>
<msg timestamp="20210609 10:27:01.009" level="INFO">${output} = 2021-06-09 10:26:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:28 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:26:29 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:26:27.656" endtime="20210609 10:27:01.009"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:27:01.009" endtime="20210609 10:27:01.010"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:27:01.010" endtime="20210609 10:27:01.010"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:26:27.621" endtime="20210609 10:27:01.010"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210609 10:25:49.817" endtime="20210609 10:27:01.012"/>
</suite>
<suite id="s1-s2-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s2-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:24:18.273" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:24:18.280" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:24:18.280" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:24:18.270" endtime="20210609 10:24:18.280"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:24:18.281" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:24:18.281" endtime="20210609 10:24:18.281"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:24:18.282" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:24:18.282" endtime="20210609 10:24:18.282"/>
</kw>
<status status="PASS" starttime="20210609 10:24:18.269" endtime="20210609 10:24:18.282"/>
</kw>
<msg timestamp="20210609 10:24:18.282" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:24:18.269" endtime="20210609 10:24:18.283"/>
</kw>
<msg timestamp="20210609 10:24:18.283" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:24:18.269" endtime="20210609 10:24:18.283"/>
</kw>
<msg timestamp="20210609 10:24:18.283" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:24:18.268" endtime="20210609 10:24:18.283"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:24:18.288" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:24:18.287" endtime="20210609 10:24:18.288"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:24:18.289" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:24:18.288" endtime="20210609 10:24:18.289"/>
</kw>
<status status="PASS" starttime="20210609 10:24:18.287" endtime="20210609 10:24:18.289"/>
</kw>
<msg timestamp="20210609 10:24:18.289" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:24:18.286" endtime="20210609 10:24:18.289"/>
</kw>
<status status="PASS" starttime="20210609 10:24:18.286" endtime="20210609 10:24:18.290"/>
</kw>
<msg timestamp="20210609 10:24:18.290" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:24:18.285" endtime="20210609 10:24:18.290"/>
</kw>
<msg timestamp="20210609 10:24:18.290" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:24:18.283" endtime="20210609 10:24:18.290"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:24:18.293" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:25:02.217" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:25:02.217" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:24:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24...</msg>
<status status="PASS" starttime="20210609 10:24:18.292" endtime="20210609 10:25:02.218"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:25:02.219" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:24:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:20 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:20 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-09 10:24:20 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:24:20 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:24:20 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:24:20 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:24:20 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-C339493735CE-&gt;6a66617f-7a75-4bb7-87cd-d3259ee9db00
2021-06-09 10:24:20 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
Wrote input for Map #2
Starting Job
2021-06-09 10:24:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:24 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-09 10:24:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:24 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:24:24 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:24 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-B7BAC9EFF24C-&gt;84b0eabd-5125-4150-aa3f-b7e5f686ac17
2021-06-09 10:24:24 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:24:24 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:24:27 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234188116_0001
2021-06-09 10:24:27 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:24:27 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:27 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:27 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:27 INFO  Configuration:2752 - resource-types.xml not found
2021-06-09 10:24:27 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-09 10:24:28 INFO  YarnClientImpl:324 - Submitted application application_1623234188116_0001
2021-06-09 10:24:28 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623234188116_0001/
2021-06-09 10:24:28 INFO  Job:1619 - Running job: job_1623234188116_0001
2021-06-09 10:24:37 INFO  Job:1640 - Job job_1623234188116_0001 running in uber mode : false
2021-06-09 10:24:37 INFO  Job:1647 -  map 0% reduce 0%
2021-06-09 10:24:43 INFO  Job:1647 -  map 33% reduce 0%
2021-06-09 10:24:48 INFO  Job:1647 -  map 67% reduce 0%
2021-06-09 10:24:53 INFO  Job:1647 -  map 100% reduce 0%
2021-06-09 10:24:57 INFO  Job:1647 -  map 100% reduce 100%
2021-06-09 10:25:01 INFO  Job:1658 - Job job_1623234188116_0001 completed successfully
2021-06-09 10:25:01 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:01 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1045177
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=37908
		Total time spent by all reduces in occupied slots (ms)=13700
		Total time spent by all map tasks (ms)=9477
		Total time spent by all reduce tasks (ms)=3425
		Total vcore-milliseconds taken by all map tasks=9477
		Total vcore-milliseconds taken by all reduce tasks=3425
		Total megabyte-milliseconds taken by all map tasks=38817792
		Total megabyte-milliseconds taken by all reduce tasks=14028800
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=816
		CPU time spent (ms)=6240
		Physical memory (bytes) snapshot=1548537856
		Virtual memory (bytes) snapshot=15821856768
		Total committed heap usage (bytes)=1354760192
		Peak Map Physical memory (bytes)=554819584
		Peak Map Virtual memory (bytes)=3953987584
		Peak Reduce Physical memory (bytes)=312741888
		Peak Reduce Virtual memory (bytes)=3966038016
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 37.661 seconds
2021-06-09 10:25:01 INFO  Configuration:3318 - Removed undeclared tags:
Estimated value of Pi is 3.55555555555555555556
2021-06-09 10:25:01 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:25:02.218" endtime="20210609 10:25:02.219"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:25:02.220" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:25:02.219" endtime="20210609 10:25:02.220"/>
</kw>
<status status="PASS" starttime="20210609 10:24:18.291" endtime="20210609 10:25:02.220"/>
</kw>
<msg timestamp="20210609 10:25:02.220" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:24:18.291" endtime="20210609 10:25:02.221"/>
</kw>
<msg timestamp="20210609 10:25:02.221" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:24:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24:19 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:24...</msg>
<status status="PASS" starttime="20210609 10:24:18.290" endtime="20210609 10:25:02.221"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:25:02.221" endtime="20210609 10:25:02.222"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:24:18.267" endtime="20210609 10:25:02.222"/>
</test>
<test id="s1-s2-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:25:02.229" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:25:02.233" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:25:02.233" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:02.227" endtime="20210609 10:25:02.234"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:25:02.234" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:02.234" endtime="20210609 10:25:02.234"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:25:02.235" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:25:02.235" endtime="20210609 10:25:02.235"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.226" endtime="20210609 10:25:02.236"/>
</kw>
<msg timestamp="20210609 10:25:02.236" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:25:02.226" endtime="20210609 10:25:02.236"/>
</kw>
<msg timestamp="20210609 10:25:02.236" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:02.225" endtime="20210609 10:25:02.236"/>
</kw>
<msg timestamp="20210609 10:25:02.236" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar</msg>
<status status="PASS" starttime="20210609 10:25:02.224" endtime="20210609 10:25:02.236"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:25:02.237" level="INFO">${random} = Vh7reS8b</msg>
<status status="PASS" starttime="20210609 10:25:02.236" endtime="20210609 10:25:02.237"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:25:02.240" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:25:02.240" endtime="20210609 10:25:02.240"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:25:02.241" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:25:02.240" endtime="20210609 10:25:02.241"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.239" endtime="20210609 10:25:02.241"/>
</kw>
<msg timestamp="20210609 10:25:02.241" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:25:02.239" endtime="20210609 10:25:02.241"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.238" endtime="20210609 10:25:02.241"/>
</kw>
<msg timestamp="20210609 10:25:02.241" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:25:02.238" endtime="20210609 10:25:02.241"/>
</kw>
<msg timestamp="20210609 10:25:02.242" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:25:02.237" endtime="20210609 10:25:02.242"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:25:02.245" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:25:02.245" endtime="20210609 10:25:02.245"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:25:02.246" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:25:02.245" endtime="20210609 10:25:02.246"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.244" endtime="20210609 10:25:02.246"/>
</kw>
<msg timestamp="20210609 10:25:02.246" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:25:02.244" endtime="20210609 10:25:02.246"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.243" endtime="20210609 10:25:02.246"/>
</kw>
<msg timestamp="20210609 10:25:02.247" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210609 10:25:02.242" endtime="20210609 10:25:02.247"/>
</kw>
<msg timestamp="20210609 10:25:02.247" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210609 10:25:02.242" endtime="20210609 10:25:02.247"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:25:02.250" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:25:02.250" endtime="20210609 10:25:02.250"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:25:02.250" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:25:02.250" endtime="20210609 10:25:02.251"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.249" endtime="20210609 10:25:02.251"/>
</kw>
<msg timestamp="20210609 10:25:02.251" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:25:02.249" endtime="20210609 10:25:02.251"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.248" endtime="20210609 10:25:02.251"/>
</kw>
<msg timestamp="20210609 10:25:02.251" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-Vh7reS8b.txt</msg>
<status status="PASS" starttime="20210609 10:25:02.248" endtime="20210609 10:25:02.251"/>
</kw>
<msg timestamp="20210609 10:25:02.251" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-Vh7reS8b.txt</msg>
<status status="PASS" starttime="20210609 10:25:02.247" endtime="20210609 10:25:02.252"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:25:02.254" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-Vh7reS8b.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:25:36.079" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:25:36.079" level="INFO">${output} = 2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:25:02.253" endtime="20210609 10:25:36.080"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:25:36.081" level="INFO">2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  RMProxy:133 - Connecting to ResourceManager at rm/172.22.0.2:8032
2021-06-09 10:25:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:04 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:25:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:04 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:04 INFO  FluentPropertyBeanIntrospector:147 - Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.
2021-06-09 10:25:04 INFO  MetricsConfig:121 - loaded properties from hadoop-metrics2.properties
2021-06-09 10:25:04 INFO  MetricsSystemImpl:374 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:25:04 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:25:04 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:25:04 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0A49BB331161-&gt;84b0eabd-5125-4150-aa3f-b7e5f686ac17
2021-06-09 10:25:04 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:25:05 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:25:05 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-DB88B6817B06-&gt;6a66617f-7a75-4bb7-87cd-d3259ee9db00
2021-06-09 10:25:05 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:25:05 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:25:05 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234188116_0002
2021-06-09 10:25:05 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:25:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:06 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:06 INFO  Configuration:2752 - resource-types.xml not found
2021-06-09 10:25:06 INFO  ResourceUtils:418 - Unable to find 'resource-types.xml'.
2021-06-09 10:25:06 INFO  YarnClientImpl:324 - Submitted application application_1623234188116_0002
2021-06-09 10:25:06 INFO  Job:1574 - The url to track the job: http://rm:8088/proxy/application_1623234188116_0002/
2021-06-09 10:25:06 INFO  Job:1619 - Running job: job_1623234188116_0002
2021-06-09 10:25:14 INFO  Job:1640 - Job job_1623234188116_0002 running in uber mode : false
2021-06-09 10:25:14 INFO  Job:1647 -  map 0% reduce 0%
2021-06-09 10:25:21 INFO  Job:1647 -  map 33% reduce 0%
2021-06-09 10:25:25 INFO  Job:1647 -  map 67% reduce 0%
2021-06-09 10:25:30 INFO  Job:1647 -  map 100% reduce 0%
2021-06-09 10:25:35 INFO  Job:1647 -  map 100% reduce 100%
2021-06-09 10:25:35 INFO  Job:1658 - Job job_1623234188116_0002 completed successfully
2021-06-09 10:25:35 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:35 INFO  Job:1665 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1107715
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36632
		Total time spent by all reduces in occupied slots (ms)=13176
		Total time spent by all map tasks (ms)=9158
		Total time spent by all reduce tasks (ms)=3294
		Total vcore-milliseconds taken by all map tasks=9158
		Total vcore-milliseconds taken by all reduce tasks=3294
		Total megabyte-milliseconds taken by all map tasks=37511168
		Total megabyte-milliseconds taken by all reduce tasks=13492224
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=498
		CPU time spent (ms)=6290
		Physical memory (bytes) snapshot=1298513920
		Virtual memory (bytes) snapshot=15794442240
		Total committed heap usage (bytes)=1071120384
		Peak Map Physical memory (bytes)=338149376
		Peak Map Virtual memory (bytes)=3947802624
		Peak Reduce Physical memory (bytes)=286453760
		Peak Reduce Virtual memory (bytes)=3951636480
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209
2021-06-09 10:25:35 INFO  Configuration:3318 - Removed undeclared tags:</msg>
<status status="PASS" starttime="20210609 10:25:36.080" endtime="20210609 10:25:36.081"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:25:36.081" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:25:36.081" endtime="20210609 10:25:36.081"/>
</kw>
<status status="PASS" starttime="20210609 10:25:02.253" endtime="20210609 10:25:36.082"/>
</kw>
<msg timestamp="20210609 10:25:36.082" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:25:02.252" endtime="20210609 10:25:36.082"/>
</kw>
<msg timestamp="20210609 10:25:36.082" level="INFO">${output} = 2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed undeclared tags:
2021-06-09 10:25:03 INFO  Configuration:3318 - Removed u...</msg>
<status status="PASS" starttime="20210609 10:25:02.252" endtime="20210609 10:25:36.082"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:25:36.083" endtime="20210609 10:25:36.083"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:25:36.084" endtime="20210609 10:25:36.084"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:25:02.223" endtime="20210609 10:25:36.084"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210609 10:24:18.201" endtime="20210609 10:25:36.086"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="186561"/>
</suite>
<suite id="s1-s3" name="hadoop32">
<suite id="s1-s3-s1" name="Createmrenv" source="/opt/hadoop/smoketest/createmrenv.robot">
<test id="s1-s3-s1-t1" name="Create test volume, bucket and key">
<kw name="Execute And Ignore Error" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:03.014" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:14.912" level="INFO">${rc} = 255</msg>
<msg timestamp="20210609 10:28:14.912" level="INFO">${output} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:28:03.008" endtime="20210609 10:28:14.912"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:14.913" level="INFO">VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:28:14.913" endtime="20210609 10:28:14.913"/>
</kw>
<msg timestamp="20210609 10:28:14.914" level="INFO">${result} = VOLUME_NOT_FOUND Volume volume1 is not found</msg>
<status status="PASS" starttime="20210609 10:28:03.007" endtime="20210609 10:28:14.914"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create volume</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create volume">
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh volume create /${volume} --user hadoop --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:14.918" level="INFO">Running command 'ozone sh volume create /volume1 --user hadoop --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:18.023" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:18.023" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:14.916" endtime="20210609 10:28:18.023"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:18.024" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:18.024" endtime="20210609 10:28:18.024"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:18.025" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:18.024" endtime="20210609 10:28:18.025"/>
</kw>
<status status="PASS" starttime="20210609 10:28:14.915" endtime="20210609 10:28:18.026"/>
</kw>
<msg timestamp="20210609 10:28:18.026" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:14.915" endtime="20210609 10:28:18.026"/>
</kw>
<msg timestamp="20210609 10:28:18.026" level="INFO">${result} = </msg>
<status status="PASS" starttime="20210609 10:28:14.915" endtime="20210609 10:28:18.026"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:28:18.026" endtime="20210609 10:28:18.027"/>
</kw>
<status status="PASS" starttime="20210609 10:28:14.914" endtime="20210609 10:28:18.027"/>
</kw>
<status status="PASS" starttime="20210609 10:28:14.914" endtime="20210609 10:28:18.027"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"VOLUME_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Create bucket">
<kw name="Execute" library="os">
<arg>ozone sh bucket create /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:18.031" level="INFO">Running command 'ozone sh bucket create /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:21.089" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:21.089" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:18.030" endtime="20210609 10:28:21.089"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:21.090" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:21.090" endtime="20210609 10:28:21.091"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:21.091" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:21.091" endtime="20210609 10:28:21.091"/>
</kw>
<status status="PASS" starttime="20210609 10:28:18.029" endtime="20210609 10:28:21.092"/>
</kw>
<msg timestamp="20210609 10:28:21.092" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:18.029" endtime="20210609 10:28:21.092"/>
</kw>
<status status="PASS" starttime="20210609 10:28:18.028" endtime="20210609 10:28:21.092"/>
</kw>
<status status="PASS" starttime="20210609 10:28:18.028" endtime="20210609 10:28:21.092"/>
</kw>
<status status="PASS" starttime="20210609 10:28:18.027" endtime="20210609 10:28:21.092"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>"BUCKET_NOT_FOUND" in """${result}"""</arg>
<arg>Create bucket</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20210609 10:28:21.093" endtime="20210609 10:28:21.093"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone sh bucket info /${volume}/${bucket}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:21.097" level="INFO">Running command 'ozone sh bucket info /volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:24.007" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:24.007" level="INFO">${output} = {
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versi...</msg>
<status status="PASS" starttime="20210609 10:28:21.095" endtime="20210609 10:28:24.007"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:24.008" level="INFO">{
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versioning" : false,
  "usedBytes" : 0,
  "usedNamespace" : 0,
  "creationTime" : "2021-06-09T10:28:20.834Z",
  "modificationTime" : "2021-06-09T10:28:20.834Z",
  "encryptionKeyName" : null,
  "sourceVolume" : null,
  "sourceBucket" : null,
  "quotaInBytes" : -1,
  "quotaInNamespace" : -1
}</msg>
<status status="PASS" starttime="20210609 10:28:24.008" endtime="20210609 10:28:24.008"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:24.009" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:24.009" endtime="20210609 10:28:24.009"/>
</kw>
<status status="PASS" starttime="20210609 10:28:21.094" endtime="20210609 10:28:24.009"/>
</kw>
<msg timestamp="20210609 10:28:24.009" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:21.094" endtime="20210609 10:28:24.010"/>
</kw>
<msg timestamp="20210609 10:28:24.010" level="INFO">${result} = {
  "metadata" : {
    "ozone.om.metadata.layout" : "SIMPLE",
    "ozone.om.enable.filesystem.paths" : "false"
  },
  "volumeName" : "volume1",
  "name" : "bucket1",
  "storageType" : "DISK",
  "versi...</msg>
<status status="PASS" starttime="20210609 10:28:21.093" endtime="20210609 10:28:24.010"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>NOT_FOUND</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:28:24.010" endtime="20210609 10:28:24.010"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:28:24.015" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:28:24.015" endtime="20210609 10:28:24.015"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:28:24.016" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:28:24.016" endtime="20210609 10:28:24.016"/>
</kw>
<status status="PASS" starttime="20210609 10:28:24.014" endtime="20210609 10:28:24.016"/>
</kw>
<msg timestamp="20210609 10:28:24.016" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:28:24.013" endtime="20210609 10:28:24.016"/>
</kw>
<status status="PASS" starttime="20210609 10:28:24.012" endtime="20210609 10:28:24.017"/>
</kw>
<msg timestamp="20210609 10:28:24.017" level="INFO">${url} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210609 10:28:24.011" endtime="20210609 10:28:24.017"/>
</kw>
<msg timestamp="20210609 10:28:24.017" level="INFO">${dir} = o3fs://bucket1.volume1.om/input</msg>
<status status="PASS" starttime="20210609 10:28:24.011" endtime="20210609 10:28:24.017"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:24.020" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/input 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:27.239" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:27.239" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:24.019" endtime="20210609 10:28:27.239"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:27.240" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:27.239" endtime="20210609 10:28:27.240"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:27.241" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:27.240" endtime="20210609 10:28:27.241"/>
</kw>
<status status="PASS" starttime="20210609 10:28:24.018" endtime="20210609 10:28:27.242"/>
</kw>
<msg timestamp="20210609 10:28:27.242" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:24.018" endtime="20210609 10:28:27.242"/>
</kw>
<status status="PASS" starttime="20210609 10:28:24.017" endtime="20210609 10:28:27.243"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key1 LICENSE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:27.246" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key1 LICENSE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:33.165" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:33.165" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:27.245" endtime="20210609 10:28:33.165"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:33.167" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:33.166" endtime="20210609 10:28:33.167"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:33.168" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:33.167" endtime="20210609 10:28:33.168"/>
</kw>
<status status="PASS" starttime="20210609 10:28:27.244" endtime="20210609 10:28:33.168"/>
</kw>
<msg timestamp="20210609 10:28:33.168" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:27.244" endtime="20210609 10:28:33.168"/>
</kw>
<status status="PASS" starttime="20210609 10:28:27.243" endtime="20210609 10:28:33.168"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key2 NOTICE.txt</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:33.172" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key2 NOTICE.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:38.557" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:38.557" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:33.170" endtime="20210609 10:28:38.557"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:38.558" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:38.557" endtime="20210609 10:28:38.558"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:38.559" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:38.558" endtime="20210609 10:28:38.559"/>
</kw>
<status status="PASS" starttime="20210609 10:28:33.170" endtime="20210609 10:28:38.559"/>
</kw>
<msg timestamp="20210609 10:28:38.559" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:33.169" endtime="20210609 10:28:38.559"/>
</kw>
<status status="PASS" starttime="20210609 10:28:33.169" endtime="20210609 10:28:38.560"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put /${volume}/${bucket}/input/key3 README.md</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:38.563" level="INFO">Running command 'ozone sh key put /volume1/bucket1/input/key3 README.md 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:43.298" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:43.298" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:38.561" endtime="20210609 10:28:43.299"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:43.300" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:43.299" endtime="20210609 10:28:43.300"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:43.300" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:43.300" endtime="20210609 10:28:43.300"/>
</kw>
<status status="PASS" starttime="20210609 10:28:38.561" endtime="20210609 10:28:43.301"/>
</kw>
<msg timestamp="20210609 10:28:43.301" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:38.560" endtime="20210609 10:28:43.301"/>
</kw>
<status status="PASS" starttime="20210609 10:28:38.560" endtime="20210609 10:28:43.301"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210609 10:28:03.006" endtime="20210609 10:28:43.301"/>
</test>
<test id="s1-s3-s1-t2" name="Create user dir for hadoop">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>user</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:28:43.307" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:28:43.307" endtime="20210609 10:28:43.307"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:28:43.308" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:28:43.307" endtime="20210609 10:28:43.308"/>
</kw>
<status status="PASS" starttime="20210609 10:28:43.306" endtime="20210609 10:28:43.308"/>
</kw>
<msg timestamp="20210609 10:28:43.308" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:28:43.305" endtime="20210609 10:28:43.308"/>
</kw>
<status status="PASS" starttime="20210609 10:28:43.304" endtime="20210609 10:28:43.309"/>
</kw>
<msg timestamp="20210609 10:28:43.309" level="INFO">${url} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:28:43.304" endtime="20210609 10:28:43.309"/>
</kw>
<msg timestamp="20210609 10:28:43.309" level="INFO">${dir} = o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:28:43.303" endtime="20210609 10:28:43.309"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:43.312" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:46.125" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:46.125" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:43.310" endtime="20210609 10:28:46.126"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:46.127" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:46.126" endtime="20210609 10:28:46.127"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:46.128" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:46.127" endtime="20210609 10:28:46.128"/>
</kw>
<status status="PASS" starttime="20210609 10:28:43.310" endtime="20210609 10:28:46.128"/>
</kw>
<msg timestamp="20210609 10:28:46.128" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:43.310" endtime="20210609 10:28:46.128"/>
</kw>
<status status="PASS" starttime="20210609 10:28:43.309" endtime="20210609 10:28:46.129"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone fs -mkdir ${dir}/hadoop</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:46.132" level="INFO">Running command 'ozone fs -mkdir o3fs://bucket1.volume1.om/user/hadoop 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:49.015" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:49.015" level="INFO">${output} = </msg>
<status status="PASS" starttime="20210609 10:28:46.130" endtime="20210609 10:28:49.015"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:49.016" level="INFO"/>
<status status="PASS" starttime="20210609 10:28:49.015" endtime="20210609 10:28:49.016"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:49.017" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:49.016" endtime="20210609 10:28:49.017"/>
</kw>
<status status="PASS" starttime="20210609 10:28:46.130" endtime="20210609 10:28:49.017"/>
</kw>
<msg timestamp="20210609 10:28:49.017" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:46.130" endtime="20210609 10:28:49.017"/>
</kw>
<status status="PASS" starttime="20210609 10:28:46.129" endtime="20210609 10:28:49.018"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20210609 10:28:43.302" endtime="20210609 10:28:49.018"/>
</test>
<doc>Create directories required for MR test</doc>
<status status="PASS" starttime="20210609 10:28:02.916" endtime="20210609 10:28:49.020"/>
</suite>
<suite id="s1-s3-s2" name="hadoopfs-ofs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s2-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:30:23.368" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:30:23.367" endtime="20210609 10:30:23.368"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:30:23.368" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:30:23.368" endtime="20210609 10:30:23.368"/>
</kw>
<status status="PASS" starttime="20210609 10:30:23.367" endtime="20210609 10:30:23.369"/>
</kw>
<msg timestamp="20210609 10:30:23.369" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:30:23.367" endtime="20210609 10:30:23.369"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:30:23.369" endtime="20210609 10:30:23.370"/>
</kw>
<msg timestamp="20210609 10:30:23.370" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:30:23.369" endtime="20210609 10:30:23.370"/>
</kw>
<status status="PASS" starttime="20210609 10:30:23.366" endtime="20210609 10:30:23.370"/>
</kw>
<msg timestamp="20210609 10:30:23.370" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:30:23.365" endtime="20210609 10:30:23.370"/>
</kw>
<msg timestamp="20210609 10:30:23.370" level="INFO">${dir} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:30:23.365" endtime="20210609 10:30:23.370"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:30:23.371" level="INFO">${random} = 57100</msg>
<status status="PASS" starttime="20210609 10:30:23.370" endtime="20210609 10:30:23.371"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:30:23.376" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt ofs://om/volume1/bucket1/ozone-57100 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:30:26.503" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:30:26.503" level="INFO">${output} = 2021-06-09 10:30:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:30:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210609 10:30:23.372" endtime="20210609 10:30:26.504"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:30:26.504" level="INFO">2021-06-09 10:30:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:30:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:30:25 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:30:25 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:30:25 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0C71AE336097-&gt;8ce4a576-1eb8-4423-a18b-8a31e3d0ff79
2021-06-09 10:30:25 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210609 10:30:26.504" endtime="20210609 10:30:26.505"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:30:26.505" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:30:26.505" endtime="20210609 10:30:26.505"/>
</kw>
<status status="PASS" starttime="20210609 10:30:23.372" endtime="20210609 10:30:26.505"/>
</kw>
<msg timestamp="20210609 10:30:26.505" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:30:23.372" endtime="20210609 10:30:26.506"/>
</kw>
<msg timestamp="20210609 10:30:26.506" level="INFO">${result} = 2021-06-09 10:30:25 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:30:25 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210609 10:30:23.371" endtime="20210609 10:30:26.506"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:30:26.509" level="INFO">Running command 'hdfs dfs -ls ofs://om/volume1/bucket1 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:30:28.201" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:30:28.201" level="INFO">${output} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:28 ofs://om/volume1/bucket1/ozone-11169
-rw-...</msg>
<status status="PASS" starttime="20210609 10:30:26.507" endtime="20210609 10:30:28.201"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:30:28.202" level="INFO">Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:28 ofs://om/volume1/bucket1/ozone-11169
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:30 ofs://om/volume1/bucket1/ozone-57100
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 ofs://om/volume1/bucket1/user
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:29 ofs://om/volume1/bucket1/wordcount-qmGQAEbM.txt</msg>
<status status="PASS" starttime="20210609 10:30:28.201" endtime="20210609 10:30:28.202"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:30:28.203" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:30:28.202" endtime="20210609 10:30:28.203"/>
</kw>
<status status="PASS" starttime="20210609 10:30:26.507" endtime="20210609 10:30:28.203"/>
</kw>
<msg timestamp="20210609 10:30:28.203" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:30:26.506" endtime="20210609 10:30:28.203"/>
</kw>
<msg timestamp="20210609 10:30:28.204" level="INFO">${result} = Found 5 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 ofs://om/volume1/bucket1/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:28 ofs://om/volume1/bucket1/ozone-11169
-rw-...</msg>
<status status="PASS" starttime="20210609 10:30:26.506" endtime="20210609 10:30:28.204"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:30:28.204" endtime="20210609 10:30:28.204"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210609 10:30:23.364" endtime="20210609 10:30:28.204"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210609 10:30:23.301" endtime="20210609 10:30:28.205"/>
</suite>
<suite id="s1-s3-s3" name="hadoopfs-o3fs" source="/opt/ozone/smoketest/ozonefs/hadoopo3fs.robot">
<test id="s1-s3-s3-t1" name="Test hadoop dfs">
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:28:53.074" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:28:53.073" endtime="20210609 10:28:53.074"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:28:53.075" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:28:53.074" endtime="20210609 10:28:53.075"/>
</kw>
<status status="PASS" starttime="20210609 10:28:53.073" endtime="20210609 10:28:53.075"/>
</kw>
<msg timestamp="20210609 10:28:53.075" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:28:53.072" endtime="20210609 10:28:53.075"/>
</kw>
<status status="PASS" starttime="20210609 10:28:53.072" endtime="20210609 10:28:53.075"/>
</kw>
<msg timestamp="20210609 10:28:53.075" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:28:53.071" endtime="20210609 10:28:53.075"/>
</kw>
<msg timestamp="20210609 10:28:53.076" level="INFO">${dir} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:28:53.070" endtime="20210609 10:28:53.076"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:28:53.076" level="INFO">${random} = 11169</msg>
<status status="PASS" starttime="20210609 10:28:53.076" endtime="20210609 10:28:53.076"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -put /opt/hadoop/NOTICE.txt ${dir}/${PREFIX}-${random}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:53.083" level="INFO">Running command 'hdfs dfs -put /opt/hadoop/NOTICE.txt o3fs://bucket1.volume1.om//ozone-11169 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:56.330" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:56.330" level="INFO">${output} = 2021-06-09 10:28:54 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:28:54 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210609 10:28:53.078" endtime="20210609 10:28:56.330"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:56.331" level="INFO">2021-06-09 10:28:54 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:28:54 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:28:54 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:28:55 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:28:55 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-0C7E73CF3956-&gt;112e130e-67d1-49ae-a1dd-6c742bebcf2d
2021-06-09 10:28:55 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.</msg>
<status status="PASS" starttime="20210609 10:28:56.331" endtime="20210609 10:28:56.332"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:56.332" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:56.332" endtime="20210609 10:28:56.332"/>
</kw>
<status status="PASS" starttime="20210609 10:28:53.077" endtime="20210609 10:28:56.332"/>
</kw>
<msg timestamp="20210609 10:28:56.333" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:53.077" endtime="20210609 10:28:56.333"/>
</kw>
<msg timestamp="20210609 10:28:56.333" level="INFO">${result} = 2021-06-09 10:28:54 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:28:54 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021...</msg>
<status status="PASS" starttime="20210609 10:28:53.076" endtime="20210609 10:28:56.333"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>hdfs dfs -ls ${dir}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:28:56.336" level="INFO">Running command 'hdfs dfs -ls o3fs://bucket1.volume1.om/ 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:28:58.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:28:58.022" level="INFO">${output} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:28 o3fs://bucket1.volume1.om/ozone-11169
dr...</msg>
<status status="PASS" starttime="20210609 10:28:56.334" endtime="20210609 10:28:58.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:28:58.023" level="INFO">Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:28 o3fs://bucket1.volume1.om/ozone-11169
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 o3fs://bucket1.volume1.om/user</msg>
<status status="PASS" starttime="20210609 10:28:58.023" endtime="20210609 10:28:58.023"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:28:58.024" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:28:58.023" endtime="20210609 10:28:58.024"/>
</kw>
<status status="PASS" starttime="20210609 10:28:56.334" endtime="20210609 10:28:58.024"/>
</kw>
<msg timestamp="20210609 10:28:58.024" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:28:56.334" endtime="20210609 10:28:58.024"/>
</kw>
<msg timestamp="20210609 10:28:58.025" level="INFO">${result} = Found 3 items
drwxrwxrwx   - hadoop hadoop          0 2021-06-09 10:28 o3fs://bucket1.volume1.om/input
-rw-rw-rw-   3 hadoop hadoop      21943 2021-06-09 10:28 o3fs://bucket1.volume1.om/ozone-11169
dr...</msg>
<status status="PASS" starttime="20210609 10:28:56.333" endtime="20210609 10:28:58.025"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${PREFIX}-${random}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:28:58.025" endtime="20210609 10:28:58.025"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20210609 10:28:53.069" endtime="20210609 10:28:58.026"/>
</test>
<doc>Test ozone fs with hadoopfs</doc>
<status status="PASS" starttime="20210609 10:28:53.013" endtime="20210609 10:28:58.027"/>
</suite>
<suite id="s1-s3-s4" name="mapreduce-ofs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s4-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:30:32.289" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:30:32.295" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:30:32.295" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:30:32.286" endtime="20210609 10:30:32.296"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:30:32.297" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:30:32.296" endtime="20210609 10:30:32.297"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:30:32.298" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:30:32.297" endtime="20210609 10:30:32.298"/>
</kw>
<status status="PASS" starttime="20210609 10:30:32.286" endtime="20210609 10:30:32.298"/>
</kw>
<msg timestamp="20210609 10:30:32.298" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:30:32.285" endtime="20210609 10:30:32.298"/>
</kw>
<msg timestamp="20210609 10:30:32.298" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:30:32.285" endtime="20210609 10:30:32.299"/>
</kw>
<msg timestamp="20210609 10:30:32.299" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:30:32.285" endtime="20210609 10:30:32.300"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:30:32.303" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:30:32.302" endtime="20210609 10:30:32.303"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:30:32.304" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:30:32.303" endtime="20210609 10:30:32.304"/>
</kw>
<status status="PASS" starttime="20210609 10:30:32.302" endtime="20210609 10:30:32.304"/>
</kw>
<msg timestamp="20210609 10:30:32.304" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:30:32.302" endtime="20210609 10:30:32.304"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:30:32.305" endtime="20210609 10:30:32.305"/>
</kw>
<msg timestamp="20210609 10:30:32.305" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:30:32.304" endtime="20210609 10:30:32.305"/>
</kw>
<status status="PASS" starttime="20210609 10:30:32.301" endtime="20210609 10:30:32.306"/>
</kw>
<msg timestamp="20210609 10:30:32.306" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:30:32.300" endtime="20210609 10:30:32.306"/>
</kw>
<msg timestamp="20210609 10:30:32.306" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:30:32.300" endtime="20210609 10:30:32.306"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:30:32.309" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=ofs://om/volume1/bucket1 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:31:07.726" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:31:07.726" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:30:34 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:30:34 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210609 10:30:32.307" endtime="20210609 10:31:07.726"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:31:07.727" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:30:34 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:30:34 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:30:34 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:30:34 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:30:34 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-41425CC6A651-&gt;8ce4a576-1eb8-4423-a18b-8a31e3d0ff79
2021-06-09 10:30:34 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-06-09 10:30:35 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-144EF8C50086-&gt;112e130e-67d1-49ae-a1dd-6c742bebcf2d
2021-06-09 10:30:35 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-06-09 10:30:35 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:30:35 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:30:35 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:30:38 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:30:38 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234455511_0003
2021-06-09 10:30:38 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:30:38 INFO  Configuration:2795 - resource-types.xml not found
2021-06-09 10:30:38 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-09 10:30:38 INFO  YarnClientImpl:329 - Submitted application application_1623234455511_0003
2021-06-09 10:30:38 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623234455511_0003/
2021-06-09 10:30:38 INFO  Job:1614 - Running job: job_1623234455511_0003
2021-06-09 10:30:45 INFO  Job:1635 - Job job_1623234455511_0003 running in uber mode : false
2021-06-09 10:30:45 INFO  Job:1642 -  map 0% reduce 0%
2021-06-09 10:30:51 INFO  Job:1642 -  map 33% reduce 0%
2021-06-09 10:30:57 INFO  Job:1642 -  map 67% reduce 0%
2021-06-09 10:31:02 INFO  Job:1642 -  map 100% reduce 0%
2021-06-09 10:31:07 INFO  Job:1642 -  map 100% reduce 100%
2021-06-09 10:31:07 INFO  Job:1653 - Job job_1623234455511_0003 completed successfully
2021-06-09 10:31:07 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1120349
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=759
		OFS: Number of bytes written=215
		OFS: Number of read operations=22
		OFS: Number of large read operations=0
		OFS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=34700
		Total time spent by all reduces in occupied slots (ms)=13468
		Total time spent by all map tasks (ms)=8675
		Total time spent by all reduce tasks (ms)=3367
		Total vcore-milliseconds taken by all map tasks=8675
		Total vcore-milliseconds taken by all reduce tasks=3367
		Total megabyte-milliseconds taken by all map tasks=35532800
		Total megabyte-milliseconds taken by all reduce tasks=13791232
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=405
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=494
		CPU time spent (ms)=5700
		Physical memory (bytes) snapshot=1386049536
		Virtual memory (bytes) snapshot=15789191168
		Total committed heap usage (bytes)=1432354816
		Peak Map Physical memory (bytes)=363597824
		Peak Map Virtual memory (bytes)=3947278336
		Peak Reduce Physical memory (bytes)=403030016
		Peak Reduce Virtual memory (bytes)=3969347584
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 31.95 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210609 10:31:07.726" endtime="20210609 10:31:07.727"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:31:07.727" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:31:07.727" endtime="20210609 10:31:07.728"/>
</kw>
<status status="PASS" starttime="20210609 10:30:32.307" endtime="20210609 10:31:07.728"/>
</kw>
<msg timestamp="20210609 10:31:07.728" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:30:32.307" endtime="20210609 10:31:07.728"/>
</kw>
<msg timestamp="20210609 10:31:07.728" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:30:34 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:30:34 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210609 10:30:32.306" endtime="20210609 10:31:07.728"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:31:07.729" endtime="20210609 10:31:07.729"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:30:32.284" endtime="20210609 10:31:07.729"/>
</test>
<test id="s1-s3-s4-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:31:07.734" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:31:07.737" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:31:07.738" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:31:07.732" endtime="20210609 10:31:07.738"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:31:07.738" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:31:07.738" endtime="20210609 10:31:07.738"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:31:07.739" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:31:07.739" endtime="20210609 10:31:07.739"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.731" endtime="20210609 10:31:07.739"/>
</kw>
<msg timestamp="20210609 10:31:07.739" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:31:07.731" endtime="20210609 10:31:07.740"/>
</kw>
<msg timestamp="20210609 10:31:07.740" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:31:07.731" endtime="20210609 10:31:07.740"/>
</kw>
<msg timestamp="20210609 10:31:07.740" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:31:07.730" endtime="20210609 10:31:07.740"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:31:07.741" level="INFO">${random} = eOFhcL1f</msg>
<status status="PASS" starttime="20210609 10:31:07.740" endtime="20210609 10:31:07.741"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:31:07.744" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:31:07.744" endtime="20210609 10:31:07.744"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:31:07.745" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:31:07.745" endtime="20210609 10:31:07.745"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.744" endtime="20210609 10:31:07.745"/>
</kw>
<msg timestamp="20210609 10:31:07.745" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:31:07.743" endtime="20210609 10:31:07.745"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set Variable" library="BuiltIn">
<arg>${EMPTY}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" starttime="20210609 10:31:07.746" endtime="20210609 10:31:07.746"/>
</kw>
<msg timestamp="20210609 10:31:07.746" level="INFO">${path_with_leading} = </msg>
<status status="PASS" starttime="20210609 10:31:07.746" endtime="20210609 10:31:07.746"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.742" endtime="20210609 10:31:07.747"/>
</kw>
<msg timestamp="20210609 10:31:07.747" level="INFO">${url} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:31:07.741" endtime="20210609 10:31:07.747"/>
</kw>
<msg timestamp="20210609 10:31:07.747" level="INFO">${root} = ofs://om/volume1/bucket1</msg>
<status status="PASS" starttime="20210609 10:31:07.741" endtime="20210609 10:31:07.747"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:31:07.750" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:31:07.750" endtime="20210609 10:31:07.750"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:31:07.751" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:31:07.750" endtime="20210609 10:31:07.751"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.749" endtime="20210609 10:31:07.751"/>
</kw>
<msg timestamp="20210609 10:31:07.751" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:31:07.749" endtime="20210609 10:31:07.751"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:31:07.753" level="INFO">${first} = i</msg>
<status status="PASS" starttime="20210609 10:31:07.752" endtime="20210609 10:31:07.753"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:31:07.753" level="INFO">${result} = /input/</msg>
<status status="PASS" starttime="20210609 10:31:07.753" endtime="20210609 10:31:07.754"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.752" endtime="20210609 10:31:07.754"/>
</kw>
<msg timestamp="20210609 10:31:07.754" level="INFO">${path_with_leading} = /input/</msg>
<status status="PASS" starttime="20210609 10:31:07.751" endtime="20210609 10:31:07.754"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.748" endtime="20210609 10:31:07.754"/>
</kw>
<msg timestamp="20210609 10:31:07.754" level="INFO">${url} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210609 10:31:07.748" endtime="20210609 10:31:07.754"/>
</kw>
<msg timestamp="20210609 10:31:07.754" level="INFO">${dir} = ofs://om/volume1/bucket1/input/</msg>
<status status="PASS" starttime="20210609 10:31:07.747" endtime="20210609 10:31:07.754"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format ofs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_trailing}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Trailing</arg>
<arg>/</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Trailing" library="string">
<arg>/</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${last}</var>
<arg>${string}</arg>
<arg>-1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:31:07.758" level="INFO">${last} = m</msg>
<status status="PASS" starttime="20210609 10:31:07.757" endtime="20210609 10:31:07.758"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${last}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${string}${char}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:31:07.758" level="INFO">${result} = om/</msg>
<status status="PASS" starttime="20210609 10:31:07.758" endtime="20210609 10:31:07.758"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.757" endtime="20210609 10:31:07.758"/>
</kw>
<msg timestamp="20210609 10:31:07.758" level="INFO">${om_with_trailing} = om/</msg>
<status status="PASS" starttime="20210609 10:31:07.756" endtime="20210609 10:31:07.759"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<var>${path_with_leading}</var>
<arg>'${path}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>/</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>/</arg>
<arg>${path}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:31:07.760" level="INFO">${first} = w</msg>
<status status="PASS" starttime="20210609 10:31:07.760" endtime="20210609 10:31:07.760"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:31:07.761" level="INFO">${result} = /wordcount-eOFhcL1f.txt</msg>
<status status="PASS" starttime="20210609 10:31:07.760" endtime="20210609 10:31:07.761"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.759" endtime="20210609 10:31:07.761"/>
</kw>
<msg timestamp="20210609 10:31:07.761" level="INFO">${path_with_leading} = /wordcount-eOFhcL1f.txt</msg>
<status status="PASS" starttime="20210609 10:31:07.759" endtime="20210609 10:31:07.761"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.756" endtime="20210609 10:31:07.761"/>
</kw>
<msg timestamp="20210609 10:31:07.761" level="INFO">${url} = ofs://om/volume1/bucket1/wordcount-eOFhcL1f.txt</msg>
<status status="PASS" starttime="20210609 10:31:07.755" endtime="20210609 10:31:07.761"/>
</kw>
<msg timestamp="20210609 10:31:07.762" level="INFO">${result} = ofs://om/volume1/bucket1/wordcount-eOFhcL1f.txt</msg>
<status status="PASS" starttime="20210609 10:31:07.755" endtime="20210609 10:31:07.762"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:31:07.765" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=ofs://om/volume1/bucket1 ofs://om/volume1/bucket1/input/ ofs://om/volume1/bucket1/wordcount-eOFhcL1f.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:31:41.399" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:31:41.400" level="INFO">${output} = 2021-06-09 10:31:09 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:31:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210609 10:31:07.764" endtime="20210609 10:31:41.400"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:31:41.401" level="INFO">2021-06-09 10:31:09 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:31:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:31:09 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:31:09 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:31:09 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:31:10 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:31:10 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-85FB11C5E039-&gt;8ce4a576-1eb8-4423-a18b-8a31e3d0ff79
2021-06-09 10:31:10 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:31:10 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:31:10 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-D9F536762E98-&gt;112e130e-67d1-49ae-a1dd-6c742bebcf2d
2021-06-09 10:31:10 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:31:11 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:31:11 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234455511_0004
2021-06-09 10:31:11 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:31:11 INFO  Configuration:2795 - resource-types.xml not found
2021-06-09 10:31:11 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-09 10:31:11 INFO  YarnClientImpl:329 - Submitted application application_1623234455511_0004
2021-06-09 10:31:11 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623234455511_0004/
2021-06-09 10:31:11 INFO  Job:1614 - Running job: job_1623234455511_0004
2021-06-09 10:31:19 INFO  Job:1635 - Job job_1623234455511_0004 running in uber mode : false
2021-06-09 10:31:19 INFO  Job:1642 -  map 0% reduce 0%
2021-06-09 10:31:25 INFO  Job:1642 -  map 33% reduce 0%
2021-06-09 10:31:30 INFO  Job:1642 -  map 67% reduce 0%
2021-06-09 10:31:35 INFO  Job:1642 -  map 100% reduce 0%
2021-06-09 10:31:39 INFO  Job:1642 -  map 100% reduce 100%
2021-06-09 10:31:40 INFO  Job:1653 - Job job_1623234455511_0004 completed successfully
2021-06-09 10:31:41 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1183031
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		OFS: Number of bytes read=39729
		OFS: Number of bytes written=22209
		OFS: Number of read operations=19
		OFS: Number of large read operations=0
		OFS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36408
		Total time spent by all reduces in occupied slots (ms)=13144
		Total time spent by all map tasks (ms)=9102
		Total time spent by all reduce tasks (ms)=3286
		Total vcore-milliseconds taken by all map tasks=9102
		Total vcore-milliseconds taken by all reduce tasks=3286
		Total megabyte-milliseconds taken by all map tasks=37281792
		Total megabyte-milliseconds taken by all reduce tasks=13459456
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=300
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=483
		CPU time spent (ms)=6340
		Physical memory (bytes) snapshot=1389903872
		Virtual memory (bytes) snapshot=15811563520
		Total committed heap usage (bytes)=1322778624
		Peak Map Physical memory (bytes)=383094784
		Peak Map Virtual memory (bytes)=3947708416
		Peak Reduce Physical memory (bytes)=309346304
		Peak Reduce Virtual memory (bytes)=3969724416
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210609 10:31:41.400" endtime="20210609 10:31:41.401"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:31:41.402" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:31:41.401" endtime="20210609 10:31:41.402"/>
</kw>
<status status="PASS" starttime="20210609 10:31:07.763" endtime="20210609 10:31:41.402"/>
</kw>
<msg timestamp="20210609 10:31:41.402" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:31:07.763" endtime="20210609 10:31:41.402"/>
</kw>
<msg timestamp="20210609 10:31:41.403" level="INFO">${output} = 2021-06-09 10:31:09 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:31:09 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210609 10:31:07.762" endtime="20210609 10:31:41.403"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:31:41.403" endtime="20210609 10:31:41.403"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:31:41.403" endtime="20210609 10:31:41.404"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:31:07.730" endtime="20210609 10:31:41.404"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210609 10:30:32.230" endtime="20210609 10:31:41.405"/>
</suite>
<suite id="s1-s3-s5" name="mapreduce-o3fs" source="/opt/ozone/smoketest/mapreduce.robot">
<test id="s1-s3-s5-t1" name="Execute PI calculation">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:29:02.062" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:29:02.068" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:29:02.068" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:02.059" endtime="20210609 10:29:02.068"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:29:02.068" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:02.068" endtime="20210609 10:29:02.069"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:29:02.069" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:29:02.069" endtime="20210609 10:29:02.069"/>
</kw>
<status status="PASS" starttime="20210609 10:29:02.059" endtime="20210609 10:29:02.070"/>
</kw>
<msg timestamp="20210609 10:29:02.070" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:29:02.058" endtime="20210609 10:29:02.070"/>
</kw>
<msg timestamp="20210609 10:29:02.070" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:02.058" endtime="20210609 10:29:02.071"/>
</kw>
<msg timestamp="20210609 10:29:02.071" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:02.058" endtime="20210609 10:29:02.071"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:29:02.074" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:29:02.074" endtime="20210609 10:29:02.074"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:29:02.075" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:29:02.074" endtime="20210609 10:29:02.075"/>
</kw>
<status status="PASS" starttime="20210609 10:29:02.073" endtime="20210609 10:29:02.075"/>
</kw>
<msg timestamp="20210609 10:29:02.075" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:29:02.073" endtime="20210609 10:29:02.075"/>
</kw>
<status status="PASS" starttime="20210609 10:29:02.072" endtime="20210609 10:29:02.075"/>
</kw>
<msg timestamp="20210609 10:29:02.075" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:29:02.072" endtime="20210609 10:29:02.075"/>
</kw>
<msg timestamp="20210609 10:29:02.076" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:29:02.071" endtime="20210609 10:29:02.076"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} pi -D fs.defaultFS=${root} 3 3</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:29:02.078" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar pi -D fs.defaultFS=o3fs://bucket1.volume1.om/ 3 3 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:29:43.584" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:29:43.584" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:29:03 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:29:03 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210609 10:29:02.077" endtime="20210609 10:29:43.584"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:29:43.586" level="INFO">Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:29:03 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:29:03 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:29:03 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:29:04 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:29:04 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-28EE1D1A9417-&gt;8ce4a576-1eb8-4423-a18b-8a31e3d0ff79
2021-06-09 10:29:04 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #0
Wrote input for Map #1
2021-06-09 10:29:04 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-525D85647C98-&gt;112e130e-67d1-49ae-a1dd-6c742bebcf2d
2021-06-09 10:29:04 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
Wrote input for Map #2
Starting Job
2021-06-09 10:29:07 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:29:07 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:29:08 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:29:10 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234455511_0001
2021-06-09 10:29:10 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:29:11 INFO  Configuration:2795 - resource-types.xml not found
2021-06-09 10:29:11 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-09 10:29:11 INFO  YarnClientImpl:329 - Submitted application application_1623234455511_0001
2021-06-09 10:29:11 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623234455511_0001/
2021-06-09 10:29:11 INFO  Job:1614 - Running job: job_1623234455511_0001
2021-06-09 10:29:21 INFO  Job:1635 - Job job_1623234455511_0001 running in uber mode : false
2021-06-09 10:29:21 INFO  Job:1642 -  map 0% reduce 0%
2021-06-09 10:29:27 INFO  Job:1642 -  map 33% reduce 0%
2021-06-09 10:29:32 INFO  Job:1642 -  map 67% reduce 0%
2021-06-09 10:29:37 INFO  Job:1642 -  map 100% reduce 0%
2021-06-09 10:29:41 INFO  Job:1642 -  map 100% reduce 100%
2021-06-09 10:29:42 INFO  Job:1653 - Job job_1623234455511_0001 completed successfully
2021-06-09 10:29:42 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=72
		FILE: Number of bytes written=1120561
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=810
		O3FS: Number of bytes written=215
		O3FS: Number of read operations=22
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=3
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=36812
		Total time spent by all reduces in occupied slots (ms)=13976
		Total time spent by all map tasks (ms)=9203
		Total time spent by all reduce tasks (ms)=3494
		Total vcore-milliseconds taken by all map tasks=9203
		Total vcore-milliseconds taken by all reduce tasks=3494
		Total megabyte-milliseconds taken by all map tasks=37695488
		Total megabyte-milliseconds taken by all reduce tasks=14311424
	Map-Reduce Framework
		Map input records=3
		Map output records=6
		Map output bytes=54
		Map output materialized bytes=84
		Input split bytes=456
		Combine input records=0
		Combine output records=0
		Reduce input groups=2
		Reduce shuffle bytes=84
		Reduce input records=6
		Reduce output records=0
		Spilled Records=12
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=525
		CPU time spent (ms)=5980
		Physical memory (bytes) snapshot=1349545984
		Virtual memory (bytes) snapshot=15793639424
		Total committed heap usage (bytes)=1431306240
		Peak Map Physical memory (bytes)=372514816
		Peak Map Virtual memory (bytes)=3948531712
		Peak Reduce Physical memory (bytes)=284774400
		Peak Reduce Virtual memory (bytes)=3951579136
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=354
	File Output Format Counters 
		Bytes Written=97
Job Finished in 35.596 seconds
Estimated value of Pi is 3.55555555555555555556</msg>
<status status="PASS" starttime="20210609 10:29:43.585" endtime="20210609 10:29:43.586"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:29:43.586" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:29:43.586" endtime="20210609 10:29:43.587"/>
</kw>
<status status="PASS" starttime="20210609 10:29:02.077" endtime="20210609 10:29:43.587"/>
</kw>
<msg timestamp="20210609 10:29:43.587" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:29:02.076" endtime="20210609 10:29:43.587"/>
</kw>
<msg timestamp="20210609 10:29:43.587" level="INFO">${output} = Number of Maps  = 3
Samples per Map = 3
2021-06-09 10:29:03 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:29:03 INFO  MetricsSystemImpl:378 - Scheduled Metr...</msg>
<status status="PASS" starttime="20210609 10:29:02.076" endtime="20210609 10:29:43.587"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:29:43.588" endtime="20210609 10:29:43.588"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:29:02.057" endtime="20210609 10:29:43.589"/>
</test>
<test id="s1-s3-s5-t2" name="Execute WordCount">
<kw name="Find example jar">
<var>${exampleJar}</var>
<kw name="Execute" library="os">
<var>${jar}</var>
<arg>find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:29:43.594" level="INFO">Running command 'find /opt/hadoop/share/hadoop/mapreduce/ -name "*.jar" | grep mapreduce-examples | grep -v sources | grep -v test 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:29:43.599" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:29:43.599" level="INFO">${output} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:43.593" endtime="20210609 10:29:43.599"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:29:43.600" level="INFO">/opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:43.599" endtime="20210609 10:29:43.600"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:29:43.601" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:29:43.600" endtime="20210609 10:29:43.601"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.592" endtime="20210609 10:29:43.601"/>
</kw>
<msg timestamp="20210609 10:29:43.601" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:29:43.592" endtime="20210609 10:29:43.601"/>
</kw>
<msg timestamp="20210609 10:29:43.602" level="INFO">${jar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:43.591" endtime="20210609 10:29:43.602"/>
</kw>
<msg timestamp="20210609 10:29:43.602" level="INFO">${exampleJar} = /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar</msg>
<status status="PASS" starttime="20210609 10:29:43.591" endtime="20210609 10:29:43.602"/>
</kw>
<kw name="Generate Random String" library="String">
<var>${random}</var>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<msg timestamp="20210609 10:29:43.602" level="INFO">${random} = qmGQAEbM</msg>
<status status="PASS" starttime="20210609 10:29:43.602" endtime="20210609 10:29:43.602"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${root}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:29:43.606" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:29:43.605" endtime="20210609 10:29:43.606"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:29:43.606" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:29:43.606" endtime="20210609 10:29:43.606"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.605" endtime="20210609 10:29:43.607"/>
</kw>
<msg timestamp="20210609 10:29:43.607" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:29:43.604" endtime="20210609 10:29:43.607"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.604" endtime="20210609 10:29:43.607"/>
</kw>
<msg timestamp="20210609 10:29:43.607" level="INFO">${url} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:29:43.603" endtime="20210609 10:29:43.607"/>
</kw>
<msg timestamp="20210609 10:29:43.607" level="INFO">${root} = o3fs://bucket1.volume1.om/</msg>
<status status="PASS" starttime="20210609 10:29:43.602" endtime="20210609 10:29:43.607"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${dir}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>input/</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:29:43.611" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:29:43.611" endtime="20210609 10:29:43.611"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:29:43.612" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:29:43.612" endtime="20210609 10:29:43.612"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.611" endtime="20210609 10:29:43.612"/>
</kw>
<msg timestamp="20210609 10:29:43.612" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:29:43.610" endtime="20210609 10:29:43.612"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.609" endtime="20210609 10:29:43.613"/>
</kw>
<msg timestamp="20210609 10:29:43.613" level="INFO">${url} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210609 10:29:43.608" endtime="20210609 10:29:43.613"/>
</kw>
<msg timestamp="20210609 10:29:43.613" level="INFO">${dir} = o3fs://bucket1.volume1.om/input/</msg>
<status status="PASS" starttime="20210609 10:29:43.608" endtime="20210609 10:29:43.613"/>
</kw>
<kw name="Format FS URL" library="fs">
<var>${result}</var>
<arg>${SCHEME}</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>wordcount-${random}.txt</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${url}</var>
<arg>'${scheme}' == 'o3fs'</arg>
<arg>Format o3fs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE IF</arg>
<arg>'${scheme}' == 'ofs'</arg>
<arg>Format ofs URL</arg>
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<arg>ELSE</arg>
<arg>Fail</arg>
<arg>Unsupported FS scheme: ${scheme}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Format o3fs URL" library="fs">
<arg>${volume}</arg>
<arg>${bucket}</arg>
<arg>${path}</arg>
<kw name="Run Keyword If" library="BuiltIn">
<var>${om_with_leading}</var>
<arg>'${om}' != '${EMPTY}'</arg>
<arg>Ensure Leading</arg>
<arg>.</arg>
<arg>${om}</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${EMPTY}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Ensure Leading" library="string">
<arg>.</arg>
<arg>${om}</arg>
<kw name="Get Substring" library="String">
<var>${first}</var>
<arg>${string}</arg>
<arg>0</arg>
<arg>1</arg>
<doc>Returns a substring from ``start`` index to ``end`` index.</doc>
<msg timestamp="20210609 10:29:43.616" level="INFO">${first} = o</msg>
<status status="PASS" starttime="20210609 10:29:43.616" endtime="20210609 10:29:43.616"/>
</kw>
<kw name="Set Variable If" library="BuiltIn">
<var>${result}</var>
<arg>'${first}' == '${char}'</arg>
<arg>${string}</arg>
<arg>${char}${string}</arg>
<doc>Sets variable based on the given condition.</doc>
<msg timestamp="20210609 10:29:43.617" level="INFO">${result} = .om</msg>
<status status="PASS" starttime="20210609 10:29:43.616" endtime="20210609 10:29:43.617"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.615" endtime="20210609 10:29:43.617"/>
</kw>
<msg timestamp="20210609 10:29:43.617" level="INFO">${om_with_leading} = .om</msg>
<status status="PASS" starttime="20210609 10:29:43.615" endtime="20210609 10:29:43.617"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.614" endtime="20210609 10:29:43.617"/>
</kw>
<msg timestamp="20210609 10:29:43.617" level="INFO">${url} = o3fs://bucket1.volume1.om/wordcount-qmGQAEbM.txt</msg>
<status status="PASS" starttime="20210609 10:29:43.614" endtime="20210609 10:29:43.617"/>
</kw>
<msg timestamp="20210609 10:29:43.618" level="INFO">${result} = o3fs://bucket1.volume1.om/wordcount-qmGQAEbM.txt</msg>
<status status="PASS" starttime="20210609 10:29:43.613" endtime="20210609 10:29:43.618"/>
</kw>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>yarn jar ${exampleJar} wordcount -D fs.defaultFS=${root} ${dir} ${result}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20210609 10:29:43.622" level="INFO">Running command 'yarn jar /opt/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.2.jar wordcount -D fs.defaultFS=o3fs://bucket1.volume1.om/ o3fs://bucket1.volume1.om/input/ o3fs://bucket1.volume1.om/wordcount-qmGQAEbM.txt 2&gt;&amp;1'.</msg>
<msg timestamp="20210609 10:30:19.267" level="INFO">${rc} = 0</msg>
<msg timestamp="20210609 10:30:19.268" level="INFO">${output} = 2021-06-09 10:29:45 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:29:45 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210609 10:29:43.621" endtime="20210609 10:30:19.268"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20210609 10:30:19.269" level="INFO">2021-06-09 10:29:45 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:29:45 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging are incorrect: rwxrwxrwx. Fixing permissions to correct value rwx------
2021-06-09 10:29:45 INFO  MetricsConfig:120 - Loaded properties from hadoop-metrics2.properties
2021-06-09 10:29:45 INFO  MetricsSystemImpl:378 - Scheduled Metric snapshot period at 10 second(s).
2021-06-09 10:29:45 INFO  MetricsSystemImpl:191 - XceiverClientMetrics metrics system started
2021-06-09 10:29:46 INFO  MetricRegistries:64 - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2021-06-09 10:29:46 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-761FF1A7C67F-&gt;8ce4a576-1eb8-4423-a18b-8a31e3d0ff79
2021-06-09 10:29:46 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:29:46 INFO  FileInputFormat:292 - Total input files to process : 3
2021-06-09 10:29:46 INFO  RatisMetrics:36 - Creating Metrics Registry : ratis.client_message_metrics.client-DF377BFC92A0-&gt;112e130e-67d1-49ae-a1dd-6c742bebcf2d
2021-06-09 10:29:46 WARN  MetricRegistriesImpl:65 - First MetricRegistry has been created without registering reporters. You may need to call MetricRegistries.global().addReporterRegistration(...) before.
2021-06-09 10:29:46 INFO  JobSubmitter:202 - number of splits:3
2021-06-09 10:29:47 INFO  JobSubmitter:298 - Submitting tokens for job: job_1623234455511_0002
2021-06-09 10:29:47 INFO  JobSubmitter:299 - Executing with tokens: []
2021-06-09 10:29:47 INFO  Configuration:2795 - resource-types.xml not found
2021-06-09 10:29:47 INFO  ResourceUtils:442 - Unable to find 'resource-types.xml'.
2021-06-09 10:29:47 INFO  YarnClientImpl:329 - Submitted application application_1623234455511_0002
2021-06-09 10:29:47 INFO  Job:1569 - The url to track the job: http://rm:8088/proxy/application_1623234455511_0002/
2021-06-09 10:29:47 INFO  Job:1614 - Running job: job_1623234455511_0002
2021-06-09 10:29:55 INFO  Job:1635 - Job job_1623234455511_0002 running in uber mode : false
2021-06-09 10:29:55 INFO  Job:1642 -  map 0% reduce 0%
2021-06-09 10:30:01 INFO  Job:1642 -  map 33% reduce 0%
2021-06-09 10:30:06 INFO  Job:1642 -  map 67% reduce 0%
2021-06-09 10:30:11 INFO  Job:1642 -  map 100% reduce 0%
2021-06-09 10:30:17 INFO  Job:1642 -  map 100% reduce 100%
2021-06-09 10:30:18 INFO  Job:1653 - Job job_1623234455511_0002 completed successfully
2021-06-09 10:30:18 INFO  Job:1660 - Counters: 53
	File System Counters
		FILE: Number of bytes read=32023
		FILE: Number of bytes written=1183115
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		O3FS: Number of bytes read=39732
		O3FS: Number of bytes written=22209
		O3FS: Number of read operations=19
		O3FS: Number of large read operations=0
		O3FS: Number of write operations=2
	Job Counters 
		Launched map tasks=3
		Launched reduce tasks=1
		Rack-local map tasks=3
		Total time spent by all maps in occupied slots (ms)=35304
		Total time spent by all reduces in occupied slots (ms)=22660
		Total time spent by all map tasks (ms)=8826
		Total time spent by all reduce tasks (ms)=5665
		Total vcore-milliseconds taken by all map tasks=8826
		Total vcore-milliseconds taken by all reduce tasks=5665
		Total megabyte-milliseconds taken by all map tasks=36151296
		Total megabyte-milliseconds taken by all reduce tasks=23203840
	Map-Reduce Framework
		Map input records=1052
		Map output records=4513
		Map output bytes=55088
		Map output materialized bytes=32035
		Input split bytes=303
		Combine input records=4513
		Combine output records=1802
		Reduce input groups=1538
		Reduce shuffle bytes=32035
		Reduce input records=1802
		Reduce output records=1538
		Spilled Records=3604
		Shuffled Maps =3
		Failed Shuffles=0
		Merged Map outputs=3
		GC time elapsed (ms)=548
		CPU time spent (ms)=5830
		Physical memory (bytes) snapshot=1333923840
		Virtual memory (bytes) snapshot=15776202752
		Total committed heap usage (bytes)=1287127040
		Peak Map Physical memory (bytes)=365047808
		Peak Map Virtual memory (bytes)=3948982272
		Peak Reduce Physical memory (bytes)=284086272
		Peak Reduce Virtual memory (bytes)=3950534656
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=39429
	File Output Format Counters 
		Bytes Written=22209</msg>
<status status="PASS" starttime="20210609 10:30:19.268" endtime="20210609 10:30:19.269"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20210609 10:30:19.269" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20210609 10:30:19.269" endtime="20210609 10:30:19.270"/>
</kw>
<status status="PASS" starttime="20210609 10:29:43.619" endtime="20210609 10:30:19.270"/>
</kw>
<msg timestamp="20210609 10:30:19.270" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20210609 10:29:43.619" endtime="20210609 10:30:19.270"/>
</kw>
<msg timestamp="20210609 10:30:19.270" level="INFO">${output} = 2021-06-09 10:29:45 INFO  RMProxy:134 - Connecting to ResourceManager at rm/172.23.0.2:8032
2021-06-09 10:29:45 INFO  JobSubmissionFiles:156 - Permissions on staging directory /user/hadoop/.staging ar...</msg>
<status status="PASS" starttime="20210609 10:29:43.618" endtime="20210609 10:30:19.270"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>map tasks=3</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:30:19.271" endtime="20210609 10:30:19.271"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>completed successfully</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20210609 10:30:19.271" endtime="20210609 10:30:19.271"/>
</kw>
<timeout value="4 minutes"/>
<status status="PASS" starttime="20210609 10:29:43.590" endtime="20210609 10:30:19.272"/>
</test>
<doc>Execute MR jobs</doc>
<status status="PASS" starttime="20210609 10:29:02.006" endtime="20210609 10:30:19.273"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="202464"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="570802"/>
</suite>
<statistics>
<total>
<stat pass="24" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="24" fail="0" skip="0" id="s1" name="ozone-mr">ozone-mr</stat>
<stat pass="8" fail="0" skip="0" id="s1-s1" name="hadoop27">ozone-mr.hadoop27</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s1" name="Createmrenv">ozone-mr.hadoop27.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s2" name="hadoopfs-ofs">ozone-mr.hadoop27.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1-s3" name="hadoopfs-o3fs">ozone-mr.hadoop27.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s4" name="mapreduce-ofs">ozone-mr.hadoop27.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1-s5" name="mapreduce-o3fs">ozone-mr.hadoop27.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s2" name="hadoop31">ozone-mr.hadoop31</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s1" name="Createmrenv">ozone-mr.hadoop31.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s2" name="hadoopfs-ofs">ozone-mr.hadoop31.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2-s3" name="hadoopfs-o3fs">ozone-mr.hadoop31.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s4" name="mapreduce-ofs">ozone-mr.hadoop31.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s2-s5" name="mapreduce-o3fs">ozone-mr.hadoop31.mapreduce-o3fs</stat>
<stat pass="8" fail="0" skip="0" id="s1-s3" name="hadoop32">ozone-mr.hadoop32</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s1" name="Createmrenv">ozone-mr.hadoop32.Createmrenv</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s2" name="hadoopfs-ofs">ozone-mr.hadoop32.hadoopfs-ofs</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3-s3" name="hadoopfs-o3fs">ozone-mr.hadoop32.hadoopfs-o3fs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s4" name="mapreduce-ofs">ozone-mr.hadoop32.mapreduce-ofs</stat>
<stat pass="2" fail="0" skip="0" id="s1-s3-s5" name="mapreduce-o3fs">ozone-mr.hadoop32.mapreduce-o3fs</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
