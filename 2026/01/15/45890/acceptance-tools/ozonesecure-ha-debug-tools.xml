<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 6.1.1 (Python 3.9.21 on linux)" generated="20260115 10:52:46.856" rpa="false" schemaversion="4">
<suite id="s1" name="ozonesecure-ha-debug-tools">
<suite id="s1-s1" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s1-t1" name="Kinit" line="27">
<kw name="Kinit test user" library="commonlib">
<arg>${USER}</arg>
<arg>${USER}.keytab</arg>
<kw name="Get Security Enabled From Config" library="commonlib">
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' != ''</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:48:48.989" endtime="20260115 10:48:48.990"/>
</kw>
<kw name="Execute" library="os">
<var>${value}</var>
<arg>ozone getconf confKey ozone.security.enabled</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:48:48.993" level="INFO">Running command 'ozone getconf confKey ozone.security.enabled 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:48:49.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:48:49.934" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20260115 10:48:48.990" endtime="20260115 10:48:49.934"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:48:49.935" level="INFO">true</msg>
<status status="PASS" starttime="20260115 10:48:49.934" endtime="20260115 10:48:49.935"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:48:49.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:48:49.935" endtime="20260115 10:48:49.935"/>
</kw>
<status status="PASS" starttime="20260115 10:48:48.990" endtime="20260115 10:48:49.935"/>
</kw>
<msg timestamp="20260115 10:48:49.935" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:48:48.990" endtime="20260115 10:48:49.936"/>
</kw>
<msg timestamp="20260115 10:48:49.936" level="INFO">${value} = true</msg>
<status status="PASS" starttime="20260115 10:48:48.990" endtime="20260115 10:48:49.936"/>
</kw>
<if>
<branch type="IF" condition="'${value}' != 'true' and '${value}' != 'false'">
<kw name="Set Variable" library="BuiltIn">
<var>${value}</var>
<arg>false</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" starttime="20260115 10:48:49.936" endtime="20260115 10:48:49.936"/>
</kw>
<status status="NOT RUN" starttime="20260115 10:48:49.936" endtime="20260115 10:48:49.936"/>
</branch>
<status status="PASS" starttime="20260115 10:48:49.936" endtime="20260115 10:48:49.936"/>
</if>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${SECURITY_ENABLED}</arg>
<arg>${value}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20260115 10:48:49.937" level="INFO">${SECURITY_ENABLED} = true</msg>
<status status="PASS" starttime="20260115 10:48:49.937" endtime="20260115 10:48:49.937"/>
</kw>
<status status="PASS" starttime="20260115 10:48:48.989" endtime="20260115 10:48:49.937"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20260115 10:48:49.937" endtime="20260115 10:48:49.937"/>
</kw>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:48:49.941" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:48:49.945" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:48:49.945" level="INFO">${output} = om</msg>
<status status="PASS" starttime="20260115 10:48:49.939" endtime="20260115 10:48:49.945"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:48:49.946" level="INFO">om</msg>
<status status="PASS" starttime="20260115 10:48:49.945" endtime="20260115 10:48:49.946"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:48:49.946" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:48:49.946" endtime="20260115 10:48:49.946"/>
</kw>
<status status="PASS" starttime="20260115 10:48:49.938" endtime="20260115 10:48:49.946"/>
</kw>
<msg timestamp="20260115 10:48:49.946" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:48:49.938" endtime="20260115 10:48:49.946"/>
</kw>
<msg timestamp="20260115 10:48:49.947" level="INFO">${instance} = om</msg>
<status status="PASS" starttime="20260115 10:48:49.938" endtime="20260115 10:48:49.947"/>
</kw>
<msg timestamp="20260115 10:48:49.947" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:48:49.937" endtime="20260115 10:48:49.947"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20260115 10:48:49.947" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:48:49.947" endtime="20260115 10:48:49.947"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:48:49.950" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:48:50.083" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:48:50.083" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:48:49.948" endtime="20260115 10:48:50.083"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:48:50.084" level="INFO"/>
<status status="PASS" starttime="20260115 10:48:50.083" endtime="20260115 10:48:50.084"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:48:50.084" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:48:50.084" endtime="20260115 10:48:50.085"/>
</kw>
<status status="PASS" starttime="20260115 10:48:49.948" endtime="20260115 10:48:50.085"/>
</kw>
<msg timestamp="20260115 10:48:50.085" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:48:49.948" endtime="20260115 10:48:50.085"/>
</kw>
<status status="PASS" starttime="20260115 10:48:49.947" endtime="20260115 10:48:50.085"/>
</kw>
<status status="PASS" starttime="20260115 10:48:49.947" endtime="20260115 10:48:50.085"/>
</kw>
<status status="PASS" starttime="20260115 10:48:48.989" endtime="20260115 10:48:50.085"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20260115 10:48:48.988" endtime="20260115 10:48:50.085"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" starttime="20260115 10:48:48.952" endtime="20260115 10:48:50.086"/>
</suite>
<suite id="s1-s2" name="Auditparser" source="/opt/hadoop/smoketest/debug/auditparser.robot">
<kw name="Get Security Enabled From Config" library="commonlib" type="SETUP">
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' != ''</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:48:50.841" endtime="20260115 10:48:50.841"/>
</kw>
<kw name="Execute" library="os">
<var>${value}</var>
<arg>ozone getconf confKey ozone.security.enabled</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:48:50.844" level="INFO">Running command 'ozone getconf confKey ozone.security.enabled 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:48:51.818" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:48:51.818" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20260115 10:48:50.842" endtime="20260115 10:48:51.818"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:48:51.819" level="INFO">true</msg>
<status status="PASS" starttime="20260115 10:48:51.819" endtime="20260115 10:48:51.819"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:48:51.819" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:48:51.819" endtime="20260115 10:48:51.819"/>
</kw>
<status status="PASS" starttime="20260115 10:48:50.842" endtime="20260115 10:48:51.820"/>
</kw>
<msg timestamp="20260115 10:48:51.820" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:48:50.841" endtime="20260115 10:48:51.820"/>
</kw>
<msg timestamp="20260115 10:48:51.820" level="INFO">${value} = true</msg>
<status status="PASS" starttime="20260115 10:48:50.841" endtime="20260115 10:48:51.820"/>
</kw>
<if>
<branch type="IF" condition="'${value}' != 'true' and '${value}' != 'false'">
<kw name="Set Variable" library="BuiltIn">
<var>${value}</var>
<arg>false</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" starttime="20260115 10:48:51.820" endtime="20260115 10:48:51.820"/>
</kw>
<status status="NOT RUN" starttime="20260115 10:48:51.820" endtime="20260115 10:48:51.820"/>
</branch>
<status status="PASS" starttime="20260115 10:48:51.820" endtime="20260115 10:48:51.820"/>
</if>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${SECURITY_ENABLED}</arg>
<arg>${value}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20260115 10:48:51.821" level="INFO">${SECURITY_ENABLED} = true</msg>
<status status="PASS" starttime="20260115 10:48:51.821" endtime="20260115 10:48:51.821"/>
</kw>
<status status="PASS" starttime="20260115 10:48:50.841" endtime="20260115 10:48:51.821"/>
</kw>
<test id="s1-s2-t1" name="Testing audit parser" line="41">
<kw name="Create data" type="SETUP">
<kw name="Freon OMBG" library="freon">
<arg>prefix=auditparser</arg>
<arg>n=${buckets}</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ombg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:48:51.826" level="INFO">Running command 'ozone freon ombg --om-service-id=omservice -t 1 -n5 -p auditparser  2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:48:56.638" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:48:56.639" level="INFO">${output} = 2026-01-15 10:48:53,480 [main] INFO freon.BaseFreonGenerator: Executing test with prefix auditparser and number-of-tests 5
2026-01-15 10:48:53,549 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (...</msg>
<status status="PASS" starttime="20260115 10:48:51.824" endtime="20260115 10:48:56.639"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:48:56.640" level="INFO">2026-01-15 10:48:53,480 [main] INFO freon.BaseFreonGenerator: Executing test with prefix auditparser and number-of-tests 5
2026-01-15 10:48:53,549 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 5)
2026-01-15 10:48:54,550 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 5)
2026-01-15 10:48:55,266 [main] INFO rpc.RpcClient: Creating Volume: vol1, with testuser as owner and space quota set to -1 bytes, counts quota set to -1
2026-01-15 10:48:55,556 [Thread-5] INFO freon.ProgressBar: Progress: 20.00 % (1 out of 5)
2026-01-15 10:48:56,557 [Thread-5] INFO freon.ProgressBar: Progress: 100.00 % (5 out of 5)
2026-01-15 10:48:56,573 [shutdown-hook-0] INFO metrics: type=TIMER, name=bucket-create, count=5, min=37.309018, max=138.440691, mean=58.3882622, stddev=40.04422167759506, median=38.06872, p75=40.648376, p95=138.440691, p98=138.440691, p99=138.440691, p999=138.440691, mean_rate=4.229627745665706, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds
2026-01-15 10:48:56,574 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 3
2026-01-15 10:48:56,574 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2026-01-15 10:48:56,574 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 5</msg>
<status status="PASS" starttime="20260115 10:48:56.639" endtime="20260115 10:48:56.640"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:48:56.640" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:48:56.640" endtime="20260115 10:48:56.640"/>
</kw>
<status status="PASS" starttime="20260115 10:48:51.823" endtime="20260115 10:48:56.640"/>
</kw>
<msg timestamp="20260115 10:48:56.641" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:48:51.823" endtime="20260115 10:48:56.641"/>
</kw>
<msg timestamp="20260115 10:48:56.641" level="INFO">${result} = 2026-01-15 10:48:53,480 [main] INFO freon.BaseFreonGenerator: Executing test with prefix auditparser and number-of-tests 5
2026-01-15 10:48:53,549 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (...</msg>
<status status="PASS" starttime="20260115 10:48:51.823" endtime="20260115 10:48:56.641"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:48:56.641" endtime="20260115 10:48:56.641"/>
</kw>
<status status="PASS" starttime="20260115 10:48:51.822" endtime="20260115 10:48:56.641"/>
</kw>
<kw name="Freon OCKG" library="freon">
<arg>prefix=auditparser</arg>
<arg>n=100</arg>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone freon ockg ${OM_HA_PARAM} -t ${threads} -n${n} -p ${prefix} ${args}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:48:56.646" level="INFO">Running command 'ozone freon ockg --om-service-id=omservice -t 1 -n100 -p auditparser  2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:12.011" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:12.011" level="INFO">${output} = 2026-01-15 10:48:58,531 [main] INFO freon.BaseFreonGenerator: Executing test with prefix auditparser and number-of-tests 100
2026-01-15 10:48:58,592 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 %...</msg>
<status status="PASS" starttime="20260115 10:48:56.643" endtime="20260115 10:49:12.011"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:12.012" level="INFO">2026-01-15 10:48:58,531 [main] INFO freon.BaseFreonGenerator: Executing test with prefix auditparser and number-of-tests 100
2026-01-15 10:48:58,592 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2026-01-15 10:48:59,593 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2026-01-15 10:49:00,594 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2026-01-15 10:49:00,654 [main] INFO rpc.RpcClient: Creating Bucket: vol1/bucket1, with server-side default bucket layout, testuser as owner, Versioning false, Storage Type set to DISK and Encryption set to false, Replication Type set to server-side default replication type, Namespace Quota set to -1, Space Quota set to -1 
2026-01-15 10:49:01,451 [pool-2-thread-1] WARN impl.MetricsSystemImpl: ozone-freon metrics system already initialized!
2026-01-15 10:49:01,526 [pool-2-thread-1] INFO netty.NettyConfigKeys$DataStream: setTlsConf GrpcTlsConfig0-
2026-01-15 10:49:01,595 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2026-01-15 10:49:02,596 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 % (0 out of 100)
2026-01-15 10:49:03,382 [pool-2-thread-1] INFO netty.NettyConfigKeys$DataStream: setTlsConf GrpcTlsConfig1-
2026-01-15 10:49:03,599 [Thread-5] INFO freon.ProgressBar: Progress: 1.00 % (1 out of 100)
2026-01-15 10:49:04,600 [Thread-5] INFO freon.ProgressBar: Progress: 7.00 % (7 out of 100)
2026-01-15 10:49:05,601 [Thread-5] INFO freon.ProgressBar: Progress: 19.00 % (19 out of 100)
2026-01-15 10:49:06,601 [Thread-5] INFO freon.ProgressBar: Progress: 33.00 % (33 out of 100)
2026-01-15 10:49:07,602 [Thread-5] INFO freon.ProgressBar: Progress: 47.00 % (47 out of 100)
2026-01-15 10:49:08,602 [Thread-5] INFO freon.ProgressBar: Progress: 61.00 % (61 out of 100)
2026-01-15 10:49:09,603 [Thread-5] INFO freon.ProgressBar: Progress: 76.00 % (76 out of 100)
2026-01-15 10:49:10,604 [Thread-5] INFO freon.ProgressBar: Progress: 89.00 % (89 out of 100)
2026-01-15 10:49:11,604 [Thread-5] INFO freon.ProgressBar: Progress: 100.00 % (100 out of 100)
2026-01-15 10:49:11,635 [shutdown-hook-0] INFO metrics: type=TIMER, name=key-create, count=100, min=47.42402, max=2533.208938, mean=103.29770792184807, stddev=242.9206354760859, median=70.397755, p75=82.563209, p95=111.031546, p98=235.627219, p99=613.239972, p999=2533.208938, mean_rate=9.179799111099362, m1=4.815546970780902, m5=4.168591171019502, m15=4.056509550350054, rate_unit=events/second, duration_unit=milliseconds
2026-01-15 10:49:11,635 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Total execution time (sec): 13
2026-01-15 10:49:11,636 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Failures: 0
2026-01-15 10:49:11,636 [shutdown-hook-0] INFO freon.BaseFreonGenerator: Successful executions: 100</msg>
<status status="PASS" starttime="20260115 10:49:12.011" endtime="20260115 10:49:12.012"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:12.012" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:12.012" endtime="20260115 10:49:12.012"/>
</kw>
<status status="PASS" starttime="20260115 10:48:56.643" endtime="20260115 10:49:12.012"/>
</kw>
<msg timestamp="20260115 10:49:12.013" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:48:56.643" endtime="20260115 10:49:12.013"/>
</kw>
<msg timestamp="20260115 10:49:12.013" level="INFO">${result} = 2026-01-15 10:48:58,531 [main] INFO freon.BaseFreonGenerator: Executing test with prefix auditparser and number-of-tests 100
2026-01-15 10:48:58,592 [Thread-5] INFO freon.ProgressBar: Progress: 0.00 %...</msg>
<status status="PASS" starttime="20260115 10:48:56.642" endtime="20260115 10:49:12.013"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>Successful executions: ${n}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:49:12.013" endtime="20260115 10:49:12.013"/>
</kw>
<status status="PASS" starttime="20260115 10:48:56.641" endtime="20260115 10:49:12.013"/>
</kw>
<status status="PASS" starttime="20260115 10:48:51.822" endtime="20260115 10:49:12.013"/>
</kw>
<kw name="Get Environment Variable" library="OperatingSystem">
<var>${logdir}</var>
<arg>OZONE_LOG_DIR</arg>
<arg>/var/log/ozone</arg>
<doc>Returns the value of an environment variable with the given name.</doc>
<msg timestamp="20260115 10:49:12.014" level="INFO">${logdir} = /var/log/hadoop</msg>
<status status="PASS" starttime="20260115 10:49:12.013" endtime="20260115 10:49:12.014"/>
</kw>
<kw name="Execute" library="os">
<var>${logfile}</var>
<arg>ls -t "${logdir}" | grep om-audit | head -1</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:12.017" level="INFO">Running command 'ls -t "/var/log/hadoop" | grep om-audit | head -1 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:12.022" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:12.022" level="INFO">${output} = om-audit-om1.log</msg>
<status status="PASS" starttime="20260115 10:49:12.015" endtime="20260115 10:49:12.022"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:12.023" level="INFO">om-audit-om1.log</msg>
<status status="PASS" starttime="20260115 10:49:12.022" endtime="20260115 10:49:12.023"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:12.023" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:12.023" endtime="20260115 10:49:12.023"/>
</kw>
<status status="PASS" starttime="20260115 10:49:12.014" endtime="20260115 10:49:12.023"/>
</kw>
<msg timestamp="20260115 10:49:12.023" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:12.014" endtime="20260115 10:49:12.024"/>
</kw>
<msg timestamp="20260115 10:49:12.024" level="INFO">${logfile} = om-audit-om1.log</msg>
<status status="PASS" starttime="20260115 10:49:12.014" endtime="20260115 10:49:12.024"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone debug auditparser "${auditworkdir}/audit.db" load "${logdir}/${logfile}"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:12.028" level="INFO">Running command 'ozone debug auditparser "/tmp/audit.db" load "/var/log/hadoop/om-audit-om1.log" 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:13.957" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:13.957" level="INFO">${output} = /var/log/hadoop/om-audit-om1.log has been loaded successfully</msg>
<status status="PASS" starttime="20260115 10:49:12.025" endtime="20260115 10:49:13.957"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:13.958" level="INFO">/var/log/hadoop/om-audit-om1.log has been loaded successfully</msg>
<status status="PASS" starttime="20260115 10:49:13.957" endtime="20260115 10:49:13.958"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:13.958" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:13.958" endtime="20260115 10:49:13.959"/>
</kw>
<status status="PASS" starttime="20260115 10:49:12.025" endtime="20260115 10:49:13.959"/>
</kw>
<msg timestamp="20260115 10:49:13.959" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:12.024" endtime="20260115 10:49:13.959"/>
</kw>
<status status="PASS" starttime="20260115 10:49:12.024" endtime="20260115 10:49:13.959"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone debug auditparser "${auditworkdir}/audit.db" template top5cmds</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:13.962" level="INFO">Running command 'ozone debug auditparser "/tmp/audit.db" template top5cmds 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:15.438" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:15.438" level="INFO">${output} = ALLOCATE_KEY	100	
COMMIT_KEY	99	
CREATE_BUCKET	6	
CREATE_VOLUME	1	
</msg>
<status status="PASS" starttime="20260115 10:49:13.960" endtime="20260115 10:49:15.438"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:15.439" level="INFO">ALLOCATE_KEY	100	
COMMIT_KEY	99	
CREATE_BUCKET	6	
CREATE_VOLUME	1	
</msg>
<status status="PASS" starttime="20260115 10:49:15.439" endtime="20260115 10:49:15.439"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:15.440" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:15.439" endtime="20260115 10:49:15.440"/>
</kw>
<status status="PASS" starttime="20260115 10:49:13.960" endtime="20260115 10:49:15.440"/>
</kw>
<msg timestamp="20260115 10:49:15.440" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:13.959" endtime="20260115 10:49:15.440"/>
</kw>
<msg timestamp="20260115 10:49:15.440" level="INFO">${result} = ALLOCATE_KEY	100	
COMMIT_KEY	99	
CREATE_BUCKET	6	
CREATE_VOLUME	1	
</msg>
<status status="PASS" starttime="20260115 10:49:13.959" endtime="20260115 10:49:15.440"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>ALLOCATE_KEY</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:49:15.440" endtime="20260115 10:49:15.441"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone debug auditparser "${auditworkdir}/audit.db" template top5users</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:15.444" level="INFO">Running command 'ozone debug auditparser "/tmp/audit.db" template top5users 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:16.936" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:16.936" level="INFO">${output} = testuser/om@EXAMPLE.COM	206	
</msg>
<status status="PASS" starttime="20260115 10:49:15.442" endtime="20260115 10:49:16.937"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:16.937" level="INFO">testuser/om@EXAMPLE.COM	206	
</msg>
<status status="PASS" starttime="20260115 10:49:16.937" endtime="20260115 10:49:16.937"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:16.938" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:16.938" endtime="20260115 10:49:16.938"/>
</kw>
<status status="PASS" starttime="20260115 10:49:15.441" endtime="20260115 10:49:16.938"/>
</kw>
<msg timestamp="20260115 10:49:16.938" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:15.441" endtime="20260115 10:49:16.938"/>
</kw>
<msg timestamp="20260115 10:49:16.938" level="INFO">${result} = testuser/om@EXAMPLE.COM	206	
</msg>
<status status="PASS" starttime="20260115 10:49:15.441" endtime="20260115 10:49:16.938"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Set username</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Set username">
<kw name="Get test user principal" library="commonlib">
<var>${principal}</var>
<arg>testuser</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:16.943" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:16.947" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:16.947" level="INFO">${output} = om</msg>
<status status="PASS" starttime="20260115 10:49:16.941" endtime="20260115 10:49:16.947"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:16.948" level="INFO">om</msg>
<status status="PASS" starttime="20260115 10:49:16.947" endtime="20260115 10:49:16.948"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:16.948" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:16.948" endtime="20260115 10:49:16.948"/>
</kw>
<status status="PASS" starttime="20260115 10:49:16.940" endtime="20260115 10:49:16.948"/>
</kw>
<msg timestamp="20260115 10:49:16.948" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:16.940" endtime="20260115 10:49:16.949"/>
</kw>
<msg timestamp="20260115 10:49:16.949" level="INFO">${instance} = om</msg>
<status status="PASS" starttime="20260115 10:49:16.940" endtime="20260115 10:49:16.949"/>
</kw>
<msg timestamp="20260115 10:49:16.949" level="INFO">${principal} = testuser/om@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:49:16.939" endtime="20260115 10:49:16.949"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${user}</arg>
<arg>${principal}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20260115 10:49:16.949" level="INFO">${user} = testuser/om@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:49:16.949" endtime="20260115 10:49:16.949"/>
</kw>
<status status="PASS" starttime="20260115 10:49:16.939" endtime="20260115 10:49:16.949"/>
</kw>
<status status="PASS" starttime="20260115 10:49:16.939" endtime="20260115 10:49:16.949"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${result}</arg>
<arg>${user}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:49:16.950" endtime="20260115 10:49:16.950"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone debug auditparser "${auditworkdir}/audit.db" query "select count(*) from audit where op='CREATE_VOLUME' and RESULT='SUCCESS'"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:16.953" level="INFO">Running command 'ozone debug auditparser "/tmp/audit.db" query "select count(*) from audit where op='CREATE_VOLUME' and RESULT='SUCCESS'" 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:18.442" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:18.442" level="INFO">${output} = 1	
</msg>
<status status="PASS" starttime="20260115 10:49:16.951" endtime="20260115 10:49:18.442"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:18.443" level="INFO">1	
</msg>
<status status="PASS" starttime="20260115 10:49:18.443" endtime="20260115 10:49:18.443"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:18.444" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:18.444" endtime="20260115 10:49:18.444"/>
</kw>
<status status="PASS" starttime="20260115 10:49:16.950" endtime="20260115 10:49:18.444"/>
</kw>
<msg timestamp="20260115 10:49:18.444" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:16.950" endtime="20260115 10:49:18.444"/>
</kw>
<msg timestamp="20260115 10:49:18.444" level="INFO">${result} = 1	
</msg>
<status status="PASS" starttime="20260115 10:49:16.950" endtime="20260115 10:49:18.444"/>
</kw>
<kw name="Convert To Number" library="BuiltIn">
<var>${result}</var>
<arg>${result}</arg>
<doc>Converts the given item to a floating point number.</doc>
<msg timestamp="20260115 10:49:18.445" level="INFO">${result} = 1.0</msg>
<status status="PASS" starttime="20260115 10:49:18.444" endtime="20260115 10:49:18.445"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${result}&gt;=1</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:49:18.445" endtime="20260115 10:49:18.445"/>
</kw>
<kw name="Execute" library="os">
<var>${result}</var>
<arg>ozone debug auditparser "${auditworkdir}/audit.db" query "select count(*) from audit where op='CREATE_BUCKET' and RESULT='SUCCESS'"</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:18.449" level="INFO">Running command 'ozone debug auditparser "/tmp/audit.db" query "select count(*) from audit where op='CREATE_BUCKET' and RESULT='SUCCESS'" 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:19.963" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:19.963" level="INFO">${output} = 6	
</msg>
<status status="PASS" starttime="20260115 10:49:18.446" endtime="20260115 10:49:19.963"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:19.964" level="INFO">6	
</msg>
<status status="PASS" starttime="20260115 10:49:19.963" endtime="20260115 10:49:19.964"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:19.964" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:19.964" endtime="20260115 10:49:19.964"/>
</kw>
<status status="PASS" starttime="20260115 10:49:18.446" endtime="20260115 10:49:19.964"/>
</kw>
<msg timestamp="20260115 10:49:19.964" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:18.446" endtime="20260115 10:49:19.965"/>
</kw>
<msg timestamp="20260115 10:49:19.965" level="INFO">${result} = 6	
</msg>
<status status="PASS" starttime="20260115 10:49:18.445" endtime="20260115 10:49:19.965"/>
</kw>
<kw name="Convert To Number" library="BuiltIn">
<var>${result}</var>
<arg>${result}</arg>
<doc>Converts the given item to a floating point number.</doc>
<msg timestamp="20260115 10:49:19.965" level="INFO">${result} = 6.0</msg>
<status status="PASS" starttime="20260115 10:49:19.965" endtime="20260115 10:49:19.965"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${result}&gt;=${buckets}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:49:19.965" endtime="20260115 10:49:19.966"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:48:51.821" endtime="20260115 10:49:19.966"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" starttime="20260115 10:48:50.789" endtime="20260115 10:49:19.967"/>
</suite>
<suite id="s1-s3" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s3-t1" name="Kinit" line="27">
<kw name="Kinit test user" library="commonlib">
<arg>${USER}</arg>
<arg>${USER}.keytab</arg>
<kw name="Get Security Enabled From Config" library="commonlib">
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' != ''</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:49:20.727" endtime="20260115 10:49:20.728"/>
</kw>
<kw name="Execute" library="os">
<var>${value}</var>
<arg>ozone getconf confKey ozone.security.enabled</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:20.731" level="INFO">Running command 'ozone getconf confKey ozone.security.enabled 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:21.739" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:21.739" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20260115 10:49:20.728" endtime="20260115 10:49:21.739"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:21.740" level="INFO">true</msg>
<status status="PASS" starttime="20260115 10:49:21.740" endtime="20260115 10:49:21.740"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:21.741" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:21.740" endtime="20260115 10:49:21.741"/>
</kw>
<status status="PASS" starttime="20260115 10:49:20.728" endtime="20260115 10:49:21.741"/>
</kw>
<msg timestamp="20260115 10:49:21.741" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:20.728" endtime="20260115 10:49:21.741"/>
</kw>
<msg timestamp="20260115 10:49:21.741" level="INFO">${value} = true</msg>
<status status="PASS" starttime="20260115 10:49:20.728" endtime="20260115 10:49:21.741"/>
</kw>
<if>
<branch type="IF" condition="'${value}' != 'true' and '${value}' != 'false'">
<kw name="Set Variable" library="BuiltIn">
<var>${value}</var>
<arg>false</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" starttime="20260115 10:49:21.742" endtime="20260115 10:49:21.742"/>
</kw>
<status status="NOT RUN" starttime="20260115 10:49:21.741" endtime="20260115 10:49:21.742"/>
</branch>
<status status="PASS" starttime="20260115 10:49:21.741" endtime="20260115 10:49:21.742"/>
</if>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${SECURITY_ENABLED}</arg>
<arg>${value}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20260115 10:49:21.742" level="INFO">${SECURITY_ENABLED} = true</msg>
<status status="PASS" starttime="20260115 10:49:21.742" endtime="20260115 10:49:21.742"/>
</kw>
<status status="PASS" starttime="20260115 10:49:20.727" endtime="20260115 10:49:21.742"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20260115 10:49:21.742" endtime="20260115 10:49:21.743"/>
</kw>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:21.746" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:21.751" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:21.751" level="INFO">${output} = scm</msg>
<status status="PASS" starttime="20260115 10:49:21.744" endtime="20260115 10:49:21.751"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:21.751" level="INFO">scm</msg>
<status status="PASS" starttime="20260115 10:49:21.751" endtime="20260115 10:49:21.752"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:21.752" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:21.752" endtime="20260115 10:49:21.752"/>
</kw>
<status status="PASS" starttime="20260115 10:49:21.743" endtime="20260115 10:49:21.752"/>
</kw>
<msg timestamp="20260115 10:49:21.752" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:21.743" endtime="20260115 10:49:21.752"/>
</kw>
<msg timestamp="20260115 10:49:21.752" level="INFO">${instance} = scm</msg>
<status status="PASS" starttime="20260115 10:49:21.743" endtime="20260115 10:49:21.752"/>
</kw>
<msg timestamp="20260115 10:49:21.753" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:49:21.743" endtime="20260115 10:49:21.753"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20260115 10:49:21.753" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:49:21.753" endtime="20260115 10:49:21.753"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:21.757" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:21.932" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:21.932" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:21.755" endtime="20260115 10:49:21.932"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:21.933" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:21.932" endtime="20260115 10:49:21.933"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:21.933" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:21.933" endtime="20260115 10:49:21.933"/>
</kw>
<status status="PASS" starttime="20260115 10:49:21.754" endtime="20260115 10:49:21.933"/>
</kw>
<msg timestamp="20260115 10:49:21.933" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:21.754" endtime="20260115 10:49:21.934"/>
</kw>
<status status="PASS" starttime="20260115 10:49:21.754" endtime="20260115 10:49:21.934"/>
</kw>
<status status="PASS" starttime="20260115 10:49:21.753" endtime="20260115 10:49:21.934"/>
</kw>
<status status="PASS" starttime="20260115 10:49:20.727" endtime="20260115 10:49:21.934"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20260115 10:49:20.726" endtime="20260115 10:49:21.934"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" starttime="20260115 10:49:20.688" endtime="20260115 10:49:21.935"/>
</suite>
<suite id="s1-s4" name="Ozone-Debug-Tests" source="/opt/hadoop/smoketest/debug/ozone-debug-tests.robot">
<kw name="Write keys" type="SETUP">
<kw name="Execute" library="os">
<arg>ozone sh volume create o3://${OM_SERVICE_ID}/${VOLUME} --space-quota 100TB --namespace-quota 100</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:22.784" level="INFO">Running command 'ozone sh volume create o3://omservice/cli-debug-volume26164 --space-quota 100TB --namespace-quota 100 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:25.886" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:25.886" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:22.782" endtime="20260115 10:49:25.886"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:25.887" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:25.887" endtime="20260115 10:49:25.887"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:25.888" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:25.887" endtime="20260115 10:49:25.888"/>
</kw>
<status status="PASS" starttime="20260115 10:49:22.782" endtime="20260115 10:49:25.888"/>
</kw>
<msg timestamp="20260115 10:49:25.888" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:22.781" endtime="20260115 10:49:25.888"/>
</kw>
<status status="PASS" starttime="20260115 10:49:22.781" endtime="20260115 10:49:25.888"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh bucket create ${BASE_PATH} --space-quota 1TB</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:25.892" level="INFO">Running command 'ozone sh bucket create o3://omservice/cli-debug-volume26164/cli-debug-bucket --space-quota 1TB 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:29.081" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:29.081" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:25.889" endtime="20260115 10:49:29.081"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:29.081" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:29.081" endtime="20260115 10:49:29.082"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:29.082" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:29.082" endtime="20260115 10:49:29.082"/>
</kw>
<status status="PASS" starttime="20260115 10:49:25.889" endtime="20260115 10:49:29.082"/>
</kw>
<msg timestamp="20260115 10:49:29.082" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:25.889" endtime="20260115 10:49:29.082"/>
</kw>
<status status="PASS" starttime="20260115 10:49:25.888" endtime="20260115 10:49:29.082"/>
</kw>
<kw name="Execute" library="os">
<arg>dd if=/dev/urandom of=${TEMP_DIR}/${TESTFILE} bs=100000 count=15</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:29.086" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/testfile bs=100000 count=15 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:29.095" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:29.095" level="INFO">${output} = 15+0 records in
15+0 records out
1500000 bytes (1.5 MB, 1.4 MiB) copied, 0.00546234 s, 275 MB/s</msg>
<status status="PASS" starttime="20260115 10:49:29.083" endtime="20260115 10:49:29.095"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:29.096" level="INFO">15+0 records in
15+0 records out
1500000 bytes (1.5 MB, 1.4 MiB) copied, 0.00546234 s, 275 MB/s</msg>
<status status="PASS" starttime="20260115 10:49:29.095" endtime="20260115 10:49:29.096"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:29.096" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:29.096" endtime="20260115 10:49:29.096"/>
</kw>
<status status="PASS" starttime="20260115 10:49:29.083" endtime="20260115 10:49:29.096"/>
</kw>
<msg timestamp="20260115 10:49:29.096" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:29.083" endtime="20260115 10:49:29.096"/>
</kw>
<status status="PASS" starttime="20260115 10:49:29.082" endtime="20260115 10:49:29.097"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put ${BASE_PATH}/${TESTFILE} ${TEMP_DIR}/${TESTFILE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:29.100" level="INFO">Running command 'ozone sh key put o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile /tmp/testfile 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:34.349" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:34.349" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:29.098" endtime="20260115 10:49:34.349"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:34.350" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:34.350" endtime="20260115 10:49:34.350"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:34.351" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:34.350" endtime="20260115 10:49:34.351"/>
</kw>
<status status="PASS" starttime="20260115 10:49:29.097" endtime="20260115 10:49:34.351"/>
</kw>
<msg timestamp="20260115 10:49:34.351" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:29.097" endtime="20260115 10:49:34.351"/>
</kw>
<status status="PASS" starttime="20260115 10:49:29.097" endtime="20260115 10:49:34.351"/>
</kw>
<kw name="Create Key" library="shell">
<arg>${BASE_PATH}/${RATIS_ONE_KEY}</arg>
<arg>${TEMP_DIR}/${TESTFILE}</arg>
<arg>--type RATIS --replication ONE</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put ${args} ${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:34.355" level="INFO">Running command 'ozone sh key put --type RATIS --replication ONE o3://omservice/cli-debug-volume26164/cli-debug-bucket/ratis-one-key /tmp/testfile 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:39.560" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:39.560" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:34.353" endtime="20260115 10:49:39.560"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:39.561" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:39.560" endtime="20260115 10:49:39.561"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:39.561" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:39.561" endtime="20260115 10:49:39.561"/>
</kw>
<status status="PASS" starttime="20260115 10:49:34.352" endtime="20260115 10:49:39.562"/>
</kw>
<msg timestamp="20260115 10:49:39.562" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:34.352" endtime="20260115 10:49:39.562"/>
</kw>
<msg timestamp="20260115 10:49:39.562" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:34.352" endtime="20260115 10:49:39.562"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:49:39.562" endtime="20260115 10:49:39.562"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Uploaded ${file} to ${key}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:39.563" level="INFO">Uploaded /tmp/testfile to o3://omservice/cli-debug-volume26164/cli-debug-bucket/ratis-one-key</msg>
<status status="PASS" starttime="20260115 10:49:39.562" endtime="20260115 10:49:39.563"/>
</kw>
<status status="PASS" starttime="20260115 10:49:34.351" endtime="20260115 10:49:39.563"/>
</kw>
<kw name="Create Key" library="shell">
<arg>${BASE_PATH}/${RATIS_THREE_KEY}</arg>
<arg>${TEMP_DIR}/${TESTFILE}</arg>
<arg>--type RATIS --replication THREE</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put ${args} ${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:39.566" level="INFO">Running command 'ozone sh key put --type RATIS --replication THREE o3://omservice/cli-debug-volume26164/cli-debug-bucket/ratis-three-key /tmp/testfile 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:44.621" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:44.621" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:39.564" endtime="20260115 10:49:44.621"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:44.622" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:44.621" endtime="20260115 10:49:44.622"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:44.622" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:44.622" endtime="20260115 10:49:44.622"/>
</kw>
<status status="PASS" starttime="20260115 10:49:39.564" endtime="20260115 10:49:44.622"/>
</kw>
<msg timestamp="20260115 10:49:44.622" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:39.564" endtime="20260115 10:49:44.622"/>
</kw>
<msg timestamp="20260115 10:49:44.623" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:39.563" endtime="20260115 10:49:44.623"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:49:44.623" endtime="20260115 10:49:44.623"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Uploaded ${file} to ${key}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:44.623" level="INFO">Uploaded /tmp/testfile to o3://omservice/cli-debug-volume26164/cli-debug-bucket/ratis-three-key</msg>
<status status="PASS" starttime="20260115 10:49:44.623" endtime="20260115 10:49:44.623"/>
</kw>
<status status="PASS" starttime="20260115 10:49:39.563" endtime="20260115 10:49:44.623"/>
</kw>
<kw name="Create Key" library="shell">
<arg>${BASE_PATH}/${EC_KEY}</arg>
<arg>${TEMP_DIR}/${TESTFILE}</arg>
<arg>--type EC --replication rs-3-2-1024k</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone sh key put ${args} ${key} ${file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:44.627" level="INFO">Running command 'ozone sh key put --type EC --replication rs-3-2-1024k o3://omservice/cli-debug-volume26164/cli-debug-bucket/ec-key /tmp/testfile 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:50.815" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:50.815" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:44.625" endtime="20260115 10:49:50.815"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:50.816" level="INFO"/>
<status status="PASS" starttime="20260115 10:49:50.816" endtime="20260115 10:49:50.816"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:50.817" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:50.816" endtime="20260115 10:49:50.817"/>
</kw>
<status status="PASS" starttime="20260115 10:49:44.624" endtime="20260115 10:49:50.817"/>
</kw>
<msg timestamp="20260115 10:49:50.817" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:44.624" endtime="20260115 10:49:50.817"/>
</kw>
<msg timestamp="20260115 10:49:50.817" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:49:44.624" endtime="20260115 10:49:50.817"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:49:50.817" endtime="20260115 10:49:50.817"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Uploaded ${file} to ${key}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:50.818" level="INFO">Uploaded /tmp/testfile to o3://omservice/cli-debug-volume26164/cli-debug-bucket/ec-key</msg>
<status status="PASS" starttime="20260115 10:49:50.818" endtime="20260115 10:49:50.818"/>
</kw>
<status status="PASS" starttime="20260115 10:49:44.623" endtime="20260115 10:49:50.818"/>
</kw>
<status status="PASS" starttime="20260115 10:49:22.781" endtime="20260115 10:49:50.818"/>
</kw>
<test id="s1-s4-t1" name="Test ozone debug replicas verify checksums, block-existence and container-state" line="62">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --checksums --block-existence --container-state ${BASE_PATH}/${TESTFILE}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:50.822" level="INFO">Running command 'ozone debug replicas verify --checksums --block-existence --container-state o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:49:58.352" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:49:58.352" level="INFO">${output} = {
  "keys" : [ ],
  "pass" : true
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Success
Verification S...</msg>
<status status="PASS" starttime="20260115 10:49:50.820" endtime="20260115 10:49:58.352"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:49:58.353" level="INFO">{
  "keys" : [ ],
  "pass" : true
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Success
Verification Scope: Key
Verification Types: checksum, blockExistence, containerState
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 1
Keys failed verification: 0

Total Execution time: 00:00:03,720
***************************************************</msg>
<status status="PASS" starttime="20260115 10:49:58.353" endtime="20260115 10:49:58.353"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:49:58.354" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:49:58.354" endtime="20260115 10:49:58.354"/>
</kw>
<status status="PASS" starttime="20260115 10:49:50.819" endtime="20260115 10:49:58.354"/>
</kw>
<msg timestamp="20260115 10:49:58.354" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:50.819" endtime="20260115 10:49:58.354"/>
</kw>
<msg timestamp="20260115 10:49:58.354" level="INFO">${output} = {
  "keys" : [ ],
  "pass" : true
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Success
Verification S...</msg>
<status status="PASS" starttime="20260115 10:49:50.819" endtime="20260115 10:49:58.354"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:49:58.355" level="INFO">${json_split} = {
  "keys" : [ ],
  "pass" : true
}</msg>
<status status="PASS" starttime="20260115 10:49:58.355" endtime="20260115 10:49:58.355"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:49:58.356" level="INFO">${json} = {'keys': [], 'pass': True}</msg>
<status status="PASS" starttime="20260115 10:49:58.355" endtime="20260115 10:49:58.356"/>
</kw>
<msg timestamp="20260115 10:49:58.356" level="INFO">${json} = {'keys': [], 'pass': True}</msg>
<status status="PASS" starttime="20260115 10:49:58.354" endtime="20260115 10:49:58.356"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${json}[keys]</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:49:58.356" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:49:58.356" endtime="20260115 10:49:58.356"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${json}[pass]</arg>
<arg>${True}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:49:58.356" endtime="20260115 10:49:58.357"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:49:50.818" endtime="20260115 10:49:58.357"/>
</test>
<test id="s1-s4-t2" name="Test ozone debug replicas verify with RATIS ONE filter" line="70">
<kw name="Execute and validate replicas verify with filter">
<var>${key_names}</var>
<arg>RATIS</arg>
<arg>ONE</arg>
<arg>checksums</arg>
<arg>1</arg>
<kw name="Execute replicas verify with replication filter" library="ozone-debug-keywords">
<var>${output}</var>
<arg>${replication_type}</arg>
<arg>${replication_factor}</arg>
<arg>${verification_type}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --${verification_type} --type ${replication_type} --replication ${replication_factor} o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:49:58.362" level="INFO">Running command 'ozone debug replicas verify --checksums --type RATIS --replication ONE o3://omservice/cli-debug-volume26164/cli-debug-bucket --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:50:04.124" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:50:04.124" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-one-key",
    "blocks" : [ {
      "containerID" : 3,
      "blockID" : 11788364...</msg>
<status status="PASS" starttime="20260115 10:49:58.360" endtime="20260115 10:50:04.124"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:50:04.125" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-one-key",
    "blocks" : [ {
      "containerID" : 3,
      "blockID" : 117883640217600102,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : true
  } ],
  "pass" : true
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Success
Verification Scope: Bucket
Verification Types: checksum
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket

Number of Volumes processed: 0
Number of Buckets processed: 1
Number of Keys processed: 4

Keys passed verification: 1
Keys failed verification: 0

Total Execution time: 00:00:02,271
***************************************************</msg>
<status status="PASS" starttime="20260115 10:50:04.125" endtime="20260115 10:50:04.125"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:04.126" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:04.126" endtime="20260115 10:50:04.126"/>
</kw>
<status status="PASS" starttime="20260115 10:49:58.359" endtime="20260115 10:50:04.126"/>
</kw>
<msg timestamp="20260115 10:50:04.126" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:49:58.359" endtime="20260115 10:50:04.126"/>
</kw>
<msg timestamp="20260115 10:50:04.126" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-one-key",
    "blocks" : [ {
      "containerID" : 3,
      "blockID" : 11788364...</msg>
<status status="PASS" starttime="20260115 10:49:58.359" endtime="20260115 10:50:04.126"/>
</kw>
<msg timestamp="20260115 10:50:04.127" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-one-key",
    "blocks" : [ {
      "containerID" : 3,
      "blockID" : 11788364...</msg>
<status status="PASS" starttime="20260115 10:49:58.358" endtime="20260115 10:50:04.127"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:04.128" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-one-key",
    "blocks" : [ {
      "containerID" : 3,
      "blockID" : 11788364...</msg>
<status status="PASS" starttime="20260115 10:50:04.127" endtime="20260115 10:50:04.128"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:04.128" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-one-key', 'blocks': [{'containerID': 3, 'blockID': 117883640217600102, 'replicas': [{'datanode': {'uu...</msg>
<status status="PASS" starttime="20260115 10:50:04.128" endtime="20260115 10:50:04.128"/>
</kw>
<msg timestamp="20260115 10:50:04.128" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-one-key', 'blocks': [{'containerID': 3, 'blockID': 117883640217600102, 'replicas': [{'datanode': {'uu...</msg>
<status status="PASS" starttime="20260115 10:50:04.127" endtime="20260115 10:50:04.128"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${keys}</var>
<arg>${json}</arg>
<arg>keys</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:04.129" level="INFO">${keys} = [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-one-key', 'blocks': [{'containerID': 3, 'blockID': 117883640217600102, 'replicas': [{'datanode': {'uuid': 'e61...</msg>
<status status="PASS" starttime="20260115 10:50:04.128" endtime="20260115 10:50:04.129"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${key_count}</var>
<arg>${keys}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20260115 10:50:04.129" level="INFO">Length is 1</msg>
<msg timestamp="20260115 10:50:04.129" level="INFO">${key_count} = 1</msg>
<status status="PASS" starttime="20260115 10:50:04.129" endtime="20260115 10:50:04.129"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${key_count}</arg>
<arg>${expected_key_count}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:04.130" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:04.129" endtime="20260115 10:50:04.130"/>
</kw>
<kw name="Get key names from output" library="ozone-debug-keywords">
<var>${key_names}</var>
<arg>${json}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${keys}</var>
<arg>${json}</arg>
<arg>keys</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:04.130" level="INFO">${keys} = [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-one-key', 'blocks': [{'containerID': 3, 'blockID': 117883640217600102, 'replicas': [{'datanode': {'uuid': 'e61...</msg>
<status status="PASS" starttime="20260115 10:50:04.130" endtime="20260115 10:50:04.130"/>
</kw>
<kw name="Create List" library="BuiltIn">
<var>${key_names}</var>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20260115 10:50:04.131" level="INFO">${key_names} = []</msg>
<status status="PASS" starttime="20260115 10:50:04.130" endtime="20260115 10:50:04.131"/>
</kw>
<for flavor="IN">
<var>${key}</var>
<value>@{keys}</value>
<iter>
<var name="${key}">{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-one-key', 'blocks': [{'containerID': 3, 'blockID': 117883640217600102, 'replicas': [{'datanode': {'uuid': 'e610...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${key_name}</var>
<arg>${key}</arg>
<arg>name</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:04.132" level="INFO">${key_name} = ratis-one-key</msg>
<status status="PASS" starttime="20260115 10:50:04.131" endtime="20260115 10:50:04.132"/>
</kw>
<kw name="Append To List" library="Collections">
<arg>${key_names}</arg>
<arg>${key_name}</arg>
<doc>Adds ``values`` to the end of ``list``.</doc>
<status status="PASS" starttime="20260115 10:50:04.132" endtime="20260115 10:50:04.132"/>
</kw>
<status status="PASS" starttime="20260115 10:50:04.131" endtime="20260115 10:50:04.132"/>
</iter>
<status status="PASS" starttime="20260115 10:50:04.131" endtime="20260115 10:50:04.132"/>
</for>
<msg timestamp="20260115 10:50:04.132" level="INFO">${key_names} = ['ratis-one-key']</msg>
<status status="PASS" starttime="20260115 10:50:04.130" endtime="20260115 10:50:04.132"/>
</kw>
<msg timestamp="20260115 10:50:04.132" level="INFO">${key_names} = ['ratis-one-key']</msg>
<status status="PASS" starttime="20260115 10:49:58.358" endtime="20260115 10:50:04.132"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${RATIS_ONE_KEY}</arg>
<arg>Key ${RATIS_ONE_KEY} not found in output</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:04.133" endtime="20260115 10:50:04.133"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${EC_KEY}</arg>
<arg>Key ${EC_KEY} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:04.133" endtime="20260115 10:50:04.133"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${TESTFILE}</arg>
<arg>Key ${TESTFILE} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:04.133" endtime="20260115 10:50:04.134"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${RATIS_THREE_KEY}</arg>
<arg>Key ${RATIS_THREE_KEY} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:04.134" endtime="20260115 10:50:04.134"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:49:58.357" endtime="20260115 10:50:04.134"/>
</test>
<test id="s1-s4-t3" name="Test ozone debug replicas verify with RATIS THREE filter" line="80">
<kw name="Execute and validate replicas verify with filter">
<var>${key_names}</var>
<arg>RATIS</arg>
<arg>THREE</arg>
<arg>checksums</arg>
<arg>2</arg>
<kw name="Execute replicas verify with replication filter" library="ozone-debug-keywords">
<var>${output}</var>
<arg>${replication_type}</arg>
<arg>${replication_factor}</arg>
<arg>${verification_type}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --${verification_type} --type ${replication_type} --replication ${replication_factor} o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:50:04.140" level="INFO">Running command 'ozone debug replicas verify --checksums --type RATIS --replication THREE o3://omservice/cli-debug-volume26164/cli-debug-bucket --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:50:11.102" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:50:11.102" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-three-key",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883...</msg>
<status status="PASS" starttime="20260115 10:50:04.137" endtime="20260115 10:50:11.102"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:50:11.103" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-three-key",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600103,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : true
  }, {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : true
  } ],
  "pass" : true
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Success
Verification Scope: Bucket
Verification Types: checksum
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket

Number of Volumes processed: 0
Number of Buckets processed: 1
Number of Keys processed: 4

Keys passed verification: 2
Keys failed verification: 0

Total Execution time: 00:00:03,611
***************************************************</msg>
<status status="PASS" starttime="20260115 10:50:11.102" endtime="20260115 10:50:11.103"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:11.104" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:11.103" endtime="20260115 10:50:11.104"/>
</kw>
<status status="PASS" starttime="20260115 10:50:04.137" endtime="20260115 10:50:11.104"/>
</kw>
<msg timestamp="20260115 10:50:11.104" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:50:04.137" endtime="20260115 10:50:11.104"/>
</kw>
<msg timestamp="20260115 10:50:11.105" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-three-key",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883...</msg>
<status status="PASS" starttime="20260115 10:50:04.136" endtime="20260115 10:50:11.105"/>
</kw>
<msg timestamp="20260115 10:50:11.105" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-three-key",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883...</msg>
<status status="PASS" starttime="20260115 10:50:04.136" endtime="20260115 10:50:11.105"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:11.106" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ratis-three-key",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883...</msg>
<status status="PASS" starttime="20260115 10:50:11.106" endtime="20260115 10:50:11.106"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:11.107" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-three-key', 'blocks': [{'containerID': 2, 'blockID': 117883640217600103, 'replicas': [{'datanode': {'...</msg>
<status status="PASS" starttime="20260115 10:50:11.106" endtime="20260115 10:50:11.107"/>
</kw>
<msg timestamp="20260115 10:50:11.107" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-three-key', 'blocks': [{'containerID': 2, 'blockID': 117883640217600103, 'replicas': [{'datanode': {'...</msg>
<status status="PASS" starttime="20260115 10:50:11.105" endtime="20260115 10:50:11.107"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${keys}</var>
<arg>${json}</arg>
<arg>keys</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:11.108" level="INFO">${keys} = [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-three-key', 'blocks': [{'containerID': 2, 'blockID': 117883640217600103, 'replicas': [{'datanode': {'uuid': 'e...</msg>
<status status="PASS" starttime="20260115 10:50:11.107" endtime="20260115 10:50:11.108"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${key_count}</var>
<arg>${keys}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20260115 10:50:11.108" level="INFO">Length is 2</msg>
<msg timestamp="20260115 10:50:11.108" level="INFO">${key_count} = 2</msg>
<status status="PASS" starttime="20260115 10:50:11.108" endtime="20260115 10:50:11.108"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${key_count}</arg>
<arg>${expected_key_count}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:11.108" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:11.108" endtime="20260115 10:50:11.109"/>
</kw>
<kw name="Get key names from output" library="ozone-debug-keywords">
<var>${key_names}</var>
<arg>${json}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${keys}</var>
<arg>${json}</arg>
<arg>keys</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:11.109" level="INFO">${keys} = [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-three-key', 'blocks': [{'containerID': 2, 'blockID': 117883640217600103, 'replicas': [{'datanode': {'uuid': 'e...</msg>
<status status="PASS" starttime="20260115 10:50:11.109" endtime="20260115 10:50:11.109"/>
</kw>
<kw name="Create List" library="BuiltIn">
<var>${key_names}</var>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20260115 10:50:11.110" level="INFO">${key_names} = []</msg>
<status status="PASS" starttime="20260115 10:50:11.109" endtime="20260115 10:50:11.110"/>
</kw>
<for flavor="IN">
<var>${key}</var>
<value>@{keys}</value>
<iter>
<var name="${key}">{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ratis-three-key', 'blocks': [{'containerID': 2, 'blockID': 117883640217600103, 'replicas': [{'datanode': {'uuid': 'e6...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${key_name}</var>
<arg>${key}</arg>
<arg>name</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:11.110" level="INFO">${key_name} = ratis-three-key</msg>
<status status="PASS" starttime="20260115 10:50:11.110" endtime="20260115 10:50:11.110"/>
</kw>
<kw name="Append To List" library="Collections">
<arg>${key_names}</arg>
<arg>${key_name}</arg>
<doc>Adds ``values`` to the end of ``list``.</doc>
<status status="PASS" starttime="20260115 10:50:11.110" endtime="20260115 10:50:11.111"/>
</kw>
<status status="PASS" starttime="20260115 10:50:11.110" endtime="20260115 10:50:11.111"/>
</iter>
<iter>
<var name="${key}">{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': 'e610af36-...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${key_name}</var>
<arg>${key}</arg>
<arg>name</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:11.111" level="INFO">${key_name} = testfile</msg>
<status status="PASS" starttime="20260115 10:50:11.111" endtime="20260115 10:50:11.111"/>
</kw>
<kw name="Append To List" library="Collections">
<arg>${key_names}</arg>
<arg>${key_name}</arg>
<doc>Adds ``values`` to the end of ``list``.</doc>
<status status="PASS" starttime="20260115 10:50:11.111" endtime="20260115 10:50:11.112"/>
</kw>
<status status="PASS" starttime="20260115 10:50:11.111" endtime="20260115 10:50:11.112"/>
</iter>
<status status="PASS" starttime="20260115 10:50:11.110" endtime="20260115 10:50:11.112"/>
</for>
<msg timestamp="20260115 10:50:11.112" level="INFO">${key_names} = ['ratis-three-key', 'testfile']</msg>
<status status="PASS" starttime="20260115 10:50:11.109" endtime="20260115 10:50:11.112"/>
</kw>
<msg timestamp="20260115 10:50:11.112" level="INFO">${key_names} = ['ratis-three-key', 'testfile']</msg>
<status status="PASS" starttime="20260115 10:50:04.135" endtime="20260115 10:50:11.112"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${TESTFILE}</arg>
<arg>Key ${TESTFILE} not found in output</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:11.112" endtime="20260115 10:50:11.113"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${RATIS_THREE_KEY}</arg>
<arg>Key ${RATIS_THREE_KEY} not found in output</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:11.113" endtime="20260115 10:50:11.113"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${RATIS_ONE_KEY}</arg>
<arg>Key ${RATIS_ONE_KEY} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:11.113" endtime="20260115 10:50:11.114"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${EC_KEY}</arg>
<arg>Key ${EC_KEY} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:11.114" endtime="20260115 10:50:11.114"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:50:04.135" endtime="20260115 10:50:11.114"/>
</test>
<test id="s1-s4-t4" name="Test ozone debug replicas verify with EC rs-3-2-1024k filter" line="90">
<kw name="Execute and validate replicas verify with filter">
<var>${key_names}</var>
<arg>EC</arg>
<arg>rs-3-2-1024k</arg>
<arg>checksums</arg>
<arg>1</arg>
<kw name="Execute replicas verify with replication filter" library="ozone-debug-keywords">
<var>${output}</var>
<arg>${replication_type}</arg>
<arg>${replication_factor}</arg>
<arg>${verification_type}</arg>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --${verification_type} --type ${replication_type} --replication ${replication_factor} o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:50:11.119" level="INFO">Running command 'ozone debug replicas verify --checksums --type EC --replication rs-3-2-1024k o3://omservice/cli-debug-volume26164/cli-debug-bucket --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:50:18.661" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:50:18.661" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ec-key",
    "blocks" : [ {
      "containerID" : 4,
      "blockID" : 117883640217600...</msg>
<status status="PASS" starttime="20260115 10:50:11.117" endtime="20260115 10:50:18.661"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:50:18.662" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ec-key",
    "blocks" : [ {
      "containerID" : 4,
      "blockID" : 117883640217600104,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 1
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 2
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 3
      }, {
        "datanode" : {
          "uuid" : "7b2af775-9ac4-4ebf-94f1-0130d73f9bbd",
          "hostname" : "ozonesecure-ha-datanode4-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 4
      }, {
        "datanode" : {
          "uuid" : "38a726e1-73b1-4864-b526-75c4f44dac49",
          "hostname" : "ozonesecure-ha-datanode2-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 5
      } ]
    } ],
    "pass" : true
  } ],
  "pass" : true
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Success
Verification Scope: Bucket
Verification Types: checksum
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket

Number of Volumes processed: 0
Number of Buckets processed: 1
Number of Keys processed: 4

Keys passed verification: 1
Keys failed verification: 0

Total Execution time: 00:00:03,776
***************************************************</msg>
<status status="PASS" starttime="20260115 10:50:18.662" endtime="20260115 10:50:18.663"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:18.663" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:18.663" endtime="20260115 10:50:18.663"/>
</kw>
<status status="PASS" starttime="20260115 10:50:11.116" endtime="20260115 10:50:18.663"/>
</kw>
<msg timestamp="20260115 10:50:18.663" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:50:11.116" endtime="20260115 10:50:18.663"/>
</kw>
<msg timestamp="20260115 10:50:18.664" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ec-key",
    "blocks" : [ {
      "containerID" : 4,
      "blockID" : 117883640217600...</msg>
<status status="PASS" starttime="20260115 10:50:11.116" endtime="20260115 10:50:18.664"/>
</kw>
<msg timestamp="20260115 10:50:18.664" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ec-key",
    "blocks" : [ {
      "containerID" : 4,
      "blockID" : 117883640217600...</msg>
<status status="PASS" starttime="20260115 10:50:11.115" endtime="20260115 10:50:18.664"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:18.665" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "ec-key",
    "blocks" : [ {
      "containerID" : 4,
      "blockID" : 117883640217600...</msg>
<status status="PASS" starttime="20260115 10:50:18.665" endtime="20260115 10:50:18.665"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:18.666" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ec-key', 'blocks': [{'containerID': 4, 'blockID': 117883640217600104, 'replicas': [{'datanode': {'uuid': 'e...</msg>
<status status="PASS" starttime="20260115 10:50:18.665" endtime="20260115 10:50:18.666"/>
</kw>
<msg timestamp="20260115 10:50:18.666" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ec-key', 'blocks': [{'containerID': 4, 'blockID': 117883640217600104, 'replicas': [{'datanode': {'uuid': 'e...</msg>
<status status="PASS" starttime="20260115 10:50:18.664" endtime="20260115 10:50:18.666"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${keys}</var>
<arg>${json}</arg>
<arg>keys</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:18.666" level="INFO">${keys} = [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ec-key', 'blocks': [{'containerID': 4, 'blockID': 117883640217600104, 'replicas': [{'datanode': {'uuid': 'e610af36-2...</msg>
<status status="PASS" starttime="20260115 10:50:18.666" endtime="20260115 10:50:18.666"/>
</kw>
<kw name="Get Length" library="BuiltIn">
<var>${key_count}</var>
<arg>${keys}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<msg timestamp="20260115 10:50:18.667" level="INFO">Length is 1</msg>
<msg timestamp="20260115 10:50:18.667" level="INFO">${key_count} = 1</msg>
<status status="PASS" starttime="20260115 10:50:18.666" endtime="20260115 10:50:18.667"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${key_count}</arg>
<arg>${expected_key_count}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:18.667" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:18.667" endtime="20260115 10:50:18.667"/>
</kw>
<kw name="Get key names from output" library="ozone-debug-keywords">
<var>${key_names}</var>
<arg>${json}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${keys}</var>
<arg>${json}</arg>
<arg>keys</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:18.668" level="INFO">${keys} = [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ec-key', 'blocks': [{'containerID': 4, 'blockID': 117883640217600104, 'replicas': [{'datanode': {'uuid': 'e610af36-2...</msg>
<status status="PASS" starttime="20260115 10:50:18.668" endtime="20260115 10:50:18.668"/>
</kw>
<kw name="Create List" library="BuiltIn">
<var>${key_names}</var>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20260115 10:50:18.668" level="INFO">${key_names} = []</msg>
<status status="PASS" starttime="20260115 10:50:18.668" endtime="20260115 10:50:18.668"/>
</kw>
<for flavor="IN">
<var>${key}</var>
<value>@{keys}</value>
<iter>
<var name="${key}">{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'ec-key', 'blocks': [{'containerID': 4, 'blockID': 117883640217600104, 'replicas': [{'datanode': {'uuid': 'e610af36-23...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${key_name}</var>
<arg>${key}</arg>
<arg>name</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:18.669" level="INFO">${key_name} = ec-key</msg>
<status status="PASS" starttime="20260115 10:50:18.669" endtime="20260115 10:50:18.669"/>
</kw>
<kw name="Append To List" library="Collections">
<arg>${key_names}</arg>
<arg>${key_name}</arg>
<doc>Adds ``values`` to the end of ``list``.</doc>
<status status="PASS" starttime="20260115 10:50:18.669" endtime="20260115 10:50:18.669"/>
</kw>
<status status="PASS" starttime="20260115 10:50:18.669" endtime="20260115 10:50:18.669"/>
</iter>
<status status="PASS" starttime="20260115 10:50:18.668" endtime="20260115 10:50:18.669"/>
</for>
<msg timestamp="20260115 10:50:18.670" level="INFO">${key_names} = ['ec-key']</msg>
<status status="PASS" starttime="20260115 10:50:18.667" endtime="20260115 10:50:18.670"/>
</kw>
<msg timestamp="20260115 10:50:18.670" level="INFO">${key_names} = ['ec-key']</msg>
<status status="PASS" starttime="20260115 10:50:11.115" endtime="20260115 10:50:18.670"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${EC_KEY}</arg>
<arg>Key ${EC_KEY} not found in output</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:18.670" endtime="20260115 10:50:18.670"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${TESTFILE}</arg>
<arg>Key ${TESTFILE} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:18.670" endtime="20260115 10:50:18.671"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${RATIS_ONE_KEY}</arg>
<arg>Key ${RATIS_ONE_KEY} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:18.671" endtime="20260115 10:50:18.671"/>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<arg>${key_names}</arg>
<arg>${RATIS_THREE_KEY}</arg>
<arg>Key ${RATIS_THREE_KEY} should not be in filtered output</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:18.671" endtime="20260115 10:50:18.671"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:50:11.115" endtime="20260115 10:50:18.672"/>
</test>
<test id="s1-s4-t5" name="Test ozone debug version" line="100">
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug version</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:50:18.676" level="INFO">Running command 'ozone debug version 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:50:20.586" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:50:20.586" level="INFO">${output} = {
  "components" : {
    "client" : {
      "componentVersion" : {
        "name" : "BUCKET_LAYOUT_SUPPORT",
        "protoValue" : 3
      }
    },
    "datanode" : {
      "componentVersion" : {
   ...</msg>
<status status="PASS" starttime="20260115 10:50:18.674" endtime="20260115 10:50:20.586"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:50:20.587" level="INFO">{
  "components" : {
    "client" : {
      "componentVersion" : {
        "name" : "BUCKET_LAYOUT_SUPPORT",
        "protoValue" : 3
      }
    },
    "datanode" : {
      "componentVersion" : {
        "name" : "STREAM_BLOCK_SUPPORT",
        "protoValue" : 3
      }
    },
    "om" : {
      "componentVersion" : {
        "name" : "S3_LIST_MULTIPART_UPLOADS_PAGINATION",
        "protoValue" : 11
      }
    }
  },
  "ozone" : {
    "revision" : "acbb4395439be6283f17315167290aedb8fcf5ea",
    "url" : "https://github.com/apache/ozone",
    "version" : "2.2.0-SNAPSHOT"
  }
}</msg>
<status status="PASS" starttime="20260115 10:50:20.587" endtime="20260115 10:50:20.587"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:20.588" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:20.587" endtime="20260115 10:50:20.588"/>
</kw>
<status status="PASS" starttime="20260115 10:50:18.673" endtime="20260115 10:50:20.588"/>
</kw>
<msg timestamp="20260115 10:50:20.588" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:50:18.673" endtime="20260115 10:50:20.588"/>
</kw>
<msg timestamp="20260115 10:50:20.588" level="INFO">${output} = {
  "components" : {
    "client" : {
      "componentVersion" : {
        "name" : "BUCKET_LAYOUT_SUPPORT",
        "protoValue" : 3
      }
    },
    "datanode" : {
      "componentVersion" : {
   ...</msg>
<status status="PASS" starttime="20260115 10:50:18.672" endtime="20260115 10:50:20.588"/>
</kw>
<kw name="Execute" library="os">
<arg>echo '${output}' | jq -r '.' # validate JSON</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:50:20.592" level="INFO">Running command 'echo '{
  "components" : {
    "client" : {
      "componentVersion" : {
        "name" : "BUCKET_LAYOUT_SUPPORT",
        "protoValue" : 3
      }
    },
    "datanode" : {
      "componentVersion" : {
        "name" : "STREAM_BLOCK_SUPPORT",
        "protoValue" : 3
      }
    },
    "om" : {
      "componentVersion" : {
        "name" : "S3_LIST_MULTIPART_UPLOADS_PAGINATION",
        "protoValue" : 11
      }
    }
  },
  "ozone" : {
    "revision" : "acbb4395439be6283f17315167290aedb8fcf5ea",
    "url" : "https://github.com/apache/ozone",
    "version" : "2.2.0-SNAPSHOT"
  }
}' | jq -r '.' # validate JSON 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:50:20.600" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:50:20.600" level="INFO">${output} = {
  "components": {
    "client": {
      "componentVersion": {
        "name": "BUCKET_LAYOUT_SUPPORT",
        "protoValue": 3
      }
    },
    "datanode": {
      "componentVersion": {
        "n...</msg>
<status status="PASS" starttime="20260115 10:50:20.589" endtime="20260115 10:50:20.600"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:50:20.600" level="INFO">{
  "components": {
    "client": {
      "componentVersion": {
        "name": "BUCKET_LAYOUT_SUPPORT",
        "protoValue": 3
      }
    },
    "datanode": {
      "componentVersion": {
        "name": "STREAM_BLOCK_SUPPORT",
        "protoValue": 3
      }
    },
    "om": {
      "componentVersion": {
        "name": "S3_LIST_MULTIPART_UPLOADS_PAGINATION",
        "protoValue": 11
      }
    }
  },
  "ozone": {
    "revision": "acbb4395439be6283f17315167290aedb8fcf5ea",
    "url": "https://github.com/apache/ozone",
    "version": "2.2.0-SNAPSHOT"
  }
}</msg>
<status status="PASS" starttime="20260115 10:50:20.600" endtime="20260115 10:50:20.600"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:20.601" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:20.601" endtime="20260115 10:50:20.601"/>
</kw>
<status status="PASS" starttime="20260115 10:50:20.589" endtime="20260115 10:50:20.601"/>
</kw>
<msg timestamp="20260115 10:50:20.601" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:50:20.589" endtime="20260115 10:50:20.601"/>
</kw>
<status status="PASS" starttime="20260115 10:50:20.588" endtime="20260115 10:50:20.601"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:50:18.672" endtime="20260115 10:50:20.602"/>
</test>
<doc>Test ozone debug CLI</doc>
<status status="PASS" starttime="20260115 10:49:22.726" endtime="20260115 10:50:20.602"/>
</suite>
<suite id="s1-s5" name="Corrupt-Block-Checksum" source="/opt/hadoop/smoketest/debug/corrupt-block-checksum.robot">
<test id="s1-s5-t1" name="Test checksums with a corrupt block replica" line="33">
<kw name="Execute replicas verify checksums debug tool" library="ozone-debug-keywords">
<var>${output}</var>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --checksums o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/${TESTFILE} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:50:27.626" level="INFO">Running command 'ozone debug replicas verify --checksums o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:50:35.924" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:50:35.924" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:50:27.623" endtime="20260115 10:50:35.924"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:50:35.925" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Checksum mismatched: this.checksums(0) != that.checksums(0), thisStartIndex=0, this=ChecksumData{CRC32, bytesPerChecksum=16384, checksums=[72 D7 36 C6, 8A 97 59 4E, 9B 4D D3 F3, 9C BA 9B 0D, 9D 0E 91 FD, F0 03 68 4B, EE 0E 63 83, AE 55 F4 0F, CF AE D3 42, 37 65 6D A1, 3C 27 44 03, F4 2C D1 5F, D1 67 59 CD, 36 5B 41 EB, 10 9A 4B 98, 32 3A 35 CE, 79 BF 23 6B, 6D 64 37 BD, 47 6B FA FC, FF 73 5F 15, 4A DE CE 95, 89 33 DA 56, 46 F7 9E A1, CF 6C 8D 4C, EC 60 93 54, FF 0B 2A 11, 52 07 7A 7B, A9 0D 8E D3, AE E4 3D 69, BC B3 89 8C, 27 B1 56 52, A9 36 B5 E5, CB 58 4D 6A, D1 C3 C9 DA, DE 96 C5 6E, 20 3E 20 D6, 6D F2 97 79, 2D 2B 7F D1, ED 8D E5 30, 9A EE 30 D3, 12 73 35 12, 4E 6A F7 2A, BB 27 D5 DA, AA C7 A7 F8, E8 14 ED 0D, D0 02 4A CD, CE 00 29 AF, B2 A2 CF 63, 3B 76 D1 20, 08 B9 CA 42, 47 E0 8A F5, 5E 23 15 EF, 2E 96 D9 32, F5 24 B0 9B, 23 9F EC F2, 96 92 E2 47, FA 64 E4 01, 03 54 D0 81, 53 F8 07 75, 87 98 57 7A, DB 7F 32 DB, 6B E4 17 28, D8 30 3D A3, C0 BC 1D 08, 54 16 F3 EC, B2 45 FE 8D, 85 A6 34 91, 5C B9 F6 18, D9 98 BE 74, A8 98 E5 40, 6F 3B F5 D8, 9D FB 3C 8A, 5D E2 28 2A, D6 58 83 2F, 8C 80 B7 28, 28 A1 D4 6B, CC 4A 0C 7D, E2 C7 98 15, 10 22 0F 16, 08 13 EC 73, DF 62 31 A2, CE AC C0 C0, 22 C4 DF AB, 48 9C DB 63, 3F 27 5A 8D, D1 94 D4 FE, 15 12 63 2E, 72 6E AF 3D, A7 48 D4 64, 65 0E 07 D4, 2B 76 FC 30, 61 FD 43 F2]}, that=ChecksumData{CRC32, bytesPerChecksum=16384, checksums=[DB CD C3 F0]}"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : false
  } ],
  "pass" : false
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Completed with failures
Verification Scope: Key
Verification Types: checksum
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 0
Keys failed verification: 1

Keys failed checksum verification: 1
Note: A key may fail multiple verification types, so total may exceed overall failures.

Total Execution time: 00:00:04,557
***************************************************</msg>
<status status="PASS" starttime="20260115 10:50:35.924" endtime="20260115 10:50:35.925"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:50:35.925" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:50:35.925" endtime="20260115 10:50:35.925"/>
</kw>
<status status="PASS" starttime="20260115 10:50:27.623" endtime="20260115 10:50:35.925"/>
</kw>
<msg timestamp="20260115 10:50:35.925" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:50:27.623" endtime="20260115 10:50:35.925"/>
</kw>
<msg timestamp="20260115 10:50:35.926" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:50:27.622" endtime="20260115 10:50:35.926"/>
</kw>
<msg timestamp="20260115 10:50:35.926" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:50:27.622" endtime="20260115 10:50:35.926"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:35.927" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:50:35.926" endtime="20260115 10:50:35.927"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:50:35.927" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:50:35.927" endtime="20260115 10:50:35.927"/>
</kw>
<msg timestamp="20260115 10:50:35.927" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:50:35.926" endtime="20260115 10:50:35.928"/>
</kw>
<kw name="Check to Verify Replicas" library="ozone-debug-keywords">
<arg>${json}</arg>
<arg>${CHECK_TYPE}</arg>
<arg>${CORRUPT_DATANODE}</arg>
<arg>Checksum mismatched</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${replicas}</var>
<arg>${json['keys'][0]['blocks'][0]}</arg>
<arg>replicas</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.929" level="INFO">${replicas} = [{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': True, 'pass': False, 'fa...</msg>
<status status="PASS" starttime="20260115 10:50:35.928" endtime="20260115 10:50:35.929"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${check_type}' == 'containerState'</arg>
<arg>Check Container State Replicas</arg>
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Check Standard Replicas</arg>
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Standard Replicas" library="ozone-debug-keywords">
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<for flavor="IN">
<var>${replica}</var>
<value>@{replicas}</value>
<iter>
<var name="${replica}">{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': True, 'pass': False, 'fai...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.930" level="INFO">${datanode} = {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:50:35.930" endtime="20260115 10:50:35.930"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.931" level="INFO">${hostname} = ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:50:35.930" endtime="20260115 10:50:35.931"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Failed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.932" level="INFO">${checks} = [{'type': 'checksum', 'completed': True, 'pass': False, 'failures': [{'message': 'Checksum mismatched: this.checksums(0) != that.checksums(0), thisStartIndex=0, this=ChecksumData{CRC32, bytesPerChecks...</msg>
<status status="PASS" starttime="20260115 10:50:35.932" endtime="20260115 10:50:35.932"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:50:35.932" level="INFO">${check} = {'type': 'checksum', 'completed': True, 'pass': False, 'failures': [{'message': 'Checksum mismatched: this.checksums(0) != that.checksums(0), thisStartIndex=0, this=ChecksumData{CRC32, bytesPerChecksu...</msg>
<status status="PASS" starttime="20260115 10:50:35.932" endtime="20260115 10:50:35.932"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:50:35.932" endtime="20260115 10:50:35.933"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:50:35.933" endtime="20260115 10:50:35.934"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${check['failures'][0]['message']}</arg>
<arg>${expected_message}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:50:35.934" endtime="20260115 10:50:35.934"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.931" endtime="20260115 10:50:35.934"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.931" endtime="20260115 10:50:35.934"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:50:35.935" endtime="20260115 10:50:35.935"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.930" endtime="20260115 10:50:35.935"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': True, 'pass': True, 'fail...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.935" level="INFO">${datanode} = {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:50:35.935" endtime="20260115 10:50:35.935"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.936" level="INFO">${hostname} = ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:50:35.935" endtime="20260115 10:50:35.936"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:50:35.936" endtime="20260115 10:50:35.936"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Passed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.937" level="INFO">${checks} = [{'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}]</msg>
<status status="PASS" starttime="20260115 10:50:35.937" endtime="20260115 10:50:35.937"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:50:35.937" level="INFO">${check} = {'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}</msg>
<status status="PASS" starttime="20260115 10:50:35.937" endtime="20260115 10:50:35.937"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:50:35.937" endtime="20260115 10:50:35.938"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['completed']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:50:35.938" endtime="20260115 10:50:35.939"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['pass']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:50:35.939" endtime="20260115 10:50:35.939"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${check['failures']}</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:50:35.940" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:50:35.939" endtime="20260115 10:50:35.940"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.936" endtime="20260115 10:50:35.940"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.936" endtime="20260115 10:50:35.940"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.935" endtime="20260115 10:50:35.940"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': True, 'pass': True, 'fail...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.940" level="INFO">${datanode} = {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:50:35.940" endtime="20260115 10:50:35.941"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.941" level="INFO">${hostname} = ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:50:35.941" endtime="20260115 10:50:35.941"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:50:35.941" endtime="20260115 10:50:35.941"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Passed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:50:35.942" level="INFO">${checks} = [{'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}]</msg>
<status status="PASS" starttime="20260115 10:50:35.942" endtime="20260115 10:50:35.942"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:50:35.942" level="INFO">${check} = {'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}</msg>
<status status="PASS" starttime="20260115 10:50:35.942" endtime="20260115 10:50:35.943"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:50:35.943" endtime="20260115 10:50:35.943"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['completed']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:50:35.943" endtime="20260115 10:50:35.944"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['pass']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:50:35.944" endtime="20260115 10:50:35.944"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${check['failures']}</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:50:35.945" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:50:35.945" endtime="20260115 10:50:35.945"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.942" endtime="20260115 10:50:35.945"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.941" endtime="20260115 10:50:35.945"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.940" endtime="20260115 10:50:35.945"/>
</iter>
<status status="PASS" starttime="20260115 10:50:35.930" endtime="20260115 10:50:35.945"/>
</for>
<status status="PASS" starttime="20260115 10:50:35.929" endtime="20260115 10:50:35.945"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.929" endtime="20260115 10:50:35.945"/>
</kw>
<status status="PASS" starttime="20260115 10:50:35.928" endtime="20260115 10:50:35.945"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:50:27.621" endtime="20260115 10:50:35.946"/>
</test>
<doc>Test checksums on a corrupt block replica</doc>
<status status="PASS" starttime="20260115 10:50:27.579" endtime="20260115 10:50:35.946"/>
</suite>
<suite id="s1-s6" name="Stale-Datanode-Checksum" source="/opt/hadoop/smoketest/debug/stale-datanode-checksum.robot">
<test id="s1-s6-t1" name="Test checksums with a stale datanode" line="32">
<kw name="Execute replicas verify checksums debug tool" library="ozone-debug-keywords">
<var>${output}</var>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --checksums o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/${TESTFILE} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:51:07.408" level="INFO">Running command 'ozone debug replicas verify --checksums o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:51:28.070" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:51:28.070" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:07.405" endtime="20260115 10:51:28.070"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:51:28.071" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : false,
          "pass" : false,
          "failures" : [ {
            "message" : "org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "checksum",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : false
  } ],
  "pass" : false
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Completed with failures
Verification Scope: Key
Verification Types: checksum
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 0
Keys failed verification: 1

Keys failed checksum verification: 1
Note: A key may fail multiple verification types, so total may exceed overall failures.

Total Execution time: 00:00:16,918
***************************************************</msg>
<status status="PASS" starttime="20260115 10:51:28.071" endtime="20260115 10:51:28.071"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:51:28.072" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:51:28.072" endtime="20260115 10:51:28.072"/>
</kw>
<status status="PASS" starttime="20260115 10:51:07.405" endtime="20260115 10:51:28.072"/>
</kw>
<msg timestamp="20260115 10:51:28.072" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:51:07.404" endtime="20260115 10:51:28.072"/>
</kw>
<msg timestamp="20260115 10:51:28.072" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:07.404" endtime="20260115 10:51:28.073"/>
</kw>
<msg timestamp="20260115 10:51:28.073" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:07.404" endtime="20260115 10:51:28.073"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:51:28.074" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:28.073" endtime="20260115 10:51:28.074"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:51:28.074" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:51:28.074" endtime="20260115 10:51:28.074"/>
</kw>
<msg timestamp="20260115 10:51:28.075" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:51:28.073" endtime="20260115 10:51:28.075"/>
</kw>
<kw name="Check to Verify Replicas" library="ozone-debug-keywords">
<arg>${json}</arg>
<arg>${CHECK_TYPE}</arg>
<arg>${STALE_DATANODE}</arg>
<arg>UNAVAILABLE</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${replicas}</var>
<arg>${json['keys'][0]['blocks'][0]}</arg>
<arg>replicas</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.076" level="INFO">${replicas} = [{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': False, 'pass': False, 'f...</msg>
<status status="PASS" starttime="20260115 10:51:28.075" endtime="20260115 10:51:28.076"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${check_type}' == 'containerState'</arg>
<arg>Check Container State Replicas</arg>
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Check Standard Replicas</arg>
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Standard Replicas" library="ozone-debug-keywords">
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<for flavor="IN">
<var>${replica}</var>
<value>@{replicas}</value>
<iter>
<var name="${replica}">{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': False, 'pass': False, 'fa...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.077" level="INFO">${datanode} = {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:51:28.077" endtime="20260115 10:51:28.077"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.078" level="INFO">${hostname} = ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:51:28.078" endtime="20260115 10:51:28.078"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Failed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.079" level="INFO">${checks} = [{'type': 'checksum', 'completed': False, 'pass': False, 'failures': [{'message': 'org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception'}]}]</msg>
<status status="PASS" starttime="20260115 10:51:28.079" endtime="20260115 10:51:28.079"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:51:28.079" level="INFO">${check} = {'type': 'checksum', 'completed': False, 'pass': False, 'failures': [{'message': 'org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception'}]}</msg>
<status status="PASS" starttime="20260115 10:51:28.079" endtime="20260115 10:51:28.079"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:28.080" endtime="20260115 10:51:28.080"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:28.080" endtime="20260115 10:51:28.081"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${check['failures'][0]['message']}</arg>
<arg>${expected_message}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:51:28.081" endtime="20260115 10:51:28.082"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.078" endtime="20260115 10:51:28.082"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.078" endtime="20260115 10:51:28.082"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:51:28.082" endtime="20260115 10:51:28.082"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.077" endtime="20260115 10:51:28.082"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': True, 'pass': True, 'fail...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.082" level="INFO">${datanode} = {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:51:28.082" endtime="20260115 10:51:28.082"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.083" level="INFO">${hostname} = ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:51:28.083" endtime="20260115 10:51:28.083"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:51:28.083" endtime="20260115 10:51:28.083"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Passed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.084" level="INFO">${checks} = [{'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}]</msg>
<status status="PASS" starttime="20260115 10:51:28.084" endtime="20260115 10:51:28.084"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:51:28.084" level="INFO">${check} = {'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}</msg>
<status status="PASS" starttime="20260115 10:51:28.084" endtime="20260115 10:51:28.084"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:28.085" endtime="20260115 10:51:28.085"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['completed']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:28.085" endtime="20260115 10:51:28.086"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['pass']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:28.086" endtime="20260115 10:51:28.086"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${check['failures']}</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:51:28.087" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:51:28.086" endtime="20260115 10:51:28.087"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.084" endtime="20260115 10:51:28.087"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.083" endtime="20260115 10:51:28.087"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.082" endtime="20260115 10:51:28.087"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'checksum', 'completed': True, 'pass': True, 'fail...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.088" level="INFO">${datanode} = {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:51:28.087" endtime="20260115 10:51:28.088"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.088" level="INFO">${hostname} = ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:51:28.088" endtime="20260115 10:51:28.088"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:51:28.088" endtime="20260115 10:51:28.088"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Passed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:28.089" level="INFO">${checks} = [{'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}]</msg>
<status status="PASS" starttime="20260115 10:51:28.089" endtime="20260115 10:51:28.089"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:51:28.090" level="INFO">${check} = {'type': 'checksum', 'completed': True, 'pass': True, 'failures': []}</msg>
<status status="PASS" starttime="20260115 10:51:28.089" endtime="20260115 10:51:28.090"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:28.090" endtime="20260115 10:51:28.090"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['completed']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:28.091" endtime="20260115 10:51:28.091"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['pass']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:28.091" endtime="20260115 10:51:28.092"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${check['failures']}</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:51:28.092" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:51:28.092" endtime="20260115 10:51:28.092"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.089" endtime="20260115 10:51:28.092"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.088" endtime="20260115 10:51:28.093"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.087" endtime="20260115 10:51:28.093"/>
</iter>
<status status="PASS" starttime="20260115 10:51:28.077" endtime="20260115 10:51:28.093"/>
</for>
<status status="PASS" starttime="20260115 10:51:28.076" endtime="20260115 10:51:28.093"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.076" endtime="20260115 10:51:28.093"/>
</kw>
<status status="PASS" starttime="20260115 10:51:28.075" endtime="20260115 10:51:28.093"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:51:07.403" endtime="20260115 10:51:28.093"/>
</test>
<doc>Test checksums in case of a stale datanode</doc>
<status status="PASS" starttime="20260115 10:51:07.363" endtime="20260115 10:51:28.094"/>
</suite>
<suite id="s1-s7" name="Block-Existence-Check" source="/opt/hadoop/smoketest/debug/block-existence-check.robot">
<test id="s1-s7-t1" name="Test block existence with a block missing on a replica" line="32">
<kw name="Execute replicas verify block existence debug tool" library="ozone-debug-keywords">
<var>${output}</var>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --block-existence o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/${TESTFILE} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:51:48.559" level="INFO">Running command 'ozone debug replicas verify --block-existence o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:51:54.321" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:51:54.321" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:48.557" endtime="20260115 10:51:54.321"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:51:54.322" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "blockExistence",
          "completed" : false,
          "pass" : false,
          "failures" : [ {
            "message" : "Unable to find the block with bcsID 183 .Container 2 bcsId is 0."
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "blockExistence",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "blockExistence",
          "completed" : true,
          "pass" : true,
          "failures" : [ ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : false
  } ],
  "pass" : false
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Completed with failures
Verification Scope: Key
Verification Types: blockExistence
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 0
Keys failed verification: 1

Keys failed blockExistence verification: 1
Note: A key may fail multiple verification types, so total may exceed overall failures.

Total Execution time: 00:00:02,197
***************************************************</msg>
<status status="PASS" starttime="20260115 10:51:54.321" endtime="20260115 10:51:54.322"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:51:54.322" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:51:54.322" endtime="20260115 10:51:54.322"/>
</kw>
<status status="PASS" starttime="20260115 10:51:48.556" endtime="20260115 10:51:54.323"/>
</kw>
<msg timestamp="20260115 10:51:54.323" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:51:48.556" endtime="20260115 10:51:54.323"/>
</kw>
<msg timestamp="20260115 10:51:54.323" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:48.555" endtime="20260115 10:51:54.323"/>
</kw>
<msg timestamp="20260115 10:51:54.323" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:48.555" endtime="20260115 10:51:54.323"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:51:54.324" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:54.324" endtime="20260115 10:51:54.324"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:51:54.325" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:51:54.324" endtime="20260115 10:51:54.325"/>
</kw>
<msg timestamp="20260115 10:51:54.325" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:51:54.323" endtime="20260115 10:51:54.325"/>
</kw>
<kw name="Check to Verify Replicas" library="ozone-debug-keywords">
<arg>${json}</arg>
<arg>${CHECK_TYPE}</arg>
<arg>${DATANODE}</arg>
<arg>Unable to find the block</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${replicas}</var>
<arg>${json['keys'][0]['blocks'][0]}</arg>
<arg>replicas</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.326" level="INFO">${replicas} = [{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'blockExistence', 'completed': False, 'pass': Fal...</msg>
<status status="PASS" starttime="20260115 10:51:54.325" endtime="20260115 10:51:54.326"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${check_type}' == 'containerState'</arg>
<arg>Check Container State Replicas</arg>
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Check Standard Replicas</arg>
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Standard Replicas" library="ozone-debug-keywords">
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<for flavor="IN">
<var>${replica}</var>
<value>@{replicas}</value>
<iter>
<var name="${replica}">{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'blockExistence', 'completed': False, 'pass': Fals...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.328" level="INFO">${datanode} = {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:51:54.327" endtime="20260115 10:51:54.328"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.328" level="INFO">${hostname} = ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:51:54.328" endtime="20260115 10:51:54.328"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Failed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.329" level="INFO">${checks} = [{'type': 'blockExistence', 'completed': False, 'pass': False, 'failures': [{'message': 'Unable to find the block with bcsID 183 .Container 2 bcsId is 0.'}]}]</msg>
<status status="PASS" starttime="20260115 10:51:54.329" endtime="20260115 10:51:54.329"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:51:54.329" level="INFO">${check} = {'type': 'blockExistence', 'completed': False, 'pass': False, 'failures': [{'message': 'Unable to find the block with bcsID 183 .Container 2 bcsId is 0.'}]}</msg>
<status status="PASS" starttime="20260115 10:51:54.329" endtime="20260115 10:51:54.329"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:54.330" endtime="20260115 10:51:54.330"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:54.330" endtime="20260115 10:51:54.331"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${check['failures'][0]['message']}</arg>
<arg>${expected_message}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:51:54.331" endtime="20260115 10:51:54.332"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.328" endtime="20260115 10:51:54.332"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.328" endtime="20260115 10:51:54.332"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:51:54.332" endtime="20260115 10:51:54.332"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.327" endtime="20260115 10:51:54.332"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'blockExistence', 'completed': True, 'pass': True,...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.333" level="INFO">${datanode} = {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:51:54.332" endtime="20260115 10:51:54.333"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.333" level="INFO">${hostname} = ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:51:54.333" endtime="20260115 10:51:54.333"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:51:54.333" endtime="20260115 10:51:54.333"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Passed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.334" level="INFO">${checks} = [{'type': 'blockExistence', 'completed': True, 'pass': True, 'failures': []}]</msg>
<status status="PASS" starttime="20260115 10:51:54.334" endtime="20260115 10:51:54.334"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:51:54.335" level="INFO">${check} = {'type': 'blockExistence', 'completed': True, 'pass': True, 'failures': []}</msg>
<status status="PASS" starttime="20260115 10:51:54.334" endtime="20260115 10:51:54.335"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:54.335" endtime="20260115 10:51:54.335"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['completed']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:54.335" endtime="20260115 10:51:54.336"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['pass']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:54.336" endtime="20260115 10:51:54.337"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${check['failures']}</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:51:54.337" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:51:54.337" endtime="20260115 10:51:54.337"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.334" endtime="20260115 10:51:54.337"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.333" endtime="20260115 10:51:54.337"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.332" endtime="20260115 10:51:54.337"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'blockExistence', 'completed': True, 'pass': True,...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.338" level="INFO">${datanode} = {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:51:54.338" endtime="20260115 10:51:54.338"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.338" level="INFO">${hostname} = ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:51:54.338" endtime="20260115 10:51:54.338"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Check Replica Failed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:51:54.338" endtime="20260115 10:51:54.339"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' != '${faulty_datanode}'</arg>
<arg>Check Replica Passed</arg>
<arg>${replica}</arg>
<arg>${check_type}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Replica Passed" library="ozone-debug-keywords">
<arg>${replica}</arg>
<arg>${check_type}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:51:54.340" level="INFO">${checks} = [{'type': 'blockExistence', 'completed': True, 'pass': True, 'failures': []}]</msg>
<status status="PASS" starttime="20260115 10:51:54.339" endtime="20260115 10:51:54.340"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:51:54.340" level="INFO">${check} = {'type': 'blockExistence', 'completed': True, 'pass': True, 'failures': []}</msg>
<status status="PASS" starttime="20260115 10:51:54.340" endtime="20260115 10:51:54.340"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>${check_type}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:51:54.340" endtime="20260115 10:51:54.341"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['completed']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:54.341" endtime="20260115 10:51:54.341"/>
</kw>
<kw name="Should Be True" library="BuiltIn">
<arg>${check['pass']}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" starttime="20260115 10:51:54.341" endtime="20260115 10:51:54.342"/>
</kw>
<kw name="Should Be Empty" library="BuiltIn">
<arg>${check['failures']}</arg>
<doc>Verifies that the given item is empty.</doc>
<msg timestamp="20260115 10:51:54.343" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20260115 10:51:54.342" endtime="20260115 10:51:54.343"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.339" endtime="20260115 10:51:54.343"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.339" endtime="20260115 10:51:54.343"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.338" endtime="20260115 10:51:54.343"/>
</iter>
<status status="PASS" starttime="20260115 10:51:54.327" endtime="20260115 10:51:54.343"/>
</for>
<status status="PASS" starttime="20260115 10:51:54.327" endtime="20260115 10:51:54.343"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.326" endtime="20260115 10:51:54.343"/>
</kw>
<status status="PASS" starttime="20260115 10:51:54.325" endtime="20260115 10:51:54.343"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:51:48.555" endtime="20260115 10:51:54.343"/>
</test>
<doc>Test existence of a block on a datanode</doc>
<status status="PASS" starttime="20260115 10:51:48.515" endtime="20260115 10:51:54.344"/>
</suite>
<suite id="s1-s8" name="Container-State-Verifier" source="/opt/hadoop/smoketest/debug/container-state-verifier.robot">
<test id="s1-s8-t1" name="Verify Container State With Unhealthy Container Replica" line="51">
<kw name="Verify Container State with Rule">
<arg>UNHEALTHY</arg>
<kw name="Create Container State Rule">
<var>${rule_file}</var>
<arg>${expected_state}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${rule_file}</var>
<arg>/tmp/container-state-${state}.btm</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:51:55.087" level="INFO">${rule_file} = /tmp/container-state-UNHEALTHY.btm</msg>
<status status="PASS" starttime="20260115 10:51:55.087" endtime="20260115 10:51:55.087"/>
</kw>
<kw name="Execute" library="os">
<arg>sed 's/STATE_PLACEHOLDER/${state}/g' ${TEMPLATE_RULE} &gt; ${rule_file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:51:55.091" level="INFO">Running command 'sed 's/STATE_PLACEHOLDER/UNHEALTHY/g' /opt/hadoop/share/ozone/byteman/container-state-template.btm &gt; /tmp/container-state-UNHEALTHY.btm'.</msg>
<msg timestamp="20260115 10:51:55.094" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:51:55.094" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:51:55.088" endtime="20260115 10:51:55.094"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:51:55.095" level="INFO"/>
<status status="PASS" starttime="20260115 10:51:55.095" endtime="20260115 10:51:55.095"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:51:55.095" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:51:55.095" endtime="20260115 10:51:55.095"/>
</kw>
<status status="PASS" starttime="20260115 10:51:55.088" endtime="20260115 10:51:55.096"/>
</kw>
<msg timestamp="20260115 10:51:55.096" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:51:55.088" endtime="20260115 10:51:55.096"/>
</kw>
<status status="PASS" starttime="20260115 10:51:55.087" endtime="20260115 10:51:55.096"/>
</kw>
<kw name="Return From Keyword" library="BuiltIn">
<arg>${rule_file}</arg>
<doc>Returns from the enclosing user keyword.</doc>
<msg timestamp="20260115 10:51:55.096" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:51:55.096" endtime="20260115 10:51:55.096"/>
</kw>
<msg timestamp="20260115 10:51:55.096" level="INFO">${rule_file} = /tmp/container-state-UNHEALTHY.btm</msg>
<status status="PASS" starttime="20260115 10:51:55.087" endtime="20260115 10:51:55.096"/>
</kw>
<kw name="Add Byteman Rule" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<arg>${rule_file}</arg>
<doc>Add Byteman rule into specific component</doc>
<msg timestamp="20260115 10:51:55.296" level="INFO">Add rule /tmp/container-state-UNHEALTHY.btm for datanode1 successful.</msg>
<status status="PASS" starttime="20260115 10:51:55.096" endtime="20260115 10:51:55.296"/>
</kw>
<kw name="List Byteman Rules" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<doc>List Active Byteman rules for specific component and return file list</doc>
<msg timestamp="20260115 10:51:55.377" level="INFO">List rules for datanode1 successful.</msg>
<msg timestamp="20260115 10:51:55.377" level="INFO">Active rules in datanode1:
# File /tmp/container-state-UNHEALTHY.btm line 20</msg>
<status status="PASS" starttime="20260115 10:51:55.296" endtime="20260115 10:51:55.378"/>
</kw>
<kw name="Execute replicas verify container state debug tool" library="ozone-debug-keywords">
<var>${output}</var>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --container-state o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/${TESTFILE} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:51:55.382" level="INFO">Running command 'ozone debug replicas verify --container-state o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:01.164" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:01.164" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:55.380" endtime="20260115 10:52:01.164"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:01.165" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is UNHEALTHY, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : false
  } ],
  "pass" : false
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Completed with failures
Verification Scope: Key
Verification Types: containerState
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 0
Keys failed verification: 1

Keys failed containerState verification: 1
Note: A key may fail multiple verification types, so total may exceed overall failures.

Total Execution time: 00:00:01,947
***************************************************</msg>
<status status="PASS" starttime="20260115 10:52:01.164" endtime="20260115 10:52:01.165"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:01.165" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:01.165" endtime="20260115 10:52:01.165"/>
</kw>
<status status="PASS" starttime="20260115 10:51:55.379" endtime="20260115 10:52:01.165"/>
</kw>
<msg timestamp="20260115 10:52:01.165" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:51:55.379" endtime="20260115 10:52:01.165"/>
</kw>
<msg timestamp="20260115 10:52:01.166" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:55.378" endtime="20260115 10:52:01.166"/>
</kw>
<msg timestamp="20260115 10:52:01.166" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:51:55.378" endtime="20260115 10:52:01.166"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:52:01.167" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:01.166" endtime="20260115 10:52:01.167"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:52:01.167" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:52:01.167" endtime="20260115 10:52:01.167"/>
</kw>
<msg timestamp="20260115 10:52:01.168" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:52:01.166" endtime="20260115 10:52:01.168"/>
</kw>
<kw name="Check to Verify Replicas" library="ozone-debug-keywords">
<arg>${json}</arg>
<arg>${CHECK_TYPE}</arg>
<arg>${DATANODE}</arg>
<arg>Replica state is ${expected_state}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${replicas}</var>
<arg>${json['keys'][0]['blocks'][0]}</arg>
<arg>replicas</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.169" level="INFO">${replicas} = [{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': Fals...</msg>
<status status="PASS" starttime="20260115 10:52:01.168" endtime="20260115 10:52:01.169"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${check_type}' == 'containerState'</arg>
<arg>Check Container State Replicas</arg>
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Check Standard Replicas</arg>
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Container State Replicas" library="ozone-debug-keywords">
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<for flavor="IN">
<var>${replica}</var>
<value>@{replicas}</value>
<iter>
<var name="${replica}">{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.170" level="INFO">${datanode} = {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:01.170" endtime="20260115 10:52:01.170"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.171" level="INFO">${hostname} = ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:01.170" endtime="20260115 10:52:01.171"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.171" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is UNHEALTHY, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:01.171" endtime="20260115 10:52:01.171"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:01.171" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is UNHEALTHY, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:01.171" endtime="20260115 10:52:01.172"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:01.172" endtime="20260115 10:52:01.172"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:01.173" endtime="20260115 10:52:01.173"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:01.174" level="INFO">${actual_message} = Replica state is UNHEALTHY, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:01.174" endtime="20260115 10:52:01.174"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:52:01.175" endtime="20260115 10:52:01.175"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.175" endtime="20260115 10:52:01.175"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.170" endtime="20260115 10:52:01.175"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.176" level="INFO">${datanode} = {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:01.176" endtime="20260115 10:52:01.176"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.176" level="INFO">${hostname} = ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:01.176" endtime="20260115 10:52:01.176"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.176" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:01.176" endtime="20260115 10:52:01.176"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:01.177" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:01.176" endtime="20260115 10:52:01.177"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:01.177" endtime="20260115 10:52:01.177"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:01.178" endtime="20260115 10:52:01.178"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:01.179" level="INFO">${actual_message} = Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:01.178" endtime="20260115 10:52:01.179"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20260115 10:52:01.179" endtime="20260115 10:52:01.180"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.179" endtime="20260115 10:52:01.180"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.175" endtime="20260115 10:52:01.180"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.180" level="INFO">${datanode} = {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:01.180" endtime="20260115 10:52:01.180"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.180" level="INFO">${hostname} = ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:01.180" endtime="20260115 10:52:01.181"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:01.181" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:01.181" endtime="20260115 10:52:01.181"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:01.181" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:01.181" endtime="20260115 10:52:01.181"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:01.181" endtime="20260115 10:52:01.182"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:01.182" endtime="20260115 10:52:01.183"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:01.183" level="INFO">${actual_message} = Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:01.183" endtime="20260115 10:52:01.183"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20260115 10:52:01.184" endtime="20260115 10:52:01.184"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.184" endtime="20260115 10:52:01.184"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.180" endtime="20260115 10:52:01.184"/>
</iter>
<status status="PASS" starttime="20260115 10:52:01.170" endtime="20260115 10:52:01.184"/>
</for>
<status status="PASS" starttime="20260115 10:52:01.169" endtime="20260115 10:52:01.184"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.169" endtime="20260115 10:52:01.184"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.168" endtime="20260115 10:52:01.184"/>
</kw>
<kw name="Remove Byteman Rule" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<arg>${rule_file}</arg>
<doc>Remove Byteman rule for specific component</doc>
<msg timestamp="20260115 10:52:01.311" level="INFO">Remove rule /tmp/container-state-UNHEALTHY.btm for datanode1 successful.</msg>
<status status="PASS" starttime="20260115 10:52:01.184" endtime="20260115 10:52:01.312"/>
</kw>
<status status="PASS" starttime="20260115 10:51:55.086" endtime="20260115 10:52:01.312"/>
</kw>
<status status="PASS" starttime="20260115 10:51:55.086" endtime="20260115 10:52:01.312"/>
</test>
<test id="s1-s8-t2" name="Verify Container State With Deleted Container Replica" line="54">
<kw name="Verify Container State with Rule">
<arg>DELETED</arg>
<kw name="Create Container State Rule">
<var>${rule_file}</var>
<arg>${expected_state}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${rule_file}</var>
<arg>/tmp/container-state-${state}.btm</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:01.315" level="INFO">${rule_file} = /tmp/container-state-DELETED.btm</msg>
<status status="PASS" starttime="20260115 10:52:01.314" endtime="20260115 10:52:01.315"/>
</kw>
<kw name="Execute" library="os">
<arg>sed 's/STATE_PLACEHOLDER/${state}/g' ${TEMPLATE_RULE} &gt; ${rule_file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:01.318" level="INFO">Running command 'sed 's/STATE_PLACEHOLDER/DELETED/g' /opt/hadoop/share/ozone/byteman/container-state-template.btm &gt; /tmp/container-state-DELETED.btm'.</msg>
<msg timestamp="20260115 10:52:01.322" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:01.322" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:52:01.316" endtime="20260115 10:52:01.322"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:01.322" level="INFO"/>
<status status="PASS" starttime="20260115 10:52:01.322" endtime="20260115 10:52:01.323"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:01.323" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:01.323" endtime="20260115 10:52:01.323"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.315" endtime="20260115 10:52:01.323"/>
</kw>
<msg timestamp="20260115 10:52:01.323" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:01.315" endtime="20260115 10:52:01.323"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.315" endtime="20260115 10:52:01.323"/>
</kw>
<kw name="Return From Keyword" library="BuiltIn">
<arg>${rule_file}</arg>
<doc>Returns from the enclosing user keyword.</doc>
<msg timestamp="20260115 10:52:01.324" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:01.323" endtime="20260115 10:52:01.324"/>
</kw>
<msg timestamp="20260115 10:52:01.324" level="INFO">${rule_file} = /tmp/container-state-DELETED.btm</msg>
<status status="PASS" starttime="20260115 10:52:01.314" endtime="20260115 10:52:01.324"/>
</kw>
<kw name="Add Byteman Rule" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<arg>${rule_file}</arg>
<doc>Add Byteman rule into specific component</doc>
<msg timestamp="20260115 10:52:01.471" level="INFO">Add rule /tmp/container-state-DELETED.btm for datanode1 successful.</msg>
<status status="PASS" starttime="20260115 10:52:01.324" endtime="20260115 10:52:01.471"/>
</kw>
<kw name="List Byteman Rules" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<doc>List Active Byteman rules for specific component and return file list</doc>
<msg timestamp="20260115 10:52:01.564" level="INFO">List rules for datanode1 successful.</msg>
<msg timestamp="20260115 10:52:01.565" level="INFO">Active rules in datanode1:
# File /tmp/container-state-DELETED.btm line 20</msg>
<status status="PASS" starttime="20260115 10:52:01.472" endtime="20260115 10:52:01.565"/>
</kw>
<kw name="Execute replicas verify container state debug tool" library="ozone-debug-keywords">
<var>${output}</var>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --container-state o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/${TESTFILE} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:01.570" level="INFO">Running command 'ozone debug replicas verify --container-state o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:07.415" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:07.415" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:01.567" endtime="20260115 10:52:07.415"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:07.417" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is DELETED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : false
  } ],
  "pass" : false
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Completed with failures
Verification Scope: Key
Verification Types: containerState
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 0
Keys failed verification: 1

Keys failed containerState verification: 1
Note: A key may fail multiple verification types, so total may exceed overall failures.

Total Execution time: 00:00:02,137
***************************************************</msg>
<status status="PASS" starttime="20260115 10:52:07.417" endtime="20260115 10:52:07.417"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:07.419" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:07.418" endtime="20260115 10:52:07.419"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.567" endtime="20260115 10:52:07.419"/>
</kw>
<msg timestamp="20260115 10:52:07.419" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:01.566" endtime="20260115 10:52:07.419"/>
</kw>
<msg timestamp="20260115 10:52:07.419" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:01.566" endtime="20260115 10:52:07.420"/>
</kw>
<msg timestamp="20260115 10:52:07.420" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:01.565" endtime="20260115 10:52:07.420"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:52:07.421" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:07.421" endtime="20260115 10:52:07.421"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:52:07.422" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:52:07.421" endtime="20260115 10:52:07.422"/>
</kw>
<msg timestamp="20260115 10:52:07.422" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:52:07.420" endtime="20260115 10:52:07.422"/>
</kw>
<kw name="Check to Verify Replicas" library="ozone-debug-keywords">
<arg>${json}</arg>
<arg>${CHECK_TYPE}</arg>
<arg>${DATANODE}</arg>
<arg>Replica state is ${expected_state}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${replicas}</var>
<arg>${json['keys'][0]['blocks'][0]}</arg>
<arg>replicas</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.423" level="INFO">${replicas} = [{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': Fals...</msg>
<status status="PASS" starttime="20260115 10:52:07.422" endtime="20260115 10:52:07.423"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${check_type}' == 'containerState'</arg>
<arg>Check Container State Replicas</arg>
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Check Standard Replicas</arg>
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Container State Replicas" library="ozone-debug-keywords">
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<for flavor="IN">
<var>${replica}</var>
<value>@{replicas}</value>
<iter>
<var name="${replica}">{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.424" level="INFO">${datanode} = {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:07.424" endtime="20260115 10:52:07.424"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.425" level="INFO">${hostname} = ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:07.425" endtime="20260115 10:52:07.425"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.425" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is DELETED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:07.425" endtime="20260115 10:52:07.425"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:07.425" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is DELETED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:07.425" endtime="20260115 10:52:07.425"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:07.426" endtime="20260115 10:52:07.426"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:07.426" endtime="20260115 10:52:07.427"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:07.428" level="INFO">${actual_message} = Replica state is DELETED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:07.427" endtime="20260115 10:52:07.428"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:52:07.428" endtime="20260115 10:52:07.428"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.428" endtime="20260115 10:52:07.428"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.424" endtime="20260115 10:52:07.428"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.429" level="INFO">${datanode} = {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:07.428" endtime="20260115 10:52:07.429"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.429" level="INFO">${hostname} = ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:07.429" endtime="20260115 10:52:07.429"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.429" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:07.429" endtime="20260115 10:52:07.429"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:07.430" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:07.429" endtime="20260115 10:52:07.430"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:07.430" endtime="20260115 10:52:07.430"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:07.430" endtime="20260115 10:52:07.431"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:07.432" level="INFO">${actual_message} = Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:07.431" endtime="20260115 10:52:07.432"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20260115 10:52:07.432" endtime="20260115 10:52:07.432"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.432" endtime="20260115 10:52:07.432"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.428" endtime="20260115 10:52:07.432"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.433" level="INFO">${datanode} = {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:07.433" endtime="20260115 10:52:07.433"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.433" level="INFO">${hostname} = ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:07.433" endtime="20260115 10:52:07.433"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:07.433" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:07.433" endtime="20260115 10:52:07.433"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:07.434" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:07.433" endtime="20260115 10:52:07.434"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:07.434" endtime="20260115 10:52:07.434"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:07.434" endtime="20260115 10:52:07.435"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:07.436" level="INFO">${actual_message} = Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:07.435" endtime="20260115 10:52:07.436"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20260115 10:52:07.436" endtime="20260115 10:52:07.436"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.436" endtime="20260115 10:52:07.436"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.432" endtime="20260115 10:52:07.436"/>
</iter>
<status status="PASS" starttime="20260115 10:52:07.424" endtime="20260115 10:52:07.436"/>
</for>
<status status="PASS" starttime="20260115 10:52:07.424" endtime="20260115 10:52:07.436"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.423" endtime="20260115 10:52:07.437"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.422" endtime="20260115 10:52:07.437"/>
</kw>
<kw name="Remove Byteman Rule" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<arg>${rule_file}</arg>
<doc>Remove Byteman rule for specific component</doc>
<msg timestamp="20260115 10:52:07.559" level="INFO">Remove rule /tmp/container-state-DELETED.btm for datanode1 successful.</msg>
<status status="PASS" starttime="20260115 10:52:07.437" endtime="20260115 10:52:07.559"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.313" endtime="20260115 10:52:07.559"/>
</kw>
<status status="PASS" starttime="20260115 10:52:01.313" endtime="20260115 10:52:07.560"/>
</test>
<test id="s1-s8-t3" name="Verify Container State With Invalid Container Replica" line="57">
<kw name="Verify Container State with Rule">
<arg>INVALID</arg>
<kw name="Create Container State Rule">
<var>${rule_file}</var>
<arg>${expected_state}</arg>
<kw name="Set Variable" library="BuiltIn">
<var>${rule_file}</var>
<arg>/tmp/container-state-${state}.btm</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:07.562" level="INFO">${rule_file} = /tmp/container-state-INVALID.btm</msg>
<status status="PASS" starttime="20260115 10:52:07.562" endtime="20260115 10:52:07.562"/>
</kw>
<kw name="Execute" library="os">
<arg>sed 's/STATE_PLACEHOLDER/${state}/g' ${TEMPLATE_RULE} &gt; ${rule_file}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:07.566" level="INFO">Running command 'sed 's/STATE_PLACEHOLDER/INVALID/g' /opt/hadoop/share/ozone/byteman/container-state-template.btm &gt; /tmp/container-state-INVALID.btm'.</msg>
<msg timestamp="20260115 10:52:07.570" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:07.570" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:52:07.564" endtime="20260115 10:52:07.570"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:07.571" level="INFO"/>
<status status="PASS" starttime="20260115 10:52:07.571" endtime="20260115 10:52:07.571"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:07.572" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:07.572" endtime="20260115 10:52:07.572"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.563" endtime="20260115 10:52:07.572"/>
</kw>
<msg timestamp="20260115 10:52:07.572" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:07.563" endtime="20260115 10:52:07.572"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.563" endtime="20260115 10:52:07.573"/>
</kw>
<kw name="Return From Keyword" library="BuiltIn">
<arg>${rule_file}</arg>
<doc>Returns from the enclosing user keyword.</doc>
<msg timestamp="20260115 10:52:07.573" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:07.573" endtime="20260115 10:52:07.573"/>
</kw>
<msg timestamp="20260115 10:52:07.573" level="INFO">${rule_file} = /tmp/container-state-INVALID.btm</msg>
<status status="PASS" starttime="20260115 10:52:07.562" endtime="20260115 10:52:07.573"/>
</kw>
<kw name="Add Byteman Rule" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<arg>${rule_file}</arg>
<doc>Add Byteman rule into specific component</doc>
<msg timestamp="20260115 10:52:07.706" level="INFO">Add rule /tmp/container-state-INVALID.btm for datanode1 successful.</msg>
<status status="PASS" starttime="20260115 10:52:07.573" endtime="20260115 10:52:07.706"/>
</kw>
<kw name="List Byteman Rules" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<doc>List Active Byteman rules for specific component and return file list</doc>
<msg timestamp="20260115 10:52:07.785" level="INFO">List rules for datanode1 successful.</msg>
<msg timestamp="20260115 10:52:07.785" level="INFO">Active rules in datanode1:
# File /tmp/container-state-INVALID.btm line 20</msg>
<status status="PASS" starttime="20260115 10:52:07.707" endtime="20260115 10:52:07.785"/>
</kw>
<kw name="Execute replicas verify container state debug tool" library="ozone-debug-keywords">
<var>${output}</var>
<kw name="Execute" library="os">
<var>${output}</var>
<arg>ozone debug replicas verify --container-state o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/${TESTFILE} --all-results</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:07.790" level="INFO">Running command 'ozone debug replicas verify --container-state o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile --all-results 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:13.712" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:13.713" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:07.788" endtime="20260115 10:52:13.713"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:13.713" level="INFO">{
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 117883640217600101,
      "replicas" : [ {
        "datanode" : {
          "uuid" : "e610af36-23cf-4f36-966b-6e50c4892315",
          "hostname" : "ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is INVALID, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "30f1b66b-b4ed-4a52-906a-50cf95c260b8",
          "hostname" : "ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      }, {
        "datanode" : {
          "uuid" : "596f45ef-18c5-496f-9478-6323c9b44eb8",
          "hostname" : "ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net"
        },
        "checks" : [ {
          "type" : "containerState",
          "completed" : true,
          "pass" : false,
          "failures" : [ {
            "message" : "Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas"
          } ]
        } ],
        "replicaIndex" : 0
      } ]
    } ],
    "pass" : false
  } ],
  "pass" : false
}

***************************************************
REPLICA VERIFICATION SUMMARY
***************************************************
Status: Completed with failures
Verification Scope: Key
Verification Types: containerState
URI: o3://omservice/cli-debug-volume26164/cli-debug-bucket/testfile

Number of Volumes processed: 0
Number of Buckets processed: 0
Number of Keys processed: 1

Keys passed verification: 0
Keys failed verification: 1

Keys failed containerState verification: 1
Note: A key may fail multiple verification types, so total may exceed overall failures.

Total Execution time: 00:00:02,135
***************************************************</msg>
<status status="PASS" starttime="20260115 10:52:13.713" endtime="20260115 10:52:13.713"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:13.714" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:13.714" endtime="20260115 10:52:13.714"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.787" endtime="20260115 10:52:13.714"/>
</kw>
<msg timestamp="20260115 10:52:13.714" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:07.787" endtime="20260115 10:52:13.714"/>
</kw>
<msg timestamp="20260115 10:52:13.714" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:07.786" endtime="20260115 10:52:13.714"/>
</kw>
<msg timestamp="20260115 10:52:13.715" level="INFO">${output} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:07.786" endtime="20260115 10:52:13.715"/>
</kw>
<kw name="Parse replicas verify JSON output" library="ozone-debug-keywords">
<var>${json}</var>
<arg>${output}</arg>
<kw name="Evaluate" library="BuiltIn">
<var>${json_split}</var>
<arg>'''${output}'''.split('***')[0].strip()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:52:13.716" level="INFO">${json_split} = {
  "keys" : [ {
    "volumeName" : "cli-debug-volume26164",
    "bucketName" : "cli-debug-bucket",
    "name" : "testfile",
    "blocks" : [ {
      "containerID" : 2,
      "blockID" : 1178836402176...</msg>
<status status="PASS" starttime="20260115 10:52:13.715" endtime="20260115 10:52:13.716"/>
</kw>
<kw name="Evaluate" library="BuiltIn">
<var>${json}</var>
<arg>json.loads('''${json_split}''')</arg>
<arg>json</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<msg timestamp="20260115 10:52:13.717" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:52:13.716" endtime="20260115 10:52:13.717"/>
</kw>
<msg timestamp="20260115 10:52:13.717" level="INFO">${json} = {'keys': [{'volumeName': 'cli-debug-volume26164', 'bucketName': 'cli-debug-bucket', 'name': 'testfile', 'blocks': [{'containerID': 2, 'blockID': 117883640217600101, 'replicas': [{'datanode': {'uuid': ...</msg>
<status status="PASS" starttime="20260115 10:52:13.715" endtime="20260115 10:52:13.717"/>
</kw>
<kw name="Check to Verify Replicas" library="ozone-debug-keywords">
<arg>${json}</arg>
<arg>${CHECK_TYPE}</arg>
<arg>${DATANODE}</arg>
<arg>Replica state is ${expected_state}</arg>
<kw name="Get From Dictionary" library="Collections">
<var>${replicas}</var>
<arg>${json['keys'][0]['blocks'][0]}</arg>
<arg>replicas</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.718" level="INFO">${replicas} = [{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': Fals...</msg>
<status status="PASS" starttime="20260115 10:52:13.717" endtime="20260115 10:52:13.718"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${check_type}' == 'containerState'</arg>
<arg>Check Container State Replicas</arg>
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Check Standard Replicas</arg>
<arg>${replicas}</arg>
<arg>${check_type}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Check Container State Replicas" library="ozone-debug-keywords">
<arg>${replicas}</arg>
<arg>${faulty_datanode}</arg>
<arg>${expected_message}</arg>
<for flavor="IN">
<var>${replica}</var>
<value>@{replicas}</value>
<iter>
<var name="${replica}">{'datanode': {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.720" level="INFO">${datanode} = {'uuid': 'e610af36-23cf-4f36-966b-6e50c4892315', 'hostname': 'ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:13.719" endtime="20260115 10:52:13.720"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.720" level="INFO">${hostname} = ozonesecure-ha-datanode1-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:13.720" endtime="20260115 10:52:13.720"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.720" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is INVALID, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:13.720" endtime="20260115 10:52:13.720"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:13.721" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is INVALID, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:13.720" endtime="20260115 10:52:13.721"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:13.721" endtime="20260115 10:52:13.721"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:13.721" endtime="20260115 10:52:13.722"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:13.723" level="INFO">${actual_message} = Replica state is INVALID, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:13.722" endtime="20260115 10:52:13.723"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Contain" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20260115 10:52:13.723" endtime="20260115 10:52:13.723"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.723" endtime="20260115 10:52:13.723"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.719" endtime="20260115 10:52:13.724"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.724" level="INFO">${datanode} = {'uuid': '30f1b66b-b4ed-4a52-906a-50cf95c260b8', 'hostname': 'ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:13.724" endtime="20260115 10:52:13.724"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.724" level="INFO">${hostname} = ozonesecure-ha-datanode5-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:13.724" endtime="20260115 10:52:13.724"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.725" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:13.724" endtime="20260115 10:52:13.725"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:13.725" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:13.725" endtime="20260115 10:52:13.725"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:13.725" endtime="20260115 10:52:13.726"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:13.726" endtime="20260115 10:52:13.726"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:13.727" level="INFO">${actual_message} = Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:13.726" endtime="20260115 10:52:13.727"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20260115 10:52:13.727" endtime="20260115 10:52:13.728"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.727" endtime="20260115 10:52:13.728"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.724" endtime="20260115 10:52:13.728"/>
</iter>
<iter>
<var name="${replica}">{'datanode': {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}, 'checks': [{'type': 'containerState', 'completed': True, 'pass': False...</var>
<kw name="Get From Dictionary" library="Collections">
<var>${datanode}</var>
<arg>${replica}</arg>
<arg>datanode</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.728" level="INFO">${datanode} = {'uuid': '596f45ef-18c5-496f-9478-6323c9b44eb8', 'hostname': 'ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net'}</msg>
<status status="PASS" starttime="20260115 10:52:13.728" endtime="20260115 10:52:13.728"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${hostname}</var>
<arg>${datanode}</arg>
<arg>hostname</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.728" level="INFO">${hostname} = ozonesecure-ha-datanode3-1.ozonesecure-ha_ozone_net</msg>
<status status="PASS" starttime="20260115 10:52:13.728" endtime="20260115 10:52:13.728"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${checks}</var>
<arg>${replica}</arg>
<arg>checks</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20260115 10:52:13.729" level="INFO">${checks} = [{'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}]</msg>
<status status="PASS" starttime="20260115 10:52:13.728" endtime="20260115 10:52:13.729"/>
</kw>
<kw name="Get From List" library="Collections">
<var>${check}</var>
<arg>${checks}</arg>
<arg>0</arg>
<doc>Returns the value specified with an ``index`` from ``list``.</doc>
<msg timestamp="20260115 10:52:13.729" level="INFO">${check} = {'type': 'containerState', 'completed': True, 'pass': False, 'failures': [{'message': 'Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas'}]}</msg>
<status status="PASS" starttime="20260115 10:52:13.729" endtime="20260115 10:52:13.729"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['type']}</arg>
<arg>containerState</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:13.729" endtime="20260115 10:52:13.729"/>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<arg>${check['pass']}</arg>
<arg>${False}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" starttime="20260115 10:52:13.730" endtime="20260115 10:52:13.730"/>
</kw>
<kw name="Set Variable" library="BuiltIn">
<var>${actual_message}</var>
<arg>${check['failures'][0]['message']}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<msg timestamp="20260115 10:52:13.731" level="INFO">${actual_message} = Replica state is CLOSED, Container state in SCM is CLOSED, UNDER_REPLICATED: 2/3 healthy replicas</msg>
<status status="PASS" starttime="20260115 10:52:13.730" endtime="20260115 10:52:13.731"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>'${hostname}' == '${faulty_datanode}'</arg>
<arg>Should Contain</arg>
<arg>${actual_message}</arg>
<arg>${expected_message}</arg>
<arg>ELSE</arg>
<arg>Should Match Regexp</arg>
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Match Regexp" library="BuiltIn">
<arg>${actual_message}</arg>
<arg>Replica state is (OPEN|CLOSING|QUASI_CLOSED|CLOSED)</arg>
<doc>Fails if ``string`` does not match ``pattern`` as a regular expression.</doc>
<status status="PASS" starttime="20260115 10:52:13.731" endtime="20260115 10:52:13.731"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.731" endtime="20260115 10:52:13.731"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.728" endtime="20260115 10:52:13.731"/>
</iter>
<status status="PASS" starttime="20260115 10:52:13.719" endtime="20260115 10:52:13.732"/>
</for>
<status status="PASS" starttime="20260115 10:52:13.719" endtime="20260115 10:52:13.732"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.718" endtime="20260115 10:52:13.732"/>
</kw>
<status status="PASS" starttime="20260115 10:52:13.717" endtime="20260115 10:52:13.732"/>
</kw>
<kw name="Remove Byteman Rule" library="BytemanLibrary">
<arg>${FAULT_INJ_DATANODE}</arg>
<arg>${rule_file}</arg>
<doc>Remove Byteman rule for specific component</doc>
<msg timestamp="20260115 10:52:13.866" level="INFO">Remove rule /tmp/container-state-INVALID.btm for datanode1 successful.</msg>
<status status="PASS" starttime="20260115 10:52:13.732" endtime="20260115 10:52:13.866"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.561" endtime="20260115 10:52:13.866"/>
</kw>
<status status="PASS" starttime="20260115 10:52:07.560" endtime="20260115 10:52:13.867"/>
</test>
<doc>Test container state on a UNHEALTHY, DELETED and INVALID container</doc>
<status status="PASS" starttime="20260115 10:51:55.034" endtime="20260115 10:52:13.868"/>
</suite>
<suite id="s1-s9" name="Kinit" source="/opt/hadoop/smoketest/kinit.robot">
<test id="s1-s9-t1" name="Kinit" line="27">
<kw name="Kinit test user" library="commonlib">
<arg>${USER}</arg>
<arg>${USER}.keytab</arg>
<kw name="Get Security Enabled From Config" library="commonlib">
<kw name="Return From Keyword If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' != ''</arg>
<doc>Returns from the enclosing user keyword if ``condition`` is true.</doc>
<status status="PASS" starttime="20260115 10:52:14.606" endtime="20260115 10:52:14.607"/>
</kw>
<kw name="Execute" library="os">
<var>${value}</var>
<arg>ozone getconf confKey ozone.security.enabled</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:14.610" level="INFO">Running command 'ozone getconf confKey ozone.security.enabled 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:15.550" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:15.550" level="INFO">${output} = true</msg>
<status status="PASS" starttime="20260115 10:52:14.608" endtime="20260115 10:52:15.550"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:15.551" level="INFO">true</msg>
<status status="PASS" starttime="20260115 10:52:15.550" endtime="20260115 10:52:15.551"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:15.551" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:15.551" endtime="20260115 10:52:15.551"/>
</kw>
<status status="PASS" starttime="20260115 10:52:14.607" endtime="20260115 10:52:15.552"/>
</kw>
<msg timestamp="20260115 10:52:15.552" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:14.607" endtime="20260115 10:52:15.552"/>
</kw>
<msg timestamp="20260115 10:52:15.552" level="INFO">${value} = true</msg>
<status status="PASS" starttime="20260115 10:52:14.607" endtime="20260115 10:52:15.552"/>
</kw>
<if>
<branch type="IF" condition="'${value}' != 'true' and '${value}' != 'false'">
<kw name="Set Variable" library="BuiltIn">
<var>${value}</var>
<arg>false</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" starttime="20260115 10:52:15.552" endtime="20260115 10:52:15.552"/>
</kw>
<status status="NOT RUN" starttime="20260115 10:52:15.552" endtime="20260115 10:52:15.552"/>
</branch>
<status status="PASS" starttime="20260115 10:52:15.552" endtime="20260115 10:52:15.552"/>
</if>
<kw name="Set Global Variable" library="BuiltIn">
<arg>${SECURITY_ENABLED}</arg>
<arg>${value}</arg>
<doc>Makes a variable available globally in all tests and suites.</doc>
<msg timestamp="20260115 10:52:15.553" level="INFO">${SECURITY_ENABLED} = true</msg>
<status status="PASS" starttime="20260115 10:52:15.553" endtime="20260115 10:52:15.553"/>
</kw>
<status status="PASS" starttime="20260115 10:52:14.606" endtime="20260115 10:52:15.553"/>
</kw>
<kw name="Pass Execution If" library="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" starttime="20260115 10:52:15.553" endtime="20260115 10:52:15.553"/>
</kw>
<kw name="Get test user principal" library="commonlib">
<var>${TEST_USER}</var>
<arg>${user}</arg>
<kw name="Execute" library="os">
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:15.557" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:15.561" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:15.561" level="INFO">${output} = om</msg>
<status status="PASS" starttime="20260115 10:52:15.554" endtime="20260115 10:52:15.561"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:15.561" level="INFO">om</msg>
<status status="PASS" starttime="20260115 10:52:15.561" endtime="20260115 10:52:15.561"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:15.562" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:15.562" endtime="20260115 10:52:15.562"/>
</kw>
<status status="PASS" starttime="20260115 10:52:15.554" endtime="20260115 10:52:15.562"/>
</kw>
<msg timestamp="20260115 10:52:15.562" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:15.554" endtime="20260115 10:52:15.562"/>
</kw>
<msg timestamp="20260115 10:52:15.562" level="INFO">${instance} = om</msg>
<status status="PASS" starttime="20260115 10:52:15.554" endtime="20260115 10:52:15.562"/>
</kw>
<msg timestamp="20260115 10:52:15.562" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:52:15.553" endtime="20260115 10:52:15.563"/>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<msg timestamp="20260115 10:52:15.563" level="INFO">${TEST_USER} = testuser/om@EXAMPLE.COM</msg>
<status status="PASS" starttime="20260115 10:52:15.563" endtime="20260115 10:52:15.563"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="Execute" library="os">
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:15.566" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/om@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:15.644" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:15.644" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:52:15.564" endtime="20260115 10:52:15.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:15.645" level="INFO"/>
<status status="PASS" starttime="20260115 10:52:15.644" endtime="20260115 10:52:15.645"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:15.645" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:15.645" endtime="20260115 10:52:15.645"/>
</kw>
<status status="PASS" starttime="20260115 10:52:15.564" endtime="20260115 10:52:15.646"/>
</kw>
<msg timestamp="20260115 10:52:15.646" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:15.564" endtime="20260115 10:52:15.646"/>
</kw>
<status status="PASS" starttime="20260115 10:52:15.563" endtime="20260115 10:52:15.646"/>
</kw>
<status status="PASS" starttime="20260115 10:52:15.563" endtime="20260115 10:52:15.646"/>
</kw>
<status status="PASS" starttime="20260115 10:52:14.606" endtime="20260115 10:52:15.646"/>
</kw>
<timeout value="2 minutes"/>
<status status="PASS" starttime="20260115 10:52:14.605" endtime="20260115 10:52:15.646"/>
</test>
<doc>Kinit test user</doc>
<status status="PASS" starttime="20260115 10:52:14.568" endtime="20260115 10:52:15.647"/>
</suite>
<suite id="s1-s10" name="Ozone-Debug-Tests-Ec3-2" source="/opt/hadoop/smoketest/debug/ozone-debug-tests-ec3-2.robot">
<kw name="Create Volume Bucket" type="SETUP">
<kw name="Execute" library="os">
<arg>ozone sh volume create o3://${OM_SERVICE_ID}/${VOLUME}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:16.378" level="INFO">Running command 'ozone sh volume create o3://omservice/cli-debug-ec-volume26164 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:19.696" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:19.696" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:52:16.376" endtime="20260115 10:52:19.696"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:19.697" level="INFO"/>
<status status="PASS" starttime="20260115 10:52:19.697" endtime="20260115 10:52:19.697"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:19.698" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:19.698" endtime="20260115 10:52:19.698"/>
</kw>
<status status="PASS" starttime="20260115 10:52:16.376" endtime="20260115 10:52:19.698"/>
</kw>
<msg timestamp="20260115 10:52:19.698" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:16.375" endtime="20260115 10:52:19.698"/>
</kw>
<status status="PASS" starttime="20260115 10:52:16.375" endtime="20260115 10:52:19.698"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh bucket create o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:19.702" level="INFO">Running command 'ozone sh bucket create o3://omservice/cli-debug-ec-volume26164/cli-debug-ec-bucket 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:22.868" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:22.868" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:52:19.699" endtime="20260115 10:52:22.868"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:22.869" level="INFO"/>
<status status="PASS" starttime="20260115 10:52:22.869" endtime="20260115 10:52:22.869"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:22.869" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:22.869" endtime="20260115 10:52:22.869"/>
</kw>
<status status="PASS" starttime="20260115 10:52:19.699" endtime="20260115 10:52:22.870"/>
</kw>
<msg timestamp="20260115 10:52:22.870" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:19.699" endtime="20260115 10:52:22.870"/>
</kw>
<status status="PASS" starttime="20260115 10:52:19.698" endtime="20260115 10:52:22.870"/>
</kw>
<status status="PASS" starttime="20260115 10:52:16.375" endtime="20260115 10:52:22.870"/>
</kw>
<test id="s1-s10-t1" name="Test ozone debug replicas chunk-info" line="46">
<kw name="Create EC key">
<arg>1048576</arg>
<arg>3</arg>
<kw name="Execute" library="os">
<arg>dd if=/dev/urandom of=${TEMP_DIR}/testfile bs=${bs} count=${count}</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:22.874" level="INFO">Running command 'dd if=/dev/urandom of=/tmp/testfile bs=1048576 count=3 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:22.889" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:22.889" level="INFO">${output} = 3+0 records in
3+0 records out
3145728 bytes (3.1 MB, 3.0 MiB) copied, 0.0112897 s, 279 MB/s</msg>
<status status="PASS" starttime="20260115 10:52:22.872" endtime="20260115 10:52:22.889"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:22.890" level="INFO">3+0 records in
3+0 records out
3145728 bytes (3.1 MB, 3.0 MiB) copied, 0.0112897 s, 279 MB/s</msg>
<status status="PASS" starttime="20260115 10:52:22.890" endtime="20260115 10:52:22.890"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:22.891" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:22.890" endtime="20260115 10:52:22.891"/>
</kw>
<status status="PASS" starttime="20260115 10:52:22.872" endtime="20260115 10:52:22.891"/>
</kw>
<msg timestamp="20260115 10:52:22.891" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:22.871" endtime="20260115 10:52:22.891"/>
</kw>
<status status="PASS" starttime="20260115 10:52:22.871" endtime="20260115 10:52:22.891"/>
</kw>
<kw name="Execute" library="os">
<arg>ozone sh key put o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/testfile ${TEMP_DIR}/testfile -r rs-${EC_DATA}-${EC_PARITY}-1024k -t EC</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:22.894" level="INFO">Running command 'ozone sh key put o3://omservice/cli-debug-ec-volume26164/cli-debug-ec-bucket/testfile /tmp/testfile -r rs-3-2-1024k -t EC 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:28.235" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:28.236" level="INFO">${output} = </msg>
<status status="PASS" starttime="20260115 10:52:22.892" endtime="20260115 10:52:28.236"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:28.237" level="INFO"/>
<status status="PASS" starttime="20260115 10:52:28.236" endtime="20260115 10:52:28.237"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:28.237" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:28.237" endtime="20260115 10:52:28.237"/>
</kw>
<status status="PASS" starttime="20260115 10:52:22.892" endtime="20260115 10:52:28.237"/>
</kw>
<msg timestamp="20260115 10:52:28.237" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:22.892" endtime="20260115 10:52:28.237"/>
</kw>
<status status="PASS" starttime="20260115 10:52:22.891" endtime="20260115 10:52:28.237"/>
</kw>
<status status="PASS" starttime="20260115 10:52:22.871" endtime="20260115 10:52:28.238"/>
</kw>
<kw name="Execute" library="os">
<var>${count}</var>
<arg>ozone debug replicas chunk-info o3://${OM_SERVICE_ID}/${VOLUME}/${BUCKET}/testfile | jq '[.keyLocations[0][] | select(.file | test("\\\\.block$")) | .file] | length'</arg>
<kw name="Run Keyword And Return" library="BuiltIn">
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<kw name="Execute and checkrc" library="os">
<arg>${command}</arg>
<arg>0</arg>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<msg timestamp="20260115 10:52:28.241" level="INFO">Running command 'ozone debug replicas chunk-info o3://omservice/cli-debug-ec-volume26164/cli-debug-ec-bucket/testfile | jq '[.keyLocations[0][] | select(.file | test("\\.block$")) | .file] | length' 2&gt;&amp;1'.</msg>
<msg timestamp="20260115 10:52:33.678" level="INFO">${rc} = 0</msg>
<msg timestamp="20260115 10:52:33.678" level="INFO">${output} = 5</msg>
<status status="PASS" starttime="20260115 10:52:28.239" endtime="20260115 10:52:33.678"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20260115 10:52:33.679" level="INFO">5</msg>
<status status="PASS" starttime="20260115 10:52:33.678" endtime="20260115 10:52:33.679"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20260115 10:52:33.680" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20260115 10:52:33.679" endtime="20260115 10:52:33.680"/>
</kw>
<status status="PASS" starttime="20260115 10:52:28.238" endtime="20260115 10:52:33.680"/>
</kw>
<msg timestamp="20260115 10:52:33.680" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20260115 10:52:28.238" endtime="20260115 10:52:33.680"/>
</kw>
<msg timestamp="20260115 10:52:33.680" level="INFO">${count} = 5</msg>
<status status="PASS" starttime="20260115 10:52:28.238" endtime="20260115 10:52:33.680"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${count}</arg>
<arg>5</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" starttime="20260115 10:52:33.680" endtime="20260115 10:52:33.681"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" starttime="20260115 10:52:22.870" endtime="20260115 10:52:33.681"/>
</test>
<doc>Test ozone Debug CLI for EC(3,2) replicated keys</doc>
<status status="PASS" starttime="20260115 10:52:16.331" endtime="20260115 10:52:33.682"/>
</suite>
<status status="PASS" starttime="N/A" endtime="N/A" elapsedtime="161626"/>
</suite>
<statistics>
<total>
<stat pass="16" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="16" fail="0" skip="0" id="s1" name="ozonesecure-ha-debug-tools">ozonesecure-ha-debug-tools</stat>
<stat pass="1" fail="0" skip="0" id="s1-s1" name="Kinit">ozonesecure-ha-debug-tools.Kinit</stat>
<stat pass="1" fail="0" skip="0" id="s1-s2" name="Auditparser">ozonesecure-ha-debug-tools.Auditparser</stat>
<stat pass="1" fail="0" skip="0" id="s1-s3" name="Kinit">ozonesecure-ha-debug-tools.Kinit</stat>
<stat pass="5" fail="0" skip="0" id="s1-s4" name="Ozone-Debug-Tests">ozonesecure-ha-debug-tools.Ozone-Debug-Tests</stat>
<stat pass="1" fail="0" skip="0" id="s1-s5" name="Corrupt-Block-Checksum">ozonesecure-ha-debug-tools.Corrupt-Block-Checksum</stat>
<stat pass="1" fail="0" skip="0" id="s1-s6" name="Stale-Datanode-Checksum">ozonesecure-ha-debug-tools.Stale-Datanode-Checksum</stat>
<stat pass="1" fail="0" skip="0" id="s1-s7" name="Block-Existence-Check">ozonesecure-ha-debug-tools.Block-Existence-Check</stat>
<stat pass="3" fail="0" skip="0" id="s1-s8" name="Container-State-Verifier">ozonesecure-ha-debug-tools.Container-State-Verifier</stat>
<stat pass="1" fail="0" skip="0" id="s1-s9" name="Kinit">ozonesecure-ha-debug-tools.Kinit</stat>
<stat pass="1" fail="0" skip="0" id="s1-s10" name="Ozone-Debug-Tests-Ec3-2">ozonesecure-ha-debug-tools.Ozone-Debug-Tests-Ec3-2</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
