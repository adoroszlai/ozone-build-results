<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Rebot 7.0 (Python 3.8.10 on linux)" generated="2024-05-28T12:34:46.183903" rpa="false" schemaversion="5">
<suite id="s1" name="upgrade">
<suite id="s1-s1" name="1.4.0-1.5.0-1-original-check-finalization" source="/opt/ozone/smoketest/upgrade/check-finalization.robot">
<test id="s1-s1-t1" name="Check OM Finalized" line="23">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:20.920000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:20.923000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:20.926000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:20.926000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:20.921000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:20.927000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:20.926000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:20.927000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:20.927000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:20.921000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:25:20.928000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:20.921000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:25:20.928000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:25:20.920000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:25:20.928000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:25:20.920000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:20.929000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:25:20.928000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:20.932000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:21.027000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:21.027000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:20.930000" elapsed="0.097000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:21.028000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:21.027000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:21.028000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:21.028000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:20.930000" elapsed="0.099000"/>
</kw>
<msg time="2024-05-28T12:25:21.029000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:20.930000" elapsed="0.099000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:25:20.929000" elapsed="0.100000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:25:20.929000" elapsed="0.100000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:25:20.919000" elapsed="0.110000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:20.918000" elapsed="0.111000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:21.032000" level="INFO">Running command 'env 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:21.034000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:21.035000" level="INFO">${output} = CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:21.030000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:21.035000" level="INFO">CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
OZONE-SITE.XML_ozone.s3g.kerberos.principal=s3g/s3g@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.users=*
HOSTNAME=scm1.org
HADOOP-POLICY.XML_hdds.security.client.scm.certificate.protocol.acl=*
OZONE-SITE.XML_hdds.grpc.tls.enabled=true
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.principal=HTTP/scm@EXAMPLE.COM
OZONE-SITE.XML_ozone.administrators=testuser,recon,om
OZONE-SITE.XML_ozone.s3.administrators=testuser,s3g
OZONE-SITE.XML_ozone.recon.kerberos.principal=recon/recon@EXAMPLE.COM
OZONE-SITE.XML_hdds.scm.kerberos.keytab.file=/etc/security/keytabs/scm.keytab
OZONE-SITE.XML_ozone.http.filter.initializers=org.apache.hadoop.security.AuthenticationFilterInitializer
HTTPFS-SITE.XML_httpfs.hadoop.authentication.type=kerberos
CORE-SITE.XML_dfs.data.transfer.protection=authentication
OZONE-SITE.XML_ozone.httpfs.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
HADOOP-POLICY.XML_hdds.security.client.scm.container.protocol.acl=*
OZONE-SITE.XML_ozone.acl.authorizer.class=org.apache.hadoop.ozone.security.acl.OzoneNativeAuthorizer
HDFS-SITE.XML_dfs.web.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_hdds.scm.kerberos.principal=scm/scm@EXAMPLE.COM
OZONE-SITE.XML_hdds.secret.key.expiry.duration=1h
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
OZONE-SITE.XML_ozone.s3g.http.auth.type=kerberos
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
HADOOP-POLICY.XML_ozone.om.security.client.protocol.acl=*
CORE-SITE.XML_hadoop.http.authentication.simple.anonymous.allowed=false
HADOOP-POLICY.XML_hdds.security.client.scm.block.protocol.acl=*
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.principal=HTTP/db@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.groups=*
OZONE-SITE.XML_hdds.scm.http.auth.type=kerberos
OZONE-SITE.XML_hdds.container.token.enabled=true
CORE-SITE.XML_hadoop.security.auth_to_local=DEFAULT
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
OZONE-SITE.XML_ozone.security.enabled=true
OZONE-SITE.XML_ozone.httpfs.http.auth.type=kerberos
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_ozone.security.http.kerberos.enabled=true
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
OZONE-SITE.XML_ozone.httpfs.kerberos.keytab.file=/etc/security/keytabs/httpfs.keytab
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.acl.enabled=true
HDFS-SITE.XML_dfs.datanode.kerberos.principal=dn/dn@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.container.size=1GB
OZONE-SITE.XML_ozone.om.kerberos.principal=om/om@EXAMPLE.COM
JAVA_HOME=/usr/lib/jvm/jre/
CORE-SITE.XML_hadoop.proxyuser.httpfs.groups=*
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.om.kerberos.keytab.file=/etc/security/keytabs/om.keytab
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
HDFS-SITE.XML_dfs.datanode.kerberos.keytab.file=/etc/security/keytabs/dn.keytab
OZONE-SITE.XML_ozone.s3g.kerberos.keytab.file=/etc/security/keytabs/s3g.keytab
OZONE-SITE.XML_hdds.secret.key.rotate.check.duration=1m
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.s3g.secret.http.auth.type=kerberos
OZONE-SITE.XML_ozone.om.http.auth.kerberos.principal=HTTP/om@EXAMPLE.COM
CORE-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.http.auth.type=kerberos
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_DATANODE_SECURE_USER=root
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
OZONE_UPGRADE_FROM=1.4.0
OZONE-SITE.XML_ozone.om.http.auth.type=kerberos
CORE-SITE.XML_hadoop.http.authentication.type=kerberos
OZONE-SITE.XML_hdds.secret.key.rotate.duration=5m
WAITFOR=kdc:88
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.principal=HTTP/recon@EXAMPLE.COM
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.hosts=*
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.keytab=/etc/security/keytabs/recon.keytab
HDFS-SITE.XML_dfs.web.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.s3g.secret.http.enabled=true
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
CORE-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.om.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
HTTPFS-SITE.XML_hadoop.http.authentication.type=kerberos
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.principal=HTTP/s3g@EXAMPLE.COM
OZONE_UPGRADE_TO=1.5.0
CORE-SITE.XML_hadoop.http.authentication.signature.secret.file=/etc/security/http_secret
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1.org
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.recon.kerberos.keytab.file=/etc/security/keytabs/recon.keytab
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2.org
CORE-SITE.XML_hadoop.proxyuser.httpfs.hosts=*
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3.org
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_hdds.block.token.enabled=true
OZONE-SITE.XML_hdds.datanode.http.auth.type=kerberos
HADOOP-POLICY.XML_hdds.security.client.datanode.container.protocol.acl=*
CORE-SITE.XML_hadoop.security.key.provider.path=kms://http@kms:9600/kms
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
CORE-SITE.XML_hadoop.security.authorization=true
_=/usr/bin/env</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:21.035000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:21.036000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:21.036000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:21.030000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:21.036000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:21.030000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:21.037000" level="INFO">${result} = CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE...</msg>
<var>${result}</var>
<arg>env</arg>
<status status="PASS" start="2024-05-28T12:25:21.029000" elapsed="0.008000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:21.037000" level="INFO">CORE-SITE.XML_hadoop.security.authentication=kerberos
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.db.dir=/data/metadata/recon
OZONE-SITE.XML_ozone.client.failover.max.attempts=6
OZONE-SITE.XML_ozone.s3g.kerberos.principal=s3g/s3g@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.users=*
HOSTNAME=scm1.org
HADOOP-POLICY.XML_hdds.security.client.scm.certificate.protocol.acl=*
OZONE-SITE.XML_hdds.grpc.tls.enabled=true
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.principal=HTTP/scm@EXAMPLE.COM
OZONE-SITE.XML_ozone.administrators=testuser,recon,om
OZONE-SITE.XML_ozone.s3.administrators=testuser,s3g
OZONE-SITE.XML_ozone.recon.kerberos.principal=recon/recon@EXAMPLE.COM
OZONE-SITE.XML_hdds.scm.kerberos.keytab.file=/etc/security/keytabs/scm.keytab
OZONE-SITE.XML_ozone.http.filter.initializers=org.apache.hadoop.security.AuthenticationFilterInitializer
HTTPFS-SITE.XML_httpfs.hadoop.authentication.type=kerberos
CORE-SITE.XML_dfs.data.transfer.protection=authentication
OZONE-SITE.XML_ozone.httpfs.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.address=recon:9891
OZONE-SITE.XML_ozone.server.default.replication=3
HADOOP-POLICY.XML_hdds.security.client.scm.container.protocol.acl=*
OZONE-SITE.XML_ozone.acl.authorizer.class=org.apache.hadoop.ozone.security.acl.OzoneNativeAuthorizer
HDFS-SITE.XML_dfs.web.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_hdds.scm.kerberos.principal=scm/scm@EXAMPLE.COM
OZONE-SITE.XML_hdds.secret.key.expiry.duration=1h
OZONE_LOG_DIR=/var/log/hadoop
LD_LIBRARY_PATH=/usr/local/lib
OZONE-SITE.XML_ozone.om.nodes.omservice=om1,om2,om3
OZONE-SITE.XML_ozone.s3g.http.auth.type=kerberos
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/httpfs@EXAMPLE.COM
ENSURE_SCM_INITIALIZED=/data/metadata/scm/current/VERSION
OZONE-SITE.XML_ozone.filesystem.snapshot.enabled=true
OM_SERVICE_ID=omservice
OZONE-SITE.XML_ozone.recon.om.snapshot.task.interval.delay=1m
HADOOP-POLICY.XML_ozone.om.security.client.protocol.acl=*
CORE-SITE.XML_hadoop.http.authentication.simple.anonymous.allowed=false
HADOOP-POLICY.XML_hdds.security.client.scm.block.protocol.acl=*
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.principal=httpfs/httpfs@EXAMPLE.COM
OZONE-SITE.XML_hdds.scm.wait.time.after.safemode.exit=5s
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.principal=HTTP/db@EXAMPLE.COM
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.groups=*
OZONE-SITE.XML_hdds.scm.http.auth.type=kerberos
OZONE-SITE.XML_hdds.container.token.enabled=true
CORE-SITE.XML_hadoop.security.auth_to_local=DEFAULT
OZONE-SITE.XML_ozone.metadata.dirs=/data/metadata
OZONE-SITE.XML_ozone.security.enabled=true
OZONE-SITE.XML_ozone.httpfs.http.auth.type=kerberos
OZONE-SITE.XML_ozone.httpfs.http.auth.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_ozone.security.http.kerberos.enabled=true
PATH=/opt/hadoop/libexec:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/hadoop/bin
OZONE-SITE.XML_ozone.httpfs.kerberos.keytab.file=/etc/security/keytabs/httpfs.keytab
PWD=/opt/hadoop
OZONE-SITE.XML_ozone.acl.enabled=true
HDFS-SITE.XML_dfs.datanode.kerberos.principal=dn/dn@EXAMPLE.COM
OZONE-SITE.XML_ozone.scm.container.size=1GB
OZONE-SITE.XML_ozone.om.kerberos.principal=om/om@EXAMPLE.COM
JAVA_HOME=/usr/lib/jvm/jre/
CORE-SITE.XML_hadoop.proxyuser.httpfs.groups=*
OZONE-SITE.XML_hdds.scm.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.om.service.ids=omservice
OZONE-SITE.XML_hdds.scm.safemode.min.datanode=3
OZONE-SITE.XML_ozone.scm.pipeline.creation.interval=30s
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.om.kerberos.keytab.file=/etc/security/keytabs/om.keytab
OZONE-SITE.XML_hdds.datanode.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
HDFS-SITE.XML_dfs.datanode.kerberos.keytab.file=/etc/security/keytabs/dn.keytab
OZONE-SITE.XML_ozone.s3g.kerberos.keytab.file=/etc/security/keytabs/s3g.keytab
OZONE-SITE.XML_hdds.secret.key.rotate.check.duration=1m
OZONE-SITE.XML_ozone.scm.pipeline.allocated.timeout=2m
OZONE-SITE.XML_ozone.s3g.secret.http.auth.type=kerberos
OZONE-SITE.XML_ozone.om.http.auth.kerberos.principal=HTTP/om@EXAMPLE.COM
CORE-SITE.XML_hadoop.http.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
OZONE-SITE.XML_ozone.recon.http.auth.type=kerberos
OZONE-SITE.XML_ozone.scm.primordial.node.id=scm1
HTTPFS-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_ozone.scm.pipeline.owner.container.count=1
OZONE_DATANODE_SECURE_USER=root
OZONE-SITE.XML_ozone.scm.pipeline.scrub.interval=1m
OZONE_UPGRADE_FROM=1.4.0
OZONE-SITE.XML_ozone.om.http.auth.type=kerberos
CORE-SITE.XML_hadoop.http.authentication.type=kerberos
OZONE-SITE.XML_hdds.secret.key.rotate.duration=5m
WAITFOR=kdc:88
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.principal=HTTP/recon@EXAMPLE.COM
SHLVL=1
HOME=/opt/hadoop
OZONE_CONF_DIR=/etc/hadoop
KMS-SITE.XML_hadoop.kms.proxyuser.s3g.hosts=*
OZONE-SITE.XML_ozone.om.ratis.enable=true
no_proxy=om1,om2,om3,scm1,scm2,scm3,s3g,kdc,localhost,127.0.0.1
OZONE-SITE.XML_ozone.recon.http.auth.kerberos.keytab=/etc/security/keytabs/recon.keytab
HDFS-SITE.XML_dfs.web.authentication.kerberos.principal=HTTP/ozone@EXAMPLE.COM
HTTPFS-SITE.XML_httpfs.hadoop.authentication.kerberos.keytab=/etc/security/keytabs/httpfs.keytab
OZONE-SITE.XML_hdds.datanode.dir=/data/hdds
OZONE-SITE.XML_ozone.s3g.secret.http.enabled=true
OZONE-SITE.XML_ozone.scm.nodes.scmservice=scm1,scm2,scm3
CORE-SITE.XML_hadoop.http.authentication.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.om.http.auth.kerberos.keytab=/etc/security/keytabs/HTTP.keytab
OZONE-SITE.XML_ozone.scm.datanode.id.dir=/data
OZONE-SITE.XML_ozone.scm.service.ids=scmservice
OZONE-SITE.XML_ozone.om.address.omservice.om3=om3
HTTPFS-SITE.XML_hadoop.http.authentication.type=kerberos
OZONE-SITE.XML_ozone.s3g.http.auth.kerberos.principal=HTTP/s3g@EXAMPLE.COM
OZONE_UPGRADE_TO=1.5.0
CORE-SITE.XML_hadoop.http.authentication.signature.secret.file=/etc/security/http_secret
OZONE-SITE.XML_ozone.scm.address.scmservice.scm1=scm1.org
OZONE-SITE.XML_ozone.om.address.omservice.om2=om2
OZONE-SITE.XML_ozone.recon.kerberos.keytab.file=/etc/security/keytabs/recon.keytab
OZONE-SITE.XML_ozone.om.address.omservice.om1=om1
OZONE-SITE.XML_ozone.scm.address.scmservice.scm2=scm2.org
CORE-SITE.XML_hadoop.proxyuser.httpfs.hosts=*
OZONE-SITE.XML_ozone.scm.address.scmservice.scm3=scm3.org
OZONE-SITE.XML_ozone.scm.ratis.enable=true
OZONE-SITE.XML_hdds.block.token.enabled=true
OZONE-SITE.XML_hdds.datanode.http.auth.type=kerberos
HADOOP-POLICY.XML_hdds.security.client.datanode.container.protocol.acl=*
CORE-SITE.XML_hadoop.security.key.provider.path=kms://http@kms:9600/kms
OZONE-SITE.XML_hdds.datanode.volume.min.free.space=100MB
CORE-SITE.XML_hadoop.security.authorization=true
_=/usr/bin/env</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:21.037000" elapsed="0.000000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:21.037000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:21.040000" level="INFO">Running command 'ozone admin om finalizationstatus 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:23.965000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:23.965000" level="INFO">${output} = ALREADY_FINALIZED</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:21.039000" elapsed="2.926000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:23.966000" level="INFO">ALREADY_FINALIZED</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:23.965000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:23.967000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:23.966000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:21.038000" elapsed="2.929000"/>
</kw>
<msg time="2024-05-28T12:25:23.967000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:21.038000" elapsed="2.929000"/>
</kw>
<msg time="2024-05-28T12:25:23.967000" level="INFO">${result} = ALREADY_FINALIZED</msg>
<var>${result}</var>
<arg>ozone admin om finalizationstatus</arg>
<status status="PASS" start="2024-05-28T12:25:21.038000" elapsed="2.929000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:23.968000" level="INFO">ALREADY_FINALIZED</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:23.967000" elapsed="0.001000"/>
</kw>
<kw name="Should Contain Any" owner="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" start="2024-05-28T12:25:23.968000" elapsed="0.000000"/>
</kw>
<tag>finalized</tag>
<tag>om</tag>
<timeout value="10 minutes"/>
<status status="PASS" start="2024-05-28T12:25:20.918000" elapsed="3.050000"/>
</test>
<test id="s1-s1-t2" name="Check SCM Finalized" line="32">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:23.970000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:23.974000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:23.976000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:23.976000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:23.972000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:23.977000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:23.977000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:23.978000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:23.978000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:23.971000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:25:23.978000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:23.971000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:25:23.979000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:25:23.971000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:25:23.979000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:25:23.970000" elapsed="0.009000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:23.979000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:25:23.979000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:23.983000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:24.037000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:24.038000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:23.981000" elapsed="0.057000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:24.038000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:24.038000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:24.039000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:24.039000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:23.981000" elapsed="0.058000"/>
</kw>
<msg time="2024-05-28T12:25:24.039000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:23.981000" elapsed="0.059000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:25:23.980000" elapsed="0.060000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:25:23.980000" elapsed="0.060000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:25:23.970000" elapsed="0.070000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:23.969000" elapsed="0.071000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>HDDS finalization not supported in version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:24.040000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:24.043000" level="INFO">Running command 'ozone admin scm finalizationstatus 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:26.795000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:26.796000" level="INFO">${output} = FINALIZATION_DONE</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:24.042000" elapsed="2.754000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:26.797000" level="INFO">FINALIZATION_DONE</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:26.796000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:26.798000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:26.797000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:24.041000" elapsed="2.757000"/>
</kw>
<msg time="2024-05-28T12:25:26.798000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:24.041000" elapsed="2.757000"/>
</kw>
<msg time="2024-05-28T12:25:26.798000" level="INFO">${result} = FINALIZATION_DONE</msg>
<var>${result}</var>
<arg>ozone admin scm finalizationstatus</arg>
<status status="PASS" start="2024-05-28T12:25:24.041000" elapsed="2.757000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:26.799000" level="INFO">FINALIZATION_DONE</msg>
<arg>${result}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:26.798000" elapsed="0.001000"/>
</kw>
<kw name="Should Contain Any" owner="BuiltIn">
<arg>${result}</arg>
<arg>ALREADY_FINALIZED</arg>
<arg>FINALIZATION_DONE</arg>
<doc>Fails if ``container`` does not contain any of the ``*items``.</doc>
<status status="PASS" start="2024-05-28T12:25:26.799000" elapsed="0.000000"/>
</kw>
<tag>finalized</tag>
<tag>scm</tag>
<timeout value="10 minutes"/>
<status status="PASS" start="2024-05-28T12:25:23.969000" elapsed="2.831000"/>
</test>
<doc>Finalize Upgrade of the Ozone cluster</doc>
<status status="PASS" start="2024-05-28T12:25:20.868000" elapsed="5.933000"/>
</suite>
<suite id="s1-s2" name="1.4.0-1.5.0-1-original-generate-old1" source="/opt/ozone/smoketest/upgrade/generate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:27.501000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:27.505000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:27.507000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:27.507000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:27.503000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:27.508000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:27.507000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:27.508000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:27.508000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:27.503000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:27.509000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:27.502000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:25:27.509000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:25:27.502000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:25:27.509000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:25:27.502000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:27.510000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:25:27.509000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:27.512000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:27.544000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:27.544000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:27.511000" elapsed="0.033000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:27.545000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:27.544000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:27.545000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:27.545000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:27.511000" elapsed="0.034000"/>
</kw>
<msg time="2024-05-28T12:25:27.545000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:27.511000" elapsed="0.035000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:25:27.510000" elapsed="0.036000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:25:27.510000" elapsed="0.036000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:25:27.501000" elapsed="0.045000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:27.500000" elapsed="0.046000"/>
</kw>
<test id="s1-s2-t1" name="Create a volume and bucket" line="29">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:27.550000" level="INFO">Running command 'ozone sh volume create old1-volume 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:30.753000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:30.753000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:27.548000" elapsed="3.205000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:30.754000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:30.753000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:30.754000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:30.754000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:27.548000" elapsed="3.207000"/>
</kw>
<msg time="2024-05-28T12:25:30.755000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:27.547000" elapsed="3.208000"/>
</kw>
<msg time="2024-05-28T12:25:30.755000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<status status="PASS" start="2024-05-28T12:25:27.547000" elapsed="3.208000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:30.755000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:30.759000" level="INFO">Running command 'ozone sh bucket create /old1-volume/old1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:34.067000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:34.067000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:30.757000" elapsed="3.310000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:34.069000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:34.068000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:34.069000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:34.069000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:30.756000" elapsed="3.313000"/>
</kw>
<msg time="2024-05-28T12:25:34.070000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:30.756000" elapsed="3.314000"/>
</kw>
<msg time="2024-05-28T12:25:34.070000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-05-28T12:25:30.755000" elapsed="3.315000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:34.070000" elapsed="0.001000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:27.546000" elapsed="6.525000"/>
</test>
<test id="s1-s2-t2" name="Create key" line="36">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:34.075000" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:25:34.077000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:34.077000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:34.072000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:34.079000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:34.078000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:34.079000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:34.079000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:34.072000" elapsed="0.007000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:34.083000" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:39.919000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:39.920000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:34.081000" elapsed="5.839000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:39.921000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:39.920000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:39.921000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:39.921000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:34.081000" elapsed="5.841000"/>
</kw>
<msg time="2024-05-28T12:25:39.922000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:34.080000" elapsed="5.842000"/>
</kw>
<msg time="2024-05-28T12:25:39.922000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<status status="PASS" start="2024-05-28T12:25:34.080000" elapsed="5.842000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:39.922000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:39.925000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:39.928000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:39.928000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:39.923000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:39.929000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:39.928000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:39.929000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:39.929000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:39.923000" elapsed="0.007000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:34.071000" elapsed="5.859000"/>
</test>
<test id="s1-s2-t3" name="Create a bucket in s3v volume" line="42">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:39.935000" level="INFO">Running command 'ozone sh bucket create /s3v/old1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:43.522000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:43.522000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:39.933000" elapsed="3.589000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:43.523000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:43.522000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:43.524000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:43.523000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:39.932000" elapsed="3.592000"/>
</kw>
<msg time="2024-05-28T12:25:43.524000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:39.932000" elapsed="3.592000"/>
</kw>
<msg time="2024-05-28T12:25:43.524000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-05-28T12:25:39.931000" elapsed="3.593000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:43.525000" elapsed="0.000000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:39.931000" elapsed="3.594000"/>
</test>
<test id="s1-s2-t4" name="Create key in the bucket in s3v volume" line="47">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:43.529000" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:25:43.530000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:43.530000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:43.527000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:43.531000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:43.531000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:43.532000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:43.531000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:43.526000" elapsed="0.006000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:43.535000" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:48.674000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:48.674000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:43.533000" elapsed="5.141000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.675000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:48.674000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.675000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:48.675000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:43.533000" elapsed="5.143000"/>
</kw>
<msg time="2024-05-28T12:25:48.676000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:43.533000" elapsed="5.143000"/>
</kw>
<msg time="2024-05-28T12:25:48.676000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<status status="PASS" start="2024-05-28T12:25:43.532000" elapsed="5.144000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:48.676000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:48.679000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:48.680000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:48.681000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:48.677000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.681000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:48.681000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.682000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:48.681000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:48.676000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:43.526000" elapsed="5.156000"/>
</test>
<test id="s1-s2-t5" name="Try to create a bucket using S3 API" line="53">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:48.684000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:48.688000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:48.690000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:48.690000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:48.686000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.691000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:48.691000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.692000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:48.691000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:48.686000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:48.692000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:48.686000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:48.692000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:25:48.685000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:25:48.692000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:25:48.685000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.693000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:25:48.693000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:48.696000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:48.711000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:48.711000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:48.695000" elapsed="0.016000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.712000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:48.712000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:48.713000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:48.712000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:48.694000" elapsed="0.019000"/>
</kw>
<msg time="2024-05-28T12:25:48.713000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:48.694000" elapsed="0.019000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:25:48.693000" elapsed="0.020000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:25:48.693000" elapsed="0.020000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:25:48.684000" elapsed="0.030000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:48.684000" elapsed="0.030000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:48.717000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:51.306000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:51.306000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e
isDeleted=false
transactionLogIndex=0</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:48.715000" elapsed="2.591000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.307000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e
isDeleted=false
transactionLogIndex=0</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:51.306000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:25:51.307000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e
isDeleted=false
transactionLogIndex=0</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:25:48.714000" elapsed="2.593000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.308000" level="FAIL">'awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e
isDeleted=false
transactionLogIndex=0' does not contain 'S3_SECRET_ALREADY_EXISTS'</msg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="FAIL" start="2024-05-28T12:25:51.308000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:25:51.309000" level="INFO">${exists} = False</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:25:51.308000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="NOT RUN" start="2024-05-28T12:25:51.309000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="NOT RUN" start="2024-05-28T12:25:51.309000" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2024-05-28T12:25:51.309000" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2024-05-28T12:25:51.309000" elapsed="0.000000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:25:51.310000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:25:51.310000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.311000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:25:51.310000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:25:51.311000" level="INFO">${secret} = ['3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:25:51.311000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.313000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:25:51.312000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.314000" level="INFO">${secret} = 3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:25:51.313000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:51.317000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:51.815000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:51.815000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:51.315000" elapsed="0.500000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.816000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:51.815000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:51.817000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:51.816000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:51.314000" elapsed="0.503000"/>
</kw>
<msg time="2024-05-28T12:25:51.817000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:51.314000" elapsed="0.503000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:25:51.314000" elapsed="0.503000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:51.821000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:52.255000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:52.255000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:51.819000" elapsed="0.436000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:52.256000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:52.255000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:52.256000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:52.256000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:51.818000" elapsed="0.438000"/>
</kw>
<msg time="2024-05-28T12:25:52.257000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:51.818000" elapsed="0.439000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:25:51.817000" elapsed="0.440000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:52.260000" level="INFO">Running command 'aws configure set aws_secret_access_key 3d4e41566e2140d41da4006fef724e1eafbafcb7501f2e270f4dc7df01e2679e 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:52.679000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:52.679000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:52.258000" elapsed="0.421000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:52.680000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:52.679000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:52.680000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:52.680000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:52.258000" elapsed="0.422000"/>
</kw>
<msg time="2024-05-28T12:25:52.681000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:52.257000" elapsed="0.424000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:25:52.257000" elapsed="0.424000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:52.684000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:53.119000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:53.119000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:52.682000" elapsed="0.437000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:53.120000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:53.120000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:53.121000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:53.121000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:52.682000" elapsed="0.439000"/>
</kw>
<msg time="2024-05-28T12:25:53.121000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:52.681000" elapsed="0.440000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:25:52.681000" elapsed="0.440000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:53.125000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:53.558000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:53.558000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:53.123000" elapsed="0.435000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:53.559000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:53.558000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:53.560000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:53.559000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:53.122000" elapsed="0.438000"/>
</kw>
<msg time="2024-05-28T12:25:53.560000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:53.122000" elapsed="0.439000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:25:53.122000" elapsed="0.439000"/>
</kw>
<status status="PASS" start="2024-05-28T12:25:48.714000" elapsed="4.847000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:48.714000" elapsed="4.847000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:53.561000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-05-28T12:25:48.683000" elapsed="4.879000"/>
</kw>
<kw name="Generate Ozone String" owner="commonawslib">
<kw name="Generate Random String" owner="String">
<msg time="2024-05-28T12:25:53.563000" level="INFO">${randStr} = 7940063958</msg>
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-05-28T12:25:53.562000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:25:53.564000" level="INFO">${random} = ozone-test-7940063958</msg>
<var>${random}</var>
<status status="PASS" start="2024-05-28T12:25:53.562000" elapsed="0.002000"/>
</kw>
<kw name="Create bucket with name" owner="commonawslib">
<kw name="Execute AWSS3APICli" owner="commonawslib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:53.569000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-7940063958 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:55.336000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:55.336000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7940063958"
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:53.566000" elapsed="1.771000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:55.337000" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7940063958"
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:55.337000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:55.338000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:55.338000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:53.566000" elapsed="1.773000"/>
</kw>
<msg time="2024-05-28T12:25:55.339000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:53.566000" elapsed="1.773000"/>
</kw>
<msg time="2024-05-28T12:25:55.339000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7940063958"
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<status status="PASS" start="2024-05-28T12:25:53.565000" elapsed="1.774000"/>
</kw>
<msg time="2024-05-28T12:25:55.339000" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-7940063958"
}</msg>
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<status status="PASS" start="2024-05-28T12:25:53.564000" elapsed="1.775000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:55.339000" elapsed="0.001000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:55.340000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:25:55.340000" level="INFO">${output} = None</msg>
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<status status="PASS" start="2024-05-28T12:25:53.564000" elapsed="1.776000"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2024-05-28T12:25:55.340000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:48.683000" elapsed="6.658000"/>
</test>
<test id="s1-s2-t6" name="Create key using S3 API" line="60">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:55.344000" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:25:55.346000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:55.346000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:55.343000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:55.347000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:55.346000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:55.347000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:55.347000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:55.342000" elapsed="0.005000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:55.350000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:57.099000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:57.099000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:55.349000" elapsed="1.750000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.100000" level="INFO">{
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:57.100000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.101000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:57.101000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:25:57.101000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:25:55.348000" elapsed="1.753000"/>
</kw>
<msg time="2024-05-28T12:25:57.101000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:55.348000" elapsed="1.753000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:25:57.102000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:57.105000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:57.107000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:57.107000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:57.103000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.108000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:57.107000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.108000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:57.108000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:57.102000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:55.342000" elapsed="1.767000"/>
</test>
<doc>Generate data</doc>
<status status="PASS" start="2024-05-28T12:25:27.427000" elapsed="29.683000"/>
</suite>
<suite id="s1-s3" name="1.4.0-1.5.0-1-original-validate-old1" source="/opt/ozone/smoketest/upgrade/validate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:25:57.850000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:57.854000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:57.857000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:57.857000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:57.852000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.858000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:57.857000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.858000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:57.858000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:57.852000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:57.858000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:57.852000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:25:57.859000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:25:57.851000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:25:57.859000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:25:57.851000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.859000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:25:57.859000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:57.862000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:25:57.908000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:25:57.908000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:57.861000" elapsed="0.047000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.909000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:25:57.909000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:25:57.910000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:25:57.909000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:57.861000" elapsed="0.049000"/>
</kw>
<msg time="2024-05-28T12:25:57.910000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:57.860000" elapsed="0.050000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:25:57.860000" elapsed="0.050000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:25:57.859000" elapsed="0.051000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:25:57.850000" elapsed="0.061000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:25:57.849000" elapsed="0.062000"/>
</kw>
<test id="s1-s3-t1" name="Read data from previously created key" line="29">
<kw name="Generate Random String" owner="String">
<msg time="2024-05-28T12:25:57.912000" level="INFO">${random} = 08630</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-05-28T12:25:57.912000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:25:57.916000" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-08630 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:02.940000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:02.941000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:25:57.914000" elapsed="5.027000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.942000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:02.941000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.943000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:02.942000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:25:57.913000" elapsed="5.030000"/>
</kw>
<msg time="2024-05-28T12:26:02.943000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:25:57.913000" elapsed="5.030000"/>
</kw>
<msg time="2024-05-28T12:26:02.943000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<status status="PASS" start="2024-05-28T12:25:57.912000" elapsed="5.031000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:02.943000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:02.947000" level="INFO">Running command 'cat /tmp/key-08630 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:02.949000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:02.949000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:02.944000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.950000" level="INFO">old1: key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:02.949000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.950000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:02.950000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:26:02.950000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:02.944000" elapsed="0.007000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:02.951000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:02.954000" level="INFO">Running command 'rm /tmp/key-08630 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:02.955000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:02.955000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:02.952000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.956000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:02.956000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.957000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:02.956000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:02.951000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:25:57.911000" elapsed="5.046000"/>
</test>
<test id="s1-s3-t2" name="Read key created with Ozone Shell using S3 API" line="37">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:26:02.960000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:02.964000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:02.966000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:02.966000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:02.962000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.967000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:02.967000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.968000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:02.967000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:02.961000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:26:02.968000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:02.961000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:26:02.968000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:26:02.961000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:26:02.969000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:26:02.960000" elapsed="0.009000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:02.969000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:26:02.969000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:02.973000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:03.011000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:03.011000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:02.971000" elapsed="0.040000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:03.013000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:03.012000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:03.013000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:03.013000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:02.971000" elapsed="0.043000"/>
</kw>
<msg time="2024-05-28T12:26:03.014000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:02.970000" elapsed="0.044000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:26:02.970000" elapsed="0.044000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:26:02.969000" elapsed="0.045000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:26:02.959000" elapsed="0.055000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:02.959000" elapsed="0.055000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:03.019000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:05.911000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:26:05.911000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:03.016000" elapsed="2.895000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:05.912000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:05.911000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:26:05.912000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:26:03.016000" elapsed="2.896000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:05.913000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:26:05.913000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:26:05.912000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:05.916000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:08.461000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:08.461000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:05.915000" elapsed="2.546000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:08.462000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:08.462000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:08.463000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:08.462000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:05.914000" elapsed="2.549000"/>
</kw>
<msg time="2024-05-28T12:26:08.463000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:05.914000" elapsed="2.549000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:26:05.913000" elapsed="2.550000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:08.466000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:11.020000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:11.020000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=7d4858ad5f13fb5466006f80b82ab37d9995d8a3b0deff87a1d7700b85e84788
isDeleted=false
transactionLogIndex=0</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:08.465000" elapsed="2.555000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.021000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=7d4858ad5f13fb5466006f80b82ab37d9995d8a3b0deff87a1d7700b85e84788
isDeleted=false
transactionLogIndex=0</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:11.020000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.022000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:11.021000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:08.464000" elapsed="2.558000"/>
</kw>
<msg time="2024-05-28T12:26:11.022000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:08.464000" elapsed="2.558000"/>
</kw>
<msg time="2024-05-28T12:26:11.022000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=7d4858ad5f13fb5466006f80b82ab37d9995d8a3b0deff87a1d7700b85e84788
isDeleted=false
transactionLogIndex=0</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:26:08.463000" elapsed="2.559000"/>
</kw>
<status status="PASS" start="2024-05-28T12:26:05.913000" elapsed="5.109000"/>
</branch>
<status status="PASS" start="2024-05-28T12:26:05.913000" elapsed="5.109000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:26:11.023000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:26:11.022000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.024000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:26:11.023000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:26:11.024000" level="INFO">${secret} = ['7d4858ad5f13fb5466006f80b82ab37d9995d8a3b0deff87a1d7700b85e84788']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:26:11.024000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.026000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:26:11.024000" elapsed="0.002000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.027000" level="INFO">${secret} = 7d4858ad5f13fb5466006f80b82ab37d9995d8a3b0deff87a1d7700b85e84788</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:26:11.026000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:11.030000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:11.457000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:11.457000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:11.028000" elapsed="0.429000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.458000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:11.458000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.459000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:11.459000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:11.027000" elapsed="0.432000"/>
</kw>
<msg time="2024-05-28T12:26:11.459000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:11.027000" elapsed="0.433000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:26:11.027000" elapsed="0.433000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:11.463000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:11.885000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:11.885000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:11.461000" elapsed="0.424000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.886000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:11.885000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:11.887000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:11.886000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:11.461000" elapsed="0.426000"/>
</kw>
<msg time="2024-05-28T12:26:11.887000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:11.460000" elapsed="0.427000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:26:11.460000" elapsed="0.427000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:11.890000" level="INFO">Running command 'aws configure set aws_secret_access_key 7d4858ad5f13fb5466006f80b82ab37d9995d8a3b0deff87a1d7700b85e84788 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:12.332000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:12.332000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:11.888000" elapsed="0.444000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:12.333000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:12.332000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:12.334000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:12.333000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:11.888000" elapsed="0.446000"/>
</kw>
<msg time="2024-05-28T12:26:12.334000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:11.888000" elapsed="0.446000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:26:11.887000" elapsed="0.447000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:12.338000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:12.788000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:12.788000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:12.336000" elapsed="0.452000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:12.789000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:12.788000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:12.790000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:12.789000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:12.335000" elapsed="0.455000"/>
</kw>
<msg time="2024-05-28T12:26:12.790000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:12.335000" elapsed="0.455000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:26:12.335000" elapsed="0.455000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:12.794000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:13.224000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:13.224000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:12.792000" elapsed="0.432000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:13.225000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:13.225000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:13.226000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:13.225000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:12.791000" elapsed="0.435000"/>
</kw>
<msg time="2024-05-28T12:26:13.227000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:12.791000" elapsed="0.436000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:26:12.790000" elapsed="0.437000"/>
</kw>
<status status="PASS" start="2024-05-28T12:26:03.015000" elapsed="10.212000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:03.014000" elapsed="10.213000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:13.227000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-05-28T12:26:02.959000" elapsed="10.269000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:13.231000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:14.047000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:14.047000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/oct...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:13.229000" elapsed="0.818000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.048000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 28 May 2024 12:26:13 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:14.047000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.049000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:14.048000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:26:14.049000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/oct...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:26:13.228000" elapsed="0.821000"/>
</kw>
<msg time="2024-05-28T12:26:14.049000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "ETag": "\"null\"",
    "CacheControl": "no-cache",
    "ContentType": "application/oct...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:13.228000" elapsed="0.821000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:14.049000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:14.052000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:14.054000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:14.054000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:14.050000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.054000" level="INFO">old1: another key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:14.054000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.055000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:14.055000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:26:14.055000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:14.050000" elapsed="0.005000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:14.055000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:14.058000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:14.059000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:14.060000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:14.056000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.060000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:14.060000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.061000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:14.061000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:14.056000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:26:02.958000" elapsed="11.103000"/>
</test>
<test id="s1-s3-t3" name="Read key created with S3 API using S3 API" line="45">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:26:14.064000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:14.067000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:14.080000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:14.080000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:14.066000" elapsed="0.014000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.081000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:14.080000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.082000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:14.081000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:14.066000" elapsed="0.016000"/>
</kw>
<msg time="2024-05-28T12:26:14.082000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:14.065000" elapsed="0.017000"/>
</kw>
<msg time="2024-05-28T12:26:14.082000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:26:14.065000" elapsed="0.017000"/>
</kw>
<msg time="2024-05-28T12:26:14.083000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:26:14.065000" elapsed="0.018000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.083000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:26:14.083000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:14.087000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:14.120000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:14.120000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:14.085000" elapsed="0.035000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.121000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:14.121000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:14.122000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:14.121000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:14.085000" elapsed="0.037000"/>
</kw>
<msg time="2024-05-28T12:26:14.122000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:14.084000" elapsed="0.038000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:26:14.084000" elapsed="0.038000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:26:14.083000" elapsed="0.039000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:26:14.064000" elapsed="0.059000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:14.063000" elapsed="0.060000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:14.126000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:16.688000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:26:16.688000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:14.124000" elapsed="2.564000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:16.689000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:16.689000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:26:16.690000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:26:14.124000" elapsed="2.566000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:16.690000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:26:16.690000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:26:16.690000" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:16.694000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:19.376000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:19.376000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:16.692000" elapsed="2.684000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:19.377000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:19.376000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:19.378000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:19.377000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:16.692000" elapsed="2.686000"/>
</kw>
<msg time="2024-05-28T12:26:19.378000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:16.691000" elapsed="2.687000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:26:16.691000" elapsed="2.687000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:19.381000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:22.034000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:22.034000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=a891cc29d786df397595e67374b595aeb853876303330e7813e63e1fe02ce89a
isDeleted=false
transactionLogIndex=0</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:19.379000" elapsed="2.655000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.035000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=a891cc29d786df397595e67374b595aeb853876303330e7813e63e1fe02ce89a
isDeleted=false
transactionLogIndex=0</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:22.034000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.036000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:22.035000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:19.379000" elapsed="2.657000"/>
</kw>
<msg time="2024-05-28T12:26:22.036000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:19.379000" elapsed="2.657000"/>
</kw>
<msg time="2024-05-28T12:26:22.036000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=a891cc29d786df397595e67374b595aeb853876303330e7813e63e1fe02ce89a
isDeleted=false
transactionLogIndex=0</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:26:19.378000" elapsed="2.658000"/>
</kw>
<status status="PASS" start="2024-05-28T12:26:16.691000" elapsed="5.345000"/>
</branch>
<status status="PASS" start="2024-05-28T12:26:16.691000" elapsed="5.345000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:26:22.037000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:26:22.037000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.038000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:26:22.037000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:26:22.038000" level="INFO">${secret} = ['a891cc29d786df397595e67374b595aeb853876303330e7813e63e1fe02ce89a']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:26:22.038000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.039000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:26:22.038000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.040000" level="INFO">${secret} = a891cc29d786df397595e67374b595aeb853876303330e7813e63e1fe02ce89a</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:26:22.040000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:22.044000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:22.464000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:22.464000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:22.042000" elapsed="0.422000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.465000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:22.464000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.465000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:22.465000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:22.041000" elapsed="0.424000"/>
</kw>
<msg time="2024-05-28T12:26:22.466000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:22.041000" elapsed="0.425000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:26:22.041000" elapsed="0.425000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:22.469000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:22.890000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:22.890000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:22.467000" elapsed="0.423000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.891000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:22.890000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:22.891000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:22.891000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:22.467000" elapsed="0.425000"/>
</kw>
<msg time="2024-05-28T12:26:22.892000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:22.466000" elapsed="0.426000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:26:22.466000" elapsed="0.426000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:22.895000" level="INFO">Running command 'aws configure set aws_secret_access_key a891cc29d786df397595e67374b595aeb853876303330e7813e63e1fe02ce89a 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:23.340000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:23.340000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:22.893000" elapsed="0.447000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:23.341000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:23.341000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:23.342000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:23.342000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:22.893000" elapsed="0.449000"/>
</kw>
<msg time="2024-05-28T12:26:23.342000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:22.893000" elapsed="0.450000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:26:22.892000" elapsed="0.451000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:23.347000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:23.778000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:23.778000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:23.344000" elapsed="0.434000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:23.779000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:23.778000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:23.779000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:23.779000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:23.344000" elapsed="0.435000"/>
</kw>
<msg time="2024-05-28T12:26:23.780000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:23.343000" elapsed="0.437000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:26:23.343000" elapsed="0.437000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:23.783000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:24.264000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:24.264000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:23.781000" elapsed="0.483000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.265000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:24.264000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.265000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:24.265000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:23.781000" elapsed="0.485000"/>
</kw>
<msg time="2024-05-28T12:26:24.266000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:23.780000" elapsed="0.486000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:26:23.780000" elapsed="0.486000"/>
</kw>
<status status="PASS" start="2024-05-28T12:26:14.123000" elapsed="10.143000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:14.123000" elapsed="10.143000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:24.266000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-05-28T12:26:14.063000" elapsed="10.204000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:24.270000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:24.920000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:24.920000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:24.268000" elapsed="0.652000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.921000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 28 May 2024 12:26:24 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:24.920000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.921000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:24.921000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:26:24.922000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:26:24.268000" elapsed="0.654000"/>
</kw>
<msg time="2024-05-28T12:26:24.922000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:24.267000" elapsed="0.655000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:24.922000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:24.925000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:24.927000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:24.927000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:24.923000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.928000" level="INFO">old1: key created using S3 API</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:24.928000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.929000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:24.929000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:26:24.929000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:24.923000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:24.929000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:24.932000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:24.934000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:24.934000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:24.930000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.935000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:24.934000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:24.935000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:24.935000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:24.930000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:26:14.062000" elapsed="10.874000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-05-28T12:25:57.769000" elapsed="27.168000"/>
</suite>
<suite id="s1-s4" name="1.4.0-1.5.0-1-original-prepare" source="/opt/ozone/smoketest/upgrade/prepare.robot">
<test id="s1-s4-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:26:25.589000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:25.593000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:25.595000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:25.595000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:25.591000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:25.596000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:25.595000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:25.596000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:25.596000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:25.590000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:26:25.597000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:25.590000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:26:25.597000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:26:25.590000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:26:25.597000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:26:25.589000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:26:25.598000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:26:25.597000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:25.601000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:25.644000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:25.644000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:25.599000" elapsed="0.045000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:25.645000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:25.645000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:25.646000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:25.646000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:25.599000" elapsed="0.047000"/>
</kw>
<msg time="2024-05-28T12:26:25.646000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:25.599000" elapsed="0.047000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:26:25.598000" elapsed="0.048000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:26:25.598000" elapsed="0.048000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:26:25.589000" elapsed="0.058000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:26:25.588000" elapsed="0.059000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:26:25.647000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:26:25.650000" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:26:34.103000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:26:34.103000" level="INFO">${output} = Ozone Manager Prepare Request successfully returned with Transaction Id : [35].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:26:25.649000" elapsed="8.454000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:26:34.104000" level="INFO">Ozone Manager Prepare Request successfully returned with Transaction Id : [35].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [35]
OM : [om3], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [35]
OM : [om2], Prepare Status : [PREPARE_COMPLETED], Current Transaction Id : [35]

OM Preparation successful! 
All OMs are prepared
No new write requests will be allowed until preparation is cancelled or upgrade/downgrade is done.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:26:34.103000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:26:34.105000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:26:34.104000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:26:25.648000" elapsed="8.457000"/>
</kw>
<msg time="2024-05-28T12:26:34.105000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:26:25.648000" elapsed="8.457000"/>
</kw>
<msg time="2024-05-28T12:26:34.105000" level="INFO">${result} = Ozone Manager Prepare Request successfully returned with Transaction Id : [35].

Checking individual OM instances for prepare request completion...
OM : [om1], Prepare Status : [PREPARE_COMPLETED], Cu...</msg>
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<status status="PASS" start="2024-05-28T12:26:25.647000" elapsed="8.458000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:26:34.106000" elapsed="0.000000"/>
</kw>
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:26:34.105000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:26:25.587000" elapsed="8.519000"/>
</test>
<doc>Prepares OMs</doc>
<status status="PASS" start="2024-05-28T12:26:25.543000" elapsed="8.565000"/>
</suite>
<suite id="s1-s5" name="1.4.0-1.5.0-2-pre-finalized-validate-old1" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:27:57.810000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:27:57.814000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:27:57.816000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:27:57.816000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:27:57.812000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:27:57.817000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:27:57.816000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:27:57.817000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:27:57.817000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:27:57.812000" elapsed="0.005000"/>
</kw>
<msg time="2024-05-28T12:27:57.818000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:27:57.811000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:27:57.818000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:27:57.811000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:27:57.818000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:27:57.811000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:27:57.818000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:27:57.818000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:27:57.822000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:27:57.839000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:27:57.839000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:27:57.820000" elapsed="0.019000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:27:57.840000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:27:57.839000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:27:57.840000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:27:57.840000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:27:57.820000" elapsed="0.020000"/>
</kw>
<msg time="2024-05-28T12:27:57.840000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:27:57.820000" elapsed="0.020000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:27:57.819000" elapsed="0.022000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:27:57.819000" elapsed="0.022000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:27:57.810000" elapsed="0.031000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:27:57.809000" elapsed="0.032000"/>
</kw>
<test id="s1-s5-t1" name="Read data from previously created key" line="29">
<kw name="Generate Random String" owner="String">
<msg time="2024-05-28T12:27:57.842000" level="INFO">${random} = 90474</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-05-28T12:27:57.842000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:27:57.845000" level="INFO">Running command 'ozone sh key get /old1-volume/old1-bucket/old1-key /tmp/key-90474 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:02.171000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:02.171000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:27:57.844000" elapsed="4.327000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.173000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:02.172000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.174000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:02.173000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:27:57.843000" elapsed="4.331000"/>
</kw>
<msg time="2024-05-28T12:28:02.174000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:27:57.843000" elapsed="4.331000"/>
</kw>
<msg time="2024-05-28T12:28:02.174000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<status status="PASS" start="2024-05-28T12:27:57.842000" elapsed="4.332000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:02.174000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:02.177000" level="INFO">Running command 'cat /tmp/key-90474 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:02.179000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:02.179000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:02.175000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.180000" level="INFO">old1: key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:02.180000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.181000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:02.180000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:02.181000" level="INFO">${output} = old1: key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:02.175000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:02.181000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:02.184000" level="INFO">Running command 'rm /tmp/key-90474 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:02.186000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:02.186000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:02.182000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.187000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:02.186000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.187000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:02.187000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:02.182000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:27:57.841000" elapsed="4.347000"/>
</test>
<test id="s1-s5-t2" name="Read key created with Ozone Shell using S3 API" line="37">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:28:02.190000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:02.193000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:02.196000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:02.196000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:02.192000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.197000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:02.196000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.198000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:02.197000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:02.191000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:02.198000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:02.191000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:02.198000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:28:02.191000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:02.198000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:28:02.190000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.199000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:28:02.199000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:02.203000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:02.220000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:02.220000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:02.201000" elapsed="0.019000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.221000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:02.220000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:02.221000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:02.221000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:02.200000" elapsed="0.022000"/>
</kw>
<msg time="2024-05-28T12:28:02.222000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:02.200000" elapsed="0.022000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:28:02.200000" elapsed="0.022000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:28:02.199000" elapsed="0.023000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:28:02.190000" elapsed="0.032000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:02.189000" elapsed="0.033000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:02.225000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:04.441000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:28:04.441000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:02.224000" elapsed="2.217000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:04.442000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:04.441000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:04.442000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:02.223000" elapsed="2.219000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:04.443000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:28:04.443000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:28:04.443000" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:04.447000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:06.565000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:06.565000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:04.445000" elapsed="2.120000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:06.566000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:06.565000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:06.567000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:06.566000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:04.445000" elapsed="2.122000"/>
</kw>
<msg time="2024-05-28T12:28:06.567000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:04.444000" elapsed="2.124000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:04.444000" elapsed="2.124000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:06.577000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:08.745000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:08.745000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=4386fb2073eaf8db48355b46563c8e69d89e7e02ccdf37f987e7d882f2bff87b</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:06.571000" elapsed="2.174000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:08.746000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=4386fb2073eaf8db48355b46563c8e69d89e7e02ccdf37f987e7d882f2bff87b</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:08.746000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:08.747000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:08.747000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:06.570000" elapsed="2.177000"/>
</kw>
<msg time="2024-05-28T12:28:08.747000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:06.570000" elapsed="2.177000"/>
</kw>
<msg time="2024-05-28T12:28:08.748000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=4386fb2073eaf8db48355b46563c8e69d89e7e02ccdf37f987e7d882f2bff87b</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:06.568000" elapsed="2.180000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:04.444000" elapsed="4.304000"/>
</branch>
<status status="PASS" start="2024-05-28T12:28:04.444000" elapsed="4.304000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:28:08.748000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:28:08.748000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:28:08.749000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:28:08.749000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:28:08.750000" level="INFO">${secret} = ['4386fb2073eaf8db48355b46563c8e69d89e7e02ccdf37f987e7d882f2bff87b']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:28:08.749000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:08.751000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:28:08.750000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:08.752000" level="INFO">${secret} = 4386fb2073eaf8db48355b46563c8e69d89e7e02ccdf37f987e7d882f2bff87b</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:28:08.751000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:08.755000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:09.171000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:09.171000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:08.753000" elapsed="0.418000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:09.172000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:09.171000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:09.172000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:09.172000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:08.753000" elapsed="0.420000"/>
</kw>
<msg time="2024-05-28T12:28:09.173000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:08.752000" elapsed="0.421000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:28:08.752000" elapsed="0.421000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:09.176000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:09.597000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:09.597000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:09.174000" elapsed="0.423000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:09.598000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:09.598000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:09.599000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:09.599000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:09.174000" elapsed="0.425000"/>
</kw>
<msg time="2024-05-28T12:28:09.599000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:09.174000" elapsed="0.425000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:28:09.173000" elapsed="0.426000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:09.603000" level="INFO">Running command 'aws configure set aws_secret_access_key 4386fb2073eaf8db48355b46563c8e69d89e7e02ccdf37f987e7d882f2bff87b 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:10.024000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:10.024000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:09.601000" elapsed="0.423000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:10.025000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:10.025000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:10.026000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:10.026000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:09.600000" elapsed="0.426000"/>
</kw>
<msg time="2024-05-28T12:28:10.027000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:09.600000" elapsed="0.427000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:28:09.600000" elapsed="0.427000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:10.031000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:10.469000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:10.470000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:10.029000" elapsed="0.441000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:10.471000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:10.470000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:10.471000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:10.471000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:10.028000" elapsed="0.443000"/>
</kw>
<msg time="2024-05-28T12:28:10.472000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:10.028000" elapsed="0.444000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:28:10.027000" elapsed="0.445000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:10.475000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:10.906000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:10.906000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:10.473000" elapsed="0.433000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:10.907000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:10.907000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:10.909000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:10.908000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:10.473000" elapsed="0.436000"/>
</kw>
<msg time="2024-05-28T12:28:10.909000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:10.472000" elapsed="0.437000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:28:10.472000" elapsed="0.437000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:02.223000" elapsed="8.686000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:02.222000" elapsed="8.687000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:10.909000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:02.189000" elapsed="8.721000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:10.913000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:13.275000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:13.275000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:10.911000" elapsed="2.364000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.276000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 28 May 2024 12:28:11 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:13.276000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.277000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:13.276000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:13.277000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:28:10.911000" elapsed="2.366000"/>
</kw>
<msg time="2024-05-28T12:28:13.277000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:48 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:10.910000" elapsed="2.367000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:13.278000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:13.280000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:13.282000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:13.282000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:13.279000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.283000" level="INFO">old1: another key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:13.283000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.284000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:13.284000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:28:13.284000" level="INFO">${output} = old1: another key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:13.278000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:13.284000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:13.287000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:13.289000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:13.289000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:13.285000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.290000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:13.289000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.291000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:13.290000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:13.285000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:02.188000" elapsed="11.103000"/>
</test>
<test id="s1-s5-t3" name="Read key created with S3 API using S3 API" line="45">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:28:13.294000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:13.297000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:13.300000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:13.300000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:13.295000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.300000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:13.300000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.301000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:13.301000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:13.295000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:13.302000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:13.295000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:13.302000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:28:13.294000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:28:13.302000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:28:13.294000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.303000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:28:13.302000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:13.306000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:13.335000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:13.335000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:13.304000" elapsed="0.031000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.337000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:13.336000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:13.338000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:13.337000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:13.304000" elapsed="0.034000"/>
</kw>
<msg time="2024-05-28T12:28:13.338000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:13.304000" elapsed="0.034000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:28:13.303000" elapsed="0.036000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:28:13.303000" elapsed="0.036000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:28:13.293000" elapsed="0.046000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:13.293000" elapsed="0.046000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:13.343000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:15.464000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:28:15.464000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:13.341000" elapsed="2.123000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:15.465000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:15.464000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:15.465000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:13.340000" elapsed="2.125000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:15.466000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:28:15.466000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:28:15.465000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:15.470000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:17.964000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:17.964000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:15.468000" elapsed="2.496000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:17.965000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:17.964000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:17.966000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:17.965000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:15.468000" elapsed="2.498000"/>
</kw>
<msg time="2024-05-28T12:28:17.966000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:15.467000" elapsed="2.499000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:15.467000" elapsed="2.499000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:17.970000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:19.980000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:19.980000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=d4d023542457fa80014da289fb00f5cf44fe6e5ad446c0664e374d7753d7d502</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:17.968000" elapsed="2.012000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:19.981000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=d4d023542457fa80014da289fb00f5cf44fe6e5ad446c0664e374d7753d7d502</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:19.980000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:19.982000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:19.981000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:17.967000" elapsed="2.015000"/>
</kw>
<msg time="2024-05-28T12:28:19.982000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:17.967000" elapsed="2.015000"/>
</kw>
<msg time="2024-05-28T12:28:19.982000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=d4d023542457fa80014da289fb00f5cf44fe6e5ad446c0664e374d7753d7d502</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:17.966000" elapsed="2.016000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:15.466000" elapsed="4.516000"/>
</branch>
<status status="PASS" start="2024-05-28T12:28:15.466000" elapsed="4.517000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:28:19.983000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:28:19.983000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:28:19.984000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:28:19.983000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:28:19.984000" level="INFO">${secret} = ['d4d023542457fa80014da289fb00f5cf44fe6e5ad446c0664e374d7753d7d502']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:28:19.984000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:19.985000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:28:19.984000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:19.986000" level="INFO">${secret} = d4d023542457fa80014da289fb00f5cf44fe6e5ad446c0664e374d7753d7d502</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:28:19.986000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:19.989000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:20.442000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:20.442000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:19.988000" elapsed="0.454000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:20.443000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:20.443000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:20.444000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:20.443000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:19.987000" elapsed="0.457000"/>
</kw>
<msg time="2024-05-28T12:28:20.444000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:19.987000" elapsed="0.457000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:28:19.987000" elapsed="0.457000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:20.447000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:20.871000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:20.871000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:20.445000" elapsed="0.426000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:20.872000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:20.872000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:20.873000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:20.873000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:20.445000" elapsed="0.428000"/>
</kw>
<msg time="2024-05-28T12:28:20.873000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:20.445000" elapsed="0.428000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:28:20.444000" elapsed="0.429000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:20.876000" level="INFO">Running command 'aws configure set aws_secret_access_key d4d023542457fa80014da289fb00f5cf44fe6e5ad446c0664e374d7753d7d502 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:21.358000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:21.358000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:20.875000" elapsed="0.484000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:21.359000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:21.359000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:21.360000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:21.360000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:20.874000" elapsed="0.486000"/>
</kw>
<msg time="2024-05-28T12:28:21.360000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:20.874000" elapsed="0.487000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:28:20.874000" elapsed="0.487000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:21.364000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:21.779000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:21.779000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:21.362000" elapsed="0.417000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:21.780000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:21.780000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:21.781000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:21.780000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:21.362000" elapsed="0.419000"/>
</kw>
<msg time="2024-05-28T12:28:21.781000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:21.361000" elapsed="0.420000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:28:21.361000" elapsed="0.420000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:21.784000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:22.243000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:22.243000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:21.783000" elapsed="0.460000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.244000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:22.244000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.245000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:22.244000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:21.782000" elapsed="0.463000"/>
</kw>
<msg time="2024-05-28T12:28:22.245000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:21.782000" elapsed="0.463000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:28:21.781000" elapsed="0.464000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:13.340000" elapsed="8.905000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:13.339000" elapsed="8.906000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:22.246000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:13.292000" elapsed="8.954000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:22.249000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket old1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:22.846000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:22.846000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:22.247000" elapsed="0.599000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.847000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 28 May 2024 12:28:22 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:22.846000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.848000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:22.847000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:22.848000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:28:22.247000" elapsed="0.601000"/>
</kw>
<msg time="2024-05-28T12:28:22.848000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:25:57 GMT",
    "ContentLength": 31,
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:22.246000" elapsed="0.602000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:22.848000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:22.851000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:22.853000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:22.853000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:22.849000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.854000" level="INFO">old1: key created using S3 API</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:22.853000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.854000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:22.854000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:22.855000" level="INFO">${output} = old1: key created using S3 API</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:22.849000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:22.855000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:22.857000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:22.859000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:22.859000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:22.856000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.860000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:22.860000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:22.861000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:22.860000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:22.855000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:13.292000" elapsed="9.569000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-05-28T12:27:57.731000" elapsed="25.131000"/>
</suite>
<suite id="s1-s6" name="1.4.0-1.5.0-2-pre-finalized-generate-old1" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:28:23.572000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:23.576000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:23.579000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:23.579000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:23.574000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.579000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:23.579000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.580000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:23.580000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:23.574000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:28:23.580000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:23.574000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:28:23.581000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:28:23.573000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:28:23.581000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:28:23.573000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.581000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:28:23.581000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:23.584000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:23.600000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:23.600000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:23.583000" elapsed="0.017000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.601000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:23.600000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.601000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:23.601000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:23.583000" elapsed="0.018000"/>
</kw>
<msg time="2024-05-28T12:28:23.601000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:23.582000" elapsed="0.020000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:28:23.582000" elapsed="0.020000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:28:23.582000" elapsed="0.020000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:28:23.572000" elapsed="0.030000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:23.571000" elapsed="0.031000"/>
</kw>
<test id="s1-s6-t1" name="Create key" line="36">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:23.605000" level="INFO">Running command 'echo "old1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:28:23.606000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:23.606000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:23.603000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.607000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:23.607000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:23.608000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:23.607000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:23.603000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:23.611000" level="INFO">Running command 'ozone sh key put /old1-volume/old1-bucket/old1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:28.345000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:28.345000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:23.609000" elapsed="4.736000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:28.346000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:28.345000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:28.347000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:28.346000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:23.609000" elapsed="4.738000"/>
</kw>
<msg time="2024-05-28T12:28:28.347000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:23.609000" elapsed="4.738000"/>
</kw>
<msg time="2024-05-28T12:28:28.347000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<status status="PASS" start="2024-05-28T12:28:23.608000" elapsed="4.739000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:28.347000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:28.350000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:28.352000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:28.352000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:28.348000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:28.353000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:28.352000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:28.353000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:28.353000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:28.348000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:23.602000" elapsed="4.751000"/>
</test>
<test id="s1-s6-t2" name="Create key in the bucket in s3v volume" line="47">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:28.356000" level="INFO">Running command 'echo "old1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:28:28.358000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:28.358000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:28.355000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:28.359000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:28.358000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:28.359000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:28.359000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:28.355000" elapsed="0.004000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:28.362000" level="INFO">Running command 'ozone sh key put /s3v/old1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:32.582000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:32.582000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:28.361000" elapsed="4.221000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.583000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:32.583000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.584000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:32.584000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:28.360000" elapsed="4.224000"/>
</kw>
<msg time="2024-05-28T12:28:32.584000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:28.360000" elapsed="4.224000"/>
</kw>
<msg time="2024-05-28T12:28:32.585000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<status status="PASS" start="2024-05-28T12:28:28.359000" elapsed="4.226000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:32.585000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:32.587000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:32.589000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:32.589000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:32.586000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.590000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:32.590000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.591000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:32.591000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:32.585000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:28.354000" elapsed="4.237000"/>
</test>
<test id="s1-s6-t3" name="Try to create a bucket using S3 API" line="53">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:28:32.594000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:32.597000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:32.600000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:32.600000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:32.596000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.601000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:32.600000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.601000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:32.601000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:32.595000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:28:32.601000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:32.595000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:28:32.602000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:28:32.595000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:32.602000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:28:32.594000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.602000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:28:32.602000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:32.606000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:32.620000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:32.621000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:32.604000" elapsed="0.017000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.622000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:32.621000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:32.622000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:32.622000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:32.604000" elapsed="0.018000"/>
</kw>
<msg time="2024-05-28T12:28:32.622000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:32.603000" elapsed="0.020000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:28:32.603000" elapsed="0.020000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:28:32.603000" elapsed="0.020000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:28:32.593000" elapsed="0.030000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:32.593000" elapsed="0.030000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:32.626000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:34.752000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:28:34.753000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:32.624000" elapsed="2.129000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:34.754000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:34.753000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:34.754000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:32.624000" elapsed="2.130000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:34.755000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:34.756000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:28:34.755000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:34.762000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:36.945000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:36.945000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:34.758000" elapsed="2.187000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:36.946000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:36.945000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:36.946000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:36.946000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:34.757000" elapsed="2.189000"/>
</kw>
<msg time="2024-05-28T12:28:36.946000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:34.757000" elapsed="2.190000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:34.756000" elapsed="2.191000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:36.950000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:39" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:39" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=fb88f6e3d8abed9b847921c8e19fb7a0980d553a7216eb408870cfc8e5a9953a</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:36.948000" elapsed="2.052000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.001000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=fb88f6e3d8abed9b847921c8e19fb7a0980d553a7216eb408870cfc8e5a9953a</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:39.001000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.002000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:39.002000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:36.948000" elapsed="2.054000"/>
</kw>
<msg time="2024-05-28T12:28:39.002000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:36.947000" elapsed="2.055000"/>
</kw>
<msg time="2024-05-28T12:28:39.002000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=fb88f6e3d8abed9b847921c8e19fb7a0980d553a7216eb408870cfc8e5a9953a</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:28:36.947000" elapsed="2.055000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:34.756000" elapsed="4.246000"/>
</branch>
<status status="PASS" start="2024-05-28T12:28:34.756000" elapsed="4.247000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:28:39.003000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:28:39.003000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.004000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:28:39.003000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:28:39.004000" level="INFO">${secret} = ['fb88f6e3d8abed9b847921c8e19fb7a0980d553a7216eb408870cfc8e5a9953a']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:28:39.004000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.006000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:28:39.005000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.007000" level="INFO">${secret} = fb88f6e3d8abed9b847921c8e19fb7a0980d553a7216eb408870cfc8e5a9953a</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:28:39.006000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:39.010000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:39.427000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:39.427000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:39.008000" elapsed="0.419000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.428000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:39.428000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.429000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:39.429000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:39.007000" elapsed="0.422000"/>
</kw>
<msg time="2024-05-28T12:28:39.429000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:39.007000" elapsed="0.422000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:28:39.007000" elapsed="0.422000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:39.432000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:39.853000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:39.853000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:39.431000" elapsed="0.422000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.854000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:39.854000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:39.855000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:39.854000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:39.430000" elapsed="0.425000"/>
</kw>
<msg time="2024-05-28T12:28:39.855000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:39.430000" elapsed="0.425000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:28:39.430000" elapsed="0.425000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:39.859000" level="INFO">Running command 'aws configure set aws_secret_access_key fb88f6e3d8abed9b847921c8e19fb7a0980d553a7216eb408870cfc8e5a9953a 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:40.271000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:40.271000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:39.857000" elapsed="0.415000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:40.273000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:40.272000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:40.274000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:40.273000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:39.856000" elapsed="0.418000"/>
</kw>
<msg time="2024-05-28T12:28:40.274000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:39.856000" elapsed="0.418000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:28:39.856000" elapsed="0.418000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:40.277000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:40.700000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:40.700000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:40.275000" elapsed="0.425000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:40.701000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:40.701000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:40.702000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:40.702000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:40.275000" elapsed="0.427000"/>
</kw>
<msg time="2024-05-28T12:28:40.702000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:40.275000" elapsed="0.427000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:28:40.274000" elapsed="0.428000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:40.706000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:41.128000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:41.128000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:40.704000" elapsed="0.424000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:41.129000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:41.128000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:41.129000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:41.129000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:40.703000" elapsed="0.427000"/>
</kw>
<msg time="2024-05-28T12:28:41.130000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:40.703000" elapsed="0.427000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:28:40.703000" elapsed="0.427000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:32.623000" elapsed="8.507000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:32.623000" elapsed="8.507000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:41.130000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-05-28T12:28:32.592000" elapsed="8.539000"/>
</kw>
<kw name="Generate Ozone String" owner="commonawslib">
<kw name="Generate Random String" owner="String">
<msg time="2024-05-28T12:28:41.132000" level="INFO">${randStr} = 9355697551</msg>
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-05-28T12:28:41.131000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:41.132000" level="INFO">${random} = ozone-test-9355697551</msg>
<var>${random}</var>
<status status="PASS" start="2024-05-28T12:28:41.131000" elapsed="0.001000"/>
</kw>
<kw name="Create bucket with name" owner="commonawslib">
<kw name="Execute AWSS3APICli" owner="commonawslib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:41.136000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket old1-bucket-ozone-test-9355697551 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:41.719000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:41.720000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9355697551"
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:41.134000" elapsed="0.586000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:41.721000" level="INFO">{
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9355697551"
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:41.720000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:41.721000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:41.721000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:41.134000" elapsed="0.587000"/>
</kw>
<msg time="2024-05-28T12:28:41.721000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:41.134000" elapsed="0.587000"/>
</kw>
<msg time="2024-05-28T12:28:41.722000" level="INFO">${output} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9355697551"
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<status status="PASS" start="2024-05-28T12:28:41.133000" elapsed="0.589000"/>
</kw>
<msg time="2024-05-28T12:28:41.722000" level="INFO">${result} = {
    "Location": "http://s3g:9878/old1-bucket-ozone-test-9355697551"
}</msg>
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<status status="PASS" start="2024-05-28T12:28:41.133000" elapsed="0.589000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:41.722000" elapsed="0.000000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:41.722000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:41.723000" level="INFO">${output} = None</msg>
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<status status="PASS" start="2024-05-28T12:28:41.132000" elapsed="0.591000"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2024-05-28T12:28:41.723000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:32.592000" elapsed="9.132000"/>
</test>
<test id="s1-s6-t4" name="Create key using S3 API" line="60">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:41.727000" level="INFO">Running command 'echo "old1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:28:41.728000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:41.728000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:41.725000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:41.729000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:41.729000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:41.730000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:41.729000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:41.725000" elapsed="0.005000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:41.733000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket old1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:42.514000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:42.515000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:41.731000" elapsed="0.784000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:42.516000" level="INFO">{
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:42.515000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:42.517000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:42.516000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:28:42.517000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:28:41.731000" elapsed="0.786000"/>
</kw>
<msg time="2024-05-28T12:28:42.517000" level="INFO">${output} = {
    "ETag": "\"ccf270711bab7044e5649ddb2501bfdf\""
}</msg>
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:41.730000" elapsed="0.787000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:42.517000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:42.521000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:42.523000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:42.523000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:42.519000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:42.524000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:42.523000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:42.524000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:42.524000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:42.518000" elapsed="0.007000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:41.724000" elapsed="0.801000"/>
</test>
<doc>Generate data</doc>
<status status="PASS" start="2024-05-28T12:28:23.491000" elapsed="19.035000"/>
</suite>
<suite id="s1-s7" name="1.4.0-1.5.0-2-pre-finalized-generate-new1" source="/opt/hadoop/smoketest/upgrade/generate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:28:43.241000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:43.245000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:43.247000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:43.247000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:43.243000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:43.248000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:43.248000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:43.248000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:43.248000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:43.243000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:28:43.249000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:43.242000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:43.249000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:28:43.242000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:28:43.249000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:28:43.242000" elapsed="0.007000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:28:43.250000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:28:43.249000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:43.253000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:43.280000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:43.280000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:43.251000" elapsed="0.029000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:43.281000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:43.280000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:43.281000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:43.281000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:43.251000" elapsed="0.030000"/>
</kw>
<msg time="2024-05-28T12:28:43.281000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:43.251000" elapsed="0.031000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:28:43.250000" elapsed="0.032000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:28:43.250000" elapsed="0.032000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:28:43.241000" elapsed="0.041000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:28:43.240000" elapsed="0.042000"/>
</kw>
<test id="s1-s7-t1" name="Create a volume and bucket" line="29">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:43.286000" level="INFO">Running command 'ozone sh volume create new1-volume 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:46.150000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:46.150000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:43.284000" elapsed="2.866000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:46.151000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:46.150000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:46.152000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:46.151000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:43.284000" elapsed="2.868000"/>
</kw>
<msg time="2024-05-28T12:28:46.152000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:43.283000" elapsed="2.869000"/>
</kw>
<msg time="2024-05-28T12:28:46.152000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh volume create ${PREFIX}-volume</arg>
<status status="PASS" start="2024-05-28T12:28:43.283000" elapsed="2.869000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:46.153000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:46.157000" level="INFO">Running command 'ozone sh bucket create /new1-volume/new1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:49.099000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:49.099000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:46.155000" elapsed="2.944000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:49.100000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:49.099000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:49.100000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:49.100000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:46.154000" elapsed="2.947000"/>
</kw>
<msg time="2024-05-28T12:28:49.101000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:46.154000" elapsed="2.947000"/>
</kw>
<msg time="2024-05-28T12:28:49.101000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /${PREFIX}-volume/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-05-28T12:28:46.153000" elapsed="2.948000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:49.101000" elapsed="0.000000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:43.282000" elapsed="5.819000"/>
</test>
<test id="s1-s7-t2" name="Create key" line="36">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:49.105000" level="INFO">Running command 'echo "new1: key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:28:49.106000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:49.106000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:49.103000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:49.107000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:49.107000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:49.108000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:49.107000" elapsed="0.001000"/>
</kw>
<arg>echo "${PREFIX}: key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:49.103000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:49.111000" level="INFO">Running command 'ozone sh key put /new1-volume/new1-bucket/new1-key /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:53.638000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:53.638000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:49.110000" elapsed="4.528000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:53.639000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:53.638000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:53.639000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:53.639000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:49.109000" elapsed="4.530000"/>
</kw>
<msg time="2024-05-28T12:28:53.640000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:49.109000" elapsed="4.531000"/>
</kw>
<msg time="2024-05-28T12:28:53.640000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/sourcekey</arg>
<status status="PASS" start="2024-05-28T12:28:49.108000" elapsed="4.532000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:53.640000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:53.643000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:53.645000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:53.645000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:53.641000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:53.645000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:53.645000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:53.646000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:53.646000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:53.640000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:49.102000" elapsed="4.545000"/>
</test>
<test id="s1-s7-t3" name="Create a bucket in s3v volume" line="42">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:53.651000" level="INFO">Running command 'ozone sh bucket create /s3v/new1-bucket 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:28:56.469000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:56.469000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:53.649000" elapsed="2.820000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:56.470000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:56.469000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:56.470000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:56.470000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:53.649000" elapsed="2.822000"/>
</kw>
<msg time="2024-05-28T12:28:56.471000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:53.648000" elapsed="2.823000"/>
</kw>
<msg time="2024-05-28T12:28:56.471000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh bucket create /s3v/${PREFIX}-bucket</arg>
<status status="PASS" start="2024-05-28T12:28:53.648000" elapsed="2.823000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:28:56.471000" elapsed="0.000000"/>
</kw>
<tag>create-volume-and-bucket</tag>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:53.647000" elapsed="2.825000"/>
</test>
<test id="s1-s7-t4" name="Create key in the bucket in s3v volume" line="47">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:56.475000" level="INFO">Running command 'echo "new1: another key created using Ozone Shell" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:28:56.477000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:28:56.477000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:56.474000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:28:56.478000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:28:56.477000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:28:56.478000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:28:56.478000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: another key created using Ozone Shell" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:56.473000" elapsed="0.005000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:28:56.481000" level="INFO">Running command 'ozone sh key put /s3v/new1-bucket/key1-shell /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:00.786000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:00.786000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:28:56.480000" elapsed="4.306000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.787000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:00.787000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.788000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:00.787000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:28:56.479000" elapsed="4.309000"/>
</kw>
<msg time="2024-05-28T12:29:00.788000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:28:56.479000" elapsed="4.309000"/>
</kw>
<msg time="2024-05-28T12:29:00.788000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key put /s3v/${PREFIX}-bucket/key1-shell /tmp/sourcekey</arg>
<status status="PASS" start="2024-05-28T12:28:56.479000" elapsed="4.309000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:00.789000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:00.791000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:00.793000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:00.793000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:00.789000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.794000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:00.794000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.795000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:00.794000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:00.789000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:28:56.472000" elapsed="4.323000"/>
</test>
<test id="s1-s7-t5" name="Try to create a bucket using S3 API" line="53">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:29:00.797000" elapsed="0.001000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:00.801000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:00.803000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:00.803000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:00.799000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.804000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:00.804000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.805000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:00.804000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:00.799000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:29:00.805000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:00.798000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:00.805000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:29:00.798000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:00.806000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:29:00.798000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.806000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:29:00.806000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:00.809000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:00.834000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:00.834000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:00.808000" elapsed="0.026000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.835000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:00.835000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:00.836000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:00.835000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:00.807000" elapsed="0.029000"/>
</kw>
<msg time="2024-05-28T12:29:00.836000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:00.807000" elapsed="0.029000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:29:00.807000" elapsed="0.029000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:29:00.806000" elapsed="0.030000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:29:00.797000" elapsed="0.039000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:00.797000" elapsed="0.039000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:00.840000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:02.921000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:29:02.921000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:00.838000" elapsed="2.083000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:02.922000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:02.922000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:02.923000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:00.837000" elapsed="2.086000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:02.923000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:02.924000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:29:02.923000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:02.927000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:05.032000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:05.032000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:02.925000" elapsed="2.107000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:05.033000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:05.033000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:05.034000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:05.033000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:02.925000" elapsed="2.109000"/>
</kw>
<msg time="2024-05-28T12:29:05.034000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:02.925000" elapsed="2.109000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:02.924000" elapsed="2.110000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:05.038000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:07.318000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:07.318000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=860baefbb9f592046973dab8d9f469bebe67ce520d7188293d9d019ca335c693</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:05.036000" elapsed="2.282000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.319000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=860baefbb9f592046973dab8d9f469bebe67ce520d7188293d9d019ca335c693</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:07.319000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.320000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:07.320000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:05.035000" elapsed="2.285000"/>
</kw>
<msg time="2024-05-28T12:29:07.320000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:05.035000" elapsed="2.285000"/>
</kw>
<msg time="2024-05-28T12:29:07.320000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=860baefbb9f592046973dab8d9f469bebe67ce520d7188293d9d019ca335c693</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:05.034000" elapsed="2.287000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:02.924000" elapsed="4.397000"/>
</branch>
<status status="PASS" start="2024-05-28T12:29:02.924000" elapsed="4.397000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:29:07.321000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:29:07.321000" elapsed="0.000000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.322000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:29:07.322000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:29:07.322000" level="INFO">${secret} = ['860baefbb9f592046973dab8d9f469bebe67ce520d7188293d9d019ca335c693']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:29:07.322000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.324000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:29:07.323000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.325000" level="INFO">${secret} = 860baefbb9f592046973dab8d9f469bebe67ce520d7188293d9d019ca335c693</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:29:07.324000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:07.329000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:07.743000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:07.743000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:07.326000" elapsed="0.417000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.744000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:07.743000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:07.745000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:07.744000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:07.326000" elapsed="0.419000"/>
</kw>
<msg time="2024-05-28T12:29:07.745000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:07.325000" elapsed="0.420000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:29:07.325000" elapsed="0.420000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:07.749000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:08.189000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:08.189000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:07.747000" elapsed="0.443000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:08.191000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:08.190000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:08.191000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:08.191000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:07.746000" elapsed="0.445000"/>
</kw>
<msg time="2024-05-28T12:29:08.192000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:07.746000" elapsed="0.446000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:29:07.746000" elapsed="0.446000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:08.195000" level="INFO">Running command 'aws configure set aws_secret_access_key 860baefbb9f592046973dab8d9f469bebe67ce520d7188293d9d019ca335c693 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:08.624000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:08.624000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:08.193000" elapsed="0.431000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:08.625000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:08.625000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:08.626000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:08.626000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:08.193000" elapsed="0.433000"/>
</kw>
<msg time="2024-05-28T12:29:08.626000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:08.192000" elapsed="0.434000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:29:08.192000" elapsed="0.434000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:08.630000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:09.042000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:09.042000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:08.628000" elapsed="0.414000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:09.043000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:09.043000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:09.044000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:09.043000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:08.627000" elapsed="0.417000"/>
</kw>
<msg time="2024-05-28T12:29:09.044000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:08.627000" elapsed="0.417000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:29:08.627000" elapsed="0.417000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:09.048000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:09.473000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:09.473000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:09.046000" elapsed="0.427000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:09.474000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:09.473000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:09.474000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:09.474000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:09.045000" elapsed="0.430000"/>
</kw>
<msg time="2024-05-28T12:29:09.475000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:09.045000" elapsed="0.430000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:29:09.044000" elapsed="0.431000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:00.837000" elapsed="8.638000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:00.837000" elapsed="8.638000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:09.475000" elapsed="0.001000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:00.796000" elapsed="8.680000"/>
</kw>
<kw name="Generate Ozone String" owner="commonawslib">
<kw name="Generate Random String" owner="String">
<msg time="2024-05-28T12:29:09.477000" level="INFO">${randStr} = 3091337662</msg>
<var>${randStr}</var>
<arg>10</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-05-28T12:29:09.476000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:09.477000" level="INFO">${random} = ozone-test-3091337662</msg>
<var>${random}</var>
<status status="PASS" start="2024-05-28T12:29:09.476000" elapsed="0.001000"/>
</kw>
<kw name="Create bucket with name" owner="commonawslib">
<kw name="Execute AWSS3APICli" owner="commonawslib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:09.481000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 create-bucket --bucket new1-bucket-ozone-test-3091337662 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:10.002000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:10.002000" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-3091337662"
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:09.479000" elapsed="0.523000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.003000" level="INFO">{
    "Location": "http://s3g:9878/new1-bucket-ozone-test-3091337662"
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:10.002000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.003000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:10.003000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:09.479000" elapsed="0.525000"/>
</kw>
<msg time="2024-05-28T12:29:10.004000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:09.478000" elapsed="0.526000"/>
</kw>
<msg time="2024-05-28T12:29:10.004000" level="INFO">${output} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-3091337662"
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<status status="PASS" start="2024-05-28T12:29:09.478000" elapsed="0.526000"/>
</kw>
<msg time="2024-05-28T12:29:10.004000" level="INFO">${result} = {
    "Location": "http://s3g:9878/new1-bucket-ozone-test-3091337662"
}</msg>
<var>${result}</var>
<arg>create-bucket --bucket ${bucket}</arg>
<status status="PASS" start="2024-05-28T12:29:09.478000" elapsed="0.526000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>Location</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:10.004000" elapsed="0.001000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>${bucket}</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:10.005000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:10.005000" level="INFO">${output} = None</msg>
<var>${output}</var>
<arg>${PREFIX}-bucket-${random}</arg>
<status status="PASS" start="2024-05-28T12:29:09.477000" elapsed="0.528000"/>
</kw>
<kw name="Should Be Equal" owner="BuiltIn">
<arg>${output}</arg>
<arg>${None}</arg>
<doc>Fails if the given objects are unequal.</doc>
<status status="PASS" start="2024-05-28T12:29:10.005000" elapsed="0.001000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:29:00.796000" elapsed="9.210000"/>
</test>
<test id="s1-s7-t6" name="Create key using S3 API" line="60">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:10.009000" level="INFO">Running command 'echo "new1: key created using S3 API" &gt; /tmp/sourcekey'.</msg>
<msg time="2024-05-28T12:29:10.011000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:10.011000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:10.007000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.011000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:10.011000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.012000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:10.012000" elapsed="0.000000"/>
</kw>
<arg>echo "${PREFIX}: key created using S3 API" &gt; /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:10.007000" elapsed="0.005000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:10.015000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 put-object --bucket new1-bucket --key key2-s3api --body /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:10.714000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:10.714000" level="INFO">${output} = {
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:10.013000" elapsed="0.701000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.716000" level="INFO">{
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:10.715000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.716000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:10.716000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:10.717000" level="INFO">${output} = {
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:29:10.013000" elapsed="0.704000"/>
</kw>
<msg time="2024-05-28T12:29:10.717000" level="INFO">${output} = {
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\""
}</msg>
<var>${output}</var>
<arg>put-object --bucket ${PREFIX}-bucket --key key2-s3api --body /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:10.012000" elapsed="0.705000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>error</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:10.717000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:10.720000" level="INFO">Running command 'rm /tmp/sourcekey 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:10.722000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:10.722000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:10.718000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.723000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:10.722000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:10.723000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:10.723000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/sourcekey</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:10.718000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:29:10.006000" elapsed="0.718000"/>
</test>
<doc>Generate data</doc>
<status status="PASS" start="2024-05-28T12:28:43.143000" elapsed="27.582000"/>
</suite>
<suite id="s1-s8" name="1.4.0-1.5.0-2-pre-finalized-validate-new1" source="/opt/hadoop/smoketest/upgrade/validate.robot">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:29:11.446000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:11.449000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:11.452000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:11.452000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:11.447000" elapsed="0.005000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:11.453000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:11.453000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:11.453000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:11.453000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:11.447000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:11.454000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:11.447000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:11.454000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:29:11.447000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:11.454000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:29:11.446000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:11.455000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:29:11.455000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:11.460000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:11.475000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:11.475000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:11.458000" elapsed="0.017000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:11.476000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:11.476000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:11.476000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:11.476000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:11.457000" elapsed="0.020000"/>
</kw>
<msg time="2024-05-28T12:29:11.477000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:11.457000" elapsed="0.020000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:29:11.456000" elapsed="0.021000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:29:11.456000" elapsed="0.021000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:29:11.446000" elapsed="0.031000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:11.445000" elapsed="0.032000"/>
</kw>
<test id="s1-s8-t1" name="Read data from previously created key" line="29">
<kw name="Generate Random String" owner="String">
<msg time="2024-05-28T12:29:11.479000" level="INFO">${random} = 20016</msg>
<var>${random}</var>
<arg>5</arg>
<arg>[NUMBERS]</arg>
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<status status="PASS" start="2024-05-28T12:29:11.478000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:11.482000" level="INFO">Running command 'ozone sh key get /new1-volume/new1-bucket/new1-key /tmp/key-20016 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:15.424000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:15.424000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:11.480000" elapsed="3.944000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.425000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:15.424000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.425000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:15.425000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:11.480000" elapsed="3.946000"/>
</kw>
<msg time="2024-05-28T12:29:15.426000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:11.480000" elapsed="3.946000"/>
</kw>
<msg time="2024-05-28T12:29:15.426000" level="INFO">${output} = </msg>
<var>${output}</var>
<arg>ozone sh key get /${PREFIX}-volume/${PREFIX}-bucket/${PREFIX}-key /tmp/key-${random}</arg>
<status status="PASS" start="2024-05-28T12:29:11.479000" elapsed="3.947000"/>
</kw>
<kw name="Should Not Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>Failed</arg>
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:15.426000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:15.429000" level="INFO">Running command 'cat /tmp/key-20016 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:15.431000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:15.431000" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:15.427000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.432000" level="INFO">new1: key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:15.431000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.432000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:15.432000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:15.433000" level="INFO">${output} = new1: key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:15.427000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:15.433000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:15.435000" level="INFO">Running command 'rm /tmp/key-20016 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:15.437000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:15.438000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:15.434000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.438000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:15.438000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.439000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:15.439000" elapsed="0.000000"/>
</kw>
<arg>rm /tmp/key-${random}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:15.433000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:29:11.478000" elapsed="3.961000"/>
</test>
<test id="s1-s8-t2" name="Read key created with Ozone Shell using S3 API" line="37">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:29:15.442000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:15.445000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:15.447000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:15.447000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:15.444000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.448000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:15.448000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.449000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:15.448000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:15.443000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:29:15.449000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:15.443000" elapsed="0.006000"/>
</kw>
<msg time="2024-05-28T12:29:15.449000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:29:15.442000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:15.450000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:29:15.442000" elapsed="0.008000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.450000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:29:15.450000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:15.454000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:15.488000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:15.488000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:15.452000" elapsed="0.036000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.489000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:15.488000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:15.489000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:15.489000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:15.451000" elapsed="0.039000"/>
</kw>
<msg time="2024-05-28T12:29:15.490000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:15.451000" elapsed="0.039000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:29:15.451000" elapsed="0.039000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:29:15.450000" elapsed="0.040000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:29:15.441000" elapsed="0.049000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:15.441000" elapsed="0.049000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:15.493000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:17.917000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:29:17.917000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:15.491000" elapsed="2.426000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:17.918000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:17.917000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:17.918000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:15.491000" elapsed="2.427000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:17.919000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:17.919000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:29:17.918000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:17.923000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:20.101000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:20.101000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:17.921000" elapsed="2.180000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:20.102000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:20.101000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:20.102000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:20.102000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:17.920000" elapsed="2.183000"/>
</kw>
<msg time="2024-05-28T12:29:20.103000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:17.920000" elapsed="2.183000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:17.919000" elapsed="2.184000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:20.106000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:22.409000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:22.409000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=a730b7a3480cd2c4e1fc5faebbbe167e404d718add5bd72566b771597682e4cf</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:20.104000" elapsed="2.305000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.410000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=a730b7a3480cd2c4e1fc5faebbbe167e404d718add5bd72566b771597682e4cf</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:22.410000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.411000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:22.411000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:20.104000" elapsed="2.307000"/>
</kw>
<msg time="2024-05-28T12:29:22.411000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:20.104000" elapsed="2.308000"/>
</kw>
<msg time="2024-05-28T12:29:22.412000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=a730b7a3480cd2c4e1fc5faebbbe167e404d718add5bd72566b771597682e4cf</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:20.103000" elapsed="2.309000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:17.919000" elapsed="4.493000"/>
</branch>
<status status="PASS" start="2024-05-28T12:29:17.919000" elapsed="4.493000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:29:22.413000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:29:22.412000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.414000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:29:22.413000" elapsed="0.001000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:29:22.414000" level="INFO">${secret} = ['a730b7a3480cd2c4e1fc5faebbbe167e404d718add5bd72566b771597682e4cf']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:29:22.414000" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.416000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:29:22.415000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.417000" level="INFO">${secret} = a730b7a3480cd2c4e1fc5faebbbe167e404d718add5bd72566b771597682e4cf</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:29:22.416000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:22.422000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:22.847000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:22.847000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:22.419000" elapsed="0.428000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.848000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:22.847000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:22.848000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:22.848000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:22.418000" elapsed="0.431000"/>
</kw>
<msg time="2024-05-28T12:29:22.849000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:22.418000" elapsed="0.431000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:29:22.418000" elapsed="0.431000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:22.852000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:23.305000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:23.305000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:22.850000" elapsed="0.455000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:23.306000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:23.306000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:23.307000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:23.307000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:22.850000" elapsed="0.457000"/>
</kw>
<msg time="2024-05-28T12:29:23.307000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:22.850000" elapsed="0.457000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:29:22.849000" elapsed="0.458000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:23.311000" level="INFO">Running command 'aws configure set aws_secret_access_key a730b7a3480cd2c4e1fc5faebbbe167e404d718add5bd72566b771597682e4cf 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:23.722000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:23.722000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:23.309000" elapsed="0.413000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:23.723000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:23.722000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:23.723000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:23.723000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:23.308000" elapsed="0.416000"/>
</kw>
<msg time="2024-05-28T12:29:23.724000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:23.308000" elapsed="0.416000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:29:23.308000" elapsed="0.416000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:23.727000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:24.145000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:24.145000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:23.725000" elapsed="0.420000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:24.146000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:24.146000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:24.147000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:24.147000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:23.725000" elapsed="0.422000"/>
</kw>
<msg time="2024-05-28T12:29:24.147000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:23.724000" elapsed="0.423000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:29:23.724000" elapsed="0.423000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:24.151000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:24.593000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:24.593000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:24.149000" elapsed="0.444000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:24.594000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:24.593000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:24.595000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:24.594000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:24.148000" elapsed="0.447000"/>
</kw>
<msg time="2024-05-28T12:29:24.595000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:24.148000" elapsed="0.447000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:29:24.148000" elapsed="0.447000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:15.491000" elapsed="9.104000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:15.490000" elapsed="9.106000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:24.596000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:15.441000" elapsed="9.155000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:24.599000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key1-shell /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:25.133000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:25.133000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:00 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:24.597000" elapsed="0.536000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.134000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:00 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 28 May 2024 12:29:25 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:25.133000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.135000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:25.134000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:25.135000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:00 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:29:24.597000" elapsed="0.538000"/>
</kw>
<msg time="2024-05-28T12:29:25.135000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:00 GMT",
    "ContentLength": 44,
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key1-shell /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:24.596000" elapsed="0.539000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:25.135000" elapsed="0.001000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:25.138000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:25.140000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:25.140000" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:25.136000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.141000" level="INFO">new1: another key created using Ozone Shell</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:25.140000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.141000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:25.141000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:25.142000" level="INFO">${output} = new1: another key created using Ozone Shell</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:25.136000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: another key created using Ozone Shell</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:25.142000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:25.144000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:25.146000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:25.146000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:25.143000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.147000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:25.147000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.148000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:25.147000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:25.142000" elapsed="0.006000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:29:15.440000" elapsed="9.708000"/>
</test>
<test id="s1-s8-t3" name="Read key created with S3 API using S3 API" line="45">
<kw name="Setup v4 headers" owner="commonawslib" type="SETUP">
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:29:25.151000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:25.155000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:25.157000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:25.157000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:25.153000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.158000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:25.158000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.159000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:25.158000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:25.152000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:29:25.160000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:25.152000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:29:25.160000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:29:25.152000" elapsed="0.008000"/>
</kw>
<msg time="2024-05-28T12:29:25.160000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:29:25.151000" elapsed="0.009000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.161000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:29:25.160000" elapsed="0.001000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:25.164000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:25.190000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:25.191000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:25.162000" elapsed="0.029000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.192000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:25.191000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:25.193000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:25.192000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:25.162000" elapsed="0.031000"/>
</kw>
<msg time="2024-05-28T12:29:25.193000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:25.162000" elapsed="0.031000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:29:25.161000" elapsed="0.032000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:29:25.161000" elapsed="0.032000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:29:25.150000" elapsed="0.044000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:25.150000" elapsed="0.044000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<kw name="Setup secure v4 headers" owner="commonawslib">
<kw name="Execute And Ignore Error" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:25.198000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:27.274000" level="INFO">${rc} = 255</msg>
<msg time="2024-05-28T12:29:27.274000" level="INFO">${output} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:25.196000" elapsed="2.078000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:27.275000" level="INFO">S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:27.275000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:27.276000" level="INFO">${result} = S3_SECRET_ALREADY_EXISTS Secret for 'testuser/scm@EXAMPLE.COM' already exists</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:25.195000" elapsed="2.081000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Should Contain" owner="BuiltIn">
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:27.276000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:27.277000" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Should Contain</arg>
<arg>${result}</arg>
<arg>S3_SECRET_ALREADY_EXISTS</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2024-05-28T12:29:27.276000" elapsed="0.001000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:27.280000" level="INFO">Running command 'ozone s3 revokesecret -y --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:29.326000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:29.326000" level="INFO">${output} = S3 secret revoked.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:27.278000" elapsed="2.048000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:29.327000" level="INFO">S3 secret revoked.</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:29.327000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:29.328000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:29.328000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:27.278000" elapsed="2.050000"/>
</kw>
<msg time="2024-05-28T12:29:29.328000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:27.278000" elapsed="2.050000"/>
</kw>
<arg>ozone s3 revokesecret -y ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:27.277000" elapsed="2.051000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:29.332000" level="INFO">Running command 'ozone s3 getsecret --om-service-id=omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:31.477000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:31.477000" level="INFO">${output} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=0ee9310bb6d1be6037f4a801128f442986cd394fb31bb75d64d8fa28d638264c</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:29.330000" elapsed="2.147000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.478000" level="INFO">awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=0ee9310bb6d1be6037f4a801128f442986cd394fb31bb75d64d8fa28d638264c</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:31.478000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.479000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:31.478000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:29.329000" elapsed="2.150000"/>
</kw>
<msg time="2024-05-28T12:29:31.479000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:29.329000" elapsed="2.150000"/>
</kw>
<msg time="2024-05-28T12:29:31.480000" level="INFO">${result} = awsAccessKey=testuser/scm@EXAMPLE.COM
awsSecret=0ee9310bb6d1be6037f4a801128f442986cd394fb31bb75d64d8fa28d638264c</msg>
<var>${result}</var>
<arg>ozone s3 getsecret ${OM_HA_PARAM}</arg>
<status status="PASS" start="2024-05-28T12:29:29.329000" elapsed="2.151000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:27.277000" elapsed="4.203000"/>
</branch>
<status status="PASS" start="2024-05-28T12:29:27.277000" elapsed="4.203000"/>
</if>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:29:31.481000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsAccessKey=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:29:31.480000" elapsed="0.001000"/>
</kw>
<kw name="Get Variable Value" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.481000" level="INFO">${accessKey} = ['testuser/scm@EXAMPLE.COM']</msg>
<var>${accessKey}</var>
<arg>${accessKey}</arg>
<arg>testuser</arg>
<doc>Returns variable value or ``default`` if the variable does not exist.</doc>
<status status="PASS" start="2024-05-28T12:29:31.481000" elapsed="0.000000"/>
</kw>
<kw name="Get Regexp Matches" owner="String">
<msg time="2024-05-28T12:29:31.482000" level="INFO">${secret} = ['0ee9310bb6d1be6037f4a801128f442986cd394fb31bb75d64d8fa28d638264c']</msg>
<var>${secret}</var>
<arg>${result}</arg>
<arg>(?&lt;=awsSecret=).*</arg>
<doc>Returns a list of all non-overlapping matches in the given string.</doc>
<status status="PASS" start="2024-05-28T12:29:31.481000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.483000" level="INFO">${accessKey} = testuser/scm@EXAMPLE.COM</msg>
<var>${accessKey}</var>
<arg>${accessKey[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:29:31.482000" elapsed="0.001000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.484000" level="INFO">${secret} = 0ee9310bb6d1be6037f4a801128f442986cd394fb31bb75d64d8fa28d638264c</msg>
<var>${secret}</var>
<arg>${secret[0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2024-05-28T12:29:31.483000" elapsed="0.001000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:31.487000" level="INFO">Running command 'aws configure set default.s3.signature_version s3v4 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:31.898000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:31.898000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:31.485000" elapsed="0.413000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.899000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:31.898000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:31.900000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:31.899000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:31.484000" elapsed="0.416000"/>
</kw>
<msg time="2024-05-28T12:29:31.900000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:31.484000" elapsed="0.416000"/>
</kw>
<arg>aws configure set default.s3.signature_version s3v4</arg>
<status status="PASS" start="2024-05-28T12:29:31.484000" elapsed="0.416000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:31.903000" level="INFO">Running command 'aws configure set aws_access_key_id testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:32.337000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:32.337000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:31.902000" elapsed="0.435000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:32.338000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:32.337000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:32.338000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:32.338000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:31.901000" elapsed="0.437000"/>
</kw>
<msg time="2024-05-28T12:29:32.338000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:31.901000" elapsed="0.437000"/>
</kw>
<arg>aws configure set aws_access_key_id ${accessKey}</arg>
<status status="PASS" start="2024-05-28T12:29:31.900000" elapsed="0.439000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:32.342000" level="INFO">Running command 'aws configure set aws_secret_access_key 0ee9310bb6d1be6037f4a801128f442986cd394fb31bb75d64d8fa28d638264c 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:32.759000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:32.759000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:32.340000" elapsed="0.419000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:32.760000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:32.759000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:32.760000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:32.760000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:32.339000" elapsed="0.422000"/>
</kw>
<msg time="2024-05-28T12:29:32.761000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:32.339000" elapsed="0.422000"/>
</kw>
<arg>aws configure set aws_secret_access_key ${secret}</arg>
<status status="PASS" start="2024-05-28T12:29:32.339000" elapsed="0.422000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:32.764000" level="INFO">Running command 'aws configure set region us-west-1 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:33.187000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:33.187000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:32.762000" elapsed="0.425000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:33.188000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:33.188000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:33.189000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:33.189000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:32.762000" elapsed="0.427000"/>
</kw>
<msg time="2024-05-28T12:29:33.189000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:32.762000" elapsed="0.427000"/>
</kw>
<arg>aws configure set region us-west-1</arg>
<status status="PASS" start="2024-05-28T12:29:32.761000" elapsed="0.428000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:33.193000" level="INFO">Running command 'aws configure set default.s3.addressing_style path 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:33.617000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:33.617000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:33.191000" elapsed="0.426000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:33.618000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:33.617000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:33.618000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:33.618000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:33.190000" elapsed="0.428000"/>
</kw>
<msg time="2024-05-28T12:29:33.619000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:33.190000" elapsed="0.429000"/>
</kw>
<arg>aws configure set default.s3.addressing_style ${OZONE_S3_ADDRESS_STYLE}</arg>
<status status="PASS" start="2024-05-28T12:29:33.190000" elapsed="0.429000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:25.195000" elapsed="8.424000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Setup secure v4 headers</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:25.194000" elapsed="8.425000"/>
</kw>
<kw name="Run Keyword If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Setup dummy credentials for S3</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:33.619000" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2024-05-28T12:29:25.149000" elapsed="8.470000"/>
</kw>
<kw name="Execute AWSS3APICli and checkrc" owner="commonawslib">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:33.623000" level="INFO">Running command 'aws s3api --endpoint-url http://s3g:9878 get-object --bucket new1-bucket --key key2-s3api /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:34.150000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:34.150000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:10 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:33.621000" elapsed="0.529000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.151000" level="INFO">{
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:10 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "ContentType": "application/octet-stream",
    "Expires": "Tue, 28 May 2024 12:29:34 GMT",
    "Metadata": {}
}</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:34.150000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.151000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:34.151000" elapsed="0.000000"/>
</kw>
<msg time="2024-05-28T12:29:34.152000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:10 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
<status status="PASS" start="2024-05-28T12:29:33.620000" elapsed="0.532000"/>
</kw>
<msg time="2024-05-28T12:29:34.152000" level="INFO">${output} = {
    "AcceptRanges": "bytes",
    "LastModified": "Tue, 28 May 2024 12:29:10 GMT",
    "ContentLength": 31,
    "ETag": "\"4e7ca0568858e41e7f27cf0e32576b3f\"",
    "CacheControl": "no-cache",
    "Co...</msg>
<var>${output}</var>
<arg>get-object --bucket ${PREFIX}-bucket --key key2-s3api /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:33.620000" elapsed="0.532000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>"ContentLength"</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:34.152000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:34.155000" level="INFO">Running command 'cat /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:34.157000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:34.157000" level="INFO">${output} = new1: key created using S3 API</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:34.153000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.158000" level="INFO">new1: key created using S3 API</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:34.157000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.158000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:34.158000" elapsed="0.001000"/>
</kw>
<msg time="2024-05-28T12:29:34.159000" level="INFO">${output} = new1: key created using S3 API</msg>
<var>${output}</var>
<arg>cat /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:34.153000" elapsed="0.006000"/>
</kw>
<kw name="Should Contain" owner="BuiltIn">
<arg>${output}</arg>
<arg>${PREFIX}: key created using S3 API</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" start="2024-05-28T12:29:34.159000" elapsed="0.000000"/>
</kw>
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:34.162000" level="INFO">Running command 'rm /tmp/get-result 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:34.163000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:34.163000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:34.160000" elapsed="0.003000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.164000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:34.164000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.165000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:34.164000" elapsed="0.001000"/>
</kw>
<arg>rm /tmp/get-result</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:34.160000" elapsed="0.005000"/>
</kw>
<timeout value="5 minutes"/>
<status status="PASS" start="2024-05-28T12:29:25.149000" elapsed="9.016000"/>
</test>
<doc>Smoketest ozone cluster startup</doc>
<status status="PASS" start="2024-05-28T12:29:11.373000" elapsed="22.793000"/>
</suite>
<suite id="s1-s9" name="1.4.0-1.5.0-2-pre-finalized-prepare" source="/opt/hadoop/smoketest/upgrade/prepare.robot">
<test id="s1-s9-t1" name="Prepare Ozone Manager" line="23">
<kw name="Run Keyword If" owner="BuiltIn" type="SETUP">
<kw name="Kinit test user" owner="commonlib">
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'${SECURITY_ENABLED}' == 'false'</arg>
<arg>Skip in unsecure cluster</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:29:34.811000" elapsed="0.000000"/>
</kw>
<kw name="Get test user principal" owner="commonlib">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:34.815000" level="INFO">Running command 'hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/' 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:34.817000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:34.817000" level="INFO">${output} = scm</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:34.813000" elapsed="0.004000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.818000" level="INFO">scm</msg>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:34.818000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.819000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:34.818000" elapsed="0.001000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:34.812000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:34.819000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:34.812000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:34.819000" level="INFO">${instance} = scm</msg>
<var>${instance}</var>
<arg>hostname | sed 's/scm[0-9].org/scm/;s/scm[0-9]/scm/;s/om[0-9]/om/'</arg>
<status status="PASS" start="2024-05-28T12:29:34.812000" elapsed="0.007000"/>
</kw>
<msg time="2024-05-28T12:29:34.820000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<var>${TEST_USER}</var>
<arg>${user}</arg>
<status status="PASS" start="2024-05-28T12:29:34.811000" elapsed="0.009000"/>
</kw>
<kw name="Set Suite Variable" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.820000" level="INFO">${TEST_USER} = testuser/scm@EXAMPLE.COM</msg>
<arg>${TEST_USER}</arg>
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<status status="PASS" start="2024-05-28T12:29:34.820000" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:34.823000" level="INFO">Running command 'kinit -k -t /etc/security/keytabs/testuser.keytab testuser/scm@EXAMPLE.COM 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:29:34.857000" level="INFO">${rc} = 0</msg>
<msg time="2024-05-28T12:29:34.857000" level="INFO">${output} = </msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="PASS" start="2024-05-28T12:29:34.822000" elapsed="0.036000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.858000" level="INFO"/>
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2024-05-28T12:29:34.858000" elapsed="0.001000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<msg time="2024-05-28T12:29:34.859000" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="PASS" start="2024-05-28T12:29:34.859000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="PASS" start="2024-05-28T12:29:34.821000" elapsed="0.038000"/>
</kw>
<msg time="2024-05-28T12:29:34.859000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="PASS" start="2024-05-28T12:29:34.821000" elapsed="0.038000"/>
</kw>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<status status="PASS" start="2024-05-28T12:29:34.821000" elapsed="0.039000"/>
</kw>
<arg>2min</arg>
<arg>10sec</arg>
<arg>Execute</arg>
<arg>kinit -k -t /etc/security/keytabs/${keytab} ${TEST_USER}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2024-05-28T12:29:34.820000" elapsed="0.040000"/>
</kw>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<status status="PASS" start="2024-05-28T12:29:34.811000" elapsed="0.049000"/>
</kw>
<arg>'${SECURITY_ENABLED}' == 'true'</arg>
<arg>Kinit test user</arg>
<arg>testuser</arg>
<arg>testuser.keytab</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" start="2024-05-28T12:29:34.810000" elapsed="0.050000"/>
</kw>
<kw name="Pass Execution If" owner="BuiltIn">
<arg>'%{OZONE_UPGRADE_FROM}' == '1.1.0'</arg>
<arg>OM prepare is skipped for version %{OZONE_UPGRADE_FROM}</arg>
<doc>Conditionally skips rest of the current test, setup, or teardown with PASS status.</doc>
<status status="PASS" start="2024-05-28T12:29:34.860000" elapsed="0.000000"/>
</kw>
<kw name="Execute" owner="os">
<kw name="Run Keyword And Return" owner="BuiltIn">
<kw name="Execute and checkrc" owner="os">
<kw name="Run And Return Rc And Output" owner="OperatingSystem">
<msg time="2024-05-28T12:29:34.863000" level="INFO">Running command 'ozone admin om prepare -id omservice 2&gt;&amp;1'.</msg>
<msg time="2024-05-28T12:34:34.810000" level="FAIL">Test timeout 5 minutes exceeded.</msg>
<var>${rc}</var>
<var>${output}</var>
<arg>${command}</arg>
<doc>Runs the given command in the system and returns the RC and output.</doc>
<status status="FAIL" start="2024-05-28T12:29:34.862000" elapsed="299.948000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<arg>${output}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="NOT RUN" start="2024-05-28T12:34:34.810000" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Integers" owner="BuiltIn">
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<status status="NOT RUN" start="2024-05-28T12:34:34.810000" elapsed="0.000000"/>
</kw>
<arg>${command}</arg>
<arg>0</arg>
<status status="FAIL" start="2024-05-28T12:29:34.861000" elapsed="299.950000"/>
</kw>
<msg time="2024-05-28T12:34:34.811000" level="INFO">Returning from the enclosing user keyword.</msg>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<status status="FAIL" start="2024-05-28T12:29:34.861000" elapsed="299.950000"/>
</kw>
<var>${result}</var>
<arg>ozone admin om prepare -id %{OM_SERVICE_ID}</arg>
<status status="FAIL" start="2024-05-28T12:29:34.861000" elapsed="299.950000"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<arg>3min</arg>
<arg>10sec</arg>
<arg>Should contain</arg>
<arg>${result}</arg>
<arg>OM Preparation successful!</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="NOT RUN" start="2024-05-28T12:34:34.811000" elapsed="0.000000"/>
</kw>
<timeout value="5 minutes"/>
<status status="FAIL" start="2024-05-28T12:29:34.809000" elapsed="300.003000">Test timeout 5 minutes exceeded.</status>
</test>
<doc>Prepares OMs</doc>
<status status="FAIL" start="2024-05-28T12:29:34.765000" elapsed="300.048000"/>
</suite>
<status status="FAIL" elapsed="465.938000"/>
</suite>
<statistics>
<total>
<stat pass="28" fail="1" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="4" fail="0" skip="0">create-volume-and-bucket</stat>
<stat pass="2" fail="0" skip="0">finalized</stat>
<stat pass="1" fail="0" skip="0">om</stat>
<stat pass="1" fail="0" skip="0">scm</stat>
</tag>
<suite>
<stat pass="28" fail="1" skip="0" id="s1" name="upgrade">upgrade</stat>
<stat pass="2" fail="0" skip="0" id="s1-s1" name="1.4.0-1.5.0-1-original-check-finalization">upgrade.1.4.0-1.5.0-1-original-check-finalization</stat>
<stat pass="6" fail="0" skip="0" id="s1-s2" name="1.4.0-1.5.0-1-original-generate-old1">upgrade.1.4.0-1.5.0-1-original-generate-old1</stat>
<stat pass="3" fail="0" skip="0" id="s1-s3" name="1.4.0-1.5.0-1-original-validate-old1">upgrade.1.4.0-1.5.0-1-original-validate-old1</stat>
<stat pass="1" fail="0" skip="0" id="s1-s4" name="1.4.0-1.5.0-1-original-prepare">upgrade.1.4.0-1.5.0-1-original-prepare</stat>
<stat pass="3" fail="0" skip="0" id="s1-s5" name="1.4.0-1.5.0-2-pre-finalized-validate-old1">upgrade.1.4.0-1.5.0-2-pre-finalized-validate-old1</stat>
<stat pass="4" fail="0" skip="0" id="s1-s6" name="1.4.0-1.5.0-2-pre-finalized-generate-old1">upgrade.1.4.0-1.5.0-2-pre-finalized-generate-old1</stat>
<stat pass="6" fail="0" skip="0" id="s1-s7" name="1.4.0-1.5.0-2-pre-finalized-generate-new1">upgrade.1.4.0-1.5.0-2-pre-finalized-generate-new1</stat>
<stat pass="3" fail="0" skip="0" id="s1-s8" name="1.4.0-1.5.0-2-pre-finalized-validate-new1">upgrade.1.4.0-1.5.0-2-pre-finalized-validate-new1</stat>
<stat pass="0" fail="1" skip="0" id="s1-s9" name="1.4.0-1.5.0-2-pre-finalized-prepare">upgrade.1.4.0-1.5.0-2-pre-finalized-prepare</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
